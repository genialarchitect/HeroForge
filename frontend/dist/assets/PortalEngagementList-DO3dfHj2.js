import{j as t}from"./vendor-state-oFDmcCcB.js";import{r,L as p}from"./vendor-react-5KxtEOLM.js";import{P as o}from"./PortalLayout-BIVqyMnu.js";import{ay as h}from"./index-DU1ke8Sf.js";import"./vendor-ui-BlFJDRaq.js";import"./vendor-utils-DfRopTPV.js";const u={planning:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300",in_progress:"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300",completed:"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300",on_hold:"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-300",cancelled:"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"},k={pentest:"Penetration Test",vuln_assessment:"Vulnerability Assessment",red_team:"Red Team",compliance_audit:"Compliance Audit",consulting:"Consulting"};function _(){const[a,n]=r.useState([]),[i,c]=r.useState(!0),[l,x]=r.useState(""),[s,m]=r.useState("all");r.useEffect(()=>{b()},[]);const b=async()=>{try{const e=await h.getAll();n(e.data)}catch(e){x("Failed to load engagements"),console.error(e)}finally{c(!1)}},d=s==="all"?a:a.filter(e=>e.status===s);return i?t.jsx(o,{children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):t.jsx(o,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Engagements"}),t.jsx("div",{className:"flex gap-2",children:["all","planning","in_progress","completed"].map(e=>t.jsx("button",{onClick:()=>m(e),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${s===e?"bg-primary text-white":"bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border text-slate-600 dark:text-slate-400 hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:e==="all"?"All":e.replace("_"," ").replace(/\b\w/g,g=>g.toUpperCase())},e))})]}),l&&t.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-300 p-4 rounded-lg",children:l}),d.length===0?t.jsx("div",{className:"bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg p-8 text-center",children:t.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"No engagements found"})}):t.jsx("div",{className:"grid gap-4",children:d.map(e=>t.jsxs(p,{to:`/portal/engagements/${e.id}`,className:"bg-light-surface dark:bg-dark-surface rounded-lg p-6 hover:border-primary/50 transition-colors border border-light-border dark:border-dark-border",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:e.name}),t.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mt-1",children:k[e.engagement_type]||e.engagement_type})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${u[e.status]||"bg-slate-100 dark:bg-slate-700 text-slate-800 dark:text-slate-300"}`,children:e.status.replace("_"," ")})]}),e.scope&&t.jsx("p",{className:"mt-3 text-sm text-slate-500 dark:text-slate-400 line-clamp-2",children:e.scope}),t.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-slate-500 dark:text-slate-400",children:[e.start_date&&t.jsxs("span",{children:["Started: ",new Date(e.start_date).toLocaleDateString()]}),e.end_date&&t.jsxs("span",{children:["Ends: ",new Date(e.end_date).toLocaleDateString()]})]})]},e.id))})]})})}export{_ as default};
