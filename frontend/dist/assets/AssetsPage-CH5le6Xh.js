import{j as e}from"./vendor-state-DrZ0R9WI.js";import{r as c}from"./vendor-react-HUtzaQ-y.js";import{q as o,c as fe,B as x}from"./index-5QWMsp4c.js";import{h as q,aQ as E,u as I,r as je,w as be,P as G,ag as Ne,J as ve,X as v,D as we,as as ye,a4 as ke,B as n}from"./vendor-ui-BfvgsWUa.js";import"./vendor-charts-BXiKjFOL.js";const U=["#22c55e","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#6366f1"],V=[{value:"environment",label:"Environment"},{value:"criticality",label:"Criticality"},{value:"owner",label:"Owner"},{value:"department",label:"Department"},{value:"location",label:"Location"},{value:"compliance",label:"Compliance"},{value:"custom",label:"Custom"}],Ee=()=>{const[W,Y]=c.useState([]),[Z,J]=c.useState(!0),[Q,F]=c.useState(""),[X,ee]=c.useState(""),[w,se]=c.useState(""),[l,D]=c.useState(null),[te,L]=c.useState(!1),[h,ae]=c.useState([]),[u,M]=c.useState([]),[re,y]=c.useState(!1),[le,k]=c.useState(!1),[T,C]=c.useState(!1),[H,S]=c.useState(null),[p,P]=c.useState(""),[g,$]=c.useState(U[0]),[O,z]=c.useState("custom"),[R,B]=c.useState(""),[ce,f]=c.useState(!1),[A,b]=c.useState(null),j=c.useCallback(async()=>{try{const s=await o.getTags();ae(s.data)}catch(s){console.error("Failed to fetch tags:",s)}},[]),_=c.useCallback(async()=>{var s,t;try{J(!0);const a={};w&&(a.status=w),u.length>0&&(a.tag_ids=u.join(","));const r=u.length>0?await o.getAssetsByTags(a):await o.getAssets(a);Y(r.data),F("")}catch(a){F(((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.error)||"Failed to fetch assets")}finally{J(!1)}},[w,u]);c.useEffect(()=>{j()},[j]),c.useEffect(()=>{_()},[_]);const ie=async s=>{var t,a;try{const r=await o.getAsset(s);D(r.data),L(!0)}catch(r){F(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to fetch asset details")}},de=async()=>{var s,t,a;if(!p.trim()){n.error("Tag name is required");return}try{const r={name:p.trim(),color:g,category:O,description:R.trim()||void 0};await o.createTag(r),n.success("Tag created successfully"),k(!1),N(),j()}catch(r){const i=r,d=typeof((s=i.response)==null?void 0:s.data)=="string"?i.response.data:((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to create tag";n.error(d)}},ne=async()=>{var s,t,a;if(!H||!p.trim()){n.error("Tag name is required");return}try{await o.updateTag(H.id,{name:p.trim(),color:g,category:O,description:R.trim()||void 0}),n.success("Tag updated successfully"),C(!1),S(null),N(),j()}catch(r){const i=r,d=typeof((s=i.response)==null?void 0:s.data)=="string"?i.response.data:((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to update tag";n.error(d)}},oe=async s=>{var t,a,r;if(confirm("Are you sure you want to delete this tag? It will be removed from all assets."))try{await o.deleteTag(s),n.success("Tag deleted successfully"),M(i=>i.filter(d=>d!==s)),j()}catch(i){const d=i,m=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((r=(a=d.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to delete tag";n.error(m)}},xe=async s=>{var t,a,r;if(A)try{const i=await o.addTagsToAsset(A,{tag_ids:s});n.success("Tags added successfully"),f(!1),b(null),_(),l&&l.asset.id===A&&D(i.data)}catch(i){const d=i,m=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((r=(a=d.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to add tags";n.error(m)}},me=async(s,t)=>{var a,r,i;try{const d=await o.removeTagFromAsset(s,t);n.success("Tag removed from asset"),_(),j(),l&&l.asset.id===s&&D(d.data)}catch(d){const m=d,ge=typeof((a=m.response)==null?void 0:a.data)=="string"?m.response.data:((i=(r=m.response)==null?void 0:r.data)==null?void 0:i.error)||"Failed to remove tag";n.error(ge)}},N=()=>{P(""),$(U[0]),z("custom"),B("")},he=s=>{S(s),P(s.name),$(s.color),z(s.category),B(s.description||""),C(!0)},ue=s=>{M(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},pe=()=>{M([])},K=W.filter(s=>{const t=X.toLowerCase();return s.ip_address.includes(t)||s.hostname&&s.hostname.toLowerCase().includes(t)||s.os_family&&s.os_family.toLowerCase().includes(t)});return e.jsx(fe,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[e.jsx(q,{className:"h-8 w-8 mr-3 text-primary"}),"Asset Inventory"]}),e.jsx("p",{className:"mt-2 text-slate-400",children:"Track and manage discovered network assets across scans"})]}),e.jsxs(x,{onClick:()=>y(!0),className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"Manage Tags"]})]}),Q&&e.jsx("div",{className:"bg-severity-critical/20 border border-severity-critical/50 text-severity-critical px-4 py-3 rounded-lg",children:Q}),h.length>0&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4"}),"Filter by Tags"]}),u.length>0&&e.jsx("button",{onClick:pe,className:"text-xs text-slate-400 hover:text-white",children:"Clear filters"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(({tag:s,asset_count:t})=>e.jsxs("button",{onClick:()=>ue(s.id),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${u.includes(s.id)?"ring-2 ring-white ring-offset-2 ring-offset-dark-surface":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:`${s.color}20`,color:s.color,borderColor:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsxs("span",{className:"text-xs opacity-70",children:["(",t,")"]})]},s.id))})]}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(je,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by IP, hostname, or OS...",value:X,onChange:s=>ee(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(be,{className:"h-5 w-5 text-slate-400"}),e.jsxs("select",{value:w,onChange:s=>se(s.target.value),className:"px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),Z?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-dark-border",children:[e.jsx("thead",{className:"bg-dark-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Asset"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tags"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Operating System"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-dark-surface divide-y divide-dark-border",children:K.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:[e.jsx(q,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No assets found"}),e.jsx("p",{className:"text-sm mt-2",children:"Run a scan to discover network assets"})]})}):K.map(s=>e.jsxs("tr",{className:"hover:bg-dark-hover cursor-pointer",onClick:()=>ie(s.id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(q,{className:"h-5 w-5 text-primary mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:s.ip_address}),s.hostname&&e.jsx("div",{className:"text-sm text-slate-400",children:s.hostname})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{onClick:t=>{t.stopPropagation(),b(s.id),f(!0)},className:"text-slate-400 hover:text-primary",title:"Add tags",children:e.jsx(G,{className:"h-4 w-4"})})})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:s.os_family||"Unknown"}),s.os_version&&e.jsx("div",{className:"text-sm text-slate-400",children:s.os_version})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(Ne,{className:"h-4 w-4 mr-1"}),new Date(s.last_seen).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{className:"text-primary hover:text-primary-light",children:e.jsx(ve,{className:"h-5 w-5"})})})]},s.id))})]})}),te&&l&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:l.asset.ip_address}),l.asset.hostname&&e.jsx("p",{className:"text-slate-400 mt-1",children:l.asset.hostname})]}),e.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-white",children:e.jsx(v,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Tags"]}),e.jsxs("button",{onClick:()=>{b(l.asset.id),f(!0)},className:"text-sm text-primary hover:text-primary-light flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),"Add Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:l.asset_tags.length===0?e.jsx("p",{className:"text-slate-400 text-sm",children:"No tags assigned"}):l.asset_tags.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${s.color}20`,color:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsx("button",{onClick:()=>me(l.asset.id,s.id),className:"ml-1 hover:opacity-70",children:e.jsx(v,{className:"h-3 w-3"})})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Operating System"}),e.jsxs("p",{className:"text-white",children:[l.asset.os_family||"Unknown",l.asset.os_version&&` ${l.asset.os_version}`]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"MAC Address"}),e.jsx("p",{className:"text-white",children:l.asset.mac_address||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"First Seen"}),e.jsx("p",{className:"text-white",children:new Date(l.asset.first_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Last Seen"}),e.jsx("p",{className:"text-white",children:new Date(l.asset.last_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Scan Count"}),e.jsxs("p",{className:"text-white flex items-center gap-1",children:[e.jsx(we,{className:"h-4 w-4"}),l.asset.scan_count]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.asset.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:l.asset.status})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Open Ports"}),e.jsx("div",{className:"bg-dark-bg rounded-lg p-4",children:l.ports.length===0?e.jsx("p",{className:"text-slate-400",children:"No ports recorded"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:l.ports.map(s=>e.jsx("div",{className:"bg-dark-surface rounded p-3 border border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:[s.port,"/",s.protocol]}),s.service_name&&e.jsx("p",{className:"text-sm text-slate-400",children:s.service_name}),s.service_version&&e.jsx("p",{className:"text-xs text-slate-500",children:s.service_version})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.current_state==="open"?"bg-port-open/20 text-port-open":"bg-dark-border text-slate-300"}`,children:s.current_state})]})},s.id))})})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(x,{variant:"secondary",onClick:()=>L(!1),children:"Close"})})]})]})}),re&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(E,{className:"h-6 w-6"}),"Manage Asset Tags"]}),e.jsx("button",{onClick:()=>y(!1),className:"text-slate-400 hover:text-white",children:e.jsx(v,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs(x,{onClick:()=>{N(),k(!0)},className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Create Tag"]})}),h.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(I,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No tags created yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first tag to organize assets"})]}):e.jsx("div",{className:"space-y-3",children:V.map(({value:s,label:t})=>{const a=h.filter(r=>r.tag.category===s);return a.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:t}),e.jsx("div",{className:"space-y-2",children:a.map(({tag:r,asset_count:i})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-slate-400",children:r.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[i," asset",i!==1?"s":""]}),e.jsx("button",{onClick:()=>he(r),className:"text-slate-400 hover:text-white",children:e.jsx(ye,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>oe(r.id),className:"text-slate-400 hover:text-severity-critical",children:e.jsx(ke,{className:"h-4 w-4"})})]})]},r.id))})]},s)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(x,{variant:"secondary",onClick:()=>y(!1),children:"Close"})})]})]})}),(le||T)&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:T?"Edit Tag":"Create New Tag"}),e.jsx("button",{onClick:()=>{k(!1),C(!1),S(null),N()},className:"text-slate-400 hover:text-white",children:e.jsx(v,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tag Name *"}),e.jsx("input",{type:"text",value:p,onChange:s=>P(s.target.value),placeholder:"e.g., Production, Critical, Finance",className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),e.jsx("select",{value:O,onChange:s=>z(s.target.value),className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:V.map(({value:s,label:t})=>e.jsx("option",{value:s,children:t},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:U.map(s=>e.jsx("button",{onClick:()=>$(s),className:`w-8 h-8 rounded-full border-2 ${g===s?"border-white":"border-transparent"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:R,onChange:s=>B(s.target.value),placeholder:"Brief description of this tag...",rows:2,className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Preview"}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${g}20`,color:g},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g}}),p||"Tag Name"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(x,{variant:"secondary",onClick:()=>{k(!1),C(!1),S(null),N()},children:"Cancel"}),e.jsx(x,{onClick:T?ne:de,children:T?"Save Changes":"Create Tag"})]})]})]})}),ce&&A&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),"Add Tags to Asset"]}),e.jsx("button",{onClick:()=>{f(!1),b(null)},className:"text-slate-400 hover:text-white",children:e.jsx(v,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:h.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(I,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No tags available"}),e.jsx(x,{className:"mt-4",onClick:()=>{f(!1),y(!0)},children:"Create Tags"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Select tags to add to this asset:"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:h.map(({tag:s})=>{const a=((l==null?void 0:l.asset_tags)||[]).some(r=>r.id===s.id);return e.jsxs("button",{onClick:()=>!a&&xe([s.id]),disabled:a,className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${a?"bg-dark-bg border-dark-border opacity-50 cursor-not-allowed":"bg-dark-bg border-dark-border hover:border-primary"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-white",children:s.name})]}),a&&e.jsx("span",{className:"text-xs text-slate-400",children:"Already added"})]},s.id)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(x,{variant:"secondary",onClick:()=>{f(!1),b(null)},children:"Close"})})]})})]})})]})})};export{Ee as default};
