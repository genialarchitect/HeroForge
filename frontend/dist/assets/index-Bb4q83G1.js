const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminPage-r3ILf5MT.js","assets/vendor-state-DdX3IZQk.js","assets/vendor-react-Da1CiaFS.js","assets/vendor-ui-BtTuH1aT.js","assets/vendor-charts-BJqcw2-G.js","assets/SettingsPage-CYojhwJq.js","assets/ScanComparison-BO8yNc2w.js","assets/SalesPage-PhCF2-Xd.js","assets/AssetsPage-CbBZygcI.js","assets/WebAppScanPage-DqvjpWxe.js","assets/DnsToolsPage-BtOJcBYo.js","assets/CompliancePage-Dfcy28Ie.js","assets/RemediationPage-CMBFvi6d.js","assets/WorkflowHistory-5oHDK6au.js","assets/ManualAssessmentPage-BFEUTE-x.js","assets/AssessmentDetailPage-C51oFDcK.js","assets/MethodologyPage-Cm7jIE67.js","assets/ExecutiveDashboardPage-Dj7nZ6E0.js","assets/ApiSecurityPage-CP4Sn9JR.js","assets/AttackPathsPage-Cg1i69nJ.js","assets/ScanComparisonPage-C-_SKge3.js","assets/WorkflowsPage-B1TPsM0C.js","assets/ContainerSecurityPage-Ch9-SnWw.js","assets/IacSecurityPage-DCx9hfJL.js","assets/PluginsPage-CwchUU2Z.js","assets/AgentsPage-B-3dkRHM.js","assets/MeshAgentsPage-R_CmyJ2-.js","assets/EvidencePage-0amy9wlV.js","assets/SiemPage-2eYgUUMs.js","assets/AttackSimulationPage-DC9MMkVP.js","assets/ExploitationPage-C992VVOe.js","assets/NucleiPage-BWJCE19I.js","assets/ReportsPage-CJuZAMZG.js","assets/AssetDiscoveryPage-C0kCwvb0.js","assets/PrivescPage-aOAOeuK3.js","assets/BloodHoundPage-BGz-qBuP.js","assets/PhishingPage-eGrhZ83M.js","assets/C2Page-DJ5VZgyM.js","assets/WirelessPage-Ci_jMJBD.js","assets/FindingTemplatesPage-B4xqpaJh.js","assets/CrackingPage-XoSwCaXa.js","assets/AttackSurfacePage-CDPhfJNG.js","assets/PurpleTeamPage-DKURDc98.js","assets/OrganizationPage-CL8h5QXX.js","assets/CrmDashboard-CGpN0Dne.js","assets/CustomerList-Dca-y0u3.js","assets/CustomerDetail-Dm4hSvgy.js","assets/EngagementsPage-DE2-qE1A.js","assets/ContractsPage-rBJMCePr.js","assets/TimeTrackingPage-BlwKH9Yo.js","assets/PortalLogin-5Ie_GWTM.js","assets/PortalForgotPassword-BjNjIrvq.js","assets/PortalResetPassword-DqoQgsbq.js","assets/PortalDashboard-B9YxKbMq.js","assets/PortalLayout-CdNKkNwp.js","assets/PortalEngagementList-C8vTWg_X.js","assets/PortalEngagementDetail-BXAbCBR2.js","assets/PortalVulnerabilityList-BU2wb8bO.js","assets/PortalVulnerabilityDetail-CPGwrQtc.js","assets/PortalReportList-DnnO72el.js","assets/PortalProfile-DyFbBbZE.js"])))=>i.map(i=>d[i]);
var Wp=Object.defineProperty;var Vp=(e,n,r)=>n in e?Wp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var cn=(e,n,r)=>Vp(e,typeof n!="symbol"?n+"":n,r);import{c as Ki,j as i,u as Pd,Q as Gp,a as Yp}from"./vendor-state-DdX3IZQk.js";import{b as Ji,g as Qi,r as A,u as Zi,d as Ad,e as Lo,L as Rd,R as Fo,a as Ut,f as Xp,B as Kp,h as Jp,i as le,N as ws}from"./vendor-react-Da1CiaFS.js";import{B as ee,L as Rs,C as Od,S as Pe,K as vn,U as Ho,a as wn,b as Nt,d as Td,M as Dd,e as $d,P as Tn,f as Pi,g as fr,h as pr,i as Qp,j as Zp,k as mr,l as Ml,m as gr,T as Vn,n as em,o as Md,G as Dn,Z as us,p as tm,q as qt,R as to,r as nm,N as lr,F as rm,A as Ft,s as _r,t as zl,W as Os,u as sm,v as im,w as am,x as zd,y as Id,D as Ld,z as om,E as lm,H as ct,I as Bo,J as cm,O as Fd,Q as um,V as dm,X as hm,Y as fm,_ as Il,$ as Hd,a0 as Bd,a1 as Tt,a2 as js,a3 as _a,a4 as Bt,a5 as $n,a6 as no,a7 as Ud,a8 as pm,a9 as mm,aa as gm,ab as Uo,ac as xm,ad as qd,ae as ea,af as ym,ag as qo,ah as De,ai as ro,aj as Ts,ak as rn,al as ut,am as Wd,an as so,ao as Wo,ap as bm,aq as vm,ar as Vd,as as xr,at as wm,au as jm,av as ta,aw as ds,ax as jt,ay as _m,az as Nm,aA as km,aB as Sm,aC as Ll,aD as Cm,aE as Em,aF as xi,aG as Pm,aH as Am,aI as cr,aJ as Ai,aK as Rm,aL as Om,aM as Tm,aN as Fl,aO as Hl,aP as Dm,aQ as Bl,aR as Ul,aS as $m,aT as Mm}from"./vendor-ui-BtTuH1aT.js";import{i as zm,a as ql,b as Im,c as Wl,d as Lm,e as Fm,f as Hm,o as Bm,s as Um,m as Vl,g as Gl,P as F,R as at,B as na,X as zt,Y as At,T as ot,h as ra,C as Ds,j as Vo,k as Go,l as qm,n as Wm,p as Vm,q as Gm,r as Ym,L as hs,t as Zt,u as _s,v as An,A as Gd,w as On,x as zn}from"./vendor-charts-BJqcw2-G.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Ks={},Yl;function Xm(){if(Yl)return Ks;Yl=1;var e=Ji();return Ks.createRoot=e.createRoot,Ks.hydrateRoot=e.hydrateRoot,Ks}var Km=Xm();const Jm=Qi(Km),Qm="modulepreload",Zm=function(e){return"/"+e},Xl={},fe=function(n,r,s){let a=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=l(r.map(u=>{if(u=Zm(u),u in Xl)return;Xl[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const p=document.createElement("link");if(p.rel=h?"stylesheet":Qm,h||(p.as="script"),p.crossOrigin="",p.href=u,d&&p.setAttribute("nonce",d),document.head.appendChild(p),h)return new Promise((m,w)=>{p.addEventListener("load",m),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return n().catch(o)})},eg={};function tg(e,n){let r;try{r=e()}catch{return}return{getItem:a=>{var o;const l=d=>d===null?null:JSON.parse(d,void 0),c=(o=r.getItem(a))!=null?o:null;return c instanceof Promise?c.then(l):l(c)},setItem:(a,o)=>r.setItem(a,JSON.stringify(o,void 0)),removeItem:a=>r.removeItem(a)}}const Ns=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(s){return Ns(s)(r)},catch(s){return this}}}catch(r){return{then(s){return this},catch(s){return Ns(s)(r)}}}},ng=(e,n)=>(r,s,a)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...n},l=!1;const c=new Set,d=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...v)},s,a);const h=Ns(o.serialize),f=()=>{const v=o.partialize({...s()});let g;const x=h({state:v,version:o.version}).then(b=>u.setItem(o.name,b)).catch(b=>{g=b});if(g)throw g;return x},p=a.setState;a.setState=(v,g)=>{p(v,g),f()};const m=e((...v)=>{r(...v),f()},s,a);let w;const _=()=>{var v;if(!u)return;l=!1,c.forEach(x=>x(s()));const g=((v=o.onRehydrateStorage)==null?void 0:v.call(o,s()))||void 0;return Ns(u.getItem.bind(u))(o.name).then(x=>{if(x)return o.deserialize(x)}).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return o.migrate(x.state,x.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return x.state}).then(x=>{var b;return w=o.merge(x,(b=s())!=null?b:m),r(w,!0),f()}).then(()=>{g==null||g(w,void 0),l=!0,d.forEach(x=>x(w))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:v=>{o={...o,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>_(),hasHydrated:()=>l,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(d.add(v),()=>{d.delete(v)})},_(),w||m},rg=(e,n)=>(r,s,a)=>{let o={storage:tg(()=>localStorage),partialize:_=>_,version:0,merge:(_,v)=>({...v,..._}),...n},l=!1;const c=new Set,d=new Set;let u=o.storage;if(!u)return e((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(..._)},s,a);const h=()=>{const _=o.partialize({...s()});return u.setItem(o.name,{state:_,version:o.version})},f=a.setState;a.setState=(_,v)=>{f(_,v),h()};const p=e((..._)=>{r(..._),h()},s,a);a.getInitialState=()=>p;let m;const w=()=>{var _,v;if(!u)return;l=!1,c.forEach(x=>{var b;return x((b=s())!=null?b:p)});const g=((v=o.onRehydrateStorage)==null?void 0:v.call(o,(_=s())!=null?_:p))||void 0;return Ns(u.getItem.bind(u))(o.name).then(x=>{if(x)if(typeof x.version=="number"&&x.version!==o.version){if(o.migrate)return[!0,o.migrate(x.state,x.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,x.state];return[!1,void 0]}).then(x=>{var b;const[y,j]=x;if(m=o.merge(j,(b=s())!=null?b:p),r(m,!0),y)return h()}).then(()=>{g==null||g(m,void 0),m=s(),l=!0,d.forEach(x=>x(m))}).catch(x=>{g==null||g(void 0,x)})};return a.persist={setOptions:_=>{o={...o,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:_=>(c.add(_),()=>{c.delete(_)}),onFinishHydration:_=>(d.add(_),()=>{d.delete(_)})},o.skipHydration||w(),m||p},sg=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((eg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),ng(e,n)):rg(e,n),Yo=sg,Xn=Ki()(Yo((e,n)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>{e({token:r}),r?localStorage.setItem("token",r):localStorage.removeItem("token")},login:(r,s)=>{e({user:r,token:s,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("token",s)},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")},setLoading:r=>e({isLoading:r}),isAdmin:()=>{var r,s;return((s=(r=n().user)==null?void 0:r.roles)==null?void 0:s.includes("admin"))??!1},hasRole:r=>{var s,a;return((a=(s=n().user)==null?void 0:s.roles)==null?void 0:a.includes(r))??!1},canManageUsers:()=>{var r,s;return((s=(r=n().user)==null?void 0:r.roles)==null?void 0:s.includes("admin"))??!1},canManageScans:()=>{var r,s;return((s=(r=n().user)==null?void 0:r.roles)==null?void 0:s.some(a=>["admin","auditor"].includes(a)))??!1},canViewAuditLogs:()=>{var r,s;return((s=(r=n().user)==null?void 0:r.roles)==null?void 0:s.some(a=>["admin","auditor"].includes(a)))??!1},canManageSettings:()=>{var r,s;return((s=(r=n().user)==null?void 0:r.roles)==null?void 0:s.includes("admin"))??!1}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})}));function Yd(e,n){return function(){return e.apply(n,arguments)}}const{toString:ig}=Object.prototype,{getPrototypeOf:Xo}=Object,{iterator:sa,toStringTag:Xd}=Symbol,ia=(e=>n=>{const r=ig.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Wt=e=>(e=e.toLowerCase(),n=>ia(n)===e),aa=e=>n=>typeof n===e,{isArray:Nr}=Array,yr=aa("undefined");function $s(e){return e!==null&&!yr(e)&&e.constructor!==null&&!yr(e.constructor)&&pt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Kd=Wt("ArrayBuffer");function ag(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&Kd(e.buffer),n}const og=aa("string"),pt=aa("function"),Jd=aa("number"),Ms=e=>e!==null&&typeof e=="object",lg=e=>e===!0||e===!1,yi=e=>{if(ia(e)!=="object")return!1;const n=Xo(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Xd in e)&&!(sa in e)},cg=e=>{if(!Ms(e)||$s(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},ug=Wt("Date"),dg=Wt("File"),hg=Wt("Blob"),fg=Wt("FileList"),pg=e=>Ms(e)&&pt(e.pipe),mg=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||pt(e.append)&&((n=ia(e))==="formdata"||n==="object"&&pt(e.toString)&&e.toString()==="[object FormData]"))},gg=Wt("URLSearchParams"),[xg,yg,bg,vg]=["ReadableStream","Request","Response","Headers"].map(Wt),wg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function zs(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),Nr(e))for(s=0,a=e.length;s<a;s++)n.call(null,e[s],s,e);else{if($s(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let c;for(s=0;s<l;s++)c=o[s],n.call(null,e[c],c,e)}}function Qd(e,n){if($s(e))return null;n=n.toLowerCase();const r=Object.keys(e);let s=r.length,a;for(;s-- >0;)if(a=r[s],n===a.toLowerCase())return a;return null}const Wn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zd=e=>!yr(e)&&e!==Wn;function io(){const{caseless:e,skipUndefined:n}=Zd(this)&&this||{},r={},s=(a,o)=>{const l=e&&Qd(r,o)||o;yi(r[l])&&yi(a)?r[l]=io(r[l],a):yi(a)?r[l]=io({},a):Nr(a)?r[l]=a.slice():(!n||!yr(a))&&(r[l]=a)};for(let a=0,o=arguments.length;a<o;a++)arguments[a]&&zs(arguments[a],s);return r}const jg=(e,n,r,{allOwnKeys:s}={})=>(zs(n,(a,o)=>{r&&pt(a)?e[o]=Yd(a,r):e[o]=a},{allOwnKeys:s}),e),_g=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ng=(e,n,r,s)=>{e.prototype=Object.create(n.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},kg=(e,n,r,s)=>{let a,o,l;const c={};if(n=n||{},e==null)return n;do{for(a=Object.getOwnPropertyNames(e),o=a.length;o-- >0;)l=a[o],(!s||s(l,e,n))&&!c[l]&&(n[l]=e[l],c[l]=!0);e=r!==!1&&Xo(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},Sg=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const s=e.indexOf(n,r);return s!==-1&&s===r},Cg=e=>{if(!e)return null;if(Nr(e))return e;let n=e.length;if(!Jd(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},Eg=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&Xo(Uint8Array)),Pg=(e,n)=>{const s=(e&&e[sa]).call(e);let a;for(;(a=s.next())&&!a.done;){const o=a.value;n.call(e,o[0],o[1])}},Ag=(e,n)=>{let r;const s=[];for(;(r=e.exec(n))!==null;)s.push(r);return s},Rg=Wt("HTMLFormElement"),Og=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,s,a){return s.toUpperCase()+a}),Kl=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),Tg=Wt("RegExp"),eh=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),s={};zs(r,(a,o)=>{let l;(l=n(a,o,e))!==!1&&(s[o]=l||a)}),Object.defineProperties(e,s)},Dg=e=>{eh(e,(n,r)=>{if(pt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const s=e[r];if(pt(s)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$g=(e,n)=>{const r={},s=a=>{a.forEach(o=>{r[o]=!0})};return Nr(e)?s(e):s(String(e).split(n)),r},Mg=()=>{},zg=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function Ig(e){return!!(e&&pt(e.append)&&e[Xd]==="FormData"&&e[sa])}const Lg=e=>{const n=new Array(10),r=(s,a)=>{if(Ms(s)){if(n.indexOf(s)>=0)return;if($s(s))return s;if(!("toJSON"in s)){n[a]=s;const o=Nr(s)?[]:{};return zs(s,(l,c)=>{const d=r(l,a+1);!yr(d)&&(o[c]=d)}),n[a]=void 0,o}}return s};return r(e,0)},Fg=Wt("AsyncFunction"),Hg=e=>e&&(Ms(e)||pt(e))&&pt(e.then)&&pt(e.catch),th=((e,n)=>e?setImmediate:n?((r,s)=>(Wn.addEventListener("message",({source:a,data:o})=>{a===Wn&&o===r&&s.length&&s.shift()()},!1),a=>{s.push(a),Wn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pt(Wn.postMessage)),Bg=typeof queueMicrotask<"u"?queueMicrotask.bind(Wn):typeof process<"u"&&process.nextTick||th,Ug=e=>e!=null&&pt(e[sa]),G={isArray:Nr,isArrayBuffer:Kd,isBuffer:$s,isFormData:mg,isArrayBufferView:ag,isString:og,isNumber:Jd,isBoolean:lg,isObject:Ms,isPlainObject:yi,isEmptyObject:cg,isReadableStream:xg,isRequest:yg,isResponse:bg,isHeaders:vg,isUndefined:yr,isDate:ug,isFile:dg,isBlob:hg,isRegExp:Tg,isFunction:pt,isStream:pg,isURLSearchParams:gg,isTypedArray:Eg,isFileList:fg,forEach:zs,merge:io,extend:jg,trim:wg,stripBOM:_g,inherits:Ng,toFlatObject:kg,kindOf:ia,kindOfTest:Wt,endsWith:Sg,toArray:Cg,forEachEntry:Pg,matchAll:Ag,isHTMLForm:Rg,hasOwnProperty:Kl,hasOwnProp:Kl,reduceDescriptors:eh,freezeMethods:Dg,toObjectSet:$g,toCamelCase:Og,noop:Mg,toFiniteNumber:zg,findKey:Qd,global:Wn,isContextDefined:Zd,isSpecCompliantForm:Ig,toJSONObject:Lg,isAsyncFn:Fg,isThenable:Hg,setImmediate:th,asap:Bg,isIterable:Ug};function _e(e,n,r,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}G.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const nh=_e.prototype,rh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rh[e]={value:e}});Object.defineProperties(_e,rh);Object.defineProperty(nh,"isAxiosError",{value:!0});_e.from=(e,n,r,s,a,o)=>{const l=Object.create(nh);G.toFlatObject(e,l,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=n==null&&e?e.code:n;return _e.call(l,c,d,r,s,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const qg=null;function ao(e){return G.isPlainObject(e)||G.isArray(e)}function sh(e){return G.endsWith(e,"[]")?e.slice(0,-2):e}function Jl(e,n,r){return e?e.concat(n).map(function(a,o){return a=sh(a),!r&&o?"["+a+"]":a}).join(r?".":""):n}function Wg(e){return G.isArray(e)&&!e.some(ao)}const Vg=G.toFlatObject(G,{},null,function(n){return/^is[A-Z]/.test(n)});function oa(e,n,r){if(!G.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=G.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,v){return!G.isUndefined(v[_])});const s=r.metaTokens,a=r.visitor||h,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(n);if(!G.isFunction(a))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(G.isDate(w))return w.toISOString();if(G.isBoolean(w))return w.toString();if(!d&&G.isBlob(w))throw new _e("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(w)||G.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,_,v){let g=w;if(w&&!v&&typeof w=="object"){if(G.endsWith(_,"{}"))_=s?_:_.slice(0,-2),w=JSON.stringify(w);else if(G.isArray(w)&&Wg(w)||(G.isFileList(w)||G.endsWith(_,"[]"))&&(g=G.toArray(w)))return _=sh(_),g.forEach(function(b,y){!(G.isUndefined(b)||b===null)&&n.append(l===!0?Jl([_],y,o):l===null?_:_+"[]",u(b))}),!1}return ao(w)?!0:(n.append(Jl(v,_,o),u(w)),!1)}const f=[],p=Object.assign(Vg,{defaultVisitor:h,convertValue:u,isVisitable:ao});function m(w,_){if(!G.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(w),G.forEach(w,function(g,x){(!(G.isUndefined(g)||g===null)&&a.call(n,g,G.isString(x)?x.trim():x,_,p))===!0&&m(g,_?_.concat(x):[x])}),f.pop()}}if(!G.isObject(e))throw new TypeError("data must be an object");return m(e),n}function Ql(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return n[s]})}function Ko(e,n){this._pairs=[],e&&oa(e,this,n)}const ih=Ko.prototype;ih.append=function(n,r){this._pairs.push([n,r])};ih.toString=function(n){const r=n?function(s){return n.call(this,s,Ql)}:Ql;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Gg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function ah(e,n,r){if(!n)return e;const s=r&&r.encode||Gg;G.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let o;if(a?o=a(n,r):o=G.isURLSearchParams(n)?n.toString():new Ko(n,r).toString(s),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class Zl{constructor(){this.handlers=[]}use(n,r,s){return this.handlers.push({fulfilled:n,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){G.forEach(this.handlers,function(s){s!==null&&n(s)})}}const oh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yg=typeof URLSearchParams<"u"?URLSearchParams:Ko,Xg=typeof FormData<"u"?FormData:null,Kg=typeof Blob<"u"?Blob:null,Jg={isBrowser:!0,classes:{URLSearchParams:Yg,FormData:Xg,Blob:Kg},protocols:["http","https","file","blob","url","data"]},Jo=typeof window<"u"&&typeof document<"u",oo=typeof navigator=="object"&&navigator||void 0,Qg=Jo&&(!oo||["ReactNative","NativeScript","NS"].indexOf(oo.product)<0),Zg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ex=Jo&&window.location.href||"http://localhost",tx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jo,hasStandardBrowserEnv:Qg,hasStandardBrowserWebWorkerEnv:Zg,navigator:oo,origin:ex},Symbol.toStringTag,{value:"Module"})),nt={...tx,...Jg};function nx(e,n){return oa(e,new nt.classes.URLSearchParams,{visitor:function(r,s,a,o){return nt.isNode&&G.isBuffer(r)?(this.append(s,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...n})}function rx(e){return G.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function sx(e){const n={},r=Object.keys(e);let s;const a=r.length;let o;for(s=0;s<a;s++)o=r[s],n[o]=e[o];return n}function lh(e){function n(r,s,a,o){let l=r[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=r.length;return l=!l&&G.isArray(a)?a.length:l,d?(G.hasOwnProp(a,l)?a[l]=[a[l],s]:a[l]=s,!c):((!a[l]||!G.isObject(a[l]))&&(a[l]=[]),n(r,s,a[l],o)&&G.isArray(a[l])&&(a[l]=sx(a[l])),!c)}if(G.isFormData(e)&&G.isFunction(e.entries)){const r={};return G.forEachEntry(e,(s,a)=>{n(rx(s),a,r,0)}),r}return null}function ix(e,n,r){if(G.isString(e))try{return(n||JSON.parse)(e),G.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(r||JSON.stringify)(e)}const Is={transitional:oh,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const s=r.getContentType()||"",a=s.indexOf("application/json")>-1,o=G.isObject(n);if(o&&G.isHTMLForm(n)&&(n=new FormData(n)),G.isFormData(n))return a?JSON.stringify(lh(n)):n;if(G.isArrayBuffer(n)||G.isBuffer(n)||G.isStream(n)||G.isFile(n)||G.isBlob(n)||G.isReadableStream(n))return n;if(G.isArrayBufferView(n))return n.buffer;if(G.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let c;if(o){if(s.indexOf("application/x-www-form-urlencoded")>-1)return nx(n,this.formSerializer).toString();if((c=G.isFileList(n))||s.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return oa(c?{"files[]":n}:n,d&&new d,this.formSerializer)}}return o||a?(r.setContentType("application/json",!1),ix(n)):n}],transformResponse:[function(n){const r=this.transitional||Is.transitional,s=r&&r.forcedJSONParsing,a=this.responseType==="json";if(G.isResponse(n)||G.isReadableStream(n))return n;if(n&&G.isString(n)&&(s&&!this.responseType||a)){const l=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(n,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?_e.from(c,_e.ERR_BAD_RESPONSE,this,null,this.response):c}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],e=>{Is.headers[e]={}});const ax=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ox=e=>{const n={};let r,s,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),r=l.substring(0,a).trim().toLowerCase(),s=l.substring(a+1).trim(),!(!r||n[r]&&ax[r])&&(r==="set-cookie"?n[r]?n[r].push(s):n[r]=[s]:n[r]=n[r]?n[r]+", "+s:s)}),n},ec=Symbol("internals");function Rr(e){return e&&String(e).trim().toLowerCase()}function bi(e){return e===!1||e==null?e:G.isArray(e)?e.map(bi):String(e)}function lx(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=r.exec(e);)n[s[1]]=s[2];return n}const cx=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Na(e,n,r,s,a){if(G.isFunction(s))return s.call(this,n,r);if(a&&(n=r),!!G.isString(n)){if(G.isString(s))return n.indexOf(s)!==-1;if(G.isRegExp(s))return s.test(n)}}function ux(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,s)=>r.toUpperCase()+s)}function dx(e,n){const r=G.toCamelCase(" "+n);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+r,{value:function(a,o,l){return this[s].call(this,n,a,o,l)},configurable:!0})})}let mt=class{constructor(n){n&&this.set(n)}set(n,r,s){const a=this;function o(c,d,u){const h=Rr(d);if(!h)throw new Error("header name must be a non-empty string");const f=G.findKey(a,h);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||d]=bi(c))}const l=(c,d)=>G.forEach(c,(u,h)=>o(u,h,d));if(G.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(G.isString(n)&&(n=n.trim())&&!cx(n))l(ox(n),r);else if(G.isObject(n)&&G.isIterable(n)){let c={},d,u;for(const h of n){if(!G.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[u=h[0]]=(d=c[u])?G.isArray(d)?[...d,h[1]]:[d,h[1]]:h[1]}l(c,r)}else n!=null&&o(r,n,s);return this}get(n,r){if(n=Rr(n),n){const s=G.findKey(this,n);if(s){const a=this[s];if(!r)return a;if(r===!0)return lx(a);if(G.isFunction(r))return r.call(this,a,s);if(G.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Rr(n),n){const s=G.findKey(this,n);return!!(s&&this[s]!==void 0&&(!r||Na(this,this[s],s,r)))}return!1}delete(n,r){const s=this;let a=!1;function o(l){if(l=Rr(l),l){const c=G.findKey(s,l);c&&(!r||Na(s,s[c],c,r))&&(delete s[c],a=!0)}}return G.isArray(n)?n.forEach(o):o(n),a}clear(n){const r=Object.keys(this);let s=r.length,a=!1;for(;s--;){const o=r[s];(!n||Na(this,this[o],o,n,!0))&&(delete this[o],a=!0)}return a}normalize(n){const r=this,s={};return G.forEach(this,(a,o)=>{const l=G.findKey(s,o);if(l){r[l]=bi(a),delete r[o];return}const c=n?ux(o):String(o).trim();c!==o&&delete r[o],r[c]=bi(a),s[c]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return G.forEach(this,(s,a)=>{s!=null&&s!==!1&&(r[a]=n&&G.isArray(s)?s.join(", "):s)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const s=new this(n);return r.forEach(a=>s.set(a)),s}static accessor(n){const s=(this[ec]=this[ec]={accessors:{}}).accessors,a=this.prototype;function o(l){const c=Rr(l);s[c]||(dx(a,l),s[c]=!0)}return G.isArray(n)?n.forEach(o):o(n),this}};mt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(mt.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(s){this[r]=s}}});G.freezeMethods(mt);function ka(e,n){const r=this||Is,s=n||r,a=mt.from(s.headers);let o=s.data;return G.forEach(e,function(c){o=c.call(r,o,a.normalize(),n?n.status:void 0)}),a.normalize(),o}function ch(e){return!!(e&&e.__CANCEL__)}function kr(e,n,r){_e.call(this,e??"canceled",_e.ERR_CANCELED,n,r),this.name="CanceledError"}G.inherits(kr,_e,{__CANCEL__:!0});function uh(e,n,r){const s=r.config.validateStatus;!r.status||!s||s(r.status)?e(r):n(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function hx(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function fx(e,n){e=e||10;const r=new Array(e),s=new Array(e);let a=0,o=0,l;return n=n!==void 0?n:1e3,function(d){const u=Date.now(),h=s[o];l||(l=u),r[a]=d,s[a]=u;let f=o,p=0;for(;f!==a;)p+=r[f++],f=f%e;if(a=(a+1)%e,a===o&&(o=(o+1)%e),u-l<n)return;const m=h&&u-h;return m?Math.round(p*1e3/m):void 0}}function px(e,n){let r=0,s=1e3/n,a,o;const l=(u,h=Date.now())=>{r=h,a=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const h=Date.now(),f=h-r;f>=s?l(u,h):(a=u,o||(o=setTimeout(()=>{o=null,l(a)},s-f)))},()=>a&&l(a)]}const Ri=(e,n,r=3)=>{let s=0;const a=fx(50,250);return px(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-s,u=a(d),h=l<=c;s=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&h?(c-l)/u:void 0,event:o,lengthComputable:c!=null,[n?"download":"upload"]:!0};e(f)},r)},tc=(e,n)=>{const r=e!=null;return[s=>n[0]({lengthComputable:r,total:e,loaded:s}),n[1]]},nc=e=>(...n)=>G.asap(()=>e(...n)),mx=nt.hasStandardBrowserEnv?((e,n)=>r=>(r=new URL(r,nt.origin),e.protocol===r.protocol&&e.host===r.host&&(n||e.port===r.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,gx=nt.hasStandardBrowserEnv?{write(e,n,r,s,a,o,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(n)}`];G.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),G.isString(s)&&c.push(`path=${s}`),G.isString(a)&&c.push(`domain=${a}`),o===!0&&c.push("secure"),G.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function xx(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function yx(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function dh(e,n,r){let s=!xx(n);return e&&(s||r==!1)?yx(e,n):n}const rc=e=>e instanceof mt?{...e}:e;function Kn(e,n){n=n||{};const r={};function s(u,h,f,p){return G.isPlainObject(u)&&G.isPlainObject(h)?G.merge.call({caseless:p},u,h):G.isPlainObject(h)?G.merge({},h):G.isArray(h)?h.slice():h}function a(u,h,f,p){if(G.isUndefined(h)){if(!G.isUndefined(u))return s(void 0,u,f,p)}else return s(u,h,f,p)}function o(u,h){if(!G.isUndefined(h))return s(void 0,h)}function l(u,h){if(G.isUndefined(h)){if(!G.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function c(u,h,f){if(f in n)return s(u,h);if(f in e)return s(void 0,u)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(u,h,f)=>a(rc(u),rc(h),f,!0)};return G.forEach(Object.keys({...e,...n}),function(h){const f=d[h]||a,p=f(e[h],n[h],h);G.isUndefined(p)&&f!==c||(r[h]=p)}),r}const hh=e=>{const n=Kn({},e);let{data:r,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:o,headers:l,auth:c}=n;if(n.headers=l=mt.from(l),n.url=ah(dh(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),G.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(G.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([h,f])=>{u.includes(h.toLowerCase())&&l.set(h,f)})}}if(nt.hasStandardBrowserEnv&&(s&&G.isFunction(s)&&(s=s(n)),s||s!==!1&&mx(n.url))){const d=a&&o&&gx.read(o);d&&l.set(a,d)}return n},bx=typeof XMLHttpRequest<"u",vx=bx&&function(e){return new Promise(function(r,s){const a=hh(e);let o=a.data;const l=mt.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=a,h,f,p,m,w;function _(){m&&m(),w&&w(),a.cancelToken&&a.cancelToken.unsubscribe(h),a.signal&&a.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(a.method.toUpperCase(),a.url,!0),v.timeout=a.timeout;function g(){if(!v)return;const b=mt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),j={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:b,config:e,request:v};uh(function(S){r(S),_()},function(S){s(S),_()},j),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(s(new _e("Request aborted",_e.ECONNABORTED,e,v)),v=null)},v.onerror=function(y){const j=y&&y.message?y.message:"Network Error",k=new _e(j,_e.ERR_NETWORK,e,v);k.event=y||null,s(k),v=null},v.ontimeout=function(){let y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const j=a.transitional||oh;a.timeoutErrorMessage&&(y=a.timeoutErrorMessage),s(new _e(y,j.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,v)),v=null},o===void 0&&l.setContentType(null),"setRequestHeader"in v&&G.forEach(l.toJSON(),function(y,j){v.setRequestHeader(j,y)}),G.isUndefined(a.withCredentials)||(v.withCredentials=!!a.withCredentials),c&&c!=="json"&&(v.responseType=a.responseType),u&&([p,w]=Ri(u,!0),v.addEventListener("progress",p)),d&&v.upload&&([f,m]=Ri(d),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(h=b=>{v&&(s(!b||b.type?new kr(null,e,v):b),v.abort(),v=null)},a.cancelToken&&a.cancelToken.subscribe(h),a.signal&&(a.signal.aborted?h():a.signal.addEventListener("abort",h)));const x=hx(a.url);if(x&&nt.protocols.indexOf(x)===-1){s(new _e("Unsupported protocol "+x+":",_e.ERR_BAD_REQUEST,e));return}v.send(o||null)})},wx=(e,n)=>{const{length:r}=e=e?e.filter(Boolean):[];if(n||r){let s=new AbortController,a;const o=function(u){if(!a){a=!0,c();const h=u instanceof Error?u:this.reason;s.abort(h instanceof _e?h:new kr(h instanceof Error?h.message:h))}};let l=n&&setTimeout(()=>{l=null,o(new _e(`timeout ${n} of ms exceeded`,_e.ETIMEDOUT))},n);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:d}=s;return d.unsubscribe=()=>G.asap(c),d}},jx=function*(e,n){let r=e.byteLength;if(r<n){yield e;return}let s=0,a;for(;s<r;)a=s+n,yield e.slice(s,a),s=a},_x=async function*(e,n){for await(const r of Nx(e))yield*jx(r,n)},Nx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:r,value:s}=await n.read();if(r)break;yield s}}finally{await n.cancel()}},sc=(e,n,r,s)=>{const a=_x(e,n);let o=0,l,c=d=>{l||(l=!0,s&&s(d))};return new ReadableStream({async pull(d){try{const{done:u,value:h}=await a.next();if(u){c(),d.close();return}let f=h.byteLength;if(r){let p=o+=f;r(p)}d.enqueue(new Uint8Array(h))}catch(u){throw c(u),u}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},ic=64*1024,{isFunction:Js}=G,kx=(({Request:e,Response:n})=>({Request:e,Response:n}))(G.global),{ReadableStream:ac,TextEncoder:oc}=G.global,lc=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Sx=e=>{e=G.merge.call({skipUndefined:!0},kx,e);const{fetch:n,Request:r,Response:s}=e,a=n?Js(n):typeof fetch=="function",o=Js(r),l=Js(s);if(!a)return!1;const c=a&&Js(ac),d=a&&(typeof oc=="function"?(w=>_=>w.encode(_))(new oc):async w=>new Uint8Array(await new r(w).arrayBuffer())),u=o&&c&&lc(()=>{let w=!1;const _=new r(nt.origin,{body:new ac,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),h=l&&c&&lc(()=>G.isReadableStream(new s("").body)),f={stream:h&&(w=>w.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!f[w]&&(f[w]=(_,v)=>{let g=_&&_[w];if(g)return g.call(_);throw new _e(`Response type '${w}' is not supported`,_e.ERR_NOT_SUPPORT,v)})});const p=async w=>{if(w==null)return 0;if(G.isBlob(w))return w.size;if(G.isSpecCompliantForm(w))return(await new r(nt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(G.isArrayBufferView(w)||G.isArrayBuffer(w))return w.byteLength;if(G.isURLSearchParams(w)&&(w=w+""),G.isString(w))return(await d(w)).byteLength},m=async(w,_)=>{const v=G.toFiniteNumber(w.getContentLength());return v??p(_)};return async w=>{let{url:_,method:v,data:g,signal:x,cancelToken:b,timeout:y,onDownloadProgress:j,onUploadProgress:k,responseType:S,headers:C,withCredentials:P="same-origin",fetchOptions:O}=hh(w),E=n||fetch;S=S?(S+"").toLowerCase():"text";let R=wx([x,b&&b.toAbortSignal()],y),z=null;const T=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let D;try{if(k&&u&&v!=="get"&&v!=="head"&&(D=await m(C,g))!==0){let Z=new r(_,{method:"POST",body:g,duplex:"half"}),J;if(G.isFormData(g)&&(J=Z.headers.get("content-type"))&&C.setContentType(J),Z.body){const[I,ce]=tc(D,Ri(nc(k)));g=sc(Z.body,ic,I,ce)}}G.isString(P)||(P=P?"include":"omit");const M=o&&"credentials"in r.prototype,B={...O,signal:R,method:v.toUpperCase(),headers:C.normalize().toJSON(),body:g,duplex:"half",credentials:M?P:void 0};z=o&&new r(_,B);let X=await(o?E(z,O):E(_,B));const W=h&&(S==="stream"||S==="response");if(h&&(j||W&&T)){const Z={};["status","statusText","headers"].forEach(we=>{Z[we]=X[we]});const J=G.toFiniteNumber(X.headers.get("content-length")),[I,ce]=j&&tc(J,Ri(nc(j),!0))||[];X=new s(sc(X.body,ic,I,()=>{ce&&ce(),T&&T()}),Z)}S=S||"text";let $=await f[G.findKey(f,S)||"text"](X,w);return!W&&T&&T(),await new Promise((Z,J)=>{uh(Z,J,{data:$,headers:mt.from(X.headers),status:X.status,statusText:X.statusText,config:w,request:z})})}catch(M){throw T&&T(),M&&M.name==="TypeError"&&/Load failed|fetch/i.test(M.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,w,z),{cause:M.cause||M}):_e.from(M,M&&M.code,w,z)}}},Cx=new Map,fh=e=>{let n=e&&e.env||{};const{fetch:r,Request:s,Response:a}=n,o=[s,a,r];let l=o.length,c=l,d,u,h=Cx;for(;c--;)d=o[c],u=h.get(d),u===void 0&&h.set(d,u=c?new Map:Sx(n)),h=u;return u};fh();const Qo={http:qg,xhr:vx,fetch:{get:fh}};G.forEach(Qo,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const cc=e=>`- ${e}`,Ex=e=>G.isFunction(e)||e===null||e===!1;function Px(e,n){e=G.isArray(e)?e:[e];const{length:r}=e;let s,a;const o={};for(let l=0;l<r;l++){s=e[l];let c;if(a=s,!Ex(s)&&(a=Qo[(c=String(s)).toLowerCase()],a===void 0))throw new _e(`Unknown adapter '${c}'`);if(a&&(G.isFunction(a)||(a=a.get(n))))break;o[c||"#"+l]=a}if(!a){const l=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=r?l.length>1?`since :
`+l.map(cc).join(`
`):" "+cc(l[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const ph={getAdapter:Px,adapters:Qo};function Sa(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kr(null,e)}function uc(e){return Sa(e),e.headers=mt.from(e.headers),e.data=ka.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),ph.getAdapter(e.adapter||Is.adapter,e)(e).then(function(s){return Sa(e),s.data=ka.call(e,e.transformResponse,s),s.headers=mt.from(s.headers),s},function(s){return ch(s)||(Sa(e),s&&s.response&&(s.response.data=ka.call(e,e.transformResponse,s.response),s.response.headers=mt.from(s.response.headers))),Promise.reject(s)})}const mh="1.13.2",la={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{la[e]=function(s){return typeof s===e||"a"+(n<1?"n ":" ")+e}});const dc={};la.transitional=function(n,r,s){function a(o,l){return"[Axios v"+mh+"] Transitional option '"+o+"'"+l+(s?". "+s:"")}return(o,l,c)=>{if(n===!1)throw new _e(a(l," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!dc[l]&&(dc[l]=!0,console.warn(a(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(o,l,c):!0}};la.spelling=function(n){return(r,s)=>(console.warn(`${s} is likely a misspelling of ${n}`),!0)};function Ax(e,n,r){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const o=s[a],l=n[o];if(l){const c=e[o],d=c===void 0||l(c,o,e);if(d!==!0)throw new _e("option "+o+" must be "+d,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const vi={assertOptions:Ax,validators:la},Gt=vi.validators;let Gn=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Zl,response:new Zl}}async request(n,r){try{return await this._request(n,r)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?o&&!String(s.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+o):s.stack=o}catch{}}throw s}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=Kn(this.defaults,r);const{transitional:s,paramsSerializer:a,headers:o}=r;s!==void 0&&vi.assertOptions(s,{silentJSONParsing:Gt.transitional(Gt.boolean),forcedJSONParsing:Gt.transitional(Gt.boolean),clarifyTimeoutError:Gt.transitional(Gt.boolean)},!1),a!=null&&(G.isFunction(a)?r.paramsSerializer={serialize:a}:vi.assertOptions(a,{encode:Gt.function,serialize:Gt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),vi.assertOptions(r,{baseUrl:Gt.spelling("baseURL"),withXsrfToken:Gt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&G.merge(o.common,o[r.method]);o&&G.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=mt.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(d=d&&_.synchronous,c.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let h,f=0,p;if(!d){const w=[uc.bind(this),void 0];for(w.unshift(...c),w.push(...u),p=w.length,h=Promise.resolve(r);f<p;)h=h.then(w[f++],w[f++]);return h}p=c.length;let m=r;for(;f<p;){const w=c[f++],_=c[f++];try{m=w(m)}catch(v){_.call(this,v);break}}try{h=uc.call(this,m)}catch(w){return Promise.reject(w)}for(f=0,p=u.length;f<p;)h=h.then(u[f++],u[f++]);return h}getUri(n){n=Kn(this.defaults,n);const r=dh(n.baseURL,n.url,n.allowAbsoluteUrls);return ah(r,n.params,n.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(n){Gn.prototype[n]=function(r,s){return this.request(Kn(s||{},{method:n,url:r,data:(s||{}).data}))}});G.forEach(["post","put","patch"],function(n){function r(s){return function(o,l,c){return this.request(Kn(c||{},{method:n,headers:s?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}Gn.prototype[n]=r(),Gn.prototype[n+"Form"]=r(!0)});let Rx=class gh{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const s=this;this.promise.then(a=>{if(!s._listeners)return;let o=s._listeners.length;for(;o-- >0;)s._listeners[o](a);s._listeners=null}),this.promise.then=a=>{let o;const l=new Promise(c=>{s.subscribe(c),o=c}).then(a);return l.cancel=function(){s.unsubscribe(o)},l},n(function(o,l,c){s.reason||(s.reason=new kr(o,l,c),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=s=>{n.abort(s)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new gh(function(a){n=a}),cancel:n}}};function Ox(e){return function(r){return e.apply(null,r)}}function Tx(e){return G.isObject(e)&&e.isAxiosError===!0}const lo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(lo).forEach(([e,n])=>{lo[n]=e});function xh(e){const n=new Gn(e),r=Yd(Gn.prototype.request,n);return G.extend(r,Gn.prototype,n,{allOwnKeys:!0}),G.extend(r,n,null,{allOwnKeys:!0}),r.create=function(a){return xh(Kn(e,a))},r}const We=xh(Is);We.Axios=Gn;We.CanceledError=kr;We.CancelToken=Rx;We.isCancel=ch;We.VERSION=mh;We.toFormData=oa;We.AxiosError=_e;We.Cancel=We.CanceledError;We.all=function(n){return Promise.all(n)};We.spread=Ox;We.isAxiosError=Tx;We.mergeConfig=Kn;We.AxiosHeaders=mt;We.formToJSON=e=>lh(G.isHTMLForm(e)?new FormData(e):e);We.getAdapter=ph.getAdapter;We.HttpStatusCode=lo;We.default=We;const{Axios:iP,AxiosError:aP,CanceledError:oP,isCancel:lP,CancelToken:cP,VERSION:uP,all:dP,Cancel:hP,isAxiosError:fP,spread:pP,toFormData:mP,AxiosHeaders:gP,HttpStatusCode:xP,formToJSON:yP,getAdapter:bP,mergeConfig:vP}=We,Ye=We.create({baseURL:"/api/portal"}),or="portal_token",wi="portal_user";Ye.interceptors.request.use(e=>{const n=localStorage.getItem(or);return n&&(e.headers.Authorization=`Bearer ${n}`),e});Ye.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem(or),localStorage.removeItem(wi),window.location.pathname.startsWith("/portal")&&!window.location.pathname.includes("/login")&&(window.location.href="/portal/login")),Promise.reject(e)});const Dx={login:async e=>{const n=await Ye.post("/auth/login",e);return localStorage.setItem(or,n.data.token),localStorage.setItem(wi,JSON.stringify(n.data.user)),n.data},logout:()=>{localStorage.removeItem(or),localStorage.removeItem(wi)},getCurrentUser:()=>Ye.get("/auth/me"),changePassword:e=>Ye.post("/auth/change-password",e),forgotPassword:e=>Ye.post("/auth/forgot-password",{email:e}),resetPassword:(e,n)=>Ye.post("/auth/reset-password",{token:e,new_password:n}),getToken:()=>localStorage.getItem(or),getStoredUser:()=>{const e=localStorage.getItem(wi);if(e)try{return JSON.parse(e)}catch{return null}return null},isAuthenticated:()=>!!localStorage.getItem(or)},wP={getProfile:()=>Ye.get("/profile"),updateProfile:e=>Ye.put("/profile",e)},jP={getDashboard:()=>Ye.get("/dashboard")},_P={getAll:()=>Ye.get("/engagements"),getById:e=>Ye.get(`/engagements/${e}`),getMilestones:e=>Ye.get(`/engagements/${e}/milestones`),updateMilestone:(e,n,r)=>Ye.put(`/engagements/${e}/milestones/${n}`,r)},NP={getAll:e=>{const n=new URLSearchParams;return e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.status&&n.append("status",e.status),e!=null&&e.engagement_id&&n.append("engagement_id",e.engagement_id),e!=null&&e.limit&&n.append("limit",e.limit.toString()),e!=null&&e.offset&&n.append("offset",e.offset.toString()),Ye.get(`/vulnerabilities?${n.toString()}`)},getById:e=>Ye.get(`/vulnerabilities/${e}`),updateStatus:(e,n,r)=>Ye.put(`/vulnerabilities/${e}/status`,{status:n,comment:r}),getComments:e=>Ye.get(`/vulnerabilities/${e}/comments`),addComment:(e,n)=>Ye.post(`/vulnerabilities/${e}/comments`,{comment:n})},kP={getAll:()=>Ye.get("/reports"),getById:e=>Ye.get(`/reports/${e}`),download:e=>Ye.get(`/reports/${e}/download`,{responseType:"blob"})},yh=A.createContext(void 0),bh="heroforge-theme";function $x(){return typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark"}function Mx(){if(typeof window<"u"){const e=localStorage.getItem(bh);if(e==="light"||e==="dark"||e==="system")return e}return"system"}function Ca(e){return e==="system"?$x():e}const zx=({children:e,defaultTheme:n="system"})=>{const[r,s]=A.useState(()=>Mx()||n),[a,o]=A.useState(()=>Ca(r)),l=A.useCallback(u=>{const h=document.documentElement;u==="dark"?(h.classList.add("dark"),h.classList.remove("light")):(h.classList.add("light"),h.classList.remove("dark"));const f=document.querySelector('meta[name="theme-color"]');f&&f.setAttribute("content",u==="dark"?"#0f172a":"#ffffff")},[]),c=A.useCallback(u=>{s(u),localStorage.setItem(bh,u)},[]);A.useEffect(()=>{const u=Ca(r);o(u),l(u)},[r,l]),A.useEffect(()=>{if(r!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),h=f=>{const p=f.matches?"dark":"light";o(p),l(p)};return u.addEventListener("change",h),()=>u.removeEventListener("change",h)},[r,l]),A.useEffect(()=>{const u=Ca(r);l(u)},[]);const d={theme:r,setTheme:c,resolvedTheme:a};return i.jsx(yh.Provider,{value:d,children:e})};function vh(){const e=A.useContext(yh);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const N=We.create({baseURL:"/api"});N.interceptors.request.use(e=>{const n=localStorage.getItem("token");return n&&(e.headers.Authorization=`Bearer ${n}`),e});const Oi={register:e=>N.post("/auth/register",e),login:e=>N.post("/auth/login",e),me:()=>N.get("/user/me"),updateProfile:e=>N.put("/user/profile",e),changePassword:e=>N.put("/user/password",e)},Ix={setup:()=>N.post("/user/mfa/setup"),verifySetup:e=>N.post("/user/mfa/verify-setup",e),disable:e=>N.delete("/user/mfa",{data:e}),regenerateRecoveryCodes:e=>N.post("/user/mfa/recovery-codes",e),verify:e=>N.post("/auth/mfa/verify",e)},tn={create:e=>N.post("/scans",e),getAll:()=>N.get("/scans"),getById:e=>N.get(`/scans/${e}`),getResults:e=>N.get(`/scans/${e}/results`),delete:e=>N.delete(`/scans/${e}`),getPresets:()=>N.get("/scan-presets"),bulkDelete:e=>N.post("/scans/bulk-delete",{scan_ids:e}),bulkExport:(e,n,r)=>N.post("/scans/bulk-export",{scan_ids:e,format:n,...r},{responseType:"blob"}),duplicate:(e,n)=>N.post(`/scans/${e}/duplicate`,n||{}),getAllWithTags:()=>N.get("/scans/with-tags"),getSslReport:e=>N.get(`/scans/${e}/ssl-report`)},It={getAll:()=>N.get("/scans/tags"),create:e=>N.post("/scans/tags",e),delete:e=>N.delete(`/scans/tags/${e}`),getSuggestions:()=>N.get("/scans/tags/suggestions"),getTagsForScan:e=>N.get(`/scans/${e}/tags`),addTagsToScan:(e,n)=>N.post(`/scans/${e}/tags`,n),removeTagFromScan:(e,n)=>N.delete(`/scans/${e}/tags/${n}`)},SP={getUsers:()=>N.get("/admin/users"),getUser:e=>N.get(`/admin/users/${e}`),updateUser:(e,n)=>N.patch(`/admin/users/${e}`,n),deleteUser:e=>N.delete(`/admin/users/${e}`),assignRole:(e,n)=>N.post(`/admin/users/${e}/roles`,{role_id:n}),removeRole:(e,n)=>N.delete(`/admin/users/${e}/roles/${n}`),unlockUser:e=>N.post(`/admin/users/${e}/unlock`),getRoles:()=>N.get("/admin/roles"),getAllScans:()=>N.get("/admin/scans"),deleteScan:e=>N.delete(`/admin/scans/${e}`),getAuditLogs:(e={})=>{const n=new URLSearchParams;return e.user_id&&n.append("user_id",e.user_id),e.action&&n.append("action",e.action),e.target_type&&n.append("target_type",e.target_type),e.start_date&&n.append("start_date",e.start_date),e.end_date&&n.append("end_date",e.end_date),e.limit!==void 0&&n.append("limit",e.limit.toString()),e.offset!==void 0&&n.append("offset",e.offset.toString()),N.get(`/admin/audit-logs?${n.toString()}`)},getAuditActionTypes:()=>N.get("/admin/audit-logs/action-types"),getAuditUsers:()=>N.get("/admin/audit-logs/users"),exportAuditLogs:async(e={})=>{const n=new URLSearchParams;return e.user_id&&n.append("user_id",e.user_id),e.action&&n.append("action",e.action),e.target_type&&n.append("target_type",e.target_type),e.start_date&&n.append("start_date",e.start_date),e.end_date&&n.append("end_date",e.end_date),await N.get(`/admin/audit-logs/export?${n.toString()}`,{responseType:"blob"})},getSettings:()=>N.get("/admin/settings"),updateSetting:(e,n)=>N.patch(`/admin/settings/${e}`,{value:n}),getRateLimitDashboard:()=>N.get("/admin/rate-limits")},fs={create:e=>N.post("/reports",e),getAll:e=>{const n=e?`?scan_id=${e}`:"";return N.get(`/reports${n}`)},getById:e=>N.get(`/reports/${e}`),download:async e=>await N.get(`/reports/${e}/download`,{responseType:"blob"}),delete:e=>N.delete(`/reports/${e}`),getTemplates:()=>N.get("/reports/templates")},Lx={getAll:()=>N.get("/target-groups"),getById:e=>N.get(`/target-groups/${e}`),create:e=>N.post("/target-groups",e),update:(e,n)=>N.put(`/target-groups/${e}`,n),delete:e=>N.delete(`/target-groups/${e}`)},CP={getAll:()=>N.get("/scheduled-scans"),getById:e=>N.get(`/scheduled-scans/${e}`),create:e=>N.post("/scheduled-scans",e),update:(e,n)=>N.put(`/scheduled-scans/${e}`,n),delete:e=>N.delete(`/scheduled-scans/${e}`)},EP={getAll:()=>N.get("/scheduled-reports"),getById:e=>N.get(`/scheduled-reports/${e}`),getPresets:()=>N.get("/scheduled-reports/presets"),create:e=>N.post("/scheduled-reports",e),update:(e,n)=>N.put(`/scheduled-reports/${e}`,n),delete:e=>N.delete(`/scheduled-reports/${e}`),runNow:e=>N.post(`/scheduled-reports/${e}/run-now`)},PP={getSettings:()=>N.get("/notifications/settings"),updateSettings:e=>N.put("/notifications/settings",e),testSlack:()=>N.post("/notifications/test-slack"),testTeams:()=>N.post("/notifications/test-teams"),testEmail:()=>N.post("/notifications/test-email"),checkSmtpStatus:()=>N.get("/notifications/smtp-status")},AP={getAll:()=>N.get("/api-keys"),create:e=>N.post("/api-keys",e),update:(e,n)=>N.patch(`/api-keys/${e}`,n),delete:e=>N.delete(`/api-keys/${e}`)},RP={compare:(e,n)=>N.post("/scans/compare",{scan_id_1:e,scan_id_2:n})},ps={getAll:()=>N.get("/templates"),getSystem:()=>N.get("/templates/system"),getCategories:()=>N.get("/templates/categories"),getDefault:()=>N.get("/templates/default"),clearDefault:()=>N.delete("/templates/default"),getById:e=>N.get(`/templates/${e}`),create:e=>N.post("/templates",e),update:(e,n)=>N.put(`/templates/${e}`,n),delete:e=>N.delete(`/templates/${e}`),clone:(e,n)=>N.post(`/templates/${e}/clone`,{new_name:n}),setDefault:e=>N.post(`/templates/${e}/set-default`),createScan:(e,n,r)=>N.post(`/templates/${e}/scan`,{name:n,targets:r}),export:e=>N.get(`/templates/${e}/export`,{responseType:"blob"}),import:e=>N.post("/templates/import",{template:e})},OP={list:()=>N.get("/users")},ir={getSummary:(e=30)=>N.get(`/analytics/summary?days=${e}`),getHosts:(e=30)=>N.get(`/analytics/hosts?days=${e}`),getVulnerabilities:(e=30)=>N.get(`/analytics/vulnerabilities?days=${e}`),getServices:(e=10)=>N.get(`/analytics/services?limit=${e}`),getFrequency:(e=30)=>N.get(`/analytics/frequency?days=${e}`),getVulnerabilityTrends:(e=30)=>N.get(`/analytics/vulnerability-trends?days=${e}`),getSeverityTrends:(e=30)=>N.get(`/analytics/severity-trends?days=${e}`),getRemediationRate:(e=30)=>N.get(`/analytics/remediation-rate?days=${e}`),getTopVulnerabilities:(e=10)=>N.get(`/analytics/top-vulnerabilities?limit=${e}`),getVulnerabilityTrendsDashboard:(e=30)=>N.get(`/analytics/vulnerability-trends-dashboard?days=${e}`)},hc={list:e=>{const n=new URLSearchParams;return e.scan_id&&n.append("scan_id",e.scan_id),e.status&&n.append("status",e.status),e.severity&&n.append("severity",e.severity),N.get(`/vulnerabilities?${n.toString()}`)},get:e=>N.get(`/vulnerabilities/${e}`),update:(e,n)=>N.put(`/vulnerabilities/${e}`,n),addComment:(e,n)=>N.post(`/vulnerabilities/${e}/comments`,{comment:n}),getComments:e=>N.get(`/vulnerabilities/${e}/comments`),updateComment:(e,n,r)=>N.put(`/vulnerabilities/${e}/comments/${n}`,{comment:r}),deleteComment:(e,n)=>N.delete(`/vulnerabilities/${e}/comments/${n}`),bulkUpdate:e=>N.post("/vulnerabilities/bulk-update",e),bulkExport:(e,n)=>N.post("/vulnerabilities/bulk-export",{vulnerability_ids:e,format:n},{responseType:"blob"}),getStats:e=>{const n=e?`?scan_id=${e}`:"";return N.get(`/vulnerabilities/stats${n}`)},getTimeline:e=>N.get(`/vulnerabilities/${e}/timeline`),markForVerification:(e,n)=>N.post(`/vulnerabilities/${e}/verify`,n),bulkAssign:e=>N.post("/vulnerabilities/bulk-assign",e),getMyAssignments:e=>{const n=new URLSearchParams;return e!=null&&e.status&&n.append("status",e.status),(e==null?void 0:e.overdue)!==void 0&&n.append("overdue",e.overdue.toString()),e!=null&&e.user_id&&n.append("user_id",e.user_id),N.get(`/vulnerabilities/assigned?${n.toString()}`)},getAssignmentStats:()=>N.get("/vulnerabilities/assignment-stats"),listWithAssignments:e=>{const n=new URLSearchParams;return e!=null&&e.scan_id&&n.append("scan_id",e.scan_id),e!=null&&e.status&&n.append("status",e.status),e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.assigned_to&&n.append("assigned_to",e.assigned_to),(e==null?void 0:e.overdue)!==void 0&&n.append("overdue",e.overdue.toString()),N.get(`/vulnerabilities/with-assignments?${n.toString()}`)},assign:(e,n)=>N.post(`/vulnerabilities/${e}/assign`,n),unassign:e=>N.delete(`/vulnerabilities/${e}/assign`),updateAssignment:(e,n)=>N.put(`/vulnerabilities/${e}/assignment`,n),bulkUpdateStatus:(e,n)=>N.post("/vulnerabilities/bulk/status",{vulnerability_ids:e,status:n}),bulkUpdateSeverity:(e,n)=>N.post("/vulnerabilities/bulk/severity",{vulnerability_ids:e,severity:n}),bulkDelete:e=>N.post("/vulnerabilities/bulk/delete",{vulnerability_ids:e}),bulkAddTags:(e,n)=>N.post("/vulnerabilities/bulk/tags",{vulnerability_ids:e,tags:n}),requestRetest:(e,n={})=>N.post(`/vulnerabilities/${e}/request-retest`,n),bulkRequestRetest:e=>N.post("/vulnerabilities/bulk-retest",e),completeRetest:(e,n)=>N.post(`/vulnerabilities/${e}/complete-retest`,n),getPendingRetests:e=>{const n=e?`?scan_id=${e}`:"";return N.get(`/vulnerabilities/pending-retest${n}`)},getRetestHistory:e=>N.get(`/vulnerabilities/${e}/retest-history`)},Qs={getFrameworks:()=>N.get("/compliance/frameworks"),getFramework:e=>N.get(`/compliance/frameworks/${e}`),getFrameworkControls:e=>N.get(`/compliance/frameworks/${e}/controls`),analyzeScan:(e,n)=>N.post(`/scans/${e}/compliance`,n),getScanCompliance:e=>N.get(`/scans/${e}/compliance`),generateReport:(e,n)=>N.post(`/scans/${e}/compliance/report`,n),downloadReport:e=>N.get(`/compliance/reports/${e}/download`,{responseType:"blob"})},TP={getSettings:()=>N.get("/integrations/jira/settings"),updateSettings:e=>N.post("/integrations/jira/settings",e),testConnection:()=>N.post("/integrations/jira/test"),listProjects:()=>N.get("/integrations/jira/projects"),listIssueTypes:()=>N.get("/integrations/jira/issue-types"),createTicket:(e,n)=>N.post(`/vulnerabilities/${e}/create-ticket`,n||{})},DP={performRecon:e=>N.post("/dns/recon",{domain:e.domain,include_subdomains:e.includeSubdomains,custom_wordlist:e.customWordlist,timeout_secs:e.timeoutSecs}),listResults:()=>N.get("/dns/recon"),getResult:e=>N.get(`/dns/recon/${e}`),deleteResult:e=>N.delete(`/dns/recon/${e}`),getWordlist:()=>N.get("/dns/wordlist")},Fx={getSettings:()=>N.get("/integrations/siem/settings"),createSettings:e=>N.post("/integrations/siem/settings",e),updateSettings:(e,n)=>N.put(`/integrations/siem/settings/${e}`,n),deleteSettings:e=>N.delete(`/integrations/siem/settings/${e}`),testConnection:e=>N.post(`/integrations/siem/settings/${e}/test`),exportScan:e=>N.post(`/integrations/siem/export/${e}`)},$P={getSettings:()=>N.get("/integrations/servicenow/settings"),updateSettings:e=>N.post("/integrations/servicenow/settings",e),testConnection:()=>N.post("/integrations/servicenow/test"),getAssignmentGroups:()=>N.get("/integrations/servicenow/assignment-groups"),getCategories:()=>N.get("/integrations/servicenow/categories"),getTicketStatus:e=>N.get(`/integrations/servicenow/tickets/${e}/status`),getTicketsForVulnerability:e=>N.get(`/vulnerabilities/${e}/servicenow/tickets`),createIncident:(e,n)=>N.post(`/vulnerabilities/${e}/servicenow/incident`,n||{ticket_type:"incident"}),createChange:(e,n)=>N.post(`/vulnerabilities/${e}/servicenow/change`,n||{ticket_type:"change"})},MP={startScan:e=>N.post("/webapp/scan",e),getScan:e=>N.get(`/webapp/scan/${e}`)},zP={getAll:e=>{const n=e?`?framework_id=${e}`:"";return N.get(`/compliance/rubrics${n}`)},getById:e=>N.get(`/compliance/rubrics/${e}`),create:e=>N.post("/compliance/rubrics",e),update:(e,n)=>N.put(`/compliance/rubrics/${e}`,n),delete:e=>N.delete(`/compliance/rubrics/${e}`),getByFramework:e=>N.get(`/compliance/frameworks/${e}/rubrics`)},IP={getAll:(e,n)=>{const r=new URLSearchParams;e&&r.append("framework_id",e),n&&r.append("status",n);const s=r.toString();return N.get(`/compliance/assessments${s?`?${s}`:""}`)},getById:e=>N.get(`/compliance/assessments/${e}`),create:e=>N.post("/compliance/assessments",e),update:(e,n)=>N.put(`/compliance/assessments/${e}`,n),delete:e=>N.delete(`/compliance/assessments/${e}`),submit:e=>N.post(`/compliance/assessments/${e}/submit`),approve:e=>N.post(`/compliance/assessments/${e}/approve`),reject:(e,n)=>N.post(`/compliance/assessments/${e}/reject`,{notes:n})},LP={getAll:e=>N.get(`/compliance/assessments/${e}/evidence`),upload:(e,n)=>N.post(`/compliance/assessments/${e}/evidence`,n,{headers:{"Content-Type":"multipart/form-data"}}),addLink:(e,n,r,s)=>N.post(`/compliance/assessments/${e}/evidence/link`,{title:n,url:r,description:s}),delete:e=>N.delete(`/compliance/evidence/${e}`),download:async e=>(await N.get(`/compliance/evidence/${e}/download`,{responseType:"blob"})).data},FP={getAll:()=>N.get("/compliance/campaigns"),getById:e=>N.get(`/compliance/campaigns/${e}`),create:e=>N.post("/compliance/campaigns",e),update:(e,n)=>N.put(`/compliance/campaigns/${e}`,n),delete:e=>N.delete(`/compliance/campaigns/${e}`),getProgress:e=>N.get(`/compliance/campaigns/${e}/progress`)},Hx={getConfigs:()=>N.get("/vpn/configs"),uploadConfig:e=>N.post("/vpn/configs",e),updateConfig:(e,n)=>N.put(`/vpn/configs/${e}`,n),deleteConfig:e=>N.delete(`/vpn/configs/${e}`),testConfig:e=>N.post(`/vpn/configs/${e}/test`),getStatus:()=>N.get("/vpn/status"),connect:e=>N.post("/vpn/connect",e),disconnect:()=>N.post("/vpn/disconnect")},fc={getDashboard:()=>N.get("/crm/dashboard"),customers:{getAll:e=>{const n=e?`?status=${e}`:"";return N.get(`/crm/customers${n}`)},getById:e=>N.get(`/crm/customers/${e}`),getSummary:e=>N.get(`/crm/customers/${e}/summary`),create:e=>N.post("/crm/customers",e),update:(e,n)=>N.put(`/crm/customers/${e}`,n),delete:e=>N.delete(`/crm/customers/${e}`)},contacts:{getByCustomer:e=>N.get(`/crm/customers/${e}/contacts`),getById:e=>N.get(`/crm/contacts/${e}`),create:(e,n)=>N.post(`/crm/customers/${e}/contacts`,n),update:(e,n)=>N.put(`/crm/contacts/${e}`,n),delete:e=>N.delete(`/crm/contacts/${e}`)},engagements:{getAll:e=>{const n=e?`?status=${e}`:"";return N.get(`/crm/engagements${n}`)},getByCustomer:(e,n)=>{const r=n?`?status=${n}`:"";return N.get(`/crm/customers/${e}/engagements${r}`)},getById:e=>N.get(`/crm/engagements/${e}`),create:(e,n)=>N.post(`/crm/customers/${e}/engagements`,n),update:(e,n)=>N.put(`/crm/engagements/${e}`,n),delete:e=>N.delete(`/crm/engagements/${e}`)},milestones:{getByEngagement:e=>N.get(`/crm/engagements/${e}/milestones`),create:(e,n)=>N.post(`/crm/engagements/${e}/milestones`,n),update:(e,n)=>N.put(`/crm/milestones/${e}`,n),delete:e=>N.delete(`/crm/milestones/${e}`)},contracts:{getAll:e=>{const n=e?`?status=${e}`:"";return N.get(`/crm/contracts${n}`)},getByCustomer:e=>N.get(`/crm/customers/${e}/contracts`),getById:e=>N.get(`/crm/contracts/${e}`),create:(e,n)=>N.post(`/crm/customers/${e}/contracts`,n),update:(e,n)=>N.put(`/crm/contracts/${e}`,n),delete:e=>N.delete(`/crm/contracts/${e}`)},sla:{getTemplates:()=>N.get("/crm/sla-templates"),createTemplate:e=>N.post("/crm/sla-templates",e),getByCustomer:e=>N.get(`/crm/customers/${e}/sla`),setForCustomer:(e,n)=>N.post(`/crm/customers/${e}/sla`,n),delete:e=>N.delete(`/crm/sla/${e}`)},timeEntries:{getAll:(e,n)=>{const r=new URLSearchParams;e&&r.append("start_date",e),n&&r.append("end_date",n);const s=r.toString();return N.get(`/crm/time${s?`?${s}`:""}`)},getByEngagement:e=>N.get(`/crm/engagements/${e}/time`),create:(e,n)=>N.post(`/crm/engagements/${e}/time`,n),delete:e=>N.delete(`/crm/time/${e}`)},communications:{getByCustomer:(e,n)=>{const r=n?`?limit=${n}`:"";return N.get(`/crm/customers/${e}/communications${r}`)},create:(e,n)=>N.post(`/crm/customers/${e}/communications`,n),delete:e=>N.delete(`/crm/communications/${e}`)},portalUsers:{getByCustomer:e=>N.get(`/crm/customers/${e}/portal-users`),getById:(e,n)=>N.get(`/crm/customers/${e}/portal-users/${n}`),create:(e,n)=>N.post(`/crm/customers/${e}/portal-users`,n),update:(e,n,r)=>N.put(`/crm/customers/${e}/portal-users/${n}`,r),delete:(e,n)=>N.delete(`/crm/customers/${e}/portal-users/${n}`),activate:(e,n)=>N.post(`/crm/customers/${e}/portal-users/${n}/activate`),deactivate:(e,n)=>N.post(`/crm/customers/${e}/portal-users/${n}/deactivate`),resetPassword:(e,n,r)=>N.post(`/crm/customers/${e}/portal-users/${n}/reset-password`,r)}},HP={list:e=>{const n=new URLSearchParams;e!=null&&e.category&&n.append("category",e.category),e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.search&&n.append("search",e.search),(e==null?void 0:e.include_system)!==void 0&&n.append("include_system",e.include_system.toString());const r=n.toString();return N.get(`/finding-templates${r?`?${r}`:""}`)},getById:e=>N.get(`/finding-templates/${e}`),create:e=>N.post("/finding-templates",e),update:(e,n)=>N.put(`/finding-templates/${e}`,n),delete:e=>N.delete(`/finding-templates/${e}`),clone:(e,n)=>N.post(`/finding-templates/${e}/clone`,n||{}),getCategories:()=>N.get("/finding-templates/categories"),getAllCategories:()=>N.get("/finding-templates/categories/all"),getPopular:(e=10)=>N.get("/finding-templates/popular",{params:{limit:e}}),search:e=>{const n=new URLSearchParams;e.query&&n.append("q",e.query),e.category&&n.append("category",e.category),e.severity&&n.append("severity",e.severity),e.owasp&&n.append("owasp",e.owasp),e.mitre&&n.append("mitre",e.mitre),e.limit&&n.append("limit",e.limit.toString()),e.offset&&n.append("offset",e.offset.toString());const r=n.toString();return N.get(`/finding-templates/search${r?`?${r}`:""}`)},getByOwasp:e=>N.get(`/finding-templates/owasp/${encodeURIComponent(e)}`),getByMitre:e=>N.get(`/finding-templates/mitre/${encodeURIComponent(e)}`),importTemplates:e=>N.post("/finding-templates/import",e),exportTemplates:e=>{const n=e!=null&&e.length?{ids:e.join(",")}:{};return N.get("/finding-templates/export",{params:n})},applyToVulnerability:(e,n)=>N.post(`/finding-templates/${e}/apply`,n)},BP={listTemplates:()=>N.get("/methodology/templates"),getTemplate:e=>N.get(`/methodology/templates/${e}`),listChecklists:()=>N.get("/methodology/checklists"),createChecklist:e=>N.post("/methodology/checklists",e),getChecklist:e=>N.get(`/methodology/checklists/${e}`),updateChecklist:(e,n)=>N.put(`/methodology/checklists/${e}`,n),deleteChecklist:e=>N.delete(`/methodology/checklists/${e}`),getProgress:e=>N.get(`/methodology/checklists/${e}/progress`),getItem:(e,n)=>N.get(`/methodology/checklists/${e}/items/${n}`),updateItem:(e,n,r)=>N.put(`/methodology/checklists/${e}/items/${n}`,r)},UP={getCustomerTrends:(e,n=6)=>N.get(`/analytics/customer/${e}/trends`,{params:{months:n}}),getCustomerSummary:e=>N.get(`/analytics/customer/${e}/summary`),getRemediationVelocity:(e=90)=>N.get("/analytics/remediation-velocity",{params:{days:e}}),getRiskTrends:(e=6)=>N.get("/analytics/risk-trends",{params:{months:e}}),getMethodologyCoverage:()=>N.get("/analytics/methodology-coverage"),getExecutiveDashboard:(e,n=6)=>N.get("/analytics/executive-dashboard",{params:{customer_id:e,months:n}})},Bx={getStatus:()=>N.get("/threat-intel/status"),lookupIp:e=>N.get(`/threat-intel/lookup/${e}`),lookupCve:e=>N.get(`/threat-intel/cve/${e}`),getAlerts:e=>N.get("/threat-intel/alerts",{params:e}),acknowledgeAlert:e=>N.post(`/threat-intel/alerts/${e}/acknowledge`),enrichScan:(e,n)=>N.post(`/threat-intel/enrich/${e}`,n||{}),getEnrichment:e=>N.get(`/threat-intel/scan/${e}/enrichment`)},qP={analyze:(e,n)=>N.post(`/attack-paths/analyze/${e}`,n||{}),getByScan:e=>N.get(`/attack-paths/${e}`),getCritical:e=>N.get(`/attack-paths/${e}/critical`),getPath:e=>N.get(`/attack-paths/path/${e}`)},WP={startScan:e=>N.post("/api-security/scans",e),listScans:()=>N.get("/api-security/scans"),getScan:e=>N.get(`/api-security/scans/${e}`),deleteScan:e=>N.delete(`/api-security/scans/${e}`),getFindings:e=>N.get(`/api-security/scans/${e}/findings`),getEndpoints:e=>N.get(`/api-security/scans/${e}/endpoints`),discoverEndpoints:e=>N.post("/api-security/discover",e),getStats:()=>N.get("/api-security/stats")},VP={getTags:()=>N.get("/assets/tags"),createTag:e=>N.post("/assets/tags",e),getTag:e=>N.get(`/assets/tags/${e}`),updateTag:(e,n)=>N.put(`/assets/tags/${e}`,n),deleteTag:e=>N.delete(`/assets/tags/${e}`),getAssets:e=>N.get("/assets",{params:e}),getAssetsWithTags:e=>N.get("/assets/with-tags",{params:e}),getAssetsByTags:e=>N.get("/assets/by-tags",{params:e}),getAsset:e=>N.get(`/assets/${e}`),addTagsToAsset:(e,n)=>N.post(`/assets/${e}/tags`,n),removeTagFromAsset:(e,n)=>N.delete(`/assets/${e}/tags/${n}`),updateAsset:(e,n)=>N.patch(`/assets/${e}`,n),deleteAsset:e=>N.delete(`/assets/${e}`),getAssetHistory:e=>N.get(`/assets/${e}/history`),getAssetFull:e=>N.get(`/assets/${e}/full`)},GP={getGroups:()=>N.get("/asset-groups"),createGroup:e=>N.post("/asset-groups",e),getGroup:e=>N.get(`/asset-groups/${e}`),updateGroup:(e,n)=>N.put(`/asset-groups/${e}`,n),deleteGroup:e=>N.delete(`/asset-groups/${e}`),addAssetsToGroup:(e,n)=>N.post(`/asset-groups/${e}/members`,n),removeAssetFromGroup:(e,n)=>N.delete(`/asset-groups/${e}/members/${n}`),getAssetsByGroup:e=>N.get("/asset-groups/assets",{params:e}),bulkAddAssetsToGroup:(e,n)=>N.post(`/asset-groups/${e}/bulk-add`,n)},Ux={getAll:()=>N.get("/exclusions"),getGlobal:()=>N.get("/exclusions/global"),get:e=>N.get(`/exclusions/${e}`),create:e=>N.post("/exclusions",e),update:(e,n)=>N.put(`/exclusions/${e}`,n),delete:e=>N.delete(`/exclusions/${e}`),validate:e=>N.post("/exclusions/validate",e),bulkImport:e=>N.post("/exclusions/bulk-import",e)},Or={list:e=>N.get("/secrets",{params:e}),getByScan:e=>N.get(`/scans/${e}/secrets`),getStats:e=>N.get("/secrets/stats",{params:e?{scan_id:e}:void 0}),get:e=>N.get(`/secrets/${e}`),update:(e,n)=>N.patch(`/secrets/${e}`,n),bulkUpdateStatus:(e,n)=>N.post("/secrets/bulk-status",{ids:e,status:n})},YP={list:()=>N.get("/webhooks"),get:e=>N.get(`/webhooks/${e}`),create:e=>N.post("/webhooks",e),update:(e,n)=>N.put(`/webhooks/${e}`,n),delete:e=>N.delete(`/webhooks/${e}`),getEventTypes:()=>N.get("/webhooks/event-types"),generateSecret:()=>N.post("/webhooks/generate-secret"),test:e=>N.post(`/webhooks/${e}/test`),getDeliveries:(e,n)=>N.get(`/webhooks/${e}/deliveries`,{params:{limit:n}}),getStats:e=>N.get(`/webhooks/${e}/stats`)},Ti={prioritize:(e,n)=>N.post(`/ai/prioritize/${e}`,n||{}),getScores:e=>N.get(`/ai/scores/${e}`),getVulnerabilityScore:e=>N.get(`/ai/scores/vulnerability/${e}`),getConfig:()=>N.get("/ai/config"),updateConfig:e=>N.put("/ai/config",e),submitFeedback:e=>N.post("/ai/feedback",e)},pc={register:e=>N.post("/agents/register",e),list:()=>N.get("/agents"),get:e=>N.get(`/agents/${e}`),update:(e,n)=>N.put(`/agents/${e}`,n),delete:e=>N.delete(`/agents/${e}`),getStats:()=>N.get("/agents/stats"),regenerateToken:e=>N.post(`/agents/${e}/regenerate-token`),getHeartbeats:(e,n)=>N.get(`/agents/${e}/heartbeats`,{params:{limit:n}}),groups:{list:()=>N.get("/agents/groups"),get:e=>N.get(`/agents/groups/${e}`),create:e=>N.post("/agents/groups",e),update:(e,n)=>N.put(`/agents/groups/${e}`,n),delete:e=>N.delete(`/agents/groups/${e}`),assignAgents:(e,n)=>N.put(`/agents/groups/${e}/agents`,n),removeAgent:(e,n)=>N.delete(`/agents/groups/${e}/agents/${n}`)},tasks:{list:e=>N.get("/agents/tasks",{params:e}),getForAgent:e=>N.get(`/agents/${e}/tasks`)},mesh:{getPeers:()=>N.get("/agents/mesh/peers"),getClusters:()=>N.get("/agents/mesh/clusters"),createCluster:e=>N.post("/agents/mesh/clusters",e),getCluster:e=>N.get(`/agents/mesh/clusters/${e}`),updateCluster:(e,n)=>N.put(`/agents/mesh/clusters/${e}`,n),deleteCluster:e=>N.delete(`/agents/mesh/clusters/${e}`),addAgentToCluster:(e,n)=>N.post(`/agents/mesh/clusters/${e}/agents/${n}`),removeAgentFromCluster:(e,n)=>N.delete(`/agents/mesh/clusters/${e}/agents/${n}`),getAgentConfig:e=>N.get(`/agents/${e}/mesh`),updateAgentConfig:(e,n)=>N.put(`/agents/${e}/mesh`,n)}},mc={getProvidersForLogin:()=>N.get("/sso/providers"),initiateLogin:e=>N.get(`/sso/login/${e}`),admin:{listProviders:()=>N.get("/sso/admin/providers"),getProvider:e=>N.get(`/sso/admin/providers/${e}`),createProvider:e=>N.post("/sso/admin/providers",e),updateProvider:(e,n)=>N.put(`/sso/admin/providers/${e}`,n),deleteProvider:e=>N.delete(`/sso/admin/providers/${e}`),getPresets:()=>N.get("/sso/admin/presets"),getMetadata:e=>N.get(`/sso/admin/providers/${e}/metadata`),downloadMetadataXml:e=>N.get(`/sso/admin/providers/${e}/metadata.xml`,{responseType:"blob"}),updateMappings:(e,n)=>N.put(`/sso/admin/providers/${e}/mappings`,n),testProvider:e=>N.post(`/sso/admin/providers/${e}/test`),parseMetadata:e=>N.post("/sso/admin/parse-metadata",{metadata_xml:e})},logout:e=>N.post("/sso/logout",{logout_from_idp:e})},XP={tokens:{list:()=>N.get("/cicd/tokens"),create:e=>N.post("/cicd/tokens",e),delete:e=>N.delete(`/cicd/tokens/${e}`)},qualityGates:{list:()=>N.get("/cicd/quality-gates"),getDefault:()=>N.get("/cicd/quality-gates/default"),get:e=>N.get(`/cicd/quality-gates/${e}`),create:e=>N.post("/cicd/quality-gates",e),update:(e,n)=>N.put(`/cicd/quality-gates/${e}`,n),delete:e=>N.delete(`/cicd/quality-gates/${e}`)},runs:{list:e=>N.get("/cicd/runs",{params:{limit:e}}),get:e=>N.get(`/cicd/runs/${e}`),trigger:e=>N.post("/cicd/scan",e),getStatus:e=>N.get(`/cicd/runs/${e}/status`),getQualityGateResult:e=>N.get(`/cicd/runs/${e}/quality-gate`)},reports:{getSarif:e=>N.get(`/cicd/scans/${e}/sarif`,{responseType:"blob"}),getJunit:e=>N.get(`/cicd/scans/${e}/junit`,{responseType:"blob"}),getGitLabSecurity:e=>N.get(`/cicd/scans/${e}/gitlab-security`,{responseType:"blob"}),getGitLabQuality:e=>N.get(`/cicd/scans/${e}/gitlab-quality`,{responseType:"blob"})},examples:{get:e=>N.get(`/cicd/examples/${e}`),list:()=>N.get("/cicd/examples")}},KP={listScans:e=>N.get("/container/scans",{params:e}),getScan:e=>N.get(`/container/scans/${e}`),createScan:e=>N.post("/container/scans",e),deleteScan:e=>N.delete(`/container/scans/${e}`),getFindings:(e,n)=>N.get(`/container/scans/${e}/findings`,{params:n}),getImages:e=>N.get(`/container/scans/${e}/images`),getResources:e=>N.get(`/container/scans/${e}/resources`),updateFindingStatus:(e,n)=>N.patch(`/container/findings/${e}/status`,n),analyzeDockerfile:e=>N.post("/container/analyze-dockerfile",e),analyzeManifest:e=>N.post("/container/analyze-manifest",e),getScanTypes:()=>N.get("/container/scan-types")},JP={templates:{list:()=>N.get("/workflows/templates"),get:e=>N.get(`/workflows/templates/${e}`),create:e=>N.post("/workflows/templates",e),update:(e,n)=>N.put(`/workflows/templates/${e}`,n),delete:e=>N.delete(`/workflows/templates/${e}`)},instances:{list:e=>{const n=new URLSearchParams;e!=null&&e.status&&n.append("status",e.status),e!=null&&e.vulnerability_id&&n.append("vulnerability_id",e.vulnerability_id);const r=n.toString();return N.get(`/workflows/instances${r?`?${r}`:""}`)},get:e=>N.get(`/workflows/instances/${e}`),start:(e,n)=>N.post(`/vulnerabilities/${e}/workflow`,n),update:(e,n)=>N.put(`/workflows/instances/${e}`,n),cancel:(e,n)=>N.post(`/workflows/instances/${e}/cancel`,{comment:n}),hold:(e,n)=>N.post(`/workflows/instances/${e}/hold`,{notes:n}),resume:e=>N.post(`/workflows/instances/${e}/resume`)},stages:{approve:(e,n)=>N.post(`/workflows/instances/${e}/approve`,n||{}),advance:(e,n)=>N.post(`/workflows/instances/${e}/advance`,{comment:n}),reject:(e,n)=>N.post(`/workflows/instances/${e}/reject`,n)},getPendingApprovals:()=>N.get("/workflows/pending-approvals"),getStats:()=>N.get("/workflows/stats"),getForVulnerability:e=>N.get(`/vulnerabilities/${e}/workflow`)},QP={createScan:e=>N.post("/iac/scan",e,{headers:{"Content-Type":"multipart/form-data"}}),listScans:e=>N.get("/iac/scans",{params:e}),getScan:e=>N.get(`/iac/scans/${e}`),deleteScan:e=>N.delete(`/iac/scans/${e}`),getFindings:e=>N.get(`/iac/scans/${e}/findings`),getFiles:e=>N.get(`/iac/scans/${e}/files`),getFile:e=>N.get(`/iac/files/${e}`),getFileFindings:e=>N.get(`/iac/files/${e}/findings`),updateFindingStatus:(e,n)=>N.patch(`/iac/findings/${e}/status`,n),analyzeFile:e=>N.post("/iac/analyze",e),listRules:()=>N.get("/iac/rules"),createRule:e=>N.post("/iac/rules",e),updateRule:(e,n)=>N.put(`/iac/rules/${e}`,n),deleteRule:e=>N.delete(`/iac/rules/${e}`),getPlatforms:()=>N.get("/iac/platforms")},ZP={listTechniques:()=>N.get("/bas/techniques"),listTactics:()=>N.get("/bas/tactics"),listScenarios:()=>N.get("/bas/scenarios"),createScenario:e=>N.post("/bas/scenarios",e),getScenario:e=>N.get(`/bas/scenarios/${e}`),deleteScenario:e=>N.delete(`/bas/scenarios/${e}`),listSimulations:()=>N.get("/bas/simulations"),startSimulation:e=>N.post("/bas/simulations",e),getSimulation:e=>N.get(`/bas/simulations/${e}`),getUnacknowledgedGaps:()=>N.get("/bas/gaps/unacknowledged"),acknowledgeGap:(e,n)=>N.post(`/bas/gaps/${e}/acknowledge`,n),getStats:()=>N.get("/bas/stats")},e3={listLogSources:e=>N.get("/siem/sources",{params:e}),createLogSource:e=>N.post("/siem/sources",e),getLogSource:e=>N.get(`/siem/sources/${e}`),updateLogSource:(e,n)=>N.put(`/siem/sources/${e}`,n),deleteLogSource:e=>N.delete(`/siem/sources/${e}`),queryLogs:e=>N.get("/siem/logs",{params:e}),getLogEntry:e=>N.get(`/siem/logs/${e}`),listRules:e=>N.get("/siem/rules",{params:e}),createRule:e=>N.post("/siem/rules",e),updateRule:(e,n)=>N.put(`/siem/rules/${e}`,n),deleteRule:e=>N.delete(`/siem/rules/${e}`),listAlerts:e=>N.get("/siem/alerts",{params:e}),updateAlertStatus:(e,n)=>N.put(`/siem/alerts/${e}/status`,n),resolveAlert:(e,n)=>N.post(`/siem/alerts/${e}/resolve`,n),getStats:()=>N.get("/siem/stats")},t3={getStatus:()=>N.get("/exploitation/status"),listCampaigns:()=>N.get("/exploitation/campaigns"),createCampaign:e=>N.post("/exploitation/campaigns",e),getCampaign:e=>N.get(`/exploitation/campaigns/${e}`),startCampaign:(e,n)=>N.post(`/exploitation/campaigns/${e}/start`,{authorized:n}),stopCampaign:e=>N.post(`/exploitation/campaigns/${e}/stop`),deleteCampaign:e=>N.delete(`/exploitation/campaigns/${e}`),getCampaignResults:e=>N.get(`/exploitation/campaigns/${e}/results`),exportResults:(e,n)=>N.post(`/exploitation/campaigns/${e}/export`,{format:n}),generateShell:e=>N.post("/exploitation/shells/generate",e),listShellTemplates:()=>N.get("/exploitation/shells/templates"),listPayloads:()=>N.get("/exploitation/shells"),listModules:()=>N.get("/exploitation/modules"),getRelevantModules:e=>N.post("/exploitation/modules/relevant",{asset_ids:e}),getRelevantAttacks:e=>N.post("/exploitation/attacks/relevant",{asset_ids:e})},n3={startScan:e=>N.post("/privesc",e),listScans:(e,n)=>N.get("/privesc/scans",{params:{limit:e,offset:n}}),getScan:e=>N.get(`/privesc/scans/${e}`),getFindings:e=>N.get(`/privesc/scans/${e}/findings`),cancelScan:e=>N.post(`/privesc/scans/${e}/cancel`),deleteScan:e=>N.delete(`/privesc/scans/${e}`),getGtfobins:e=>N.get(`/privesc/gtfobins/${encodeURIComponent(e)}`),getLolbas:e=>N.get(`/privesc/lolbas/${encodeURIComponent(e)}`)},r3={uploadData:e=>{const n=new FormData;return n.append("file",e),N.post("/bloodhound/upload",n,{headers:{"Content-Type":"multipart/form-data"}})},listImports:(e,n)=>N.get("/bloodhound/imports",{params:{limit:e,offset:n}}),getImport:e=>N.get(`/bloodhound/imports/${e}`),deleteImport:e=>N.delete(`/bloodhound/imports/${e}`),getAttackPaths:e=>N.get(`/bloodhound/imports/${e}/paths`),getKerberoastable:e=>N.get(`/bloodhound/imports/${e}/kerberoastable`),getAsrepRoastable:e=>N.get(`/bloodhound/imports/${e}/asrep-roastable`)},s3={createJob:e=>N.post("/cracking/jobs",e),listJobs:(e,n)=>N.get("/cracking/jobs",{params:{limit:e,offset:n}}),getJob:e=>N.get(`/cracking/jobs/${e}`),deleteJob:e=>N.delete(`/cracking/jobs/${e}`),startJob:e=>N.post(`/cracking/jobs/${e}/start`),stopJob:e=>N.post(`/cracking/jobs/${e}/stop`),getJobResults:e=>N.get(`/cracking/jobs/${e}/results`),listWordlists:()=>N.get("/cracking/wordlists"),deleteWordlist:e=>N.delete(`/cracking/wordlists/${e}`),listRules:e=>N.get("/cracking/rules",{params:{cracker_type:e}}),deleteRule:e=>N.delete(`/cracking/rules/${e}`),detectHashType:e=>N.post("/cracking/detect-hash",e),listHashTypes:()=>N.get("/cracking/hash-types"),getStats:()=>N.get("/cracking/stats")},i3={getDashboard:()=>N.get("/asm/dashboard"),createMonitor:e=>N.post("/asm/monitors",e),listMonitors:()=>N.get("/asm/monitors"),getMonitor:e=>N.get(`/asm/monitors/${e}`),updateMonitor:(e,n)=>N.put(`/asm/monitors/${e}`,n),deleteMonitor:e=>N.delete(`/asm/monitors/${e}`),runMonitor:e=>N.post(`/asm/monitors/${e}/run`),enableMonitor:e=>N.post(`/asm/monitors/${e}/enable`),disableMonitor:e=>N.post(`/asm/monitors/${e}/disable`),getMonitorBaselines:e=>N.get(`/asm/monitors/${e}/baselines`),createBaseline:e=>N.post(`/asm/monitors/${e}/baselines`),activateBaseline:(e,n)=>N.post(`/asm/monitors/${e}/baselines/${n}/activate`),listChanges:e=>N.get("/asm/changes",{params:e}),getMonitorChanges:(e,n)=>N.get(`/asm/monitors/${e}/changes`,{params:n}),acknowledgeChange:(e,n)=>N.post(`/asm/changes/${e}/acknowledge`,n),listRiskScores:e=>N.get("/asm/risk-scores",{params:{limit:e}}),getAssetRiskScore:e=>N.get(`/asm/risk-scores/${encodeURIComponent(e)}`),listAuthorizedAssets:()=>N.get("/asm/authorized-assets"),createAuthorizedAsset:e=>N.post("/asm/authorized-assets",e),deleteAuthorizedAsset:e=>N.delete(`/asm/authorized-assets/${e}`),getTimeline:(e,n)=>N.get("/asm/timeline",{params:{monitor_id:e,days:n}})},a3={getDashboard:()=>N.get("/purple-team/dashboard"),createExercise:e=>N.post("/purple-team/exercises",e),listExercises:()=>N.get("/purple-team/exercises"),getExercise:e=>N.get(`/purple-team/exercises/${e}`),updateExercise:(e,n)=>N.put(`/purple-team/exercises/${e}`,n),deleteExercise:e=>N.delete(`/purple-team/exercises/${e}`),startExercise:e=>N.post(`/purple-team/exercises/${e}/start`),stopExercise:e=>N.post(`/purple-team/exercises/${e}/stop`),getExerciseResults:e=>N.get(`/purple-team/exercises/${e}/results`),recheckDetection:e=>N.post(`/purple-team/results/${e}/recheck`),getExerciseCoverage:e=>N.get(`/purple-team/exercises/${e}/coverage`),getCoverageMatrix:()=>N.get("/purple-team/coverage/matrix"),listGaps:e=>N.get("/purple-team/gaps",{params:{status:e}}),getExerciseGaps:e=>N.get(`/purple-team/exercises/${e}/gaps`),updateGapStatus:(e,n)=>N.put(`/purple-team/gaps/${e}/status`,n),getGapRecommendations:e=>N.get(`/purple-team/gaps/${e}/recommendations`),getMitreTechniques:()=>N.get("/purple-team/mitre/techniques"),getMitreTactics:()=>N.get("/purple-team/mitre/tactics"),getAttackTypeMappings:()=>N.get("/purple-team/mitre/attacks"),generateExerciseReport:e=>N.get(`/purple-team/exercises/${e}/report`)},qx={list:()=>N.get("/organizations"),get:e=>N.get(`/organizations/${e}`),create:e=>N.post("/organizations",e),update:(e,n)=>N.put(`/organizations/${e}`,n),delete:e=>N.delete(`/organizations/${e}`),listMembers:e=>N.get(`/organizations/${e}/members`),addMember:(e,n)=>N.post(`/organizations/${e}/members`,n),removeMember:(e,n)=>N.delete(`/organizations/${e}/members/${n}`),listDepartments:e=>N.get(`/organizations/${e}/departments`),getDepartment:e=>N.get(`/departments/${e}`),createDepartment:(e,n)=>N.post(`/organizations/${e}/departments`,n),updateDepartment:(e,n)=>N.put(`/departments/${e}`,n),deleteDepartment:e=>N.delete(`/departments/${e}`),listTeams:e=>N.get(`/organizations/${e}/teams`),listTeamsInDepartment:e=>N.get(`/departments/${e}/teams`),getTeam:e=>N.get(`/teams/${e}`),createTeam:(e,n)=>N.post(`/departments/${e}/teams`,n),updateTeam:(e,n)=>N.put(`/teams/${e}`,n),deleteTeam:e=>N.delete(`/teams/${e}`),listTeamMembers:e=>N.get(`/teams/${e}/members`),addTeamMember:(e,n)=>N.post(`/teams/${e}/members`,n),removeTeamMember:(e,n)=>N.delete(`/teams/${e}/members/${n}`)},o3={listRoleTemplates:()=>N.get("/role-templates"),getRoleTemplate:e=>N.get(`/role-templates/${e}`),getRoleTemplatePermissions:e=>N.get(`/role-templates/${e}/permissions`),listCustomRoles:e=>N.get(`/organizations/${e}/roles`),getCustomRole:(e,n)=>N.get(`/organizations/${e}/roles/${n}`),createCustomRole:(e,n)=>N.post(`/organizations/${e}/roles`,n),updateCustomRole:(e,n,r)=>N.put(`/organizations/${e}/roles/${n}`,r),deleteCustomRole:(e,n)=>N.delete(`/organizations/${e}/roles/${n}`),cloneCustomRole:(e,n,r)=>N.post(`/organizations/${e}/roles/${n}/clone`,{name:r}),listUserRoles:e=>N.get(`/users/${e}/roles`),assignRole:(e,n)=>N.post(`/users/${e}/roles`,n),removeRoleAssignment:(e,n)=>N.delete(`/users/${e}/roles/${n}`)},Zo=()=>{const{user:e,token:n,isAuthenticated:r,isLoading:s,login:a,logout:o,setLoading:l,setUser:c}=Xn();A.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&!e){l(!0);try{const p=await Oi.me();c(p.data)}catch(p){console.error("Failed to verify token:",p),o()}finally{l(!1)}}})()},[]);const d=A.useCallback(async(h,f)=>{var p,m;l(!0);try{const w=await Oi.login({username:h,password:f}),{token:_,user:v}=w.data;return a(v,_),ee.success("Login successful!"),!0}catch(w){const v=((m=(p=w.response)==null?void 0:p.data)==null?void 0:m.error)||"Login failed. Please check your credentials.";return ee.error(v),!1}finally{l(!1)}},[a,l]),u=A.useCallback(()=>{o(),ee.info("Logged out successfully")},[o]);return{user:e,token:n,isAuthenticated:r,isLoading:s,login:d,logout:u}},He=({variant:e="primary",size:n="md",loading:r=!1,loadingText:s,disabled:a,className:o="",children:l,"aria-label":c,...d})=>{const u="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-primary text-white hover:bg-primary-dark active:bg-blue-700",secondary:"bg-light-surface dark:bg-dark-surface text-slate-700 dark:text-slate-100 hover:bg-light-hover dark:hover:bg-dark-hover border border-light-border dark:border-dark-border",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",ghost:"text-slate-600 dark:text-slate-300 hover:bg-light-hover dark:hover:bg-dark-surface hover:text-slate-900 dark:hover:text-slate-100",outline:"bg-transparent text-slate-600 dark:text-slate-300 border border-light-border dark:border-dark-border hover:bg-light-hover dark:hover:bg-dark-surface hover:text-slate-900 dark:hover:text-slate-100"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return i.jsxs("button",{className:`${u} ${h[e]} ${f[n]} ${o}`,disabled:a||r,"aria-busy":r,"aria-disabled":a||r,"aria-label":r&&s?s:c,...d,children:[r&&i.jsx(Rs,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),i.jsx("span",{"aria-live":r?"polite":void 0,children:r&&s?s:l})]})},Wx=({content:e,children:n,position:r="top",delay:s=200,maxWidth:a=250})=>{const[o,l]=A.useState(!1),[c,d]=A.useState({x:0,y:0}),u=A.useRef(null),h=A.useRef(null),f=A.useRef(),p=()=>{f.current=setTimeout(()=>{l(!0)},s)},m=()=>{f.current&&clearTimeout(f.current),l(!1)};A.useEffect(()=>{if(o&&u.current&&h.current){const _=u.current.getBoundingClientRect(),v=h.current.getBoundingClientRect(),g=8;let x=0,b=0;switch(r){case"top":x=_.left+_.width/2-v.width/2,b=_.top-v.height-g;break;case"bottom":x=_.left+_.width/2-v.width/2,b=_.bottom+g;break;case"left":x=_.left-v.width-g,b=_.top+_.height/2-v.height/2;break;case"right":x=_.right+g,b=_.top+_.height/2-v.height/2;break}const y=10;x=Math.max(y,Math.min(x,window.innerWidth-v.width-y)),b=Math.max(y,Math.min(b,window.innerHeight-v.height-y)),d({x,y:b})}},[o,r]),A.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const w={top:"after:top-full after:left-1/2 after:-translate-x-1/2",bottom:"after:bottom-full after:left-1/2 after:-translate-x-1/2",left:"after:left-full after:top-1/2 after:-translate-y-1/2",right:"after:right-full after:top-1/2 after:-translate-y-1/2"};return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:u,onMouseEnter:p,onMouseLeave:m,onFocus:p,onBlur:m,className:"inline-flex",children:n}),o&&i.jsx("div",{ref:h,role:"tooltip",className:`
            fixed z-[200] px-3 py-2 text-sm
            text-slate-700 dark:text-slate-100
            bg-light-surface dark:bg-dark-surface
            border border-light-border dark:border-dark-border
            rounded-lg shadow-xl
            animate-fade-in pointer-events-none
            ${w[r]}
          `,style:{left:c.x,top:c.y,maxWidth:a},children:e})]})},tt=({label:e,error:n,icon:r,helpText:s,hint:a,className:o="",id:l,...c})=>{const d=A.useId(),u=l||d,h=`${u}-error`,f=`${u}-hint`,p=[n?h:null,a?f:null].filter(Boolean).join(" ")||void 0;return i.jsxs("div",{className:"w-full",children:[e&&i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:[e,c.required&&i.jsx("span",{className:"text-red-500 dark:text-red-400 ml-0.5","aria-hidden":"true",children:"*"})]}),s&&i.jsx(Wx,{content:s,position:"top",children:i.jsx("button",{type:"button",className:"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors","aria-label":`Help for ${e}`,children:i.jsx(Od,{className:"h-3.5 w-3.5"})})})]}),a&&i.jsx("p",{id:f,className:"text-xs text-slate-500 mb-1.5",children:a}),i.jsxs("div",{className:"relative",children:[r&&i.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500 dark:text-slate-400 pointer-events-none","aria-hidden":"true",children:r}),i.jsx("input",{id:u,className:`
            w-full px-3 py-2 rounded-lg transition-colors focus-ring
            bg-light-surface dark:bg-dark-surface
            text-slate-900 dark:text-slate-100
            placeholder-slate-400 dark:placeholder-slate-500
            ${r?"pl-10":""}
            ${n?"border border-red-500":"border border-light-border dark:border-dark-border hover:border-slate-400 dark:hover:border-dark-hover focus:border-primary"}
            ${o}
          `,"aria-invalid":n?"true":void 0,"aria-describedby":p,...c})]}),n&&i.jsx("p",{id:h,className:"mt-1 text-sm text-red-500",role:"alert",children:n})]})},Zs={okta:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M12 0C5.389 0 0 5.389 0 12s5.389 12 12 12 12-5.389 12-12S18.611 0 12 0zm0 18c-3.314 0-6-2.686-6-6s2.686-6 6-6 6 2.686 6 6-2.686 6-6 6z"})}),azure_ad:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M0 0h11.377v11.372H0V0zm12.623 0H24v11.372H12.623V0zM0 12.623h11.377V24H0V12.623zm12.623 0H24V24H12.623V12.623z"})}),google:i.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),onelogin:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("circle",{cx:"12",cy:"12",r:"10"})}),ping:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),auth0:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M21.98 7.448L19.62 0H4.347L2.02 7.448c-1.352 4.312.03 9.206 3.815 12.015L12.007 24l6.157-4.552c3.755-2.81 5.182-7.688 3.815-12.015l-6.16 4.58 2.343 7.45-6.157-4.597-6.158 4.58 2.358-7.433-6.188-4.55 7.63-.045L12.008 0l2.356 7.404 7.615.044z"})}),keycloak:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M12 0L3 4.5v15L12 24l9-4.5v-15L12 0zm0 3.75l6 3v10.5l-6 3-6-3V6.75l6-3z"})}),jumpcloud:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm0 5a5 5 0 110 10 5 5 0 010-10z"})})},Vx=e=>{if(e.icon){if(e.icon.startsWith("http")||e.icon.startsWith("/"))return i.jsx("img",{src:e.icon,alt:e.display_name,className:"w-5 h-5 object-contain"});if(Zs[e.icon])return Zs[e.icon]}const r={okta:"okta",azure_ad:"azure_ad",google:"google",onelogin:"onelogin",ping:"ping",auth0:"auth0",keycloak:"keycloak",jumpcloud:"jumpcloud"}[e.provider_type];return r&&Zs[r]?Zs[r]:i.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})},Gx=e=>{switch(e){case"okta":return"bg-[#007dc1] hover:bg-[#006ba1] text-white";case"azure_ad":return"bg-[#0078d4] hover:bg-[#006cbe] text-white";case"google":return"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"onelogin":return"bg-[#2c3e50] hover:bg-[#1a252f] text-white";case"ping":return"bg-[#00843d] hover:bg-[#006b31] text-white";case"auth0":return"bg-[#eb5424] hover:bg-[#d94c1f] text-white";case"keycloak":return"bg-[#4d4d4d] hover:bg-[#3d3d3d] text-white";case"jumpcloud":return"bg-[#1e90ff] hover:bg-[#1a7dd9] text-white";case"saml":return"bg-indigo-600 hover:bg-indigo-700 text-white";case"oidc":return"bg-purple-600 hover:bg-purple-700 text-white";default:return"bg-gray-600 hover:bg-gray-700 text-white"}},Yx=({provider:e,onClick:n,loading:r=!1,disabled:s=!1})=>{const a=()=>{!r&&!s&&n(e)};return i.jsxs("button",{type:"button",onClick:a,disabled:r||s,className:`
        w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg
        font-medium transition-all duration-200
        ${Gx(e.provider_type)}
        ${r||s?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary
        dark:focus:ring-offset-dark-bg
      `,children:[r?i.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):Vx(e),i.jsx("span",{children:r?"Redirecting...":`Continue with ${e.display_name}`})]})},Xx=()=>{const[e,n]=A.useState(""),[r,s]=A.useState(""),[a,o]=A.useState(!1),[l,c]=A.useState(""),[d,u]=A.useState(""),[h,f]=A.useState(!1),{isLoading:p}=Zo(),[m,w]=A.useState(!1),[_,v]=A.useState([]),[g,x]=A.useState(!1),[b,y]=A.useState(null),j=Zi(),[k]=Ad(),{login:S}=Xn();A.useEffect(()=>{(async()=>{try{const T=await mc.getProvidersForLogin();v(T.data)}catch(T){console.debug("SSO providers not available:",T)}})()},[]),A.useEffect(()=>{const z=k.get("token"),T=k.get("sso_error");if(T){ee.error(decodeURIComponent(T)),window.history.replaceState({},document.title,window.location.pathname);return}z&&C(z)},[k]);const C=async z=>{var T,D;try{x(!0),localStorage.setItem("token",z);const B=(await Oi.me()).data;S(B,z),ee.success("SSO login successful!"),window.history.replaceState({},document.title,window.location.pathname),j("/dashboard")}catch(M){localStorage.removeItem("token");const B=M;ee.error(((D=(T=B.response)==null?void 0:T.data)==null?void 0:D.error)||"SSO login failed. Please try again."),window.history.replaceState({},document.title,window.location.pathname)}finally{x(!1)}},P=async z=>{var T,D;try{y(z.id);const M=await mc.initiateLogin(z.id);window.location.href=M.data.redirect_url}catch(M){const B=M;ee.error(((D=(T=B.response)==null?void 0:T.data)==null?void 0:D.error)||`Failed to initiate ${z.display_name} login`),y(null)}},O=async z=>{var T,D;if(z.preventDefault(),!(!e||!r)){w(!0);try{const B=(await Oi.login({username:e,password:r})).data;B.mfa_required&&B.mfa_token?(o(!0),c(B.mfa_token),ee.info("Please enter your two-factor authentication code")):(S(B.user,B.token),ee.success("Login successful!"),j("/dashboard"))}catch(M){const X=((D=(T=M.response)==null?void 0:T.data)==null?void 0:D.error)||"Login failed. Please check your credentials.";ee.error(X)}finally{w(!1)}}},E=async z=>{var T,D;if(z.preventDefault(),!d||(h?d.length===0:d.length!==6)){ee.error(h?"Please enter a recovery code":"Please enter a valid 6-digit code");return}w(!0);try{const M=await Ix.verify({mfa_token:l,...h?{recovery_code:d}:{totp_code:d}}),{token:B,user:X}=M.data;S(X,B),ee.success("Login successful!"),j("/dashboard")}catch(M){const B=M;ee.error(((D=(T=B.response)==null?void 0:T.data)==null?void 0:D.error)||"Invalid authentication code")}finally{w(!1)}},R=()=>{o(!1),c(""),u(""),f(!1)};return a?i.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:i.jsx(Pe,{className:"h-6 w-6 text-primary"})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-1",children:"Two-Factor Authentication"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:h?"Enter one of your recovery codes":"Enter the 6-digit code from your authenticator app"})]}),i.jsxs("form",{onSubmit:E,className:"space-y-4",children:[i.jsx(tt,{type:"text",placeholder:h?"Recovery Code":"000000",value:d,onChange:z=>{u(h?z.target.value:z.target.value.replace(/\D/g,"").slice(0,6))},icon:h?i.jsx(vn,{className:"h-5 w-5"}):i.jsx(Pe,{className:"h-5 w-5"}),className:h?"":"text-center tracking-widest font-mono",maxLength:h?void 0:6,required:!0,autoFocus:!0,autoComplete:"one-time-code"}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("button",{type:"button",onClick:()=>{f(!h),u("")},className:"text-sm text-primary hover:text-primary-dark transition-colors",children:h?"Use authenticator code instead":"Use recovery code instead"})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(He,{type:"button",variant:"secondary",size:"lg",onClick:R,className:"flex-1",children:"Back"}),i.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:m,disabled:m,className:"flex-1",children:"Verify"})]})]})]}):g?i.jsxs("div",{className:"space-y-4 w-full max-w-md text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:i.jsxs("svg",{className:"animate-spin h-6 w-6 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),i.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Completing SSO Login"}),i.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Please wait while we verify your credentials..."})]}):i.jsxs("div",{className:"space-y-6 w-full max-w-md",children:[_.length>0&&i.jsx("div",{className:"space-y-3",children:_.map(z=>i.jsx(Yx,{provider:z,onClick:P,loading:b===z.id,disabled:b!==null&&b!==z.id},z.id))}),_.length>0&&i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-3 bg-light-surface dark:bg-dark-surface text-slate-500 dark:text-slate-400",children:"or sign in with credentials"})})]}),i.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i.jsx(tt,{type:"text",placeholder:"Username",value:e,onChange:z=>n(z.target.value),icon:i.jsx(Ho,{className:"h-5 w-5"}),required:!0,autoComplete:"username"}),i.jsx(tt,{type:"password",placeholder:"Password",value:r,onChange:z=>s(z.target.value),icon:i.jsx(wn,{className:"h-5 w-5"}),required:!0,autoComplete:"current-password"}),i.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:m||p,disabled:m||p||b!==null,className:"w-full",children:"Sign In"})]})]})},Kx=()=>{const{isAuthenticated:e}=Zo(),n=Zi();return A.useEffect(()=>{e&&n("/dashboard")},[e,n]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-slate-50 to-white dark:from-dark-bg dark:via-slate-900 dark:to-slate-800 p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsxs("div",{className:"text-center mb-8 animate-fadeIn",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-lg mb-4",children:i.jsx(Pe,{className:"h-10 w-10 text-white"})}),i.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"HeroForge"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Network Triage & Reconnaissance"})]}),i.jsxs("div",{className:"bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-2xl p-8 animate-fadeIn",children:[i.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-white mb-6 text-center",children:"Sign In"}),i.jsx(Xx,{})]}),i.jsx("div",{className:"text-center mt-6 text-slate-500 text-sm",children:i.jsx("p",{children:"Authorized personnel only"})})]})})},Ea=[{value:"light",label:"Light",icon:i.jsx(Td,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:i.jsx(Dd,{className:"h-4 w-4"})},{value:"system",label:"System",icon:i.jsx($d,{className:"h-4 w-4"})}],Jx=({className:e=""})=>{const{theme:n,setTheme:r,resolvedTheme:s}=vh(),[a,o]=A.useState(!1),l=A.useRef(null),c=Ea.find(h=>h.value===n)||Ea[2];A.useEffect(()=>{const h=f=>{l.current&&!l.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),A.useEffect(()=>{const h=f=>{f.key==="Escape"&&o(!1)};if(a)return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[a]);const d=h=>{r(h),o(!1)},u=()=>n==="system"?s==="dark"?i.jsx(Dd,{className:"h-4 w-4"}):i.jsx(Td,{className:"h-4 w-4"}):c.icon;return i.jsxs("div",{className:`relative ${e}`,ref:l,children:[i.jsxs("button",{type:"button",onClick:()=>o(!a),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors
          text-slate-400 hover:text-slate-100 dark:text-slate-400 dark:hover:text-slate-100
          hover:bg-slate-700 dark:hover:bg-dark-hover
          bg-transparent`,"aria-haspopup":"listbox","aria-expanded":a,"aria-label":"Select theme",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[u(),i.jsx("span",{className:"hidden sm:inline",children:c.label})]}),i.jsx(Nt,{className:`h-3 w-3 transition-transform ${a?"rotate-180":""}`})]}),a&&i.jsx("div",{className:`absolute right-0 mt-2 w-36 rounded-lg shadow-lg z-50
            bg-white dark:bg-dark-surface
            border border-slate-200 dark:border-dark-border
            animate-fade-in`,role:"listbox","aria-label":"Theme options",children:i.jsx("div",{className:"py-1",children:Ea.map(h=>i.jsxs("button",{type:"button",role:"option","aria-selected":n===h.value,onClick:()=>d(h.value),className:`w-full flex items-center gap-3 px-4 py-2 text-sm transition-colors
                  ${n===h.value?"bg-primary/10 text-primary dark:text-primary-light":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-dark-hover"}`,children:[h.icon,i.jsx("span",{children:h.label}),n===h.value&&i.jsx("span",{className:"ml-auto text-primary dark:text-primary-light",children:i.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},h.value))})})]})},Qx=Ki()(Yo((e,n)=>({currentOrg:null,currentOrgId:null,organizations:[],isLoading:!1,setCurrentOrg:r=>{e({currentOrg:r,currentOrgId:(r==null?void 0:r.id)??null})},setCurrentOrgId:r=>{const a=n().organizations.find(o=>o.id===r)??null;e({currentOrgId:r,currentOrg:a})},setOrganizations:r=>{e({organizations:r});const s=n().currentOrg;!s&&r.length>0&&e({currentOrg:r[0],currentOrgId:r[0].id}),s&&!r.find(a=>a.id===s.id)&&(r.length>0?e({currentOrg:r[0],currentOrgId:r[0].id}):e({currentOrg:null,currentOrgId:null}))},setLoading:r=>e({isLoading:r}),clearOrgState:()=>{e({currentOrg:null,currentOrgId:null,organizations:[],isLoading:!1})},isOrgOwner:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)==="owner"},isOrgAdmin:()=>{var s;const r=(s=n().currentOrg)==null?void 0:s.role;return r==="owner"||r==="admin"},isOrgMember:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)==="member"},getCurrentOrgRole:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)??null},getOrgById:r=>n().organizations.find(s=>s.id===r),hasMultipleOrgs:()=>n().organizations.length>1}),{name:"org-storage",partialize:e=>({currentOrgId:e.currentOrgId})})),Zx=()=>{const[e,n]=A.useState(!1),r=A.useRef(null),s=Zi(),{currentOrg:a,organizations:o,setCurrentOrg:l,setOrganizations:c}=Qx(),{isLoading:d}=Pd({queryKey:["organizations"],queryFn:async()=>{const m=await qx.list();return c(m.data),m.data},staleTime:300*1e3});A.useEffect(()=>{const m=w=>{r.current&&!r.current.contains(w.target)&&n(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const u=m=>{l(m),n(!1)},h=()=>{n(!1),s("/organization/new")},f=()=>{n(!1),a&&s(`/organization/${a.id}`)},p=m=>{switch(m){case"owner":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"admin":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return!d&&o.length===0?i.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[i.jsx(Tn,{className:"h-4 w-4"}),"Create Organization"]}):i.jsxs("div",{className:"relative",ref:r,children:[i.jsxs("button",{onClick:()=>n(!e),disabled:d,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors border border-light-border dark:border-dark-border",children:[i.jsx(Pi,{className:"h-4 w-4"}),i.jsx("span",{className:"max-w-[120px] truncate",children:d?"Loading...":(a==null?void 0:a.name)||"Select Organization"}),i.jsx(Nt,{className:`h-3 w-3 transition-transform ${e?"rotate-180":""}`})]}),e&&i.jsxs("div",{className:"absolute left-0 mt-1 w-64 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-lg z-50 overflow-hidden",children:[i.jsx("div",{className:"max-h-64 overflow-y-auto py-1",children:o.map(m=>i.jsxs("button",{onClick:()=>u(m),className:`w-full flex items-center justify-between px-3 py-2 text-sm transition-colors ${(a==null?void 0:a.id)===m.id?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx(Pi,{className:"h-4 w-4 flex-shrink-0"}),i.jsx("span",{className:"truncate",children:m.name})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[i.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border ${p(m.role)}`,children:m.role}),(a==null?void 0:a.id)===m.id&&i.jsx(fr,{className:"h-4 w-4 text-primary"})]})]},m.id))}),i.jsx("div",{className:"border-t border-light-border dark:border-dark-border"}),i.jsxs("div",{className:"py-1",children:[a&&i.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[i.jsx(pr,{className:"h-4 w-4"}),"Manage Organization"]}),i.jsxs("button",{onClick:h,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[i.jsx(Tn,{className:"h-4 w-4"}),"Create Organization"]})]})]})]})},Zn=({label:e,icon:n,items:r,isActive:s})=>{const[a,o]=A.useState(!1),l=A.useRef(null),c=Lo();A.useEffect(()=>{const u=h=>{l.current&&!l.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const d=u=>u.matchPaths?u.matchPaths.some(h=>c.pathname.startsWith(h)):c.pathname===u.to||c.pathname.startsWith(u.to);return i.jsxs("div",{className:"relative",ref:l,children:[i.jsxs("button",{onClick:()=>o(!a),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-colors ${s?"bg-primary/10 text-primary font-medium":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[n,e,i.jsx(Nt,{className:`h-3 w-3 transition-transform ${a?"rotate-180":""}`})]}),a&&i.jsx("div",{className:"absolute left-0 mt-1 w-48 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-lg py-1 z-50",children:r.map(u=>i.jsxs(Rd,{to:u.to,onClick:()=>o(!1),className:`flex items-center gap-2 px-3 py-2 text-sm transition-colors ${d(u)?"bg-primary/10 text-primary font-medium":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[u.icon,u.label]},u.to))})]})},e0=()=>{const{user:e,logout:n}=Zo(),r=Xn(v=>v.isAdmin),s=Lo(),a=[{to:"/dashboard",icon:i.jsx(Md,{className:"h-4 w-4"}),label:"Scans"},{to:"/discovery",icon:i.jsx(Dn,{className:"h-4 w-4"}),label:"Asset Discovery"},{to:"/nuclei",icon:i.jsx(us,{className:"h-4 w-4"}),label:"Nuclei"},{to:"/compare",icon:i.jsx(tm,{className:"h-4 w-4"}),label:"Compare"},{to:"/assets",icon:i.jsx(qt,{className:"h-4 w-4"}),label:"Assets"},{to:"/agents",icon:i.jsx(to,{className:"h-4 w-4"}),label:"Agents"},{to:"/agents/mesh",icon:i.jsx(nm,{className:"h-4 w-4"}),label:"Mesh Network"},{to:"/webapp-scan",icon:i.jsx(mr,{className:"h-4 w-4"}),label:"Web Scan"},{to:"/dns-tools",icon:i.jsx(lr,{className:"h-4 w-4"}),label:"DNS Tools"},{to:"/api-security",icon:i.jsx(rm,{className:"h-4 w-4"}),label:"API Security"}],o=[{to:"/siem",icon:i.jsx(Ft,{className:"h-4 w-4"}),label:"SIEM"},{to:"/attack-surface",icon:i.jsx(Pe,{className:"h-4 w-4"}),label:"Attack Surface"},{to:"/privesc",icon:i.jsx(_r,{className:"h-4 w-4"}),label:"Privesc Scanner"},{to:"/bloodhound",icon:i.jsx(zl,{className:"h-4 w-4"}),label:"BloodHound"},{to:"/phishing",icon:i.jsx(Vn,{className:"h-4 w-4"}),label:"Phishing"},{to:"/c2",icon:i.jsx(to,{className:"h-4 w-4"}),label:"C2 Management"},{to:"/wireless",icon:i.jsx(Os,{className:"h-4 w-4"}),label:"Wireless Security"},{to:"/attack-paths",icon:i.jsx(lr,{className:"h-4 w-4"}),label:"Attack Paths"},{to:"/attack-simulation",icon:i.jsx(sm,{className:"h-4 w-4"}),label:"Attack Simulation"},{to:"/purple-team",icon:i.jsx(Pe,{className:"h-4 w-4"}),label:"Purple Team"},{to:"/container-security",icon:i.jsx(im,{className:"h-4 w-4"}),label:"Containers"},{to:"/iac-security",icon:i.jsx(am,{className:"h-4 w-4"}),label:"IaC Security"}],l=[{to:"/exploitation",icon:i.jsx(Vn,{className:"h-4 w-4"}),label:"Dashboard"},{to:"/exploitation/password-spray",icon:i.jsx(vn,{className:"h-4 w-4"}),label:"Password Spray"},{to:"/exploitation/kerberos",icon:i.jsx(Pe,{className:"h-4 w-4"}),label:"Kerberoasting"},{to:"/exploitation/asrep-roast",icon:i.jsx(zd,{className:"h-4 w-4"}),label:"AS-REP Roast"},{to:"/exploitation/smb-relay",icon:i.jsx(lr,{className:"h-4 w-4"}),label:"SMB Relay"},{to:"/exploitation/shells",icon:i.jsx(Id,{className:"h-4 w-4"}),label:"Shell Generator"},{to:"/exploitation/credential-dump",icon:i.jsx(Ld,{className:"h-4 w-4"}),label:"Credential Dump"},{to:"/cracking",icon:i.jsx(vn,{className:"h-4 w-4"}),label:"Password Cracking"},{to:"/exploitation/priv-esc",icon:i.jsx(om,{className:"h-4 w-4"}),label:"Privilege Escalation"},{to:"/exploitation/persistence",icon:i.jsx(wn,{className:"h-4 w-4"}),label:"Persistence"},{to:"/exploitation/lateral-movement",icon:i.jsx(lm,{className:"h-4 w-4"}),label:"Lateral Movement"}],c=[{to:"/compliance",icon:i.jsx(Ml,{className:"h-4 w-4"}),label:"Compliance"},{to:"/evidence",icon:i.jsx(ct,{className:"h-4 w-4"}),label:"Evidence"},{to:"/manual-assessments",icon:i.jsx(Bo,{className:"h-4 w-4"}),label:"Assessments"},{to:"/methodology",icon:i.jsx(cm,{className:"h-4 w-4"}),label:"Methodology"},{to:"/finding-templates",icon:i.jsx(ct,{className:"h-4 w-4"}),label:"Finding Templates"}],d=[{to:"/executive-dashboard",icon:i.jsx(gr,{className:"h-4 w-4"}),label:"Executive Dashboard"},{to:"/reports",icon:i.jsx(ct,{className:"h-4 w-4"}),label:"Reports"},{to:"/workflows",icon:i.jsx(zl,{className:"h-4 w-4"}),label:"Workflows"},{to:"/remediation",icon:i.jsx(Fd,{className:"h-4 w-4"}),label:"Remediation"}],u=[{to:"/settings",icon:i.jsx(pr,{className:"h-4 w-4"}),label:"Settings"},{to:"/plugins",icon:i.jsx(Qp,{className:"h-4 w-4"}),label:"Plugins"},...r()?[{to:"/admin",icon:i.jsx(Zp,{className:"h-4 w-4"}),label:"Admin"}]:[]],h=a.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to)),f=o.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to)),p=l.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to)),m=c.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to)),w=d.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to)),_=u.some(v=>s.pathname===v.to||s.pathname.startsWith(v.to));return i.jsx("header",{className:"bg-light-surface dark:bg-dark-surface border-b border-light-border dark:border-dark-border shadow-lg",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-lg",children:i.jsx(Pe,{className:"h-6 w-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"HeroForge"}),i.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Network Triage Dashboard"})]})]}),e&&i.jsxs("nav",{className:"flex items-center space-x-1",children:[i.jsxs(Rd,{to:"/crm",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/crm")?"bg-primary/10 text-primary font-medium":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[i.jsx(Pi,{className:"h-4 w-4"}),"CRM"]}),i.jsx(Zn,{label:"Scanning",icon:i.jsx(mr,{className:"h-4 w-4"}),items:a,isActive:h}),i.jsx(Zn,{label:"Compliance",icon:i.jsx(Ml,{className:"h-4 w-4"}),items:c,isActive:m}),i.jsx(Zn,{label:"Reports",icon:i.jsx(gr,{className:"h-4 w-4"}),items:d,isActive:w}),i.jsx(Zn,{label:"Security",icon:i.jsx(Pe,{className:"h-4 w-4"}),items:o,isActive:f}),i.jsx(Zn,{label:"Exploitation",icon:i.jsx(Vn,{className:"h-4 w-4"}),items:l,isActive:p}),i.jsx(Zn,{label:"System",icon:i.jsx(pr,{className:"h-4 w-4"}),items:u,isActive:_})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[e&&i.jsxs(i.Fragment,{children:[i.jsx(Zx,{}),i.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ho,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"}),i.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:e.username})]}),e.roles&&e.roles.length>0&&i.jsx("div",{className:"flex gap-1",children:e.roles.map(v=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded border bg-slate-500/20 text-slate-700 dark:text-slate-300 border-slate-500/30 capitalize",children:v},v))})]})]}),i.jsx(Jx,{}),i.jsxs(He,{variant:"ghost",size:"sm",onClick:n,className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:[i.jsx(em,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},wh=Ki()(Yo((e,n)=>({isOpen:!1,isMinimized:!1,isLoading:!1,messages:[],conversationId:null,error:null,setOpen:r=>e({isOpen:r}),setMinimized:r=>e({isMinimized:r}),toggle:()=>{const r=n();r.isOpen&&!r.isMinimized?e({isMinimized:!0}):e({isOpen:!0,isMinimized:!1})},addMessage:r=>e(s=>({messages:[...s.messages,r],error:null})),appendToLastMessage:r=>e(s=>{const a=[...s.messages],o=a.length-1;return o>=0&&a[o].role==="assistant"&&(a[o]={...a[o],content:a[o].content+r}),{messages:a}}),finalizeLastMessage:()=>e(r=>{const s=[...r.messages],a=s.length-1;return a>=0&&s[a].isStreaming&&(s[a]={...s[a],isStreaming:!1}),{messages:s}}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),clearMessages:()=>e({messages:[],conversationId:null,error:null}),setConversationId:r=>e({conversationId:r}),startNewConversation:()=>e({messages:[],conversationId:null,error:null,isLoading:!1})}),{name:"heroforge-chat",partialize:e=>({messages:e.messages.slice(-50),conversationId:e.conversationId})})),Tr="/api",t0={sendMessage:async(e,n,r,s,a,o,l)=>{var d;const c=localStorage.getItem("token");if(!c){l("Not authenticated");return}try{const u=await fetch(`${Tr}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({message:e,conversation_id:n,page_context:r})});if(!u.ok){const m=await u.json().catch(()=>({}));throw new Error(m.message||`Chat request failed: ${u.status}`)}const h=(d=u.body)==null?void 0:d.getReader(),f=new TextDecoder;if(!h)throw new Error("Response body is not readable");let p="";for(;;){const{done:m,value:w}=await h.read();if(m)break;p+=f.decode(w,{stream:!0});const _=p.split(`
`);p=_.pop()||"";for(const v of _)if(v.startsWith("data: ")){const g=v.slice(6).trim();if(!g)continue;try{const x=JSON.parse(g);if(x.type==="content"&&x.content)s(x.content),x.conversation_id&&a(x.conversation_id);else if(x.type==="done"){x.conversation_id&&a(x.conversation_id),o(x.tokens_used||0);return}else if(x.type==="error"&&x.error){l(x.error);return}}catch{console.debug("Non-JSON SSE data:",g)}}}o(0)}catch(u){l(u instanceof Error?u.message:"Failed to send message")}},getConversations:async()=>{const e=localStorage.getItem("token"),n=await fetch(`${Tr}/chat/conversations`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Failed to fetch conversations");return(await n.json()).conversations},getMessages:async e=>{const n=localStorage.getItem("token"),r=await fetch(`${Tr}/chat/conversations/${e}/messages`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error("Failed to fetch messages");return(await r.json()).messages},deleteConversation:async e=>{const n=localStorage.getItem("token");if(!(await fetch(`${Tr}/chat/conversations/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})).ok)throw new Error("Failed to delete conversation")},createConversation:async()=>{const e=localStorage.getItem("token"),n=await fetch(`${Tr}/chat/conversations`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Failed to create conversation");return(await n.json()).id}};function n0(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const r0=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,s0=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,i0={};function gc(e,n){return(i0.jsx?s0:r0).test(e)}const a0=/[ \t\n\f\r]/g;function o0(e){return typeof e=="object"?e.type==="text"?xc(e.value):!1:xc(e)}function xc(e){return e.replace(a0,"")===""}class Ls{constructor(n,r,s){this.normal=r,this.property=n,s&&(this.space=s)}}Ls.prototype.normal={};Ls.prototype.property={};Ls.prototype.space=void 0;function jh(e,n){const r={},s={};for(const a of e)Object.assign(r,a.property),Object.assign(s,a.normal);return new Ls(r,s,n)}function co(e){return e.toLowerCase()}class xt{constructor(n,r){this.attribute=r,this.property=n}}xt.prototype.attribute="";xt.prototype.booleanish=!1;xt.prototype.boolean=!1;xt.prototype.commaOrSpaceSeparated=!1;xt.prototype.commaSeparated=!1;xt.prototype.defined=!1;xt.prototype.mustUseProperty=!1;xt.prototype.number=!1;xt.prototype.overloadedBoolean=!1;xt.prototype.property="";xt.prototype.spaceSeparated=!1;xt.prototype.space=void 0;let l0=0;const ke=Qn(),Ke=Qn(),uo=Qn(),ne=Qn(),Ie=Qn(),ur=Qn(),bt=Qn();function Qn(){return 2**++l0}const ho=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:Ke,commaOrSpaceSeparated:bt,commaSeparated:ur,number:ne,overloadedBoolean:uo,spaceSeparated:Ie},Symbol.toStringTag,{value:"Module"})),Pa=Object.keys(ho);class el extends xt{constructor(n,r,s,a){let o=-1;if(super(n,r),yc(this,"space",a),typeof s=="number")for(;++o<Pa.length;){const l=Pa[o];yc(this,Pa[o],(s&ho[l])===ho[l])}}}el.prototype.defined=!0;function yc(e,n,r){r&&(e[n]=r)}function Sr(e){const n={},r={};for(const[s,a]of Object.entries(e.properties)){const o=new el(s,e.transform(e.attributes||{},s),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(s)&&(o.mustUseProperty=!0),n[s]=o,r[co(s)]=s,r[co(o.attribute)]=s}return new Ls(n,r,e.space)}const _h=Sr({properties:{ariaActiveDescendant:null,ariaAtomic:Ke,ariaAutoComplete:null,ariaBusy:Ke,ariaChecked:Ke,ariaColCount:ne,ariaColIndex:ne,ariaColSpan:ne,ariaControls:Ie,ariaCurrent:null,ariaDescribedBy:Ie,ariaDetails:null,ariaDisabled:Ke,ariaDropEffect:Ie,ariaErrorMessage:null,ariaExpanded:Ke,ariaFlowTo:Ie,ariaGrabbed:Ke,ariaHasPopup:null,ariaHidden:Ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ie,ariaLevel:ne,ariaLive:null,ariaModal:Ke,ariaMultiLine:Ke,ariaMultiSelectable:Ke,ariaOrientation:null,ariaOwns:Ie,ariaPlaceholder:null,ariaPosInSet:ne,ariaPressed:Ke,ariaReadOnly:Ke,ariaRelevant:null,ariaRequired:Ke,ariaRoleDescription:Ie,ariaRowCount:ne,ariaRowIndex:ne,ariaRowSpan:ne,ariaSelected:Ke,ariaSetSize:ne,ariaSort:null,ariaValueMax:ne,ariaValueMin:ne,ariaValueNow:ne,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Nh(e,n){return n in e?e[n]:n}function kh(e,n){return Nh(e,n.toLowerCase())}const c0=Sr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ur,acceptCharset:Ie,accessKey:Ie,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:Ie,autoFocus:ke,autoPlay:ke,blocking:Ie,capture:null,charSet:null,checked:ke,cite:null,className:Ie,cols:ne,colSpan:null,content:null,contentEditable:Ke,controls:ke,controlsList:Ie,coords:ne|ur,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:uo,draggable:Ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:Ie,height:ne,hidden:uo,high:ne,href:null,hrefLang:null,htmlFor:Ie,httpEquiv:Ie,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:Ie,itemRef:Ie,itemScope:ke,itemType:Ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:ne,manifest:null,max:null,maxLength:ne,media:null,method:null,min:null,minLength:ne,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:ne,pattern:null,ping:Ie,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:Ie,required:ke,reversed:ke,rows:ne,rowSpan:ne,sandbox:Ie,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:ne,sizes:null,slot:null,span:ne,spellCheck:Ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ne,step:null,style:null,tabIndex:ne,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:Ke,width:ne,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ie,axis:null,background:null,bgColor:null,border:ne,borderColor:null,bottomMargin:ne,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:ne,leftMargin:ne,link:null,longDesc:null,lowSrc:null,marginHeight:ne,marginWidth:ne,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:ne,rules:null,scheme:null,scrolling:Ke,standby:null,summary:null,text:null,topMargin:ne,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ne,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:ne,security:null,unselectable:null},space:"html",transform:kh}),u0=Sr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bt,accentHeight:ne,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ne,amplitude:ne,arabicForm:null,ascent:ne,attributeName:null,attributeType:null,azimuth:ne,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ne,by:null,calcMode:null,capHeight:ne,className:Ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ne,diffuseConstant:ne,direction:null,display:null,dur:null,divisor:ne,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:ne,enableBackground:null,end:null,event:null,exponent:ne,externalResourcesRequired:null,fill:null,fillOpacity:ne,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ur,g2:ur,glyphName:ur,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ne,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ne,horizOriginX:ne,horizOriginY:ne,id:null,ideographic:ne,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ne,k:ne,k1:ne,k2:ne,k3:ne,k4:ne,kernelMatrix:bt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ne,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ne,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ne,overlineThickness:ne,paintOrder:null,panose1:null,path:null,pathLength:ne,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ne,pointsAtY:ne,pointsAtZ:ne,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bt,rev:bt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bt,requiredFeatures:bt,requiredFonts:bt,requiredFormats:bt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ne,specularExponent:ne,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ne,strikethroughThickness:ne,string:null,stroke:null,strokeDashArray:bt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ne,strokeOpacity:ne,strokeWidth:null,style:null,surfaceScale:ne,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bt,tabIndex:ne,tableValues:null,target:null,targetX:ne,targetY:ne,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ne,underlineThickness:ne,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ne,values:null,vAlphabetic:ne,vMathematical:ne,vectorEffect:null,vHanging:ne,vIdeographic:ne,version:null,vertAdvY:ne,vertOriginX:ne,vertOriginY:ne,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ne,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Nh}),Sh=Sr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Ch=Sr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:kh}),Eh=Sr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),d0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},h0=/[A-Z]/g,bc=/-[a-z]/g,f0=/^data[-\w.:]+$/i;function p0(e,n){const r=co(n);let s=n,a=xt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&f0.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(bc,g0);s="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!bc.test(o)){let l=o.replace(h0,m0);l.charAt(0)!=="-"&&(l="-"+l),n="data"+l}}a=el}return new a(s,n)}function m0(e){return"-"+e.toLowerCase()}function g0(e){return e.charAt(1).toUpperCase()}const x0=jh([_h,c0,Sh,Ch,Eh],"html"),tl=jh([_h,u0,Sh,Ch,Eh],"svg");function y0(e){return e.join(" ").trim()}var er={},Aa,vc;function b0(){if(vc)return Aa;vc=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,s=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,a=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,u="/",h="*",f="",p="comment",m="declaration";function w(v,g){if(typeof v!="string")throw new TypeError("First argument must be a string");if(!v)return[];g=g||{};var x=1,b=1;function y(T){var D=T.match(n);D&&(x+=D.length);var M=T.lastIndexOf(d);b=~M?T.length-M:b+T.length}function j(){var T={line:x,column:b};return function(D){return D.position=new k(T),P(),D}}function k(T){this.start=T,this.end={line:x,column:b},this.source=g.source}k.prototype.content=v;function S(T){var D=new Error(g.source+":"+x+":"+b+": "+T);if(D.reason=T,D.filename=g.source,D.line=x,D.column=b,D.source=v,!g.silent)throw D}function C(T){var D=T.exec(v);if(D){var M=D[0];return y(M),v=v.slice(M.length),D}}function P(){C(r)}function O(T){var D;for(T=T||[];D=E();)D!==!1&&T.push(D);return T}function E(){var T=j();if(!(u!=v.charAt(0)||h!=v.charAt(1))){for(var D=2;f!=v.charAt(D)&&(h!=v.charAt(D)||u!=v.charAt(D+1));)++D;if(D+=2,f===v.charAt(D-1))return S("End of comment missing");var M=v.slice(2,D-2);return b+=2,y(M),v=v.slice(D),b+=2,T({type:p,comment:M})}}function R(){var T=j(),D=C(s);if(D){if(E(),!C(a))return S("property missing ':'");var M=C(o),B=T({type:m,property:_(D[0].replace(e,f)),value:M?_(M[0].replace(e,f)):f});return C(l),B}}function z(){var T=[];O(T);for(var D;D=R();)D!==!1&&(T.push(D),O(T));return T}return P(),z()}function _(v){return v?v.replace(c,f):f}return Aa=w,Aa}var wc;function v0(){if(wc)return er;wc=1;var e=er&&er.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(er,"__esModule",{value:!0}),er.default=r;const n=e(b0());function r(s,a){let o=null;if(!s||typeof s!="string")return o;const l=(0,n.default)(s),c=typeof a=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:u,value:h}=d;c?a(u,h,d):h&&(o=o||{},o[u]=h)}),o}return er}var Dr={},jc;function w0(){if(jc)return Dr;jc=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,s=/^-(webkit|moz|ms|o|khtml)-/,a=/^-(ms)-/,o=function(u){return!u||r.test(u)||e.test(u)},l=function(u,h){return h.toUpperCase()},c=function(u,h){return"".concat(h,"-")},d=function(u,h){return h===void 0&&(h={}),o(u)?u:(u=u.toLowerCase(),h.reactCompat?u=u.replace(a,c):u=u.replace(s,c),u.replace(n,l))};return Dr.camelCase=d,Dr}var $r,_c;function j0(){if(_c)return $r;_c=1;var e=$r&&$r.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},n=e(v0()),r=w0();function s(a,o){var l={};return!a||typeof a!="string"||(0,n.default)(a,function(c,d){c&&d&&(l[(0,r.camelCase)(c,o)]=d)}),l}return s.default=s,$r=s,$r}var _0=j0();const N0=Qi(_0),Ph=Ah("end"),nl=Ah("start");function Ah(e){return n;function n(r){const s=r&&r.position&&r.position[e]||{};if(typeof s.line=="number"&&s.line>0&&typeof s.column=="number"&&s.column>0)return{line:s.line,column:s.column,offset:typeof s.offset=="number"&&s.offset>-1?s.offset:void 0}}}function k0(e){const n=nl(e),r=Ph(e);if(n&&r)return{start:n,end:r}}function ms(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Nc(e.position):"start"in e||"end"in e?Nc(e):"line"in e||"column"in e?fo(e):""}function fo(e){return kc(e&&e.line)+":"+kc(e&&e.column)}function Nc(e){return fo(e&&e.start)+"-"+fo(e&&e.end)}function kc(e){return e&&typeof e=="number"?e:1}class rt extends Error{constructor(n,r,s){super(),typeof r=="string"&&(s=r,r=void 0);let a="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof n=="string"?a=n:!o.cause&&n&&(l=!0,a=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof s=="string"){const d=s.indexOf(":");d===-1?o.ruleId=s:(o.source=s.slice(0,d),o.ruleId=s.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=c?c.line:void 0,this.name=ms(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}rt.prototype.file="";rt.prototype.name="";rt.prototype.reason="";rt.prototype.message="";rt.prototype.stack="";rt.prototype.column=void 0;rt.prototype.line=void 0;rt.prototype.ancestors=void 0;rt.prototype.cause=void 0;rt.prototype.fatal=void 0;rt.prototype.place=void 0;rt.prototype.ruleId=void 0;rt.prototype.source=void 0;const rl={}.hasOwnProperty,S0=new Map,C0=/[A-Z]/g,E0=new Set(["table","tbody","thead","tfoot","tr"]),P0=new Set(["td","th"]),Rh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function A0(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let s;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");s=I0(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");s=z0(r,n.jsx,n.jsxs)}const a={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:s,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?tl:x0,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Oh(a,e,void 0);return o&&typeof o!="string"?o:a.create(e,a.Fragment,{children:o||void 0},void 0)}function Oh(e,n,r){if(n.type==="element")return R0(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return O0(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return D0(e,n,r);if(n.type==="mdxjsEsm")return T0(e,n);if(n.type==="root")return $0(e,n,r);if(n.type==="text")return M0(e,n)}function R0(e,n,r){const s=e.schema;let a=s;n.tagName.toLowerCase()==="svg"&&s.space==="html"&&(a=tl,e.schema=a),e.ancestors.push(n);const o=Dh(e,n.tagName,!1),l=L0(e,n);let c=il(e,n);return E0.has(n.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!o0(d):!0})),Th(e,l,o,n),sl(l,c),e.ancestors.pop(),e.schema=s,e.create(n,o,l,r)}function O0(e,n){if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];return s.type,e.evaluater.evaluateExpression(s.expression)}ks(e,n.position)}function T0(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);ks(e,n.position)}function D0(e,n,r){const s=e.schema;let a=s;n.name==="svg"&&s.space==="html"&&(a=tl,e.schema=a),e.ancestors.push(n);const o=n.name===null?e.Fragment:Dh(e,n.name,!0),l=F0(e,n),c=il(e,n);return Th(e,l,o,n),sl(l,c),e.ancestors.pop(),e.schema=s,e.create(n,o,l,r)}function $0(e,n,r){const s={};return sl(s,il(e,n)),e.create(n,e.Fragment,s,r)}function M0(e,n){return n.value}function Th(e,n,r,s){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=s)}function sl(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function z0(e,n,r){return s;function s(a,o,l,c){const u=Array.isArray(l.children)?r:n;return c?u(o,l,c):u(o,l)}}function I0(e,n){return r;function r(s,a,o,l){const c=Array.isArray(o.children),d=nl(s);return n(a,o,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function L0(e,n){const r={};let s,a;for(a in n.properties)if(a!=="children"&&rl.call(n.properties,a)){const o=H0(e,a,n.properties[a]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&P0.has(n.tagName)?s=c:r[l]=c}}if(s){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=s}return r}function F0(e,n){const r={};for(const s of n.attributes)if(s.type==="mdxJsxExpressionAttribute")if(s.data&&s.data.estree&&e.evaluater){const o=s.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,e.evaluater.evaluateExpression(c.argument))}else ks(e,n.position);else{const a=s.name;let o;if(s.value&&typeof s.value=="object")if(s.value.data&&s.value.data.estree&&e.evaluater){const c=s.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else ks(e,n.position);else o=s.value===null?!0:s.value;r[a]=o}return r}function il(e,n){const r=[];let s=-1;const a=e.passKeys?new Map:S0;for(;++s<n.children.length;){const o=n.children[s];let l;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const u=a.get(d)||0;l=d+"-"+u,a.set(d,u+1)}}const c=Oh(e,o,l);c!==void 0&&r.push(c)}return r}function H0(e,n,r){const s=p0(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=s.commaSeparated?n0(r):y0(r)),s.property==="style"){let a=typeof r=="object"?r:B0(e,String(r));return e.stylePropertyNameCase==="css"&&(a=U0(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&s.space?d0[s.property]||s.property:s.attribute,r]}}function B0(e,n){try{return N0(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const s=r,a=new rt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:s,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=Rh+"#cannot-parse-style-attribute",a}}function Dh(e,n,r){let s;if(!r)s={type:"Literal",value:n};else if(n.includes(".")){const a=n.split(".");let o=-1,l;for(;++o<a.length;){const c=gc(a[o])?{type:"Identifier",name:a[o]}:{type:"Literal",value:a[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}s=l}else s=gc(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(s.type==="Literal"){const a=s.value;return rl.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(s);ks(e)}function ks(e,n){const r=new rt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Rh+"#cannot-handle-mdx-estrees-without-createevaluater",r}function U0(e){const n={};let r;for(r in e)rl.call(e,r)&&(n[q0(r)]=e[r]);return n}function q0(e){let n=e.replace(C0,W0);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function W0(e){return"-"+e.toLowerCase()}const Ra={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},V0={};function G0(e,n){const r=V0,s=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return $h(e,s,a)}function $h(e,n,r){if(Y0(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Sc(e.children,n,r)}return Array.isArray(e)?Sc(e,n,r):""}function Sc(e,n,r){const s=[];let a=-1;for(;++a<e.length;)s[a]=$h(e[a],n,r);return s.join("")}function Y0(e){return!!(e&&typeof e=="object")}const Cc=document.createElement("i");function al(e){const n="&"+e+";";Cc.innerHTML=n;const r=Cc.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function sn(e,n,r,s){const a=e.length;let o=0,l;if(n<0?n=-n>a?0:a+n:n=n>a?a:n,r=r>0?r:0,s.length<1e4)l=Array.from(s),l.unshift(n,r),e.splice(...l);else for(r&&e.splice(n,r);o<s.length;)l=s.slice(o,o+1e4),l.unshift(n,0),e.splice(...l),o+=1e4,n+=1e4}function Pt(e,n){return e.length>0?(sn(e,e.length,0,n),e):n}const Ec={}.hasOwnProperty;function X0(e){const n={};let r=-1;for(;++r<e.length;)K0(n,e[r]);return n}function K0(e,n){let r;for(r in n){const a=(Ec.call(e,r)?e[r]:void 0)||(e[r]={}),o=n[r];let l;if(o)for(l in o){Ec.call(a,l)||(a[l]=[]);const c=o[l];J0(a[l],Array.isArray(c)?c:c?[c]:[])}}}function J0(e,n){let r=-1;const s=[];for(;++r<n.length;)(n[r].add==="after"?e:s).push(n[r]);sn(e,0,0,s)}function Mh(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function dr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qt=In(/[A-Za-z]/),wt=In(/[\dA-Za-z]/),Q0=In(/[#-'*+\--9=?A-Z^-~]/);function po(e){return e!==null&&(e<32||e===127)}const mo=In(/\d/),Z0=In(/[\dA-Fa-f]/),ey=In(/[!-/:-@[-`{-~]/);function ve(e){return e!==null&&e<-2}function gt(e){return e!==null&&(e<0||e===32)}function Ae(e){return e===-2||e===-1||e===32}const ty=In(new RegExp("\\p{P}|\\p{S}","u")),ny=In(/\s/);function In(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Cr(e){const n=[];let r=-1,s=0,a=0;for(;++r<e.length;){const o=e.charCodeAt(r);let l="";if(o===37&&wt(e.charCodeAt(r+1))&&wt(e.charCodeAt(r+2)))a=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),a=1):l=""}else l=String.fromCharCode(o);l&&(n.push(e.slice(s,r),encodeURIComponent(l)),s=r+a+1,l=""),a&&(r+=a,a=0)}return n.join("")+e.slice(s)}function Le(e,n,r,s){const a=s?s-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return Ae(d)?(e.enter(r),c(d)):n(d)}function c(d){return Ae(d)&&o++<a?(e.consume(d),c):(e.exit(r),n(d))}}const ry={tokenize:sy};function sy(e){const n=e.attempt(this.parser.constructs.contentInitial,s,a);let r;return n;function s(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Le(e,n,"linePrefix")}function a(c){return e.enter("paragraph"),o(c)}function o(c){const d=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=d),r=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return ve(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const iy={tokenize:ay},Pc={tokenize:oy};function ay(e){const n=this,r=[];let s=0,a,o,l;return c;function c(b){if(s<r.length){const y=r[s];return n.containerState=y[1],e.attempt(y[0].continuation,d,u)(b)}return u(b)}function d(b){if(s++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,a&&x();const y=n.events.length;let j=y,k;for(;j--;)if(n.events[j][0]==="exit"&&n.events[j][1].type==="chunkFlow"){k=n.events[j][1].end;break}g(s);let S=y;for(;S<n.events.length;)n.events[S][1].end={...k},S++;return sn(n.events,j+1,0,n.events.slice(y)),n.events.length=S,u(b)}return c(b)}function u(b){if(s===r.length){if(!a)return p(b);if(a.currentConstruct&&a.currentConstruct.concrete)return w(b);n.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Pc,h,f)(b)}function h(b){return a&&x(),g(s),p(b)}function f(b){return n.parser.lazy[n.now().line]=s!==r.length,l=n.now().offset,w(b)}function p(b){return n.containerState={},e.attempt(Pc,m,w)(b)}function m(b){return s++,r.push([n.currentConstruct,n.containerState]),p(b)}function w(b){if(b===null){a&&x(),g(0),e.consume(b);return}return a=a||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:o}),_(b)}function _(b){if(b===null){v(e.exit("chunkFlow"),!0),g(0),e.consume(b);return}return ve(b)?(e.consume(b),v(e.exit("chunkFlow")),s=0,n.interrupt=void 0,c):(e.consume(b),_)}function v(b,y){const j=n.sliceStream(b);if(y&&j.push(null),b.previous=o,o&&(o.next=b),o=b,a.defineSkip(b.start),a.write(j),n.parser.lazy[b.start.line]){let k=a.events.length;for(;k--;)if(a.events[k][1].start.offset<l&&(!a.events[k][1].end||a.events[k][1].end.offset>l))return;const S=n.events.length;let C=S,P,O;for(;C--;)if(n.events[C][0]==="exit"&&n.events[C][1].type==="chunkFlow"){if(P){O=n.events[C][1].end;break}P=!0}for(g(s),k=S;k<n.events.length;)n.events[k][1].end={...O},k++;sn(n.events,C+1,0,n.events.slice(S)),n.events.length=k}}function g(b){let y=r.length;for(;y-- >b;){const j=r[y];n.containerState=j[1],j[0].exit.call(n,e)}r.length=b}function x(){a.write([null]),o=void 0,a=void 0,n.containerState._closeFlow=void 0}}function oy(e,n,r){return Le(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ac(e){if(e===null||gt(e)||ny(e))return 1;if(ty(e))return 2}function ol(e,n,r){const s=[];let a=-1;for(;++a<e.length;){const o=e[a].resolveAll;o&&!s.includes(o)&&(n=o(n,r),s.push(o))}return n}const go={name:"attention",resolveAll:ly,tokenize:cy};function ly(e,n){let r=-1,s,a,o,l,c,d,u,h;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(s=r;s--;)if(e[s][0]==="exit"&&e[s][1].type==="attentionSequence"&&e[s][1]._open&&n.sliceSerialize(e[s][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[s][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[s][1].end.offset-e[s][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;d=e[s][1].end.offset-e[s][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const f={...e[s][1].end},p={...e[r][1].start};Rc(f,-d),Rc(p,d),l={type:d>1?"strongSequence":"emphasisSequence",start:f,end:{...e[s][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},o={type:d>1?"strongText":"emphasisText",start:{...e[s][1].end},end:{...e[r][1].start}},a={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[s][1].end={...l.start},e[r][1].start={...c.end},u=[],e[s][1].end.offset-e[s][1].start.offset&&(u=Pt(u,[["enter",e[s][1],n],["exit",e[s][1],n]])),u=Pt(u,[["enter",a,n],["enter",l,n],["exit",l,n],["enter",o,n]]),u=Pt(u,ol(n.parser.constructs.insideSpan.null,e.slice(s+1,r),n)),u=Pt(u,[["exit",o,n],["enter",c,n],["exit",c,n],["exit",a,n]]),e[r][1].end.offset-e[r][1].start.offset?(h=2,u=Pt(u,[["enter",e[r][1],n],["exit",e[r][1],n]])):h=0,sn(e,s-1,r-s+3,u),r=s+u.length-h-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function cy(e,n){const r=this.parser.constructs.attentionMarkers.null,s=this.previous,a=Ac(s);let o;return l;function l(d){return o=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===o)return e.consume(d),c;const u=e.exit("attentionSequence"),h=Ac(d),f=!h||h===2&&a||r.includes(d),p=!a||a===2&&h||r.includes(s);return u._open=!!(o===42?f:f&&(a||!p)),u._close=!!(o===42?p:p&&(h||!f)),n(d)}}function Rc(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const uy={name:"autolink",tokenize:dy};function dy(e,n,r){let s=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Qt(m)?(e.consume(m),l):m===64?r(m):u(m)}function l(m){return m===43||m===45||m===46||wt(m)?(s=1,c(m)):u(m)}function c(m){return m===58?(e.consume(m),s=0,d):(m===43||m===45||m===46||wt(m))&&s++<32?(e.consume(m),c):(s=0,u(m))}function d(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):m===null||m===32||m===60||po(m)?r(m):(e.consume(m),d)}function u(m){return m===64?(e.consume(m),h):Q0(m)?(e.consume(m),u):r(m)}function h(m){return wt(m)?f(m):r(m)}function f(m){return m===46?(e.consume(m),s=0,h):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),n):p(m)}function p(m){if((m===45||wt(m))&&s++<63){const w=m===45?p:f;return e.consume(m),w}return r(m)}}const ca={partial:!0,tokenize:hy};function hy(e,n,r){return s;function s(o){return Ae(o)?Le(e,a,"linePrefix")(o):a(o)}function a(o){return o===null||ve(o)?n(o):r(o)}}const zh={continuation:{tokenize:py},exit:my,name:"blockQuote",tokenize:fy};function fy(e,n,r){const s=this;return a;function a(l){if(l===62){const c=s.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return r(l)}function o(l){return Ae(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(l))}}function py(e,n,r){const s=this;return a;function a(l){return Ae(l)?Le(e,o,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(zh,n,r)(l)}}function my(e){e.exit("blockQuote")}const Ih={name:"characterEscape",tokenize:gy};function gy(e,n,r){return s;function s(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),a}function a(o){return ey(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(o)}}const Lh={name:"characterReference",tokenize:xy};function xy(e,n,r){const s=this;let a=0,o,l;return c;function c(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),d}function d(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=wt,h(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=Z0,h):(e.enter("characterReferenceValue"),o=7,l=mo,h(f))}function h(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return l===wt&&!al(s.sliceSerialize(p))?r(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return l(f)&&a++<o?(e.consume(f),h):r(f)}}const Oc={partial:!0,tokenize:by},Tc={concrete:!0,name:"codeFenced",tokenize:yy};function yy(e,n,r){const s=this,a={partial:!0,tokenize:j};let o=0,l=0,c;return d;function d(k){return u(k)}function u(k){const S=s.events[s.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,c=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),h(k)}function h(k){return k===c?(l++,e.consume(k),h):l<3?r(k):(e.exit("codeFencedFenceSequence"),Ae(k)?Le(e,f,"whitespace")(k):f(k))}function f(k){return k===null||ve(k)?(e.exit("codeFencedFence"),s.interrupt?n(k):e.check(Oc,_,y)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):Ae(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Le(e,m,"whitespace")(k)):k===96&&k===c?r(k):(e.consume(k),p)}function m(k){return k===null||ve(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===c?r(k):(e.consume(k),w)}function _(k){return e.attempt(a,y,v)(k)}function v(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),g}function g(k){return o>0&&Ae(k)?Le(e,x,"linePrefix",o+1)(k):x(k)}function x(k){return k===null||ve(k)?e.check(Oc,_,y)(k):(e.enter("codeFlowValue"),b(k))}function b(k){return k===null||ve(k)?(e.exit("codeFlowValue"),x(k)):(e.consume(k),b)}function y(k){return e.exit("codeFenced"),n(k)}function j(k,S,C){let P=0;return O;function O(D){return k.enter("lineEnding"),k.consume(D),k.exit("lineEnding"),E}function E(D){return k.enter("codeFencedFence"),Ae(D)?Le(k,R,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):R(D)}function R(D){return D===c?(k.enter("codeFencedFenceSequence"),z(D)):C(D)}function z(D){return D===c?(P++,k.consume(D),z):P>=l?(k.exit("codeFencedFenceSequence"),Ae(D)?Le(k,T,"whitespace")(D):T(D)):C(D)}function T(D){return D===null||ve(D)?(k.exit("codeFencedFence"),S(D)):C(D)}}}function by(e,n,r){const s=this;return a;function a(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return s.parser.lazy[s.now().line]?r(l):n(l)}}const Oa={name:"codeIndented",tokenize:wy},vy={partial:!0,tokenize:jy};function wy(e,n,r){const s=this;return a;function a(u){return e.enter("codeIndented"),Le(e,o,"linePrefix",5)(u)}function o(u){const h=s.events[s.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(u):r(u)}function l(u){return u===null?d(u):ve(u)?e.attempt(vy,l,d)(u):(e.enter("codeFlowValue"),c(u))}function c(u){return u===null||ve(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),c)}function d(u){return e.exit("codeIndented"),n(u)}}function jy(e,n,r){const s=this;return a;function a(l){return s.parser.lazy[s.now().line]?r(l):ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),a):Le(e,o,"linePrefix",5)(l)}function o(l){const c=s.events[s.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):ve(l)?a(l):r(l)}}const _y={name:"codeText",previous:ky,resolve:Ny,tokenize:Sy};function Ny(e){let n=e.length-4,r=3,s,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(s=r;++s<n;)if(e[s][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(s=r-1,n++;++s<=n;)a===void 0?s!==n&&e[s][1].type!=="lineEnding"&&(a=s):(s===n||e[s][1].type==="lineEnding")&&(e[a][1].type="codeTextData",s!==a+2&&(e[a][1].end=e[s-1][1].end,e.splice(a+2,s-a-2),n-=s-a-2,s=a+2),a=void 0);return e}function ky(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Sy(e,n,r){let s=0,a,o;return l;function l(f){return e.enter("codeText"),e.enter("codeTextSequence"),c(f)}function c(f){return f===96?(e.consume(f),s++,c):(e.exit("codeTextSequence"),d(f))}function d(f){return f===null?r(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),d):f===96?(o=e.enter("codeTextSequence"),a=0,h(f)):ve(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ve(f)?(e.exit("codeTextData"),d(f)):(e.consume(f),u)}function h(f){return f===96?(e.consume(f),a++,h):a===s?(e.exit("codeTextSequence"),e.exit("codeText"),n(f)):(o.type="codeTextData",u(f))}}class Cy{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const s=r??Number.POSITIVE_INFINITY;return s<this.left.length?this.left.slice(n,s):n>this.left.length?this.right.slice(this.right.length-s+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-s+this.left.length).reverse())}splice(n,r,s){const a=r||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return s&&Mr(this.left,s),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),Mr(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),Mr(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);Mr(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);Mr(this.left,r.reverse())}}}function Mr(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function Fh(e){const n={};let r=-1,s,a,o,l,c,d,u;const h=new Cy(e);for(;++r<h.length;){for(;r in n;)r=n[r];if(s=h.get(r),r&&s[1].type==="chunkFlow"&&h.get(r-1)[1].type==="listItemPrefix"&&(d=s[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(s[0]==="enter")s[1].contentType&&(Object.assign(n,Ey(h,r)),r=n[r],u=!0);else if(s[1]._container){for(o=r,a=void 0;o--;)if(l=h.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(a&&(h.get(a)[1].type="lineEndingBlank"),l[1].type="lineEnding",a=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;a&&(s[1].end={...h.get(a)[1].start},c=h.slice(a,r),c.unshift(s),h.splice(a,r-a+1,c))}}return sn(e,0,Number.POSITIVE_INFINITY,h.slice(0)),!u}function Ey(e,n){const r=e.get(n)[1],s=e.get(n)[2];let a=n-1;const o=[];let l=r._tokenizer;l||(l=s.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],u={};let h,f,p=-1,m=r,w=0,_=0;const v=[_];for(;m;){for(;e.get(++a)[1]!==m;);o.push(a),m._tokenizer||(h=s.sliceStream(m),m.next||h.push(null),f&&l.defineSkip(m.start),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),m._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=r;++p<c.length;)c[p][0]==="exit"&&c[p-1][0]==="enter"&&c[p][1].type===c[p-1][1].type&&c[p][1].start.line!==c[p][1].end.line&&(_=p+1,v.push(_),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(l.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),p=v.length;p--;){const g=c.slice(v[p],v[p+1]),x=o.pop();d.push([x,x+g.length-1]),e.splice(x,2,g)}for(d.reverse(),p=-1;++p<d.length;)u[w+d[p][0]]=w+d[p][1],w+=d[p][1]-d[p][0]-1;return u}const Py={resolve:Ry,tokenize:Oy},Ay={partial:!0,tokenize:Ty};function Ry(e){return Fh(e),e}function Oy(e,n){let r;return s;function s(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(c)}function a(c){return c===null?o(c):ve(c)?e.check(Ay,l,o)(c):(e.consume(c),a)}function o(c){return e.exit("chunkContent"),e.exit("content"),n(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function Ty(e,n,r){const s=this;return a;function a(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Le(e,o,"linePrefix")}function o(l){if(l===null||ve(l))return r(l);const c=s.events[s.events.length-1];return!s.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):e.interrupt(s.parser.constructs.flow,r,n)(l)}}function Hh(e,n,r,s,a,o,l,c,d){const u=d||Number.POSITIVE_INFINITY;let h=0;return f;function f(g){return g===60?(e.enter(s),e.enter(a),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||po(g)?r(g):(e.enter(s),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),_(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(a),e.exit(s),n):(e.enter(c),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(c),p(g)):g===null||g===60||ve(g)?r(g):(e.consume(g),g===92?w:m)}function w(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function _(g){return!h&&(g===null||g===41||gt(g))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(s),n(g)):h<u&&g===40?(e.consume(g),h++,_):g===41?(e.consume(g),h--,_):g===null||g===32||g===40||po(g)?r(g):(e.consume(g),g===92?v:_)}function v(g){return g===40||g===41||g===92?(e.consume(g),_):_(g)}}function Bh(e,n,r,s,a,o){const l=this;let c=0,d;return u;function u(m){return e.enter(s),e.enter(a),e.consume(m),e.exit(a),e.enter(o),h}function h(m){return c>999||m===null||m===91||m===93&&!d||m===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(m):m===93?(e.exit(o),e.enter(a),e.consume(m),e.exit(a),e.exit(s),n):ve(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),h):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ve(m)||c++>999?(e.exit("chunkString"),h(m)):(e.consume(m),d||(d=!Ae(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),c++,f):f(m)}}function Uh(e,n,r,s,a,o){let l;return c;function c(p){return p===34||p===39||p===40?(e.enter(s),e.enter(a),e.consume(p),e.exit(a),l=p===40?41:p,d):r(p)}function d(p){return p===l?(e.enter(a),e.consume(p),e.exit(a),e.exit(s),n):(e.enter(o),u(p))}function u(p){return p===l?(e.exit(o),d(l)):p===null?r(p):ve(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Le(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),h(p))}function h(p){return p===l||p===null||ve(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:h)}function f(p){return p===l||p===92?(e.consume(p),h):h(p)}}function gs(e,n){let r;return s;function s(a){return ve(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,s):Ae(a)?Le(e,s,r?"linePrefix":"lineSuffix")(a):n(a)}}const Dy={name:"definition",tokenize:My},$y={partial:!0,tokenize:zy};function My(e,n,r){const s=this;let a;return o;function o(m){return e.enter("definition"),l(m)}function l(m){return Bh.call(s,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function c(m){return a=dr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),d):r(m)}function d(m){return gt(m)?gs(e,u)(m):u(m)}function u(m){return Hh(e,h,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function h(m){return e.attempt($y,f,f)(m)}function f(m){return Ae(m)?Le(e,p,"whitespace")(m):p(m)}function p(m){return m===null||ve(m)?(e.exit("definition"),s.parser.defined.push(a),n(m)):r(m)}}function zy(e,n,r){return s;function s(c){return gt(c)?gs(e,a)(c):r(c)}function a(c){return Uh(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Ae(c)?Le(e,l,"whitespace")(c):l(c)}function l(c){return c===null||ve(c)?n(c):r(c)}}const Iy={name:"hardBreakEscape",tokenize:Ly};function Ly(e,n,r){return s;function s(o){return e.enter("hardBreakEscape"),e.consume(o),a}function a(o){return ve(o)?(e.exit("hardBreakEscape"),n(o)):r(o)}}const Fy={name:"headingAtx",resolve:Hy,tokenize:By};function Hy(e,n){let r=e.length-2,s=3,a,o;return e[s][1].type==="whitespace"&&(s+=2),r-2>s&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(s===r-1||r-4>s&&e[r-2][1].type==="whitespace")&&(r-=s+1===r?2:4),r>s&&(a={type:"atxHeadingText",start:e[s][1].start,end:e[r][1].end},o={type:"chunkText",start:e[s][1].start,end:e[r][1].end,contentType:"text"},sn(e,s,r-s+1,[["enter",a,n],["enter",o,n],["exit",o,n],["exit",a,n]])),e}function By(e,n,r){let s=0;return a;function a(h){return e.enter("atxHeading"),o(h)}function o(h){return e.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&s++<6?(e.consume(h),l):h===null||gt(h)?(e.exit("atxHeadingSequence"),c(h)):r(h)}function c(h){return h===35?(e.enter("atxHeadingSequence"),d(h)):h===null||ve(h)?(e.exit("atxHeading"),n(h)):Ae(h)?Le(e,c,"whitespace")(h):(e.enter("atxHeadingText"),u(h))}function d(h){return h===35?(e.consume(h),d):(e.exit("atxHeadingSequence"),c(h))}function u(h){return h===null||h===35||gt(h)?(e.exit("atxHeadingText"),c(h)):(e.consume(h),u)}}const Uy=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Dc=["pre","script","style","textarea"],qy={concrete:!0,name:"htmlFlow",resolveTo:Gy,tokenize:Yy},Wy={partial:!0,tokenize:Ky},Vy={partial:!0,tokenize:Xy};function Gy(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function Yy(e,n,r){const s=this;let a,o,l,c,d;return u;function u(I){return h(I)}function h(I){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(I),f}function f(I){return I===33?(e.consume(I),p):I===47?(e.consume(I),o=!0,_):I===63?(e.consume(I),a=3,s.interrupt?n:$):Qt(I)?(e.consume(I),l=String.fromCharCode(I),v):r(I)}function p(I){return I===45?(e.consume(I),a=2,m):I===91?(e.consume(I),a=5,c=0,w):Qt(I)?(e.consume(I),a=4,s.interrupt?n:$):r(I)}function m(I){return I===45?(e.consume(I),s.interrupt?n:$):r(I)}function w(I){const ce="CDATA[";return I===ce.charCodeAt(c++)?(e.consume(I),c===ce.length?s.interrupt?n:R:w):r(I)}function _(I){return Qt(I)?(e.consume(I),l=String.fromCharCode(I),v):r(I)}function v(I){if(I===null||I===47||I===62||gt(I)){const ce=I===47,we=l.toLowerCase();return!ce&&!o&&Dc.includes(we)?(a=1,s.interrupt?n(I):R(I)):Uy.includes(l.toLowerCase())?(a=6,ce?(e.consume(I),g):s.interrupt?n(I):R(I)):(a=7,s.interrupt&&!s.parser.lazy[s.now().line]?r(I):o?x(I):b(I))}return I===45||wt(I)?(e.consume(I),l+=String.fromCharCode(I),v):r(I)}function g(I){return I===62?(e.consume(I),s.interrupt?n:R):r(I)}function x(I){return Ae(I)?(e.consume(I),x):O(I)}function b(I){return I===47?(e.consume(I),O):I===58||I===95||Qt(I)?(e.consume(I),y):Ae(I)?(e.consume(I),b):O(I)}function y(I){return I===45||I===46||I===58||I===95||wt(I)?(e.consume(I),y):j(I)}function j(I){return I===61?(e.consume(I),k):Ae(I)?(e.consume(I),j):b(I)}function k(I){return I===null||I===60||I===61||I===62||I===96?r(I):I===34||I===39?(e.consume(I),d=I,S):Ae(I)?(e.consume(I),k):C(I)}function S(I){return I===d?(e.consume(I),d=null,P):I===null||ve(I)?r(I):(e.consume(I),S)}function C(I){return I===null||I===34||I===39||I===47||I===60||I===61||I===62||I===96||gt(I)?j(I):(e.consume(I),C)}function P(I){return I===47||I===62||Ae(I)?b(I):r(I)}function O(I){return I===62?(e.consume(I),E):r(I)}function E(I){return I===null||ve(I)?R(I):Ae(I)?(e.consume(I),E):r(I)}function R(I){return I===45&&a===2?(e.consume(I),M):I===60&&a===1?(e.consume(I),B):I===62&&a===4?(e.consume(I),Z):I===63&&a===3?(e.consume(I),$):I===93&&a===5?(e.consume(I),W):ve(I)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(Wy,J,z)(I)):I===null||ve(I)?(e.exit("htmlFlowData"),z(I)):(e.consume(I),R)}function z(I){return e.check(Vy,T,J)(I)}function T(I){return e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),D}function D(I){return I===null||ve(I)?z(I):(e.enter("htmlFlowData"),R(I))}function M(I){return I===45?(e.consume(I),$):R(I)}function B(I){return I===47?(e.consume(I),l="",X):R(I)}function X(I){if(I===62){const ce=l.toLowerCase();return Dc.includes(ce)?(e.consume(I),Z):R(I)}return Qt(I)&&l.length<8?(e.consume(I),l+=String.fromCharCode(I),X):R(I)}function W(I){return I===93?(e.consume(I),$):R(I)}function $(I){return I===62?(e.consume(I),Z):I===45&&a===2?(e.consume(I),$):R(I)}function Z(I){return I===null||ve(I)?(e.exit("htmlFlowData"),J(I)):(e.consume(I),Z)}function J(I){return e.exit("htmlFlow"),n(I)}}function Xy(e,n,r){const s=this;return a;function a(l){return ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):r(l)}function o(l){return s.parser.lazy[s.now().line]?r(l):n(l)}}function Ky(e,n,r){return s;function s(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(ca,n,r)}}const Jy={name:"htmlText",tokenize:Qy};function Qy(e,n,r){const s=this;let a,o,l;return c;function c($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),d}function d($){return $===33?(e.consume($),u):$===47?(e.consume($),j):$===63?(e.consume($),b):Qt($)?(e.consume($),C):r($)}function u($){return $===45?(e.consume($),h):$===91?(e.consume($),o=0,w):Qt($)?(e.consume($),x):r($)}function h($){return $===45?(e.consume($),m):r($)}function f($){return $===null?r($):$===45?(e.consume($),p):ve($)?(l=f,B($)):(e.consume($),f)}function p($){return $===45?(e.consume($),m):f($)}function m($){return $===62?M($):$===45?p($):f($)}function w($){const Z="CDATA[";return $===Z.charCodeAt(o++)?(e.consume($),o===Z.length?_:w):r($)}function _($){return $===null?r($):$===93?(e.consume($),v):ve($)?(l=_,B($)):(e.consume($),_)}function v($){return $===93?(e.consume($),g):_($)}function g($){return $===62?M($):$===93?(e.consume($),g):_($)}function x($){return $===null||$===62?M($):ve($)?(l=x,B($)):(e.consume($),x)}function b($){return $===null?r($):$===63?(e.consume($),y):ve($)?(l=b,B($)):(e.consume($),b)}function y($){return $===62?M($):b($)}function j($){return Qt($)?(e.consume($),k):r($)}function k($){return $===45||wt($)?(e.consume($),k):S($)}function S($){return ve($)?(l=S,B($)):Ae($)?(e.consume($),S):M($)}function C($){return $===45||wt($)?(e.consume($),C):$===47||$===62||gt($)?P($):r($)}function P($){return $===47?(e.consume($),M):$===58||$===95||Qt($)?(e.consume($),O):ve($)?(l=P,B($)):Ae($)?(e.consume($),P):M($)}function O($){return $===45||$===46||$===58||$===95||wt($)?(e.consume($),O):E($)}function E($){return $===61?(e.consume($),R):ve($)?(l=E,B($)):Ae($)?(e.consume($),E):P($)}function R($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),a=$,z):ve($)?(l=R,B($)):Ae($)?(e.consume($),R):(e.consume($),T)}function z($){return $===a?(e.consume($),a=void 0,D):$===null?r($):ve($)?(l=z,B($)):(e.consume($),z)}function T($){return $===null||$===34||$===39||$===60||$===61||$===96?r($):$===47||$===62||gt($)?P($):(e.consume($),T)}function D($){return $===47||$===62||gt($)?P($):r($)}function M($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),n):r($)}function B($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),X}function X($){return Ae($)?Le(e,W,"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):W($)}function W($){return e.enter("htmlTextData"),l($)}}const ll={name:"labelEnd",resolveAll:nb,resolveTo:rb,tokenize:sb},Zy={tokenize:ib},eb={tokenize:ab},tb={tokenize:ob};function nb(e){let n=-1;const r=[];for(;++n<e.length;){const s=e[n][1];if(r.push(e[n]),s.type==="labelImage"||s.type==="labelLink"||s.type==="labelEnd"){const a=s.type==="labelImage"?4:2;s.type="data",n+=a}}return e.length!==r.length&&sn(e,0,e.length,r),e}function rb(e,n){let r=e.length,s=0,a,o,l,c;for(;r--;)if(a=e[r][1],o){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(o=r,a.type!=="labelLink")){s=2;break}}else a.type==="labelEnd"&&(l=r);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},h={type:"labelText",start:{...e[o+s+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,n],["enter",u,n]],c=Pt(c,e.slice(o+1,o+s+3)),c=Pt(c,[["enter",h,n]]),c=Pt(c,ol(n.parser.constructs.insideSpan.null,e.slice(o+s+4,l-3),n)),c=Pt(c,[["exit",h,n],e[l-2],e[l-1],["exit",u,n]]),c=Pt(c,e.slice(l+1)),c=Pt(c,[["exit",d,n]]),sn(e,o,e.length,c),e}function sb(e,n,r){const s=this;let a=s.events.length,o,l;for(;a--;)if((s.events[a][1].type==="labelImage"||s.events[a][1].type==="labelLink")&&!s.events[a][1]._balanced){o=s.events[a][1];break}return c;function c(p){return o?o._inactive?f(p):(l=s.parser.defined.includes(dr(s.sliceSerialize({start:o.end,end:s.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),d):r(p)}function d(p){return p===40?e.attempt(Zy,h,l?h:f)(p):p===91?e.attempt(eb,h,l?u:f)(p):l?h(p):f(p)}function u(p){return e.attempt(tb,h,f)(p)}function h(p){return n(p)}function f(p){return o._balanced=!0,r(p)}}function ib(e,n,r){return s;function s(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return gt(f)?gs(e,o)(f):o(f)}function o(f){return f===41?h(f):Hh(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function l(f){return gt(f)?gs(e,d)(f):h(f)}function c(f){return r(f)}function d(f){return f===34||f===39||f===40?Uh(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):h(f)}function u(f){return gt(f)?gs(e,h)(f):h(f)}function h(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),n):r(f)}}function ab(e,n,r){const s=this;return a;function a(c){return Bh.call(s,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return s.parser.defined.includes(dr(s.sliceSerialize(s.events[s.events.length-1][1]).slice(1,-1)))?n(c):r(c)}function l(c){return r(c)}}function ob(e,n,r){return s;function s(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),a}function a(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):r(o)}}const lb={name:"labelStartImage",resolveAll:ll.resolveAll,tokenize:cb};function cb(e,n,r){const s=this;return a;function a(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(c):n(c)}}const ub={name:"labelStartLink",resolveAll:ll.resolveAll,tokenize:db};function db(e,n,r){const s=this;return a;function a(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in s.parser.constructs?r(l):n(l)}}const Ta={name:"lineEnding",tokenize:hb};function hb(e,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Le(e,n,"linePrefix")}}const ji={name:"thematicBreak",tokenize:fb};function fb(e,n,r){let s=0,a;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return a=u,c(u)}function c(u){return u===a?(e.enter("thematicBreakSequence"),d(u)):s>=3&&(u===null||ve(u))?(e.exit("thematicBreak"),n(u)):r(u)}function d(u){return u===a?(e.consume(u),s++,d):(e.exit("thematicBreakSequence"),Ae(u)?Le(e,c,"whitespace")(u):c(u))}}const ft={continuation:{tokenize:xb},exit:bb,name:"list",tokenize:gb},pb={partial:!0,tokenize:vb},mb={partial:!0,tokenize:yb};function gb(e,n,r){const s=this,a=s.events[s.events.length-1];let o=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,l=0;return c;function c(m){const w=s.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!s.containerState.marker||m===s.containerState.marker:mo(m)){if(s.containerState.type||(s.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(ji,r,u)(m):u(m);if(!s.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(m)}return r(m)}function d(m){return mo(m)&&++l<10?(e.consume(m),d):(!s.interrupt||l<2)&&(s.containerState.marker?m===s.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):r(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),s.containerState.marker=s.containerState.marker||m,e.check(ca,s.interrupt?r:h,e.attempt(pb,p,f))}function h(m){return s.containerState.initialBlankLine=!0,o++,p(m)}function f(m){return Ae(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):r(m)}function p(m){return s.containerState.size=o+s.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(m)}}function xb(e,n,r){const s=this;return s.containerState._closeFlow=void 0,e.check(ca,a,o);function a(c){return s.containerState.furtherBlankLines=s.containerState.furtherBlankLines||s.containerState.initialBlankLine,Le(e,n,"listItemIndent",s.containerState.size+1)(c)}function o(c){return s.containerState.furtherBlankLines||!Ae(c)?(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,l(c)):(s.containerState.furtherBlankLines=void 0,s.containerState.initialBlankLine=void 0,e.attempt(mb,n,l)(c))}function l(c){return s.containerState._closeFlow=!0,s.interrupt=void 0,Le(e,e.attempt(ft,n,r),"linePrefix",s.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function yb(e,n,r){const s=this;return Le(e,a,"listItemIndent",s.containerState.size+1);function a(o){const l=s.events[s.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===s.containerState.size?n(o):r(o)}}function bb(e){e.exit(this.containerState.type)}function vb(e,n,r){const s=this;return Le(e,a,"listItemPrefixWhitespace",s.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(o){const l=s.events[s.events.length-1];return!Ae(o)&&l&&l[1].type==="listItemPrefixWhitespace"?n(o):r(o)}}const $c={name:"setextUnderline",resolveTo:wb,tokenize:jb};function wb(e,n){let r=e.length,s,a,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){s=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:{...e[s][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",o?(e.splice(a,0,["enter",l,n]),e.splice(o+1,0,["exit",e[s][1],n]),e[s][1].end={...e[o][1].end}):e[s][1]=l,e.push(["exit",l,n]),e}function jb(e,n,r){const s=this;let a;return o;function o(u){let h=s.events.length,f;for(;h--;)if(s.events[h][1].type!=="lineEnding"&&s.events[h][1].type!=="linePrefix"&&s.events[h][1].type!=="content"){f=s.events[h][1].type==="paragraph";break}return!s.parser.lazy[s.now().line]&&(s.interrupt||f)?(e.enter("setextHeadingLine"),a=u,l(u)):r(u)}function l(u){return e.enter("setextHeadingLineSequence"),c(u)}function c(u){return u===a?(e.consume(u),c):(e.exit("setextHeadingLineSequence"),Ae(u)?Le(e,d,"lineSuffix")(u):d(u))}function d(u){return u===null||ve(u)?(e.exit("setextHeadingLine"),n(u)):r(u)}}const _b={tokenize:Nb};function Nb(e){const n=this,r=e.attempt(ca,s,e.attempt(this.parser.constructs.flowInitial,a,Le(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Py,a)),"linePrefix")));return r;function s(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function a(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const kb={resolveAll:Wh()},Sb=qh("string"),Cb=qh("text");function qh(e){return{resolveAll:Wh(e==="text"?Eb:void 0),tokenize:n};function n(r){const s=this,a=this.parser.constructs[e],o=r.attempt(a,l,c);return l;function l(h){return u(h)?o(h):c(h)}function c(h){if(h===null){r.consume(h);return}return r.enter("data"),r.consume(h),d}function d(h){return u(h)?(r.exit("data"),o(h)):(r.consume(h),d)}function u(h){if(h===null)return!0;const f=a[h];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(s,s.previous))return!0}return!1}}}function Wh(e){return n;function n(r,s){let a=-1,o;for(;++a<=r.length;)o===void 0?r[a]&&r[a][1].type==="data"&&(o=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==o+2&&(r[o][1].end=r[a-1][1].end,r.splice(o+2,a-o-2),a=o+2),o=void 0);return e?e(r,s):r}}function Eb(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const s=e[r-1][1],a=n.sliceStream(s);let o=a.length,l=-1,c=0,d;for(;o--;){const u=a[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(u===-2)d=!0,c++;else if(u!==-1){o++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(c=0),c){const u={type:r===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:s.start._bufferIndex+l,_index:s.start._index+o,line:s.end.line,column:s.end.column-c,offset:s.end.offset-c},end:{...s.end}};s.end={...u.start},s.start.offset===s.end.offset?Object.assign(s,u):(e.splice(r,0,["enter",u,n],["exit",u,n]),r+=2)}r++}return e}const Pb={42:ft,43:ft,45:ft,48:ft,49:ft,50:ft,51:ft,52:ft,53:ft,54:ft,55:ft,56:ft,57:ft,62:zh},Ab={91:Dy},Rb={[-2]:Oa,[-1]:Oa,32:Oa},Ob={35:Fy,42:ji,45:[$c,ji],60:qy,61:$c,95:ji,96:Tc,126:Tc},Tb={38:Lh,92:Ih},Db={[-5]:Ta,[-4]:Ta,[-3]:Ta,33:lb,38:Lh,42:go,60:[uy,Jy],91:ub,92:[Iy,Ih],93:ll,95:go,96:_y},$b={null:[go,kb]},Mb={null:[42,95]},zb={null:[]},Ib=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Mb,contentInitial:Ab,disable:zb,document:Pb,flow:Ob,flowInitial:Rb,insideSpan:$b,string:Tb,text:Db},Symbol.toStringTag,{value:"Module"}));function Lb(e,n,r){let s={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},o=[];let l=[],c=[];const d={attempt:S(j),check:S(k),consume:x,enter:b,exit:y,interrupt:S(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:_,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let h=n.tokenize.call(u,d);return n.resolveAll&&o.push(n),u;function f(E){return l=Pt(l,E),v(),l[l.length-1]!==null?[]:(C(n,0),u.events=ol(o,u.events,u),u.events)}function p(E,R){return Hb(m(E),R)}function m(E){return Fb(l,E)}function w(){const{_bufferIndex:E,_index:R,line:z,column:T,offset:D}=s;return{_bufferIndex:E,_index:R,line:z,column:T,offset:D}}function _(E){a[E.line]=E.column,O()}function v(){let E;for(;s._index<l.length;){const R=l[s._index];if(typeof R=="string")for(E=s._index,s._bufferIndex<0&&(s._bufferIndex=0);s._index===E&&s._bufferIndex<R.length;)g(R.charCodeAt(s._bufferIndex));else g(R)}}function g(E){h=h(E)}function x(E){ve(E)?(s.line++,s.column=1,s.offset+=E===-3?2:1,O()):E!==-1&&(s.column++,s.offset++),s._bufferIndex<0?s._index++:(s._bufferIndex++,s._bufferIndex===l[s._index].length&&(s._bufferIndex=-1,s._index++)),u.previous=E}function b(E,R){const z=R||{};return z.type=E,z.start=w(),u.events.push(["enter",z,u]),c.push(z),z}function y(E){const R=c.pop();return R.end=w(),u.events.push(["exit",R,u]),R}function j(E,R){C(E,R.from)}function k(E,R){R.restore()}function S(E,R){return z;function z(T,D,M){let B,X,W,$;return Array.isArray(T)?J(T):"tokenize"in T?J([T]):Z(T);function Z(ue){return Ne;function Ne(Q){const V=Q!==null&&ue[Q],se=Q!==null&&ue.null,oe=[...Array.isArray(V)?V:V?[V]:[],...Array.isArray(se)?se:se?[se]:[]];return J(oe)(Q)}}function J(ue){return B=ue,X=0,ue.length===0?M:I(ue[X])}function I(ue){return Ne;function Ne(Q){return $=P(),W=ue,ue.partial||(u.currentConstruct=ue),ue.name&&u.parser.constructs.disable.null.includes(ue.name)?we():ue.tokenize.call(R?Object.assign(Object.create(u),R):u,d,ce,we)(Q)}}function ce(ue){return E(W,$),D}function we(ue){return $.restore(),++X<B.length?I(B[X]):M}}}function C(E,R){E.resolveAll&&!o.includes(E)&&o.push(E),E.resolve&&sn(u.events,R,u.events.length-R,E.resolve(u.events.slice(R),u)),E.resolveTo&&(u.events=E.resolveTo(u.events,u))}function P(){const E=w(),R=u.previous,z=u.currentConstruct,T=u.events.length,D=Array.from(c);return{from:T,restore:M};function M(){s=E,u.previous=R,u.currentConstruct=z,u.events.length=T,c=D,O()}}function O(){s.line in a&&s.column<2&&(s.column=a[s.line],s.offset+=a[s.line]-1)}}function Fb(e,n){const r=n.start._index,s=n.start._bufferIndex,a=n.end._index,o=n.end._bufferIndex;let l;if(r===a)l=[e[r].slice(s,o)];else{if(l=e.slice(r,a),s>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(s):l.shift()}o>0&&l.push(e[a].slice(0,o))}return l}function Hb(e,n){let r=-1;const s=[];let a;for(;++r<e.length;){const o=e[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=n?" ":"	";break}case-1:{if(!n&&a)continue;l=" ";break}default:l=String.fromCharCode(o)}a=o===-2,s.push(l)}return s.join("")}function Bb(e){const s={constructs:X0([Ib,...(e||{}).extensions||[]]),content:a(ry),defined:[],document:a(iy),flow:a(_b),lazy:{},string:a(Sb),text:a(Cb)};return s;function a(o){return l;function l(c){return Lb(s,o,c)}}}function Ub(e){for(;!Fh(e););return e}const Mc=/[\0\t\n\r]/g;function qb(){let e=1,n="",r=!0,s;return a;function a(o,l,c){const d=[];let u,h,f,p,m;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),f=0,n="",r&&(o.charCodeAt(0)===65279&&f++,r=void 0);f<o.length;){if(Mc.lastIndex=f,u=Mc.exec(o),p=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(p),!u){n=o.slice(f);break}if(m===10&&f===p&&s)d.push(-3),s=void 0;else switch(s&&(d.push(-5),s=void 0),f<p&&(d.push(o.slice(f,p)),e+=p-f),m){case 0:{d.push(65533),e++;break}case 9:{for(h=Math.ceil(e/4)*4,d.push(-2);e++<h;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:s=!0,e=1}f=p+1}return c&&(s&&d.push(-5),n&&d.push(n),d.push(null)),d}}const Wb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vb(e){return e.replace(Wb,Gb)}function Gb(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),o=a===120||a===88;return Mh(r.slice(o?2:1),o?16:10)}return al(r)||e}const Vh={}.hasOwnProperty;function Yb(e,n,r){return typeof n!="string"&&(r=n,n=void 0),Xb(r)(Ub(Bb(r).document().write(qb()(e,n,!0))))}function Xb(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(K),autolinkProtocol:P,autolinkEmail:P,atxHeading:o(Ve),blockQuote:o(se),characterEscape:P,characterReference:P,codeFenced:o(oe),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(oe,l),codeText:o(ie,l),codeTextData:P,data:P,codeFlowValue:P,definition:o(Se),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o($e),hardBreakEscape:o(L),hardBreakTrailing:o(L),htmlFlow:o(H,l),htmlFlowData:P,htmlText:o(H,l),htmlTextData:P,image:o(q),label:l,link:o(K),listItem:o(de),listItemValue:p,listOrdered:o(ae,f),listUnordered:o(ae),paragraph:o(ge),reference:I,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(Ve),strong:o(je),thematicBreak:o(Ge)},exit:{atxHeading:d(),atxHeadingSequence:j,autolink:d(),autolinkEmail:V,autolinkProtocol:Q,blockQuote:d(),characterEscapeValue:O,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:ue,characterReference:Ne,codeFenced:d(v),codeFencedFence:_,codeFencedFenceInfo:m,codeFencedFenceMeta:w,codeFlowValue:O,codeIndented:d(g),codeText:d(D),codeTextData:O,data:O,definition:d(),definitionDestinationString:y,definitionLabelString:x,definitionTitleString:b,emphasis:d(),hardBreakEscape:d(R),hardBreakTrailing:d(R),htmlFlow:d(z),htmlFlowData:O,htmlText:d(T),htmlTextData:O,image:d(B),label:W,labelText:X,lineEnding:E,link:d(M),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:ce,resourceDestinationString:$,resourceTitleString:Z,resource:J,setextHeading:d(C),setextHeadingLineSequence:S,setextHeadingText:k,strong:d(),thematicBreak:d()}};Gh(n,(e||{}).mdastExtensions||[]);const r={};return s;function s(Y){let te={type:"root",children:[]};const pe={stack:[te],tokenStack:[],config:n,enter:c,exit:u,buffer:l,resume:h,data:r},ye=[];let Ce=-1;for(;++Ce<Y.length;)if(Y[Ce][1].type==="listOrdered"||Y[Ce][1].type==="listUnordered")if(Y[Ce][0]==="enter")ye.push(Ce);else{const Je=ye.pop();Ce=a(Y,Je,Ce)}for(Ce=-1;++Ce<Y.length;){const Je=n[Y[Ce][0]];Vh.call(Je,Y[Ce][1].type)&&Je[Y[Ce][1].type].call(Object.assign({sliceSerialize:Y[Ce][2].sliceSerialize},pe),Y[Ce][1])}if(pe.tokenStack.length>0){const Je=pe.tokenStack[pe.tokenStack.length-1];(Je[1]||zc).call(pe,void 0,Je[0])}for(te.position={start:Nn(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Nn(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Ce=-1;++Ce<n.transforms.length;)te=n.transforms[Ce](te)||te;return te}function a(Y,te,pe){let ye=te-1,Ce=-1,Je=!1,Dt,Be,Ln,St;for(;++ye<=pe;){const st=Y[ye];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?Ce++:Ce--,St=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(Dt&&!St&&!Ce&&!Ln&&(Ln=ye),St=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:St=void 0}if(!Ce&&st[0]==="enter"&&st[1].type==="listItemPrefix"||Ce===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Dt){let it=ye;for(Be=void 0;it--;){const ht=Y[it];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;Be&&(Y[Be][1].type="lineEndingBlank",Je=!0),ht[1].type="lineEnding",Be=it}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}Ln&&(!Be||Ln<Be)&&(Dt._spread=!0),Dt.end=Object.assign({},Be?Y[Be][1].start:st[1].end),Y.splice(Be||ye,0,["exit",Dt,st[2]]),ye++,pe++}if(st[1].type==="listItemPrefix"){const it={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};Dt=it,Y.splice(ye,0,["enter",it,st[2]]),ye++,pe++,Ln=void 0,St=!0}}}return Y[te][1]._spread=Je,pe}function o(Y,te){return pe;function pe(ye){c.call(this,Y(ye),ye),te&&te.call(this,ye)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(Y,te,pe){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([te,pe||void 0]),Y.position={start:Nn(te.start),end:void 0}}function d(Y){return te;function te(pe){Y&&Y.call(this,pe),u.call(this,pe)}}function u(Y,te){const pe=this.stack.pop(),ye=this.tokenStack.pop();if(ye)ye[0].type!==Y.type&&(te?te.call(this,Y,ye[0]):(ye[1]||zc).call(this,Y,ye[0]));else throw new Error("Cannot close `"+Y.type+"` ("+ms({start:Y.start,end:Y.end})+"): its not open");pe.position.end=Nn(Y.end)}function h(){return G0(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(Y){if(this.data.expectingFirstListItemValue){const te=this.stack[this.stack.length-2];te.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.lang=Y}function w(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.meta=Y}function _(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.value=Y.replace(/(\r?\n|\r)$/g,"")}function x(Y){const te=this.resume(),pe=this.stack[this.stack.length-1];pe.label=te,pe.identifier=dr(this.sliceSerialize(Y)).toLowerCase()}function b(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.title=Y}function y(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.url=Y}function j(Y){const te=this.stack[this.stack.length-1];if(!te.depth){const pe=this.sliceSerialize(Y).length;te.depth=pe}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function S(Y){const te=this.stack[this.stack.length-1];te.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function P(Y){const pe=this.stack[this.stack.length-1].children;let ye=pe[pe.length-1];(!ye||ye.type!=="text")&&(ye=Te(),ye.position={start:Nn(Y.start),end:void 0},pe.push(ye)),this.stack.push(ye)}function O(Y){const te=this.stack.pop();te.value+=this.sliceSerialize(Y),te.position.end=Nn(Y.end)}function E(Y){const te=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=te.children[te.children.length-1];pe.position.end=Nn(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(te.type)&&(P.call(this,Y),O.call(this,Y))}function R(){this.data.atHardBreak=!0}function z(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.value=Y}function T(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.value=Y}function D(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.value=Y}function M(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=te,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function B(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const te=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=te,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function X(Y){const te=this.sliceSerialize(Y),pe=this.stack[this.stack.length-2];pe.label=Vb(te),pe.identifier=dr(te).toLowerCase()}function W(){const Y=this.stack[this.stack.length-1],te=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const ye=Y.children;pe.children=ye}else pe.alt=te}function $(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.url=Y}function Z(){const Y=this.resume(),te=this.stack[this.stack.length-1];te.title=Y}function J(){this.data.inReference=void 0}function I(){this.data.referenceType="collapsed"}function ce(Y){const te=this.resume(),pe=this.stack[this.stack.length-1];pe.label=te,pe.identifier=dr(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function we(Y){this.data.characterReferenceType=Y.type}function ue(Y){const te=this.sliceSerialize(Y),pe=this.data.characterReferenceType;let ye;pe?(ye=Mh(te,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ye=al(te);const Ce=this.stack[this.stack.length-1];Ce.value+=ye}function Ne(Y){const te=this.stack.pop();te.position.end=Nn(Y.end)}function Q(Y){O.call(this,Y);const te=this.stack[this.stack.length-1];te.url=this.sliceSerialize(Y)}function V(Y){O.call(this,Y);const te=this.stack[this.stack.length-1];te.url="mailto:"+this.sliceSerialize(Y)}function se(){return{type:"blockquote",children:[]}}function oe(){return{type:"code",lang:null,meta:null,value:""}}function ie(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function Ve(){return{type:"heading",depth:0,children:[]}}function L(){return{type:"break"}}function H(){return{type:"html",value:""}}function q(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function ae(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function de(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function ge(){return{type:"paragraph",children:[]}}function je(){return{type:"strong",children:[]}}function Te(){return{type:"text",value:""}}function Ge(){return{type:"thematicBreak"}}}function Nn(e){return{line:e.line,column:e.column,offset:e.offset}}function Gh(e,n){let r=-1;for(;++r<n.length;){const s=n[r];Array.isArray(s)?Gh(e,s):Kb(e,s)}}function Kb(e,n){let r;for(r in n)if(Vh.call(n,r))switch(r){case"canContainEols":{const s=n[r];s&&e[r].push(...s);break}case"transforms":{const s=n[r];s&&e[r].push(...s);break}case"enter":case"exit":{const s=n[r];s&&Object.assign(e[r],s);break}}}function zc(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+ms({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+ms({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+ms({start:n.start,end:n.end})+") is still open")}function Jb(e){const n=this;n.parser=r;function r(s){return Yb(s,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Qb(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function Zb(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function ev(e,n){const r=n.value?n.value+`
`:"",s={},a=n.lang?n.lang.split(/\s+/):[];a.length>0&&(s.className=["language-"+a[0]]);let o={type:"element",tagName:"code",properties:s,children:[{type:"text",value:r}]};return n.meta&&(o.data={meta:n.meta}),e.patch(n,o),o=e.applyData(n,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(n,o),o}function tv(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function nv(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function rv(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",s=String(n.identifier).toUpperCase(),a=Cr(s.toLowerCase()),o=e.footnoteOrder.indexOf(s);let l,c=e.footnoteCounts.get(s);c===void 0?(c=0,e.footnoteOrder.push(s),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(s,c);const d={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,d);const u={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(n,u),e.applyData(n,u)}function sv(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function iv(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function Yh(e,n){const r=n.referenceType;let s="]";if(r==="collapsed"?s+="[]":r==="full"&&(s+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+s}];const a=e.all(n),o=a[0];o&&o.type==="text"?o.value="["+o.value:a.unshift({type:"text",value:"["});const l=a[a.length-1];return l&&l.type==="text"?l.value+=s:a.push({type:"text",value:s}),a}function av(e,n){const r=String(n.identifier).toUpperCase(),s=e.definitionById.get(r);if(!s)return Yh(e,n);const a={src:Cr(s.url||""),alt:n.alt};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"img",properties:a,children:[]};return e.patch(n,o),e.applyData(n,o)}function ov(e,n){const r={src:Cr(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,s),e.applyData(n,s)}function lv(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const s={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,s),e.applyData(n,s)}function cv(e,n){const r=String(n.identifier).toUpperCase(),s=e.definitionById.get(r);if(!s)return Yh(e,n);const a={href:Cr(s.url||"")};s.title!==null&&s.title!==void 0&&(a.title=s.title);const o={type:"element",tagName:"a",properties:a,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function uv(e,n){const r={href:Cr(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const s={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,s),e.applyData(n,s)}function dv(e,n,r){const s=e.all(n),a=r?hv(r):Xh(n),o={},l=[];if(typeof n.checked=="boolean"){const h=s[0];let f;h&&h.type==="element"&&h.tagName==="p"?f=h:(f={type:"element",tagName:"p",properties:{},children:[]},s.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<s.length;){const h=s[c];(a||c!==0||h.type!=="element"||h.tagName!=="p")&&l.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!a?l.push(...h.children):l.push(h)}const d=s[s.length-1];d&&(a||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(n,u),e.applyData(n,u)}function hv(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let s=-1;for(;!n&&++s<r.length;)n=Xh(r[s])}return n}function Xh(e){const n=e.spread;return n??e.children.length>1}function fv(e,n){const r={},s=e.all(n);let a=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++a<s.length;){const l=s[a];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(s,!0)};return e.patch(n,o),e.applyData(n,o)}function pv(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function mv(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function gv(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function xv(e,n){const r=e.all(n),s=r.shift(),a=[];if(s){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([s],!0)};e.patch(n.children[0],l),a.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=nl(n.children[1]),d=Ph(n.children[n.children.length-1]);c&&d&&(l.position={start:c,end:d}),a.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(n,o),e.applyData(n,o)}function yv(e,n,r){const s=r?r.children:void 0,o=(s?s.indexOf(n):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:n.children.length;let d=-1;const u=[];for(;++d<c;){const f=n.children[d],p={},m=l?l[d]:void 0;m&&(p.align=m);let w={type:"element",tagName:o,properties:p,children:[]};f&&(w.children=e.all(f),e.patch(f,w),w=e.applyData(f,w)),u.push(w)}const h={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(n,h),e.applyData(n,h)}function bv(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const Ic=9,Lc=32;function vv(e){const n=String(e),r=/\r?\n|\r/g;let s=r.exec(n),a=0;const o=[];for(;s;)o.push(Fc(n.slice(a,s.index),a>0,!0),s[0]),a=s.index+s[0].length,s=r.exec(n);return o.push(Fc(n.slice(a),a>0,!1)),o.join("")}function Fc(e,n,r){let s=0,a=e.length;if(n){let o=e.codePointAt(s);for(;o===Ic||o===Lc;)s++,o=e.codePointAt(s)}if(r){let o=e.codePointAt(a-1);for(;o===Ic||o===Lc;)a--,o=e.codePointAt(a-1)}return a>s?e.slice(s,a):""}function wv(e,n){const r={type:"text",value:vv(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function jv(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const _v={blockquote:Qb,break:Zb,code:ev,delete:tv,emphasis:nv,footnoteReference:rv,heading:sv,html:iv,imageReference:av,image:ov,inlineCode:lv,linkReference:cv,link:uv,listItem:dv,list:fv,paragraph:pv,root:mv,strong:gv,table:xv,tableCell:bv,tableRow:yv,text:wv,thematicBreak:jv,toml:ei,yaml:ei,definition:ei,footnoteDefinition:ei};function ei(){}const Kh=-1,ua=0,xs=1,Di=2,cl=3,ul=4,dl=5,hl=6,Jh=7,Qh=8,Hc=typeof self=="object"?self:globalThis,Nv=(e,n)=>{const r=(a,o)=>(e.set(o,a),a),s=a=>{if(e.has(a))return e.get(a);const[o,l]=n[a];switch(o){case ua:case Kh:return r(l,a);case xs:{const c=r([],a);for(const d of l)c.push(s(d));return c}case Di:{const c=r({},a);for(const[d,u]of l)c[s(d)]=s(u);return c}case cl:return r(new Date(l),a);case ul:{const{source:c,flags:d}=l;return r(new RegExp(c,d),a)}case dl:{const c=r(new Map,a);for(const[d,u]of l)c.set(s(d),s(u));return c}case hl:{const c=r(new Set,a);for(const d of l)c.add(s(d));return c}case Jh:{const{name:c,message:d}=l;return r(new Hc[c](d),a)}case Qh:return r(BigInt(l),a);case"BigInt":return r(Object(BigInt(l)),a);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return r(new DataView(c),l)}}return r(new Hc[o](l),a)};return s},Bc=e=>Nv(new Map,e)(0),tr="",{toString:kv}={},{keys:Sv}=Object,zr=e=>{const n=typeof e;if(n!=="object"||!e)return[ua,n];const r=kv.call(e).slice(8,-1);switch(r){case"Array":return[xs,tr];case"Object":return[Di,tr];case"Date":return[cl,tr];case"RegExp":return[ul,tr];case"Map":return[dl,tr];case"Set":return[hl,tr];case"DataView":return[xs,r]}return r.includes("Array")?[xs,r]:r.includes("Error")?[Jh,r]:[Di,r]},ti=([e,n])=>e===ua&&(n==="function"||n==="symbol"),Cv=(e,n,r,s)=>{const a=(l,c)=>{const d=s.push(l)-1;return r.set(c,d),d},o=l=>{if(r.has(l))return r.get(l);let[c,d]=zr(l);switch(c){case ua:{let h=l;switch(d){case"bigint":c=Qh,h=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);h=null;break;case"undefined":return a([Kh],l)}return a([c,h],l)}case xs:{if(d){let p=l;return d==="DataView"?p=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(p=new Uint8Array(l)),a([d,[...p]],l)}const h=[],f=a([c,h],l);for(const p of l)h.push(o(p));return f}case Di:{if(d)switch(d){case"BigInt":return a([d,l.toString()],l);case"Boolean":case"Number":case"String":return a([d,l.valueOf()],l)}if(n&&"toJSON"in l)return o(l.toJSON());const h=[],f=a([c,h],l);for(const p of Sv(l))(e||!ti(zr(l[p])))&&h.push([o(p),o(l[p])]);return f}case cl:return a([c,l.toISOString()],l);case ul:{const{source:h,flags:f}=l;return a([c,{source:h,flags:f}],l)}case dl:{const h=[],f=a([c,h],l);for(const[p,m]of l)(e||!(ti(zr(p))||ti(zr(m))))&&h.push([o(p),o(m)]);return f}case hl:{const h=[],f=a([c,h],l);for(const p of l)(e||!ti(zr(p)))&&h.push(o(p));return f}}const{message:u}=l;return a([c,{name:d,message:u}],l)};return o},Uc=(e,{json:n,lossy:r}={})=>{const s=[];return Cv(!(n||r),!!n,new Map,s)(e),s},$i=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?Bc(Uc(e,n)):structuredClone(e):(e,n)=>Bc(Uc(e,n));function Ev(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function Pv(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function Av(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||Ev,s=e.options.footnoteBackLabel||Pv,a=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[d]);if(!u)continue;const h=e.all(u),f=String(u.identifier).toUpperCase(),p=Cr(f.toLowerCase());let m=0;const w=[],_=e.footnoteCounts.get(f);for(;_!==void 0&&++m<=_;){w.length>0&&w.push({type:"text",value:" "});let x=typeof r=="string"?r:r(d,m);typeof x=="string"&&(x={type:"text",value:x}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof s=="string"?s:s(d,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const v=h[h.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const x=v.children[v.children.length-1];x&&x.type==="text"?x.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...w)}else h.push(...w);const g={type:"element",tagName:"li",properties:{id:n+"fn-"+p},children:e.wrap(h,!0)};e.patch(u,g),c.push(g)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$i(l),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const Zh=(function(e){if(e==null)return Dv;if(typeof e=="function")return da(e);if(typeof e=="object")return Array.isArray(e)?Rv(e):Ov(e);if(typeof e=="string")return Tv(e);throw new Error("Expected function, string, or object as test")});function Rv(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=Zh(e[r]);return da(s);function s(...a){let o=-1;for(;++o<n.length;)if(n[o].apply(this,a))return!0;return!1}}function Ov(e){const n=e;return da(r);function r(s){const a=s;let o;for(o in e)if(a[o]!==n[o])return!1;return!0}}function Tv(e){return da(n);function n(r){return r&&r.type===e}}function da(e){return n;function n(r,s,a){return!!($v(r)&&e.call(this,r,typeof s=="number"?s:void 0,a||void 0))}}function Dv(){return!0}function $v(e){return e!==null&&typeof e=="object"&&"type"in e}const ef=[],Mv=!0,qc=!1,zv="skip";function Iv(e,n,r,s){let a;typeof n=="function"&&typeof r!="function"?(s=r,r=n):a=n;const o=Zh(a),l=s?-1:1;c(e,void 0,[])();function c(d,u,h){const f=d&&typeof d=="object"?d:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(d.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=ef,w,_,v;if((!n||o(d,u,h[h.length-1]||void 0))&&(m=Lv(r(d,h)),m[0]===qc))return m;if("children"in d&&d.children){const g=d;if(g.children&&m[0]!==zv)for(_=(s?g.children.length:-1)+l,v=h.concat(g);_>-1&&_<g.children.length;){const x=g.children[_];if(w=c(x,_,v)(),w[0]===qc)return w;_=typeof w[1]=="number"?w[1]:_+l}}return m}}}function Lv(e){return Array.isArray(e)?e:typeof e=="number"?[Mv,e]:e==null?ef:[e]}function tf(e,n,r,s){let a,o,l;typeof n=="function"&&typeof r!="function"?(o=void 0,l=n,a=r):(o=n,l=r,a=s),Iv(e,o,c,a);function c(d,u){const h=u[u.length-1],f=h?h.children.indexOf(d):void 0;return l(d,f,h)}}const xo={}.hasOwnProperty,Fv={};function Hv(e,n){const r=n||Fv,s=new Map,a=new Map,o=new Map,l={..._v,...r.handlers},c={all:u,applyData:Uv,definitionById:s,footnoteById:a,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:r,patch:Bv,wrap:Wv};return tf(e,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const f=h.type==="definition"?s:a,p=String(h.identifier).toUpperCase();f.has(p)||f.set(p,h)}}),c;function d(h,f){const p=h.type,m=c.handlers[p];if(xo.call(c.handlers,p)&&m)return m(c,h,f);if(c.options.passThrough&&c.options.passThrough.includes(p)){if("children"in h){const{children:_,...v}=h,g=$i(v);return g.children=c.all(h),g}return $i(h)}return(c.options.unknownHandler||qv)(c,h,f)}function u(h){const f=[];if("children"in h){const p=h.children;let m=-1;for(;++m<p.length;){const w=c.one(p[m],h);if(w){if(m&&p[m-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=Wc(w.value)),!Array.isArray(w)&&w.type==="element")){const _=w.children[0];_&&_.type==="text"&&(_.value=Wc(_.value))}Array.isArray(w)?f.push(...w):f.push(w)}}}return f}}function Bv(e,n){e.position&&(n.position=k0(e))}function Uv(e,n){let r=n;if(e&&e.data){const s=e.data.hName,a=e.data.hChildren,o=e.data.hProperties;if(typeof s=="string")if(r.type==="element")r.tagName=s;else{const l="children"in r?r.children:[r];r={type:"element",tagName:s,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,$i(o)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function qv(e,n){const r=n.data||{},s="value"in n&&!(xo.call(r,"hProperties")||xo.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,s),e.applyData(n,s)}function Wv(e,n){const r=[];let s=-1;for(n&&r.push({type:"text",value:`
`});++s<e.length;)s&&r.push({type:"text",value:`
`}),r.push(e[s]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function Wc(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function Vc(e,n){const r=Hv(e,n),s=r.one(e,void 0),a=Av(r),o=Array.isArray(s)?{type:"root",children:s}:s||{type:"root",children:[]};return a&&o.children.push({type:"text",value:`
`},a),o}function Vv(e,n){return e&&"run"in e?async function(r,s){const a=Vc(r,{file:s,...n});await e.run(a,s)}:function(r,s){return Vc(r,{file:s,...e||n})}}function Gc(e){if(e)throw e}var Da,Yc;function Gv(){if(Yc)return Da;Yc=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,s=Object.getOwnPropertyDescriptor,a=function(u){return typeof Array.isArray=="function"?Array.isArray(u):n.call(u)==="[object Array]"},o=function(u){if(!u||n.call(u)!=="[object Object]")return!1;var h=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!h&&!f)return!1;var p;for(p in u);return typeof p>"u"||e.call(u,p)},l=function(u,h){r&&h.name==="__proto__"?r(u,h.name,{enumerable:!0,configurable:!0,value:h.newValue,writable:!0}):u[h.name]=h.newValue},c=function(u,h){if(h==="__proto__")if(e.call(u,h)){if(s)return s(u,h).value}else return;return u[h]};return Da=function d(){var u,h,f,p,m,w,_=arguments[0],v=1,g=arguments.length,x=!1;for(typeof _=="boolean"&&(x=_,_=arguments[1]||{},v=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});v<g;++v)if(u=arguments[v],u!=null)for(h in u)f=c(_,h),p=c(u,h),_!==p&&(x&&p&&(o(p)||(m=a(p)))?(m?(m=!1,w=f&&a(f)?f:[]):w=f&&o(f)?f:{},l(_,{name:h,newValue:d(x,w,p)})):typeof p<"u"&&l(_,{name:h,newValue:p}));return _},Da}var Yv=Gv();const $a=Qi(Yv);function yo(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Xv(){const e=[],n={run:r,use:s};return n;function r(...a){let o=-1;const l=a.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...a);function c(d,...u){const h=e[++o];let f=-1;if(d){l(d);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,h?Kv(h,c)(...u):l(null,...u)}}function s(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),n}}function Kv(e,n){let r;return s;function s(...l){const c=e.length>l.length;let d;c&&l.push(a);try{d=e.apply(this,l)}catch(u){const h=u;if(c&&r)throw h;return a(h)}c||(d&&d.then&&typeof d.then=="function"?d.then(o,a):d instanceof Error?a(d):o(d))}function a(l,...c){r||(r=!0,n(l,...c))}function o(l){a(null,l)}}const Xt={basename:Jv,dirname:Qv,extname:Zv,join:ew,sep:"/"};function Jv(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Fs(e);let r=0,s=-1,a=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(o){r=a+1;break}}else s<0&&(o=!0,s=a+1);return s<0?"":e.slice(r,s)}if(n===e)return"";let l=-1,c=n.length-1;for(;a--;)if(e.codePointAt(a)===47){if(o){r=a+1;break}}else l<0&&(o=!0,l=a+1),c>-1&&(e.codePointAt(a)===n.codePointAt(c--)?c<0&&(s=a):(c=-1,s=l));return r===s?s=l:s<0&&(s=e.length),e.slice(r,s)}function Qv(e){if(Fs(e),e.length===0)return".";let n=-1,r=e.length,s;for(;--r;)if(e.codePointAt(r)===47){if(s){n=r;break}}else s||(s=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Zv(e){Fs(e);let n=e.length,r=-1,s=0,a=-1,o=0,l;for(;n--;){const c=e.codePointAt(n);if(c===47){if(l){s=n+1;break}continue}r<0&&(l=!0,r=n+1),c===46?a<0?a=n:o!==1&&(o=1):a>-1&&(o=-1)}return a<0||r<0||o===0||o===1&&a===r-1&&a===s+1?"":e.slice(a,r)}function ew(...e){let n=-1,r;for(;++n<e.length;)Fs(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":tw(r)}function tw(e){Fs(e);const n=e.codePointAt(0)===47;let r=nw(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function nw(e,n){let r="",s=0,a=-1,o=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(a===l-1||o===1))if(a!==l-1&&o===2){if(r.length<2||s!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(d=r.lastIndexOf("/"),d!==r.length-1){d<0?(r="",s=0):(r=r.slice(0,d),s=r.length-1-r.lastIndexOf("/")),a=l,o=0;continue}}else if(r.length>0){r="",s=0,a=l,o=0;continue}}n&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),s=l-a-1;a=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function Fs(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const rw={cwd:sw};function sw(){return"/"}function bo(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function iw(e){if(typeof e=="string")e=new URL(e);else if(!bo(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return aw(e)}function aw(e){if(e.hostname!==""){const s=new TypeError('File URL host must be "localhost" or empty on darwin');throw s.code="ERR_INVALID_FILE_URL_HOST",s}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const s=n.codePointAt(r+2);if(s===70||s===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(n)}const Ma=["history","path","basename","stem","extname","dirname"];class nf{constructor(n){let r;n?bo(n)?r={path:n}:typeof n=="string"||ow(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":rw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let s=-1;for(;++s<Ma.length;){const o=Ma[s];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let a;for(a in r)Ma.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Xt.basename(this.path):void 0}set basename(n){Ia(n,"basename"),za(n,"basename"),this.path=Xt.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?Xt.dirname(this.path):void 0}set dirname(n){Xc(this.basename,"dirname"),this.path=Xt.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?Xt.extname(this.path):void 0}set extname(n){if(za(n,"extname"),Xc(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Xt.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){bo(n)&&(n=iw(n)),Ia(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?Xt.basename(this.path,this.extname):void 0}set stem(n){Ia(n,"stem"),za(n,"stem"),this.path=Xt.join(this.dirname||"",n+(this.extname||""))}fail(n,r,s){const a=this.message(n,r,s);throw a.fatal=!0,a}info(n,r,s){const a=this.message(n,r,s);return a.fatal=void 0,a}message(n,r,s){const a=new rt(n,r,s);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function za(e,n){if(e&&e.includes(Xt.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+Xt.sep+"`")}function Ia(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function Xc(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function ow(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lw=(function(e){const s=this.constructor.prototype,a=s[e],o=function(){return a.apply(o,arguments)};return Object.setPrototypeOf(o,s),o}),cw={}.hasOwnProperty;class fl extends lw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Xv()}copy(){const n=new fl;let r=-1;for(;++r<this.attachers.length;){const s=this.attachers[r];n.use(...s)}return n.data($a(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(Ha("data",this.frozen),this.namespace[n]=r,this):cw.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Ha("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...s]=this.attachers[this.freezeIndex];if(s[0]===!1)continue;s[0]===!0&&(s[0]=void 0);const a=r.call(n,...s);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=ni(n),s=this.parser||this.Parser;return La("parse",s),s(String(r),r)}process(n,r){const s=this;return this.freeze(),La("process",this.parser||this.Parser),Fa("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(o,l){const c=ni(n),d=s.parse(c);s.run(d,c,function(h,f,p){if(h||!f||!p)return u(h);const m=f,w=s.stringify(m,p);hw(w)?p.value=w:p.result=w,u(h,p)});function u(h,f){h||!f?l(h):o?o(f):r(void 0,f)}}}processSync(n){let r=!1,s;return this.freeze(),La("processSync",this.parser||this.Parser),Fa("processSync",this.compiler||this.Compiler),this.process(n,a),Jc("processSync","process",r),s;function a(o,l){r=!0,Gc(o),s=l}}run(n,r,s){Kc(n),this.freeze();const a=this.transformers;return!s&&typeof r=="function"&&(s=r,r=void 0),s?o(void 0,s):new Promise(o);function o(l,c){const d=ni(r);a.run(n,d,u);function u(h,f,p){const m=f||n;h?c(h):l?l(m):s(void 0,m,p)}}}runSync(n,r){let s=!1,a;return this.run(n,r,o),Jc("runSync","run",s),a;function o(l,c){Gc(l),a=c,s=!0}}stringify(n,r){this.freeze();const s=ni(r),a=this.compiler||this.Compiler;return Fa("stringify",a),Kc(n),a(n,s)}use(n,...r){const s=this.attachers,a=this.namespace;if(Ha("use",this.frozen),n!=null)if(typeof n=="function")d(n,r);else if(typeof n=="object")Array.isArray(n)?c(n):l(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(u){if(typeof u=="function")d(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[h,...f]=u;d(h,f)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(u.plugins),u.settings&&(a.settings=$a(!0,a.settings,u.settings))}function c(u){let h=-1;if(u!=null)if(Array.isArray(u))for(;++h<u.length;){const f=u[h];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function d(u,h){let f=-1,p=-1;for(;++f<s.length;)if(s[f][0]===u){p=f;break}if(p===-1)s.push([u,...h]);else if(h.length>0){let[m,...w]=h;const _=s[p][1];yo(_)&&yo(m)&&(m=$a(!0,_,m)),s[p]=[u,m,...w]}}}}const uw=new fl().freeze();function La(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Fa(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ha(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Kc(e){if(!yo(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function Jc(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function ni(e){return dw(e)?e:new nf(e)}function dw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function hw(e){return typeof e=="string"||fw(e)}function fw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const pw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Qc=[],Zc={allowDangerousHtml:!0},mw=/^(https?|ircs?|mailto|xmpp)$/i,gw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xw(e){const n=yw(e),r=bw(e);return vw(n.runSync(n.parse(r),r),e)}function yw(e){const n=e.rehypePlugins||Qc,r=e.remarkPlugins||Qc,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...Zc}:Zc;return uw().use(Jb).use(r).use(Vv,s).use(n)}function bw(e){const n=e.children||"",r=new nf;return typeof n=="string"&&(r.value=n),r}function vw(e,n){const r=n.allowedElements,s=n.allowElement,a=n.components,o=n.disallowedElements,l=n.skipHtml,c=n.unwrapDisallowed,d=n.urlTransform||ww;for(const h of gw)Object.hasOwn(n,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+pw+h.id,void 0);return tf(e,u),A0(e,{Fragment:i.Fragment,components:a,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function u(h,f,p){if(h.type==="raw"&&p&&typeof f=="number")return l?p.children.splice(f,1):p.children[f]={type:"text",value:h.value},f;if(h.type==="element"){let m;for(m in Ra)if(Object.hasOwn(Ra,m)&&Object.hasOwn(h.properties,m)){const w=h.properties[m],_=Ra[m];(_===null||_.includes(h.tagName))&&(h.properties[m]=d(String(w||""),m,h))}}if(h.type==="element"){let m=r?!r.includes(h.tagName):o?o.includes(h.tagName):!1;if(!m&&s&&typeof f=="number"&&(m=!s(h,f,p)),m&&p&&typeof f=="number")return c&&h.children?p.children.splice(f,1,...h.children):p.children.splice(f,1),f}}}function ww(e){const n=e.indexOf(":"),r=e.indexOf("?"),s=e.indexOf("#"),a=e.indexOf("/");return n===-1||a!==-1&&n>a||r!==-1&&n>r||s!==-1&&n>s||mw.test(e.slice(0,n))?e:""}const jw=({message:e})=>{const n=e.role==="user";return i.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[i.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${n?"bg-cyan-600":"bg-gradient-to-br from-purple-600 to-indigo-600"}`,children:n?i.jsx(Ho,{className:"w-4 h-4 text-white"}):i.jsx(um,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:`flex-1 max-w-[80%] ${n?"text-right":"text-left"}`,children:[i.jsx("div",{className:`inline-block p-3 rounded-lg ${n?"bg-cyan-600 text-white rounded-tr-sm":"bg-gray-700 text-gray-100 rounded-tl-sm"}`,children:n?i.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}):i.jsxs("div",{className:"text-sm prose prose-sm prose-invert max-w-none",children:[i.jsx(xw,{components:{a:({href:r,children:s})=>i.jsx("a",{href:r,className:"text-cyan-400 hover:text-cyan-300 underline",onClick:a=>{r!=null&&r.startsWith("/")&&(a.preventDefault(),window.location.href=r)},children:s}),code:({className:r,children:s})=>!r?i.jsx("code",{className:"bg-gray-800 px-1 py-0.5 rounded text-cyan-300 text-xs",children:s}):i.jsx("code",{className:"block bg-gray-800 p-2 rounded text-xs overflow-x-auto",children:s}),ul:({children:r})=>i.jsx("ul",{className:"list-disc list-inside space-y-1 my-2",children:r}),ol:({children:r})=>i.jsx("ol",{className:"list-decimal list-inside space-y-1 my-2",children:r}),p:({children:r})=>i.jsx("p",{className:"mb-2 last:mb-0",children:r})},children:e.content}),e.isStreaming&&i.jsx("span",{className:"inline-block w-2 h-4 bg-cyan-400 animate-pulse ml-1"})]})}),i.jsx("div",{className:`text-xs text-gray-500 mt-1 ${n?"text-right":"text-left"}`,children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},_w=({onSend:e,isLoading:n,disabled:r})=>{const[s,a]=A.useState(""),o=A.useRef(null);A.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${Math.min(o.current.scrollHeight,120)}px`)},[s]);const l=d=>{d.preventDefault(),s.trim()&&!n&&!r&&(e(s.trim()),a(""),o.current&&(o.current.style.height="auto"))},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),l(d))};return i.jsxs("form",{onSubmit:l,className:"flex items-end gap-2",children:[i.jsx("div",{className:"flex-1 relative",children:i.jsx("textarea",{ref:o,value:s,onChange:d=>a(d.target.value),onKeyDown:c,placeholder:"Ask anything about your security data...",disabled:n||r,className:`w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg
                     text-white placeholder-gray-400 resize-none
                     focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent
                     disabled:opacity-50 disabled:cursor-not-allowed
                     text-sm min-h-[40px] max-h-[120px]`,rows:1})}),i.jsx("button",{type:"submit",disabled:!s.trim()||n||r,className:`flex-shrink-0 p-2 bg-cyan-600 hover:bg-cyan-700
                   disabled:bg-gray-600 disabled:cursor-not-allowed
                   rounded-lg transition-colors`,children:n?i.jsx(Rs,{className:"w-5 h-5 text-white animate-spin"}):i.jsx(dm,{className:"w-5 h-5 text-white"})})]})},Nw=()=>{const e=Lo(),n=A.useRef(null),{messages:r,conversationId:s,isLoading:a,error:o,addMessage:l,appendToLastMessage:c,finalizeLastMessage:d,setLoading:u,setError:h,setConversationId:f}=wh();A.useEffect(()=>{var m;(m=n.current)==null||m.scrollIntoView({behavior:"smooth"})},[r]);const p=async m=>{const w={id:crypto.randomUUID(),role:"user",content:m,timestamp:new Date().toISOString()};l(w);const _={id:crypto.randomUUID(),role:"assistant",content:"",timestamp:new Date().toISOString(),isStreaming:!0};l(_),u(!0),h(null);try{await t0.sendMessage(m,s,e.pathname,v=>{c(v)},v=>{f(v)},()=>{d(),u(!1)},v=>{h(v),d(),u(!1)})}catch(v){h(v instanceof Error?v.message:"Failed to send message"),u(!1)}};return i.jsxs("div",{className:"flex flex-col h-full",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center mb-4",children:i.jsx(hm,{className:"w-6 h-6 text-white"})}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Zeus"}),i.jsx("p",{className:"text-sm text-gray-400 max-w-xs",children:"I have access to your security data and can help you understand vulnerabilities, plan scans, and navigate the platform."}),i.jsxs("div",{className:"mt-4 space-y-2 text-xs text-gray-500",children:[i.jsx("p",{children:"Try asking:"}),i.jsxs("ul",{className:"space-y-1",children:[i.jsx("li",{children:'"What are my most critical vulnerabilities?"'}),i.jsx("li",{children:'"How do I start a new scan?"'}),i.jsx("li",{children:'"Explain CVE-2024-1234 to me"'})]})]})]}):i.jsx(i.Fragment,{children:r.map(m=>i.jsx(jw,{message:m},m.id))}),i.jsx("div",{ref:n})]}),o&&i.jsxs("div",{className:"mx-4 mb-2 p-2 bg-red-900/50 border border-red-700 rounded-lg flex items-center gap-2 text-sm text-red-300",children:[i.jsx(fm,{className:"w-4 h-4 flex-shrink-0"}),i.jsx("span",{children:o})]}),i.jsx("div",{className:"p-4 border-t border-gray-700",children:i.jsx(_w,{onSend:p,isLoading:a})})]})},kw=()=>{const{isOpen:e,isMinimized:n,messages:r,setOpen:s,setMinimized:a,startNewConversation:o}=wh();if(!Xn(h=>h.isAuthenticated))return null;const c=()=>{s(!1),a(!1)},d=()=>{a(!0)},u=()=>{o()};return!e||n?i.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:i.jsxs("button",{onClick:()=>{s(!0),a(!1)},className:`group relative w-14 h-14 bg-gradient-to-br from-purple-600 to-indigo-600
                     hover:from-purple-500 hover:to-indigo-500
                     text-white rounded-full shadow-lg
                     flex items-center justify-center transition-all duration-200
                     hover:scale-105 hover:shadow-xl`,"aria-label":"Open Zeus AI Assistant",children:[i.jsx(Il,{className:"w-6 h-6"}),r.length>0&&i.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full
                           text-xs font-medium flex items-center justify-center`,children:r.length>99?"99+":r.length}),i.jsx("span",{className:`absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-800 text-white
                         text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity
                         whitespace-nowrap pointer-events-none`,children:"Zeus"})]})}):i.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:i.jsxs("div",{className:`w-96 h-[500px] bg-gray-800 border border-gray-700
                      rounded-lg shadow-2xl flex flex-col overflow-hidden
                      animate-in slide-in-from-bottom-4 duration-200`,children:[i.jsxs("div",{className:`flex items-center justify-between px-4 py-3
                        bg-gradient-to-r from-purple-600 to-indigo-600`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Il,{className:"w-5 h-5 text-white"}),i.jsx("span",{className:"font-medium text-white",children:"Zeus"})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:u,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"New conversation",children:i.jsx(Hd,{className:"w-4 h-4"})}),i.jsx("button",{onClick:d,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Minimize",children:i.jsx(Bd,{className:"w-4 h-4"})}),i.jsx("button",{onClick:c,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Close",children:i.jsx(Tt,{className:"w-4 h-4"})})]})]}),i.jsx(Nw,{})]})})},Sw=({children:e})=>i.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors",children:[i.jsx(e0,{}),i.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e}),i.jsx(kw,{})]}),ar=({id:e,label:n,checked:r,onChange:s,className:a="",disabled:o=!1})=>i.jsxs("label",{className:`inline-flex items-center ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"} ${a}`,children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:e,type:"checkbox",checked:r,onChange:l=>s(l.target.checked),disabled:o,className:"sr-only"}),i.jsx("div",{className:`
            w-5 h-5 border-2 rounded transition-all
            ${r?"bg-primary border-primary":"bg-light-surface dark:bg-dark-surface border-light-border dark:border-dark-border hover:border-primary"}
          `,children:r&&i.jsx(fr,{className:"h-full w-full text-white p-0.5"})})]}),n&&i.jsx("span",{className:"ml-2 text-sm text-slate-700 dark:text-slate-300",children:n})]}),xe=({children:e,variant:n="default",className:r="",onClick:s})=>{const a="bg-dark-surface border border-dark-border rounded-lg p-4 shadow-lg",o={default:"",interactive:"cursor-pointer hover:border-primary hover:shadow-xl transition-all duration-200"};return i.jsx("div",{className:`${a} ${o[n]} ${r}`,onClick:s,children:e})},Cw=({selectedTagIds:e,onChange:n,existingTags:r,onTagsChange:s})=>{const[a,o]=A.useState(!1),[l,c]=A.useState(""),[d,u]=A.useState([]),[h,f]=A.useState(!1),[p,m]=A.useState(""),[w,_]=A.useState("#06b6d4"),[v,g]=A.useState(!1),x=A.useRef(null),b=["#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444","#ec4899","#3b82f6","#84cc16"];A.useEffect(()=>{y()},[]),A.useEffect(()=>{const E=R=>{x.current&&!x.current.contains(R.target)&&(o(!1),f(!1))};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const y=async()=>{try{const E=await It.getSuggestions();u(E.data)}catch(E){console.error("Failed to load tag suggestions:",E)}},j=r.filter(E=>e.includes(E.id)),k=r.filter(E=>!e.includes(E.id)&&E.name.toLowerCase().includes(l.toLowerCase())),S=d.reduce((E,R)=>(E[R.category]||(E[R.category]=[]),!r.some(T=>T.name.toLowerCase()===R.name.toLowerCase())&&R.name.toLowerCase().includes(l.toLowerCase())&&E[R.category].push(R),E),{}),C=E=>{e.includes(E)?n(e.filter(R=>R!==E)):n([...e,E])},P=async E=>{g(!0);try{const z=(await It.create({name:E.name,color:E.color})).data;s&&s([...r,z]),n([...e,z.id]),c("")}catch(R){console.error("Failed to create tag:",R)}finally{g(!1)}},O=async()=>{if(p.trim()){g(!0);try{const R=(await It.create({name:p.trim(),color:w})).data;s&&s([...r,R]),n([...e,R.id]),m(""),f(!1)}catch(E){console.error("Failed to create tag:",E)}finally{g(!1)}}};return i.jsxs("div",{className:"relative",ref:x,children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(js,{className:"h-4 w-4 text-primary"}),"Tags (Optional)"]})}),i.jsxs("div",{className:"min-h-[42px] px-3 py-2 bg-dark-surface border border-dark-border rounded-lg cursor-pointer flex flex-wrap gap-2 items-center",onClick:()=>o(!a),children:[j.length>0?i.jsx(i.Fragment,{children:j.map(E=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-sm",style:{backgroundColor:E.color+"20",color:E.color},children:[E.name,i.jsx("button",{type:"button",onClick:R=>{R.stopPropagation(),C(E.id)},className:"hover:opacity-70",children:i.jsx(Tt,{className:"h-3 w-3"})})]},E.id))}):i.jsx("span",{className:"text-slate-500",children:"Click to add tags..."}),i.jsx(Nt,{className:`h-4 w-4 text-slate-400 ml-auto transition-transform ${a?"rotate-180":""}`})]}),a&&i.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-dark-bg border border-dark-border rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[i.jsx("div",{className:"p-2 border-b border-dark-border",children:i.jsx("input",{type:"text",placeholder:"Search or create tags...",value:l,onChange:E=>c(E.target.value),className:"w-full px-3 py-1.5 bg-dark-surface border border-dark-border rounded text-sm text-white focus:outline-none focus:border-primary",autoFocus:!0})}),i.jsxs("div",{className:"p-2 space-y-3",children:[k.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Your Tags"}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.map(E=>i.jsxs("button",{type:"button",onClick:()=>C(E.id),className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm transition-opacity hover:opacity-80",style:{backgroundColor:E.color+"20",color:E.color},children:[i.jsx(Tn,{className:"h-3 w-3"}),E.name]},E.id))})]}),Object.entries(S).map(([E,R])=>R.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:E}),i.jsx("div",{className:"flex flex-wrap gap-1.5",children:R.map(z=>i.jsxs("button",{type:"button",onClick:()=>P(z),disabled:v,className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm transition-opacity hover:opacity-80 disabled:opacity-50",style:{backgroundColor:z.color+"15",color:z.color,border:`1px dashed ${z.color}40`},children:[i.jsx(Tn,{className:"h-3 w-3"}),z.name]},z.name))})]},E)),h?i.jsxs("div",{className:"space-y-2 p-2 bg-dark-surface rounded-lg",children:[i.jsx("input",{type:"text",placeholder:"Tag name",value:p,onChange:E=>m(E.target.value),className:"w-full px-3 py-1.5 bg-dark-bg border border-dark-border rounded text-sm text-white focus:outline-none focus:border-primary",autoFocus:!0}),i.jsx("div",{className:"flex gap-1",children:b.map(E=>i.jsx("button",{type:"button",onClick:()=>_(E),className:`w-6 h-6 rounded-full border-2 ${w===E?"border-white":"border-transparent"}`,style:{backgroundColor:E}},E))}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:O,disabled:!p.trim()||v,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary/80 disabled:opacity-50",children:"Create"}),i.jsx("button",{type:"button",onClick:()=>{f(!1),m("")},className:"px-3 py-1.5 bg-dark-bg border border-dark-border text-slate-400 rounded text-sm hover:text-white",children:"Cancel"})]})]}):i.jsxs("button",{type:"button",onClick:()=>{f(!0),l&&m(l)},className:"w-full px-3 py-2 text-sm text-slate-400 border border-dashed border-dark-border rounded hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2",children:[i.jsx(Tn,{className:"h-4 w-4"}),"Create new tag",l?`: "${l}"`:""]})]})]})]})},ri={quick:{label:"Quick",icon:us,color:"text-yellow-400",description:"Fast, lightweight scans"},standard:{label:"Standard",icon:pr,color:"text-blue-400",description:"Balanced scanning approach"},comprehensive:{label:"Comprehensive",icon:Pe,color:"text-green-400",description:"Thorough security assessment"},web:{label:"Web",icon:Dn,color:"text-purple-400",description:"Web application focused"},stealth:{label:"Stealth",icon:Ud,color:"text-orange-400",description:"Low-profile reconnaissance"},custom:{label:"Custom",icon:ct,color:"text-slate-400",description:"User-defined templates"}},Ew=({onSelect:e,selectedTemplateId:n,className:r=""})=>{const[s,a]=A.useState([]),[o,l]=A.useState([]),[c,d]=A.useState(null),[u,h]=A.useState(!0),[f,p]=A.useState(!1),[m,w]=A.useState(null),[_,v]=A.useState("all");A.useEffect(()=>{g()},[]);const g=async()=>{try{h(!0);const[E,R,z]=await Promise.all([ps.getAll(),ps.getSystem(),ps.getDefault().catch(()=>({data:null}))]);a(E.data),l(R.data),d(z.data)}catch(E){console.error("Failed to load templates:",E),ee.error("Failed to load scan templates")}finally{h(!1)}},x=[...o,...s],b=_==="all"?x:x.filter(E=>E.category===_),y=x.find(E=>E.id===n),j=E=>{e(E),p(!1),w(null),ee.success(`Applied "${E.name}" template`)},k=()=>{e(null),p(!1),w(null)},S=E=>{var R;return((R=ri[E])==null?void 0:R.icon)||ct},C=E=>{var R;return((R=ri[E])==null?void 0:R.color)||"text-slate-400"},P=E=>{if(!E)return null;if(E<60)return`~${E}m`;const R=Math.floor(E/60),z=E%60;return z>0?`~${R}h ${z}m`:`~${R}h`},O=E=>{const R=[];return E.enable_os_detection&&R.push("OS Detection"),E.enable_service_detection&&R.push("Service Detection"),E.enable_vuln_scan&&R.push("Vulnerability Scan"),E.enable_enumeration&&R.push(`Enumeration (${E.enum_depth||"light"})`),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"text-slate-400",children:[i.jsx("span",{className:"text-slate-500",children:"Ports:"})," ",E.port_range[0],"-",E.port_range[1]]}),i.jsxs("div",{className:"text-slate-400",children:[i.jsx("span",{className:"text-slate-500",children:"Threads:"})," ",E.threads]}),E.scan_type&&i.jsxs("div",{className:"text-slate-400",children:[i.jsx("span",{className:"text-slate-500",children:"Type:"})," ",E.scan_type.replace("_"," ")]}),E.udp_port_range&&i.jsxs("div",{className:"text-slate-400",children:[i.jsx("span",{className:"text-slate-500",children:"UDP:"})," ",E.udp_port_range[0],"-",E.udp_port_range[1]]})]}),R.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1.5 pt-1",children:R.map(z=>i.jsx("span",{className:"px-2 py-0.5 text-xs bg-dark-surface rounded-full text-slate-400 border border-dark-border",children:z},z))})]})};return u?i.jsx("div",{className:`bg-dark-card border border-dark-border rounded-lg p-4 ${r}`,children:i.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[i.jsx("div",{className:"h-8 w-8 bg-dark-surface rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"h-4 bg-dark-surface rounded w-1/3 mb-2"}),i.jsx("div",{className:"h-3 bg-dark-surface rounded w-1/2"})]})]})}):i.jsxs("div",{className:`space-y-3 ${r}`,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Fd,{className:"h-5 w-5 text-primary"}),i.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Scan Template"})]}),c&&!n&&i.jsxs("button",{type:"button",onClick:()=>j(c),className:"text-xs text-yellow-400 hover:text-yellow-300 flex items-center gap-1",children:[i.jsx(_a,{className:"h-3 w-3"}),"Use Default"]})]}),i.jsx("button",{type:"button",onClick:()=>p(!f),className:`w-full p-3 rounded-lg border transition-all text-left ${f?"bg-primary/10 border-primary":"bg-dark-card border-dark-border hover:border-slate-500"}`,children:y?i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[Fo.createElement(S(y.category),{className:`h-5 w-5 ${C(y.category)}`}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-white",children:y.name}),y.is_system&&i.jsx(wn,{className:"h-3 w-3 text-slate-500"}),y.is_default&&i.jsx(_a,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"})]}),y.description&&i.jsx("p",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:y.description})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[y.estimated_duration_mins&&i.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[i.jsx(Bt,{className:"h-3 w-3"}),P(y.estimated_duration_mins)]}),f?i.jsx($n,{className:"h-4 w-4 text-slate-400"}):i.jsx(Nt,{className:"h-4 w-4 text-slate-400"})]})]}):i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(no,{className:"h-5 w-5 text-slate-500"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-slate-400",children:"Start from scratch"}),i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Or select a template to pre-configure scan settings"})]})]}),f?i.jsx($n,{className:"h-4 w-4 text-slate-400"}):i.jsx(Nt,{className:"h-4 w-4 text-slate-400"})]})}),f&&i.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg overflow-hidden animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-dark-border bg-dark-surface overflow-x-auto",children:[i.jsx("button",{type:"button",onClick:()=>v("all"),className:`px-3 py-1.5 text-xs rounded-md whitespace-nowrap transition-colors ${_==="all"?"bg-primary text-white":"text-slate-400 hover:text-white hover:bg-dark-border"}`,children:"All"}),Object.keys(ri).map(E=>{const R=ri[E],z=x.filter(D=>D.category===E).length;if(z===0)return null;const T=R.icon;return i.jsxs("button",{type:"button",onClick:()=>v(E),className:`px-3 py-1.5 text-xs rounded-md whitespace-nowrap transition-colors flex items-center gap-1.5 ${_===E?"bg-primary text-white":"text-slate-400 hover:text-white hover:bg-dark-border"}`,children:[i.jsx(T,{className:"h-3 w-3"}),R.label,i.jsxs("span",{className:"text-slate-500",children:["(",z,")"]})]},E)})]}),i.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[i.jsxs("button",{type:"button",onClick:k,className:`w-full p-3 border-b border-dark-border text-left transition-colors hover:bg-dark-surface flex items-center gap-3 ${n?"":"bg-dark-surface"}`,children:[i.jsx("div",{className:"p-2 rounded-lg bg-dark-surface border border-dark-border",children:i.jsx(no,{className:"h-5 w-5 text-slate-400"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-white",children:"Start from scratch"}),!n&&i.jsx(fr,{className:"h-4 w-4 text-green-400"})]}),i.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Configure all scan settings manually"})]})]}),b.map(E=>{const R=S(E.category),z=n===E.id,T=(m==null?void 0:m.id)===E.id;return i.jsxs("div",{className:`border-b border-dark-border transition-colors ${z?"bg-primary/10":"hover:bg-dark-surface"}`,children:[i.jsxs("button",{type:"button",onClick:()=>j(E),onMouseEnter:()=>w(E),onMouseLeave:()=>w(null),className:"w-full p-3 text-left flex items-start gap-3",children:[i.jsx("div",{className:`p-2 rounded-lg border ${z?"bg-primary/20 border-primary":"bg-dark-surface border-dark-border"}`,children:i.jsx(R,{className:`h-5 w-5 ${C(E.category)}`})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-white",children:E.name}),E.is_system&&i.jsx("span",{title:"System Template",children:i.jsx(wn,{className:"h-3 w-3 text-slate-500"})}),E.is_default&&i.jsx("span",{title:"Default Template",children:i.jsx(_a,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"})}),z&&i.jsx(fr,{className:"h-4 w-4 text-green-400"})]}),E.description&&i.jsx("p",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:E.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-slate-500",children:[E.estimated_duration_mins&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Bt,{className:"h-3 w-3"}),P(E.estimated_duration_mins)]}),E.use_count>0&&i.jsxs("span",{children:["Used ",E.use_count," time",E.use_count!==1?"s":""]})]})]})]}),T&&i.jsx("div",{className:"px-3 pb-3 animate-fadeIn",children:i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg border border-dark-border",children:[i.jsx("div",{className:"text-xs font-medium text-slate-400 mb-2",children:"Configuration Preview"}),O(E.config)]})})]},E.id)}),b.length===0&&i.jsxs("div",{className:"p-8 text-center text-slate-500",children:[i.jsx(ct,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No templates in this category"})]})]}),i.jsxs("div",{className:"p-2 border-t border-dark-border bg-dark-surface flex items-center justify-between",children:[i.jsxs("span",{className:"text-xs text-slate-500",children:[x.length," template",x.length!==1?"s":""," available"]}),i.jsxs("button",{type:"button",onClick:()=>p(!1),className:"text-xs text-slate-400 hover:text-white flex items-center gap-1",children:[i.jsx(Tt,{className:"h-3 w-3"}),"Close"]})]})]})]})},Ht=Ki(e=>({scans:[],activeScan:null,results:new Map,liveUpdates:new Map,setScans:n=>e({scans:n}),addScan:n=>e(r=>({scans:[n,...r.scans]})),setActiveScan:n=>e({activeScan:n}),updateScanStatus:(n,r)=>e(s=>{var o;const a=r;return{scans:s.scans.map(l=>l.id===n?{...l,status:a}:l),activeScan:((o=s.activeScan)==null?void 0:o.id)===n?{...s.activeScan,status:a}:s.activeScan}}),setResults:(n,r)=>e(s=>{const a=new Map(s.results);return a.set(n,r),{results:a}}),addHostToResults:(n,r)=>e(s=>{const a=new Map(s.results),o=a.get(n)||[],l=o.findIndex(c=>c.target.ip===r.target.ip);return l>=0?o[l]=r:o.push(r),a.set(n,o),{results:a}}),updateHostInResults:(n,r,s)=>e(a=>{const o=new Map(a.results),c=(o.get(n)||[]).map(d=>d.target.ip===r?{...d,...s}:d);return o.set(n,c),{results:o}}),addLiveUpdate:(n,r)=>e(s=>{const a=new Map(s.liveUpdates),o=a.get(n)||[];return o.push(r),a.set(n,o),{liveUpdates:a}}),clearLiveUpdates:n=>e(r=>{const s=new Map(r.liveUpdates);return s.delete(n),{liveUpdates:s}})})),Pw=[{id:"tcp_connect",label:"TCP Connect",description:"Standard TCP scan (most reliable)"},{id:"udp",label:"UDP Only",description:"UDP port scanning (requires root)"},{id:"comprehensive",label:"Comprehensive",description:"TCP + UDP scanning (thorough)"},{id:"syn",label:"SYN Stealth",description:"Half-open TCP scan (requires root)"}],Aw=[{id:"http",label:"HTTP",category:"Web"},{id:"https",label:"HTTPS",category:"Web"},{id:"dns",label:"DNS",category:"Network"},{id:"smb",label:"SMB",category:"Network"},{id:"ftp",label:"FTP",category:"Network"},{id:"ssh",label:"SSH",category:"Network"},{id:"smtp",label:"SMTP",category:"Network"},{id:"ldap",label:"LDAP",category:"Network"},{id:"rdp",label:"RDP",category:"Remote"},{id:"vnc",label:"VNC",category:"Remote"},{id:"telnet",label:"Telnet",category:"Remote"},{id:"snmp",label:"SNMP",category:"Network"},{id:"mysql",label:"MySQL",category:"Database"},{id:"postgresql",label:"PostgreSQL",category:"Database"},{id:"mongodb",label:"MongoDB",category:"Database"},{id:"redis",label:"Redis",category:"Database"},{id:"elasticsearch",label:"Elasticsearch",category:"Database"}],Rw=()=>{const[e]=Ad(),[n,r]=A.useState(""),[s,a]=A.useState(""),[o,l]=A.useState(1),[c,d]=A.useState(1e3),[u,h]=A.useState(100),[f,p]=A.useState("tcp_connect"),[m,w]=A.useState(53),[_,v]=A.useState(500),[g,x]=A.useState(2),[b,y]=A.useState(!0),[j,k]=A.useState(!0),[S,C]=A.useState(!1),[P,O]=A.useState(!1),[E,R]=A.useState("light"),[z,T]=A.useState([]),[D,M]=A.useState(!1),[B,X]=A.useState([]),[W,$]=A.useState(!1),[Z,J]=A.useState(""),[I,ce]=A.useState(""),[we,ue]=A.useState([]),[Ne,Q]=A.useState(null),[V,se]=A.useState(null),[oe,ie]=A.useState([]),[Se,$e]=A.useState(""),[Ve,L]=A.useState([]),[H,q]=A.useState(""),[K,ae]=A.useState([]),[de,ge]=A.useState(""),[je,Te]=A.useState([]),[Ge,Y]=A.useState([]),[te,pe]=A.useState([]),[ye,Ce]=A.useState([]),[Je,Dt]=A.useState(!1),[Be,Ln]=A.useState([]),[St,st]=A.useState([]),[it,ht]=A.useState("local"),[Ws,Vs]=A.useState(""),[Gs,Ys]=A.useState(""),{addScan:Cp}=Ht(),Pr=f==="udp"||f==="comprehensive";A.useEffect(()=>{Ep(),Pp(),Ap(),Rp(),Op(),Tp(),Dp()},[]),A.useEffect(()=>{const U=e.get("customer");U&&Ve.length>0&&Ve.find(Ze=>Ze.id===U)&&q(U)},[e,Ve]),A.useEffect(()=>{H?$p(H):(ae([]),ge(""))},[H]);const Ep=async()=>{try{const U=await Lx.getAll();X(U.data)}catch(U){console.error("Failed to load target groups:",U)}},Pp=async()=>{try{const U=await tn.getPresets();ue(U.data)}catch(U){console.error("Failed to load scan presets:",U)}},Ap=async()=>{try{const U=await Hx.getConfigs();ie(U.data);const me=U.data.find(Ze=>Ze.is_default);me&&$e(me.id)}catch(U){console.error("Failed to load VPN configs:",U)}},Rp=async()=>{try{const U=await fc.customers.getAll("active");L(U.data)}catch(U){console.error("Failed to load customers:",U)}},Op=async()=>{try{const U=await It.getAll();Te(U.data)}catch(U){console.error("Failed to load tags:",U)}},Tp=async()=>{try{const U=await Ux.getAll();pe(U.data)}catch(U){console.error("Failed to load exclusions:",U)}},Dp=async()=>{try{const[U,me]=await Promise.all([pc.list(),pc.groups.list()]),Ze=U.data.filter(ln=>ln.status==="online");Ln(Ze),st(me.data)}catch(U){console.error("Failed to load agents:",U)}},$p=async U=>{try{const Ze=(await fc.engagements.getByCustomer(U)).data.filter(ln=>ln.status==="planning"||ln.status==="in_progress");ae(Ze)}catch(me){console.error("Failed to load engagements:",me),ae([])}},Mp=U=>{const me=JSON.parse(U.targets||"[]");a(me.join(", "))},zp=U=>{Q(U.id),U.id==="webapp"?(l(80),d(8443)):(l(U.port_range[0]),d(U.port_range[1])),h(U.threads),p(U.scan_type),y(U.enable_os_detection),k(U.enable_service_detection),C(U.enable_vuln_scan),O(U.enable_enumeration),U.enum_depth&&R(U.enum_depth),U.udp_port_range&&(w(U.udp_port_range[0]),v(U.udp_port_range[1])),U.udp_retries&&x(U.udp_retries),U.enum_services?T(U.enum_services):T([]),ee.success(`Applied "${U.name}" preset`)},Ip=U=>{if(!U){se(null),Q(null),l(1),d(1e3),h(100),p("tcp_connect"),w(53),v(500),x(2),y(!0),k(!0),C(!1),O(!1),R("light"),T([]);return}se(U.id),Q(null);const me=U.config;l(me.port_range[0]),d(me.port_range[1]),h(me.threads),me.scan_type&&p(me.scan_type),y(me.enable_os_detection),k(me.enable_service_detection),C(me.enable_vuln_scan),O(me.enable_enumeration),me.enum_depth&&R(me.enum_depth),me.enum_services&&me.enum_services.length>0?T(me.enum_services):T([]),me.udp_port_range&&(w(me.udp_port_range[0]),v(me.udp_port_range[1])),me.udp_retries!==void 0&&me.udp_retries!==null&&x(me.udp_retries),ps.createScan(U.id,"",[]).catch(()=>{})},Lp=U=>{switch(U){case"Zap":return us;case"Radar":return xm;case"Globe":return Dn;case"EyeOff":return Ud;default:return us}},Fp=U=>{const me=U.trim(),Ze=/^(\d{1,3}\.){3}\d{1,3}$/,ln=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,Ar=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/,Xs=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/;return Ze.test(me)||ln.test(me)||Ar.test(me)||Xs.test(me)},$l=U=>U.split(/[,\n]/).map(me=>me.trim()).filter(me=>me.length>0),Hp=U=>{const me=$l(U);return me.length===0?!1:me.every(Fp)},Bp=async U=>{var Ze,ln;if(U.preventDefault(),!n.trim()){ee.error("Please enter a scan name");return}if(!s.trim()){ee.error("Please enter a target");return}if(!Hp(s)){ee.error("Invalid target format. Use IP (192.168.1.1), CIDR (192.168.1.0/24), range, or hostname. Separate multiple targets with commas.");return}if(o<1||c>65535||o>c){ee.error("Invalid port range");return}const me=$l(s);M(!0);try{const Ar=await tn.create({name:n.trim(),targets:me,port_range:[o,c],threads:u,scan_type:f,udp_port_range:Pr?[m,_]:void 0,udp_retries:Pr?g:void 0,enable_os_detection:b,enable_service_detection:j,enable_vuln_scan:S,enable_enumeration:P,enum_depth:P?E:void 0,enum_services:P&&z.length>0?z:void 0,vpn_config_id:Se||void 0,customer_id:H||void 0,engagement_id:de||void 0,tag_ids:Ge.length>0?Ge:void 0,exclusion_ids:ye.length>0?ye:void 0,skip_global_exclusions:Je||void 0,execution_mode:it,agent_id:it==="agent"&&Ws?Ws:void 0,agent_group_id:it==="agent_group"&&Gs?Gs:void 0});if(Cp(Ar.data),ee.success("Scan started successfully!"),W&&Z.trim())try{await ps.create({name:Z.trim(),description:I.trim()||void 0,config:{port_range:[o,c],threads:u,scan_type:f,udp_port_range:Pr?[m,_]:void 0,udp_retries:Pr?g:void 0,enable_os_detection:b,enable_service_detection:j,enable_vuln_scan:S,enable_enumeration:P,enum_depth:P?E:void 0,enum_services:P&&z.length>0?z:void 0}}),ee.success("Template saved!")}catch(Xs){console.error("Failed to save template:",Xs),ee.warning("Scan started but template save failed")}r(""),a(""),l(1),d(1e3),h(100),p("tcp_connect"),w(53),v(500),x(2),O(!1),R("light"),T([]),$(!1),J(""),ce(""),q(""),ge(""),Y([]),se(null),Q(null),ht("local"),Vs(""),Ys("")}catch(Ar){const qp=((ln=(Ze=Ar.response)==null?void 0:Ze.data)==null?void 0:ln.error)||"Failed to start scan";ee.error(qp)}finally{M(!1)}},Up=U=>{T(me=>me.includes(U)?me.filter(Ze=>Ze!==U):[...me,U])};return i.jsxs(xe,{children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Scan"}),i.jsxs("form",{onSubmit:Bp,className:"space-y-4",children:[i.jsx("div",{className:"pb-4 border-b border-dark-border",children:i.jsx(Ew,{onSelect:Ip,selectedTemplateId:V})}),we.length>0&&!V&&i.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(us,{className:"h-5 w-5 text-yellow-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Quick Presets"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:we.map(U=>{const me=Lp(U.icon);return i.jsxs("button",{type:"button",onClick:()=>zp(U),className:`px-3 py-3 text-sm rounded-lg border transition-all text-left ${Ne===U.id?"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 border-yellow-500 text-white shadow-lg":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500 hover:bg-dark-surface/50"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx(me,{className:`h-4 w-4 ${Ne===U.id?"text-yellow-400":"text-slate-500"}`}),i.jsx("div",{className:"font-medium",children:U.name})]}),i.jsx("div",{className:"text-xs opacity-70 line-clamp-2",children:U.description})]},U.id)})}),i.jsx("p",{className:"text-xs text-slate-500 italic",children:"Select a preset to auto-configure scan settings, or customize manually below."})]}),i.jsx(tt,{label:"Scan Name",type:"text",placeholder:"Production Network Scan",value:n,onChange:U=>r(U.target.value),required:!0}),i.jsx(Cw,{selectedTagIds:Ge,onChange:Y,existingTags:je,onTagsChange:Te}),i.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Pi,{className:"h-5 w-5 text-indigo-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Customer Association (Optional)"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Customer"}),i.jsxs("select",{value:H,onChange:U=>{q(U.target.value),ge("")},className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"No customer"}),Ve.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Engagement"}),i.jsxs("select",{value:de,onChange:U=>ge(U.target.value),disabled:!H||K.length===0,className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("option",{value:"",children:H?K.length===0?"No active engagements":"No engagement":"Select customer first"}),K.map(U=>i.jsxs("option",{value:U.id,children:[U.name," (",U.engagement_type.replace("_"," "),")"]},U.id))]})]})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Link this scan to a customer and engagement for tracking and reporting."})]}),te.length>0&&i.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(pm,{className:"h-5 w-5 text-orange-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Exclusions (Optional)"})]}),te.filter(U=>U.is_global).length>0&&i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Dn,{className:"h-4 w-4 text-green-400"}),i.jsxs("span",{className:"text-sm text-green-400",children:[te.filter(U=>U.is_global).length," global exclusion(s) will be applied"]})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:Je,onChange:U=>Dt(U.target.checked),className:"w-4 h-4 rounded bg-dark-bg border-dark-border text-orange-500 focus:ring-orange-500 focus:ring-offset-dark-bg"}),i.jsx("span",{className:"text-xs text-slate-400",children:"Skip global exclusions"})]})]}),te.filter(U=>!U.is_global).length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Additional exclusions for this scan"}),i.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:te.filter(U=>!U.is_global).map(U=>i.jsxs("label",{className:"flex items-center gap-3 p-2 bg-dark-surface rounded-lg cursor-pointer hover:bg-dark-border/30 transition-colors",children:[i.jsx("input",{type:"checkbox",checked:ye.includes(U.id),onChange:me=>{me.target.checked?Ce([...ye,U.id]):Ce(ye.filter(Ze=>Ze!==U.id))},className:"w-4 h-4 rounded bg-dark-bg border-dark-border text-primary focus:ring-primary focus:ring-offset-dark-bg"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:U.name}),i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-400",children:U.exclusion_type.replace("_"," ")})]}),i.jsx("code",{className:"text-xs text-slate-400 font-mono",children:U.value})]})]},U.id))})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Exclusions prevent scanning specific hosts or ports. Configure them in Settings."})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Target"}),B.length>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(mm,{className:"h-3 w-3 text-slate-500"}),i.jsx("span",{className:"text-xs text-slate-500",children:"Use group:"}),B.slice(0,3).map(U=>i.jsx("button",{type:"button",onClick:()=>Mp(U),className:"px-2 py-0.5 text-xs rounded border border-dark-border text-slate-400 hover:text-white hover:border-primary transition-colors",style:{borderLeftColor:U.color,borderLeftWidth:3},children:U.name},U.id)),B.length>3&&i.jsxs("span",{className:"text-xs text-slate-500",children:["+",B.length-3]})]})]}),i.jsx(tt,{type:"text",placeholder:"192.168.1.0/24, 10.0.0.1-10.0.0.100, or hostname",value:s,onChange:U=>a(U.target.value),icon:i.jsx(Vn,{className:"h-5 w-5"}),required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(tt,{label:"Start Port",type:"number",min:1,max:65535,value:o,onChange:U=>{l(Number(U.target.value)),Q(null),se(null)}}),i.jsx(tt,{label:"End Port",type:"number",min:1,max:65535,value:c,onChange:U=>{d(Number(U.target.value)),Q(null),se(null)}})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Threads: ",u]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(gm,{className:"h-5 w-5 text-slate-400"}),i.jsx("input",{type:"range",min:1,max:100,value:u,onChange:U=>{h(Number(U.target.value)),Q(null),se(null)},className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]}),i.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(to,{className:"h-5 w-5 text-primary"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Type"})]}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Pw.map(U=>i.jsxs("button",{type:"button",onClick:()=>{p(U.id),Q(null),se(null)},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${f===U.id?"bg-primary/20 border-primary text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[i.jsx("div",{className:"font-medium",children:U.label}),i.jsx("div",{className:"text-xs opacity-70",children:U.description})]},U.id))}),Pr&&i.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Os,{className:"h-4 w-4 text-cyan-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-400",children:"UDP Options"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx(tt,{label:"UDP Start Port",type:"number",min:1,max:65535,value:m,onChange:U=>w(Number(U.target.value))}),i.jsx(tt,{label:"UDP End Port",type:"number",min:1,max:65535,value:_,onChange:U=>v(Number(U.target.value))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["UDP Retries: ",g]}),i.jsx("input",{type:"range",min:1,max:5,value:g,onChange:U=>x(Number(U.target.value)),className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]})]}),oe.length>0&&i.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Pe,{className:"h-5 w-5 text-green-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"VPN Connection"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Route scan through VPN (optional)"}),i.jsxs("select",{value:Se,onChange:U=>$e(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"No VPN - Direct connection"}),oe.map(U=>i.jsxs("option",{value:U.id,children:[U.name," (",U.vpn_type.toUpperCase(),")",U.is_default?" (Default)":""]},U.id))]}),i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"VPN connects before scan and disconnects when complete. Configure VPNs in Settings."})]})]}),(Be.length>0||St.length>0)&&i.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qt,{className:"h-5 w-5 text-purple-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Execution"})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("button",{type:"button",onClick:()=>{ht("local"),Vs(""),Ys("")},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${it==="local"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[i.jsx("div",{className:"font-medium",children:"Local"}),i.jsx("div",{className:"text-xs opacity-70",children:"Run on this server"})]}),i.jsxs("button",{type:"button",onClick:()=>{ht("agent"),Ys("")},disabled:Be.length===0,className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${it==="agent"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"} ${Be.length===0?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("div",{className:"font-medium",children:"Agent"}),i.jsxs("div",{className:"text-xs opacity-70",children:[Be.length," online"]})]}),i.jsxs("button",{type:"button",onClick:()=>{ht("agent_group"),Vs("")},disabled:St.length===0,className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${it==="agent_group"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"} ${St.length===0?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx("div",{className:"font-medium",children:"Group"}),i.jsxs("div",{className:"text-xs opacity-70",children:[St.length," groups"]})]})]}),it==="agent"&&Be.length>0&&i.jsxs("div",{className:"ml-4 animate-fadeIn",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Select Agent"}),i.jsxs("select",{value:Ws,onChange:U=>Vs(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select an agent..."}),Be.map(U=>i.jsxs("option",{value:U.id,children:[U.name,U.network_zones?` (${JSON.parse(U.network_zones).join(", ")})`:""]},U.id))]}),Ws&&i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Scan will be executed by the selected agent in its network zone."})]}),it==="agent_group"&&St.length>0&&i.jsxs("div",{className:"ml-4 animate-fadeIn",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Select Agent Group"}),i.jsxs("select",{value:Gs,onChange:U=>Ys(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Select a group..."}),St.map(U=>i.jsxs("option",{value:U.id,children:[U.name,U.network_ranges?` (${JSON.parse(U.network_ranges).join(", ")})`:""]},U.id))]}),Gs&&i.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Scan tasks will be distributed across agents in this group based on network zones."})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Configure agents in Settings > Agents for distributed scanning across network zones."})]}),i.jsxs("div",{className:"space-y-2 border-t border-dark-border pt-4",children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Scan Options"}),i.jsx(ar,{label:"Enable OS Detection",checked:b,onChange:y}),i.jsx(ar,{label:"Enable Service Detection",checked:j,onChange:k}),i.jsx(ar,{label:"Enable Vulnerability Scanning",checked:S,onChange:C})]}),i.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mr,{className:"h-5 w-5 text-cyan-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Service Enumeration"})]}),i.jsx(ar,{label:"Enable Deep Service Enumeration",checked:P,onChange:O}),P&&i.jsxs("div",{className:"ml-4 space-y-4 animate-fadeIn",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Enumeration Depth"}),i.jsxs("select",{value:E,onChange:U=>R(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[i.jsx("option",{value:"passive",children:"Passive - Banner analysis only"}),i.jsx("option",{value:"light",children:"Light - Common checks (default)"}),i.jsx("option",{value:"aggressive",children:"Aggressive - Full enumeration"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Services to Enumerate (leave empty for all detected)"}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Aw.map(U=>i.jsx("button",{type:"button",onClick:()=>Up(U.id),className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${z.includes(U.id)?"bg-cyan-600 border-cyan-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:U.label},U.id))}),z.length>0&&i.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",z.join(", ")]})]})]})]}),i.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Uo,{className:"h-5 w-5 text-purple-400"}),i.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Save Configuration"})]}),i.jsx(ar,{label:"Save this scan configuration as a template",checked:W,onChange:$}),W&&i.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[i.jsx(tt,{label:"Template Name",type:"text",placeholder:"Production Network Scan Template",value:Z,onChange:U=>J(U.target.value)}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Template Description (Optional)"}),i.jsx("textarea",{value:I,onChange:U=>ce(U.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2,placeholder:"Quick template for scanning production servers"})]})]})]}),i.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:D,className:"w-full",children:"Start Scan"})]})]})},_t=({children:e,variant:n="status",type:r="pending",className:s="",size:a="md"})=>{const l=`inline-flex items-center rounded-full font-medium ${{sm:"px-1.5 py-0.5 text-[10px]",md:"px-2.5 py-0.5 text-xs"}[a]}`,c={pending:"bg-status-pending/20 text-status-pending border border-status-pending/30",running:"bg-status-running/20 text-status-running border border-status-running/30",completed:"bg-status-completed/20 text-status-completed border border-status-completed/30",failed:"bg-status-failed/20 text-status-failed border border-status-failed/30"},d={critical:"bg-severity-critical/20 text-severity-critical border border-severity-critical/30",high:"bg-severity-high/20 text-severity-high border border-severity-high/30",medium:"bg-severity-medium/20 text-severity-medium border border-severity-medium/30",low:"bg-severity-low/20 text-severity-low border border-severity-low/30"},u={primary:"bg-blue-500/20 text-blue-400 border border-blue-500/30",success:"bg-green-500/20 text-green-400 border border-green-500/30",warning:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",danger:"bg-red-500/20 text-red-400 border border-red-500/30",secondary:"bg-slate-500/20 text-slate-400 border border-slate-500/30",info:"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",default:"bg-slate-500/20 text-slate-400 border border-slate-500/30",green:"bg-green-500/20 text-green-400 border border-green-500/30",yellow:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",red:"bg-red-500/20 text-red-400 border border-red-500/30",gray:"bg-slate-500/20 text-slate-400 border border-slate-500/30",blue:"bg-blue-500/20 text-blue-400 border border-blue-500/30"};if(n&&u[n])return i.jsx("span",{className:`${l} ${u[n]} ${s}`,children:e});const f=(n==="status"?c:d)[r]||c.pending;return i.jsx("span",{className:`${l} ${f} ${s}`,children:e})};function ze(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Mn(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const rf=6048e5,Ow=864e5,si=43200,eu=1440;let Tw={};function Hs(){return Tw}function Ss(e,n){var c,d,u,h;const r=Hs(),s=(n==null?void 0:n.weekStartsOn)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??0,a=ze(e),o=a.getDay(),l=(o<s?7:0)+o-s;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function Mi(e){return Ss(e,{weekStartsOn:1})}function sf(e){const n=ze(e),r=n.getFullYear(),s=Mn(e,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=Mi(s),o=Mn(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Mi(o);return n.getTime()>=a.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function tu(e){const n=ze(e);return n.setHours(0,0,0,0),n}function zi(e){const n=ze(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function Dw(e,n){const r=tu(e),s=tu(n),a=+r-zi(r),o=+s-zi(s);return Math.round((a-o)/Ow)}function $w(e){const n=sf(e),r=Mn(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Mi(r)}function _i(e,n){const r=ze(e),s=ze(n),a=r.getTime()-s.getTime();return a<0?-1:a>0?1:a}function Mw(e){return Mn(e,Date.now())}function zw(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Iw(e){if(!zw(e)&&typeof e!="number")return!1;const n=ze(e);return!isNaN(Number(n))}function Lw(e,n){const r=ze(e),s=ze(n),a=r.getFullYear()-s.getFullYear(),o=r.getMonth()-s.getMonth();return a*12+o}function Fw(e){return n=>{const s=(e?Math[e]:Math.trunc)(n);return s===0?0:s}}function Hw(e,n){return+ze(e)-+ze(n)}function Bw(e){const n=ze(e);return n.setHours(23,59,59,999),n}function Uw(e){const n=ze(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function qw(e){const n=ze(e);return+Bw(n)==+Uw(n)}function Ww(e,n){const r=ze(e),s=ze(n),a=_i(r,s),o=Math.abs(Lw(r,s));let l;if(o<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);let c=_i(r,s)===-a;qw(ze(e))&&o===1&&_i(e,s)===1&&(c=!1),l=a*(o-Number(c))}return l===0?0:l}function Vw(e,n,r){const s=Hw(e,n)/1e3;return Fw(r==null?void 0:r.roundingMethod)(s)}function Gw(e){const n=ze(e),r=Mn(e,0);return r.setFullYear(n.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Yw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xw=(e,n,r)=>{let s;const a=Yw[e];return typeof a=="string"?s=a:n===1?s=a.one:s=a.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function Ba(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Kw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Jw={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qw={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zw={date:Ba({formats:Kw,defaultWidth:"full"}),time:Ba({formats:Jw,defaultWidth:"full"}),dateTime:Ba({formats:Qw,defaultWidth:"full"})},ej={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tj=(e,n,r,s)=>ej[e];function Ir(e){return(n,r)=>{const s=r!=null&&r.context?String(r.context):"standalone";let a;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;a=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(n):n;return a[o]}}const nj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ij={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},aj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lj=(e,n)=>{const r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},cj={ordinalNumber:lj,era:Ir({values:nj,defaultWidth:"wide"}),quarter:Ir({values:rj,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ir({values:sj,defaultWidth:"wide"}),day:Ir({values:ij,defaultWidth:"wide"}),dayPeriod:Ir({values:aj,defaultWidth:"wide",formattingValues:oj,defaultFormattingWidth:"wide"})};function Lr(e){return(n,r={})=>{const s=r.width,a=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=n.match(a);if(!o)return null;const l=o[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?dj(c,f=>f.test(l)):uj(c,f=>f.test(l));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const h=n.slice(l.length);return{value:u,rest:h}}}function uj(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function dj(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function hj(e){return(n,r={})=>{const s=n.match(e.matchPattern);if(!s)return null;const a=s[0],o=n.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const c=n.slice(a.length);return{value:l,rest:c}}}const fj=/^(\d+)(th|st|nd|rd)?/i,pj=/\d+/i,mj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gj={any:[/^b/i,/^(a|c)/i]},xj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yj={any:[/1/i,/2/i,/3/i,/4/i]},bj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},_j={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kj={ordinalNumber:hj({matchPattern:fj,parsePattern:pj,valueCallback:e=>parseInt(e,10)}),era:Lr({matchPatterns:mj,defaultMatchWidth:"wide",parsePatterns:gj,defaultParseWidth:"any"}),quarter:Lr({matchPatterns:xj,defaultMatchWidth:"wide",parsePatterns:yj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Lr({matchPatterns:bj,defaultMatchWidth:"wide",parsePatterns:vj,defaultParseWidth:"any"}),day:Lr({matchPatterns:wj,defaultMatchWidth:"wide",parsePatterns:jj,defaultParseWidth:"any"}),dayPeriod:Lr({matchPatterns:_j,defaultMatchWidth:"any",parsePatterns:Nj,defaultParseWidth:"any"})},af={code:"en-US",formatDistance:Xw,formatLong:Zw,formatRelative:tj,localize:cj,match:kj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sj(e){const n=ze(e);return Dw(n,Gw(n))+1}function Cj(e){const n=ze(e),r=+Mi(n)-+$w(n);return Math.round(r/rf)+1}function of(e,n){var h,f,p,m;const r=ze(e),s=r.getFullYear(),a=Hs(),o=(n==null?void 0:n.firstWeekContainsDate)??((f=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(p=a.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,l=Mn(e,0);l.setFullYear(s+1,0,o),l.setHours(0,0,0,0);const c=Ss(l,n),d=Mn(e,0);d.setFullYear(s,0,o),d.setHours(0,0,0,0);const u=Ss(d,n);return r.getTime()>=c.getTime()?s+1:r.getTime()>=u.getTime()?s:s-1}function Ej(e,n){var c,d,u,h;const r=Hs(),s=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(u=r.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??1,a=of(e,n),o=Mn(e,0);return o.setFullYear(a,0,s),o.setHours(0,0,0,0),Ss(o,n)}function Pj(e,n){const r=ze(e),s=+Ss(r,n)-+Ej(r,n);return Math.round(s/rf)+1}function Oe(e,n){const r=e<0?"-":"",s=Math.abs(e).toString().padStart(n,"0");return r+s}const kn={y(e,n){const r=e.getFullYear(),s=r>0?r:1-r;return Oe(n==="yy"?s%100:s,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Oe(r+1,2)},d(e,n){return Oe(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Oe(e.getHours()%12||12,n.length)},H(e,n){return Oe(e.getHours(),n.length)},m(e,n){return Oe(e.getMinutes(),n.length)},s(e,n){return Oe(e.getSeconds(),n.length)},S(e,n){const r=n.length,s=e.getMilliseconds(),a=Math.trunc(s*Math.pow(10,r-3));return Oe(a,n.length)}},nr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},nu={G:function(e,n,r){const s=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const s=e.getFullYear(),a=s>0?s:1-s;return r.ordinalNumber(a,{unit:"year"})}return kn.y(e,n)},Y:function(e,n,r,s){const a=of(e,s),o=a>0?a:1-a;if(n==="YY"){const l=o%100;return Oe(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Oe(o,n.length)},R:function(e,n){const r=sf(e);return Oe(r,n.length)},u:function(e,n){const r=e.getFullYear();return Oe(r,n.length)},Q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Oe(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){const s=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Oe(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){const s=e.getMonth();switch(n){case"M":case"MM":return kn.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){const s=e.getMonth();switch(n){case"L":return String(s+1);case"LL":return Oe(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){const a=Pj(e,s);return n==="wo"?r.ordinalNumber(a,{unit:"week"}):Oe(a,n.length)},I:function(e,n,r){const s=Cj(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Oe(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):kn.d(e,n)},D:function(e,n,r){const s=Sj(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Oe(s,n.length)},E:function(e,n,r){const s=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Oe(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){const a=e.getDay(),o=(a-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Oe(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,n,r){const s=e.getDay(),a=s===0?7:s;switch(n){case"i":return String(a);case"ii":return Oe(a,n.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){const a=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,n,r){const s=e.getHours();let a;switch(s===12?a=nr.noon:s===0?a=nr.midnight:a=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,n,r){const s=e.getHours();let a;switch(s>=17?a=nr.evening:s>=12?a=nr.afternoon:s>=4?a=nr.morning:a=nr.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let s=e.getHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return kn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):kn.H(e,n)},K:function(e,n,r){const s=e.getHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},k:function(e,n,r){let s=e.getHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Oe(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):kn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):kn.s(e,n)},S:function(e,n){return kn.S(e,n)},X:function(e,n,r){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(n){case"X":return su(s);case"XXXX":case"XX":return Un(s);case"XXXXX":case"XXX":default:return Un(s,":")}},x:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"x":return su(s);case"xxxx":case"xx":return Un(s);case"xxxxx":case"xxx":default:return Un(s,":")}},O:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+ru(s,":");case"OOOO":default:return"GMT"+Un(s,":")}},z:function(e,n,r){const s=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+ru(s,":");case"zzzz":default:return"GMT"+Un(s,":")}},t:function(e,n,r){const s=Math.trunc(e.getTime()/1e3);return Oe(s,n.length)},T:function(e,n,r){const s=e.getTime();return Oe(s,n.length)}};function ru(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),a=Math.trunc(s/60),o=s%60;return o===0?r+String(a):r+String(a)+n+Oe(o,2)}function su(e,n){return e%60===0?(e>0?"-":"+")+Oe(Math.abs(e)/60,2):Un(e,n)}function Un(e,n=""){const r=e>0?"-":"+",s=Math.abs(e),a=Oe(Math.trunc(s/60),2),o=Oe(s%60,2);return r+a+n+o}const iu=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},lf=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Aj=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],s=r[1],a=r[2];if(!a)return iu(e,n);let o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",iu(s,n)).replace("{{time}}",lf(a,n))},Rj={p:lf,P:Aj},Oj=/^D+$/,Tj=/^Y+$/,Dj=["D","DD","YY","YYYY"];function $j(e){return Oj.test(e)}function Mj(e){return Tj.test(e)}function zj(e,n,r){const s=Ij(e,n,r);if(console.warn(s),Dj.includes(e))throw new RangeError(s)}function Ij(e,n,r){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${s} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Lj=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fj=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hj=/^'([^]*?)'?$/,Bj=/''/g,Uj=/[a-zA-Z]/;function Rn(e,n,r){var h,f,p,m;const s=Hs(),a=s.locale??af,o=s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,l=s.weekStartsOn??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,c=ze(e);if(!Iw(c))throw new RangeError("Invalid time value");let d=n.match(Fj).map(w=>{const _=w[0];if(_==="p"||_==="P"){const v=Rj[_];return v(w,a.formatLong)}return w}).join("").match(Lj).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const _=w[0];if(_==="'")return{isToken:!1,value:qj(w)};if(nu[_])return{isToken:!0,value:w};if(_.match(Uj))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:w}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const u={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return d.map(w=>{if(!w.isToken)return w.value;const _=w.value;(Mj(_)||$j(_))&&zj(_,n,String(e));const v=nu[_[0]];return v(c,_,a.localize,u)}).join("")}function qj(e){const n=e.match(Hj);return n?n[1].replace(Bj,"'"):e}function Wj(e,n,r){const s=Hs(),a=(r==null?void 0:r.locale)??s.locale??af,o=2520,l=_i(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let d,u;l>0?(d=ze(n),u=ze(e)):(d=ze(e),u=ze(n));const h=Vw(u,d),f=(zi(u)-zi(d))/1e3,p=Math.round((h-f)/60);let m;if(p<2)return r!=null&&r.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,c):h<10?a.formatDistance("lessThanXSeconds",10,c):h<20?a.formatDistance("lessThanXSeconds",20,c):h<40?a.formatDistance("halfAMinute",0,c):h<60?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",1,c):p===0?a.formatDistance("lessThanXMinutes",1,c):a.formatDistance("xMinutes",p,c);if(p<45)return a.formatDistance("xMinutes",p,c);if(p<90)return a.formatDistance("aboutXHours",1,c);if(p<eu){const w=Math.round(p/60);return a.formatDistance("aboutXHours",w,c)}else{if(p<o)return a.formatDistance("xDays",1,c);if(p<si){const w=Math.round(p/eu);return a.formatDistance("xDays",w,c)}else if(p<si*2)return m=Math.round(p/si),a.formatDistance("aboutXMonths",m,c)}if(m=Ww(u,d),m<12){const w=Math.round(p/si);return a.formatDistance("xMonths",w,c)}else{const w=m%12,_=Math.trunc(m/12);return w<3?a.formatDistance("aboutXYears",_,c):w<9?a.formatDistance("overXYears",_,c):a.formatDistance("almostXYears",_+1,c)}}function ha(e,n){return Wj(e,Mw(e),n)}const Vj=({scan:e,isActive:n,onClick:r,tags:s,onTagClick:a})=>{const o=JSON.parse(e.targets),l=e.status,c=()=>({pending:"Pending",running:"Running",completed:"Completed",failed:"Failed"})[e.status]||e.status;return i.jsxs("div",{onClick:r,className:`
        p-4 border rounded-lg cursor-pointer transition-all duration-200
        ${n?"bg-primary/10 border-primary shadow-lg":"bg-dark-surface border-dark-border hover:border-primary/50 hover:shadow-md"}
      `,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h4",{className:"text-white font-semibold truncate flex-1",children:e.name}),i.jsxs(_t,{variant:"status",type:l,children:[l==="running"&&i.jsx("span",{className:"inline-block w-2 h-2 bg-primary rounded-full animate-pulse-dot mr-1"}),c()]})]}),s&&s.length>0&&i.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[s.slice(0,3).map(d=>i.jsxs("button",{type:"button",onClick:u=>{u.stopPropagation(),a==null||a(d.id)},className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium hover:opacity-80 transition-opacity",style:{backgroundColor:d.color+"20",color:d.color},title:`Filter by ${d.name}`,children:[i.jsx(js,{className:"h-3 w-3 mr-1"}),d.name]},d.id)),s.length>3&&i.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs text-slate-400",children:["+",s.length-3," more"]})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex items-center text-slate-400",children:[i.jsx(Vn,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"font-mono text-xs",children:o[0]})]}),i.jsxs("div",{className:"flex items-center text-slate-500",children:[i.jsx(Bt,{className:"h-4 w-4 mr-2"}),i.jsx("span",{children:Rn(new Date(e.created_at),"MMM d, yyyy HH:mm")})]})]})]})},nn=({size:e="md",className:n=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return i.jsx(Rs,{className:`${r[e]} animate-spin text-primary ${n}`})},Gj=({selectedIds:e,onSelectionChange:n})=>{const{scans:r,activeScan:s,setScans:a,setActiveScan:o}=Ht(),[l,c]=A.useState(!0),[d,u]=A.useState(""),[h,f]=A.useState("all"),[p,m]=A.useState("all"),[w,_]=A.useState([]),[v,g]=A.useState({}),[x,b]=A.useState(!1),[y,j]=A.useState(""),[k,S]=A.useState("#06b6d4"),[C,P]=A.useState(null);A.useEffect(()=>{O(),E()},[]);const O=async()=>{try{const $=(await tn.getAllWithTags()).data;a($.map(J=>({...J,tags:void 0})));const Z={};$.forEach(J=>{Z[J.id]=J.tags||[]}),g(Z)}catch{try{const $=await tn.getAll();a($.data)}catch{ee.error("Failed to load scans")}}finally{c(!1)}},E=async()=>{try{const W=await It.getAll();_(W.data)}catch(W){console.error("Failed to load tags:",W)}},R=async()=>{if(y.trim())try{const W=await It.create({name:y.trim(),color:k});_([...w,W.data]),j(""),ee.success("Tag created successfully")}catch{ee.error("Failed to create tag")}},z=async W=>{try{await It.delete(W),_(w.filter($=>$.id!==W)),p===W&&m("all"),ee.success("Tag deleted")}catch{ee.error("Failed to delete tag")}},T=async(W,$)=>{W.stopPropagation(),P($);try{const J=(await tn.duplicate($)).data;a([J,...r]),v[$]&&g({...v,[J.id]:v[$]}),ee.success("Scan duplicated successfully")}catch{ee.error("Failed to duplicate scan")}finally{P(null)}},D=r.filter(W=>{const $=W.name.toLowerCase().includes(d.toLowerCase())||W.targets.toLowerCase().includes(d.toLowerCase()),Z=h==="all"||W.status===h,J=p==="all"||v[W.id]&&v[W.id].some(I=>I.id===p);return $&&Z&&J}),M=W=>{n&&(W.target.checked?n(new Set(D.map($=>$.id))):n(new Set))},B=(W,$)=>{if(!n||!e)return;const Z=new Set(e);$?Z.add(W):Z.delete(W),n(Z)},X=["#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444","#ec4899","#3b82f6","#84cc16"];return l?i.jsx(xe,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nn,{})})}):i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-xl font-semibold text-white",children:"Scan History"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>b(!x),className:"text-sm text-slate-400 hover:text-primary flex items-center gap-1",title:"Manage tags",children:[i.jsx(js,{className:"h-4 w-4"}),"Tags"]}),i.jsxs("span",{className:"text-sm text-slate-400",children:[r.length," scans",e&&e.size>0&&` (${e.size} selected)`]})]})]}),x&&i.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{type:"text",placeholder:"New tag name...",value:y,onChange:W=>j(W.target.value),className:"flex-1"}),i.jsx("div",{className:"flex gap-1",children:X.map(W=>i.jsx("button",{onClick:()=>S(W),className:`w-6 h-6 rounded-full border-2 ${k===W?"border-white":"border-transparent"}`,style:{backgroundColor:W},title:W},W))}),i.jsx("button",{onClick:R,disabled:!y.trim(),className:"px-3 py-1.5 bg-primary text-white rounded hover:bg-primary/80 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx(Tn,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.map(W=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm",style:{backgroundColor:W.color+"20",color:W.color},children:[W.name,i.jsx("button",{onClick:()=>z(W.id),className:"hover:opacity-70",children:i.jsx(Tt,{className:"h-3 w-3"})})]},W.id)),w.length===0&&i.jsx("span",{className:"text-sm text-slate-500",children:"No tags yet"})]})]}),i.jsx(tt,{type:"text",placeholder:"Search by name, target, or customer...",value:d,onChange:W=>u(W.target.value),icon:i.jsx(mr,{className:"h-5 w-5"})}),i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(qd,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{className:"text-slate-400",children:"Status:"}),i.jsxs("select",{value:h,onChange:W=>f(W.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"completed",children:"Completed"}),i.jsx("option",{value:"failed",children:"Failed"})]})]}),w.length>0&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(js,{className:"h-4 w-4 text-slate-400"}),i.jsx("span",{className:"text-slate-400",children:"Tag:"}),i.jsxs("select",{value:p,onChange:W=>m(W.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[i.jsx("option",{value:"all",children:"All Tags"}),w.map(W=>i.jsx("option",{value:W.id,children:W.name},W.id))]})]})]}),n&&i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",id:"select-all",checked:(e==null?void 0:e.size)===D.length&&D.length>0,onChange:M,className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary"}),i.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-400 cursor-pointer",children:"Select All"})]})]}),i.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:D.length===0?i.jsx("div",{className:"text-center py-8 text-slate-500",children:d||h!=="all"||p!=="all"?"No scans match your filters":"No scans yet. Create your first scan above."}):D.map(W=>i.jsxs("div",{className:"flex items-center space-x-2",children:[n&&i.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.has(W.id))||!1,onChange:$=>B(W.id,$.target.checked),className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 relative group",children:[i.jsx(Vj,{scan:W,isActive:(s==null?void 0:s.id)===W.id,onClick:()=>o(W),tags:v[W.id],onTagClick:$=>m($)}),i.jsx("button",{onClick:$=>T($,W.id),disabled:C===W.id,className:"absolute top-2 right-12 p-1.5 bg-dark-bg/90 border border-dark-border rounded opacity-0 group-hover:opacity-100 transition-opacity hover:border-primary hover:text-primary disabled:opacity-50",title:"Duplicate scan",children:C===W.id?i.jsx(nn,{className:"h-4 w-4"}):i.jsx(ea,{className:"h-4 w-4"})})]})]},W.id))})]})})},Fr=[{name:"host_discovery",label:"Host Discovery",progressStart:0,progressEnd:20},{name:"port_scanning",label:"Port Scanning",progressStart:20,progressEnd:40},{name:"service_detection",label:"Service Detection",progressStart:40,progressEnd:60},{name:"enumeration",label:"Enumeration",progressStart:60,progressEnd:75},{name:"os_fingerprinting",label:"OS Fingerprinting",progressStart:75,progressEnd:85},{name:"vulnerability_scanning",label:"Vulnerability Scanning",progressStart:85,progressEnd:100}],Yj=({currentPhase:e,progress:n=0,isComplete:r=!1})=>{var c;const s=d=>d.toLowerCase().replace(/\s+/g,"_"),o=(()=>{if(r)return Fr.length;if(!e)return-1;const d=s(e);return Fr.findIndex(u=>u.name===d||s(u.label)===d)})(),l=d=>r||d<o?"completed":d===o?"active":"pending";return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-dark-border"}),i.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${r?100:o/Fr.length*100}%`}}),i.jsx("div",{className:"relative grid grid-cols-6 gap-2",children:Fr.map((d,u)=>{const h=l(u);return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`
                    relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300
                    ${h==="completed"?"bg-green-500 border-green-500 shadow-lg shadow-green-500/50":h==="active"?"bg-primary border-primary shadow-lg shadow-primary/50 animate-pulse-glow":"bg-dark-surface border-dark-border"}
                  `,children:h==="completed"?i.jsx(fr,{className:"h-6 w-6 text-white"}):h==="active"?i.jsx(Rs,{className:"h-6 w-6 text-white animate-spin"}):i.jsx(ym,{className:"h-6 w-6 text-slate-600"})}),i.jsxs("div",{className:"mt-3 text-center",children:[i.jsx("p",{className:`text-xs font-medium transition-colors ${h==="completed"?"text-green-500":h==="active"?"text-primary":"text-slate-500"}`,children:d.label}),h==="active"&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"In Progress..."}),h==="completed"&&i.jsx("p",{className:"text-xs text-green-500/70 mt-1",children:"Complete"})]})]},d.name)})})]}),i.jsxs("div",{className:"space-y-2 pt-4 border-t border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-slate-400",children:r?i.jsx("span",{className:"text-green-500 font-medium",children:"Scan Complete"}):e?i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-primary font-medium",children:((c=Fr[o])==null?void 0:c.label)||e})," in progress..."]}):i.jsx("span",{className:"text-slate-500",children:"Initializing..."})}),i.jsxs("span",{className:"text-white font-semibold tabular-nums",children:[Math.round(n),"%"]})]}),i.jsx("div",{className:"relative h-3 bg-dark-surface rounded-full overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary via-primary-light to-primary transition-all duration-500 ease-out",style:{width:`${r?100:n}%`},children:i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})})})]})]})},Hr=({value:e,duration:n=500})=>{const[r,s]=A.useState(0);return A.useEffect(()=>{if(r===e)return;const a=r,o=e-a,l=Date.now(),c=()=>{const d=Date.now()-l,u=Math.min(d/n,1),h=1-Math.pow(1-u,3),f=Math.round(a+o*h);s(f),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,n]),i.jsx("span",{className:"tabular-nums",children:r.toLocaleString()})},Xj=({hostsFound:e,portsOpen:n,servicesDetected:r,vulnerabilitiesFound:s,criticalVulns:a=0,highVulns:o=0,mediumVulns:l=0,lowVulns:c=0})=>{const d=[{label:"Hosts Found",value:e,icon:qt,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},{label:"Open Ports",value:n,icon:Os,color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30"},{label:"Services Detected",value:r,icon:qo,color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30"},{label:"Vulnerabilities",value:s,icon:De,color:s>0?"text-red-400":"text-slate-500",bgColor:s>0?"bg-red-500/10":"bg-slate-500/10",borderColor:s>0?"border-red-500/30":"border-slate-500/30"}],u=h=>{switch(h){case"critical":return"bg-severity-critical text-white";case"high":return"bg-severity-high text-white";case"medium":return"bg-severity-medium text-white";case"low":return"bg-severity-low text-white";default:return"bg-slate-600 text-white"}};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(h=>{const f=h.icon;return i.jsxs("div",{className:`relative overflow-hidden rounded-lg border ${h.borderColor} ${h.bgColor} p-4 transition-all duration-300 hover:scale-105`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(f,{className:`h-5 w-5 ${h.color}`}),h.value>0&&i.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-current animate-pulse-dot"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"text-2xl font-bold text-white",children:i.jsx(Hr,{value:h.value})}),i.jsx("p",{className:"text-xs text-slate-400 font-medium",children:h.label})]}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"})]},h.label)})}),s>0&&i.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Pe,{className:"h-4 w-4 text-red-400"}),i.jsx("h4",{className:"text-sm font-semibold text-white",children:"Vulnerability Breakdown"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[a>0&&i.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("critical")}`,children:[i.jsx("span",{className:"font-bold",children:i.jsx(Hr,{value:a})})," Critical"]}),o>0&&i.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("high")}`,children:[i.jsx("span",{className:"font-bold",children:i.jsx(Hr,{value:o})})," High"]}),l>0&&i.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("medium")}`,children:[i.jsx("span",{className:"font-bold",children:i.jsx(Hr,{value:l})})," Medium"]}),c>0&&i.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("low")}`,children:[i.jsx("span",{className:"font-bold",children:i.jsx(Hr,{value:c})})," Low"]})]})]})]})};class Kj{constructor(n,r){cn(this,"ws",null);cn(this,"scanId");cn(this,"token");cn(this,"reconnectAttempts",0);cn(this,"maxReconnectAttempts",10);cn(this,"reconnectDelay",1e3);cn(this,"messageHandlers",[]);cn(this,"statusHandlers",[]);this.scanId=n,this.token=r||localStorage.getItem("token")||""}connect(){if(!this.token){console.error("WebSocket connection failed: No authentication token available"),this.updateStatus("failed");return}const n=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,s=window.location.port||(n==="wss:"?"443":"80"),a=`${n}//${r}:${s}/api/ws/scans/${this.scanId}?token=${encodeURIComponent(this.token)}`;this.updateStatus("connecting");try{this.ws=new WebSocket(a),this.ws.onopen=()=>{console.log(`WebSocket connected for scan: ${this.scanId}`),this.reconnectAttempts=0,this.reconnectDelay=1e3,this.updateStatus("connected")},this.ws.onmessage=o=>{try{const l=JSON.parse(o.data);this.messageHandlers.forEach(c=>c(l))}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onerror=o=>{console.error("WebSocket error:",o)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.updateStatus("disconnected"),this.attemptReconnect()}}catch(o){console.error("Failed to create WebSocket:",o),this.updateStatus("failed")}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnection attempts reached"),this.updateStatus("failed");return}this.reconnectAttempts++;const n=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),8e3);console.log(`Reconnecting in ${n}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect()},n)}onMessage(n){this.messageHandlers.push(n)}onStatusChange(n){this.statusHandlers.push(n)}updateStatus(n){this.statusHandlers.forEach(r=>r(n))}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.messageHandlers=[],this.statusHandlers=[]}reconnect(){this.disconnect(),this.reconnectAttempts=0,this.connect()}}const Jj=e=>{const[n,r]=A.useState("disconnected"),[s,a]=A.useState(null),o=A.useRef(null),{updateScanStatus:l,addHostToResults:c,updateHostInResults:d,results:u}=Ht();A.useEffect(()=>{if(!e)return;const p=new Kj(e);return o.current=p,p.onStatusChange(m=>{r(m),a(m==="failed"?"Failed to connect to WebSocket":null)}),p.onMessage(m=>{h(e,m)}),p.connect(),()=>{p.disconnect(),o.current=null}},[e]);const h=(p,m)=>{switch(console.log("WebSocket message:",m),m.type){case"scanStarted":l(p,"running"),ee.info("Scan started");break;case"phaseStarted":break;case"hostDiscovered":const w={target:{ip:m.ip,hostname:m.hostname||null},is_alive:!0,os_guess:null,ports:[],vulnerabilities:[],scan_duration:{secs:0,nanos:0}};c(p,w);break;case"portFound":const v=(u.get(p)||[]).find(j=>j.target.ip===m.ip);if(v){const j={port:m.port,protocol:m.protocol==="TCP"?"TCP":"UDP",state:m.state,service:null},k=[...v.ports,j];d(p,m.ip,{ports:k})}break;case"serviceDetected":const x=(u.get(p)||[]).find(j=>j.target.ip===m.ip);if(x){const j=x.ports.map(k=>k.port===m.port?{...k,service:{name:m.service_name,version:m.version||null,banner:null,cpe:null,ssl_info:null}}:k);d(p,m.ip,{ports:j})}break;case"vulnerabilityFound":const y=(u.get(p)||[]).find(j=>j.target.ip===m.ip);if(y){const j={cve_id:m.cve_id||null,title:m.title,severity:m.severity,description:"",affected_service:null},k=[...y.vulnerabilities,j];d(p,m.ip,{vulnerabilities:k}),m.severity==="Critical"?ee.error(` CRITICAL vulnerability found on ${m.ip}: ${m.title}`,{autoClose:8e3}):m.severity==="High"&&ee.warning(` HIGH severity vulnerability found on ${m.ip}: ${m.title}`,{autoClose:6e3})}break;case"scanCompleted":l(p,"completed"),ee.success(`Scan completed! Found ${m.total_hosts} hosts`);break;case"error":l(p,"failed"),ee.error(`Scan error: ${m.message}`);break;default:console.log("Unknown message type:",m.type)}};return{status:n,error:s,reconnect:()=>{o.current&&o.current.reconnect()}}},Qj=({scanId:e})=>{const{status:n,error:r,reconnect:s}=Jj(e),{liveUpdates:a,scans:o}=Ht(),[l,c]=A.useState(!0),d=A.useMemo(()=>o.find(y=>y.id===e),[o,e]),{currentPhase:u,progress:h,isComplete:f,metrics:p,currentActivity:m,estimatedTime:w}=A.useMemo(()=>{var $,Z,J,I,ce,we;if(!e)return{currentPhase:void 0,progress:0,isComplete:!1,metrics:{hostsFound:0,portsOpen:0,servicesDetected:0,vulnerabilitiesFound:0,criticalVulns:0,highVulns:0,mediumVulns:0,lowVulns:0},currentActivity:"",estimatedTime:null};const y=a.get(e)||[],j=(d==null?void 0:d.status)==="completed",k=y.filter(ue=>ue.type==="phaseStarted"),S=k.length>0?k[k.length-1]:null,C=y.filter(ue=>ue.type==="scanProgress"),P=C.length>0?C[C.length-1]:null,O=y.filter(ue=>ue.type==="hostDiscovered"),E=y.filter(ue=>ue.type==="portFound"),R=y.filter(ue=>ue.type==="serviceDetected"),z=y.filter(ue=>ue.type==="vulnerabilityFound"),T=z.filter(ue=>{var Ne;return((Ne=ue.data)==null?void 0:Ne.severity)==="Critical"}).length,D=z.filter(ue=>{var Ne;return((Ne=ue.data)==null?void 0:Ne.severity)==="High"}).length,M=z.filter(ue=>{var Ne;return((Ne=ue.data)==null?void 0:Ne.severity)==="Medium"}).length,B=z.filter(ue=>{var Ne;return((Ne=ue.data)==null?void 0:Ne.severity)==="Low"}).length,X=(($=P==null?void 0:P.data)==null?void 0:$.message)||((Z=S==null?void 0:S.data)==null?void 0:Z.phase)||"";let W=null;if(!j&&P&&((J=P.data)==null?void 0:J.progress)>0){const ue=P.data.progress,Ne=y.find(Q=>Q.type==="scanStarted");if(Ne){const Q=new Date(Ne.timestamp).getTime(),se=(Date.now()-Q)/1e3,oe=se/ue*100;W=Math.max(0,oe-se)}}return{currentPhase:(I=S==null?void 0:S.data)==null?void 0:I.phase,progress:((ce=P==null?void 0:P.data)==null?void 0:ce.progress)||((we=S==null?void 0:S.data)==null?void 0:we.progress)||0,isComplete:j,metrics:{hostsFound:O.length,portsOpen:E.length,servicesDetected:R.length,vulnerabilitiesFound:z.length,criticalVulns:T,highVulns:D,mediumVulns:M,lowVulns:B},currentActivity:X,estimatedTime:W}},[e,a,d]),_=y=>y===null?"Calculating...":y<60?`~${Math.round(y)}s remaining`:y<3600?`~${Math.round(y/60)}m remaining`:`~${Math.round(y/3600)}h ${Math.round(y%3600/60)}m remaining`;if(!e)return i.jsx(xe,{children:i.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a scan to view real-time progress"})});const v=()=>{switch(n){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"disconnected":case"failed":return"text-red-500";default:return"text-slate-500"}},g=()=>n==="connected"?i.jsx(Os,{className:"h-5 w-5"}):i.jsx(ro,{className:"h-5 w-5"}),x=()=>{switch(n){case"connected":return"Connected - Receiving live updates";case"connecting":return"Connecting to scan...";case"disconnected":return"Disconnected";case"failed":return"Connection failed";default:return"Unknown"}},b=(d==null?void 0:d.status)==="running"||(d==null?void 0:d.status)==="completed";return i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[i.jsx(Ft,{className:"h-5 w-5 mr-2"}),"Real-Time Scan Progress"]}),i.jsxs(_t,{variant:"status",type:n==="connected"?"running":"pending",children:[n==="connected"&&i.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse-dot mr-1"}),"Live"]})]}),i.jsx("button",{onClick:()=>c(!l),className:"p-2 hover:bg-dark-hover rounded-lg transition-colors",children:l?i.jsx($n,{className:"h-5 w-5 text-slate-400"}):i.jsx(Nt,{className:"h-5 w-5 text-slate-400"})})]}),i.jsxs("div",{className:`flex items-center space-x-2 ${v()}`,children:[g(),i.jsx("span",{className:"text-sm",children:x()})]}),r&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[i.jsx("p",{className:"text-red-500 text-sm",children:r}),i.jsx("button",{onClick:s,className:"mt-2 text-xs text-red-400 hover:text-red-300 underline",children:"Try reconnecting"})]}),l&&i.jsxs(i.Fragment,{children:[b&&!f&&m&&i.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(Ft,{className:"h-4 w-4 text-primary mt-0.5 animate-pulse"}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("p",{className:"text-sm text-slate-300",children:m})})]}),w!==null&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Bt,{className:"h-3 w-3"}),i.jsx("span",{children:_(w)})]})]}),b&&i.jsx(Xj,{hostsFound:p.hostsFound,portsOpen:p.portsOpen,servicesDetected:p.servicesDetected,vulnerabilitiesFound:p.vulnerabilitiesFound,criticalVulns:p.criticalVulns,highVulns:p.highVulns,mediumVulns:p.mediumVulns,lowVulns:p.lowVulns}),b&&i.jsx("div",{className:"border-t border-dark-border pt-4",children:i.jsx(Yj,{currentPhase:u,progress:h,isComplete:f})}),n==="connected"&&!b&&i.jsxs("div",{className:"border-t border-dark-border pt-4 text-sm text-slate-400",children:[i.jsx("p",{children:"Listening for scan events:"}),i.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[i.jsx("li",{children:" Host discoveries"}),i.jsx("li",{children:" Open ports"}),i.jsx("li",{children:" Service detections"}),i.jsx("li",{children:" Vulnerability findings"})]})]})]})]})})},Zj=({onScanSelect:e})=>{const{scans:n,liveUpdates:r,activeScan:s}=Ht(),a=A.useMemo(()=>n.filter(u=>u.status==="running"),[n]),o=A.useMemo(()=>{const u=new Map;return a.forEach(h=>{var w;const p=(r.get(h.id)||[]).filter(_=>_.type==="scanProgress"||_.type==="phaseStarted"),m=p.length>0?p[p.length-1]:null;u.set(h.id,((w=m==null?void 0:m.data)==null?void 0:w.progress)||0)}),u},[a,r]),l=A.useMemo(()=>{let u=0,h=0,f=0;a.forEach(m=>{const w=r.get(m.id)||[];u+=o.get(m.id)||0,h+=w.filter(_=>_.type==="hostDiscovered").length,f+=w.filter(_=>_.type==="vulnerabilityFound").length});const p=a.length>0?u/a.length:0;return{totalScans:a.length,avgProgress:p,totalHosts:h,totalVulns:f}},[a,r,o]),c=u=>{switch(u){case"running":return i.jsx(Rs,{className:"h-4 w-4 text-primary animate-spin"});case"completed":return i.jsx(ut,{className:"h-4 w-4 text-green-500"});case"failed":return i.jsx(rn,{className:"h-4 w-4 text-red-500"});default:return i.jsx(Ft,{className:"h-4 w-4 text-slate-400"})}},d=u=>{if(!u.started_at)return"";const h=new Date(u.started_at).getTime(),f=u.completed_at?new Date(u.completed_at).getTime():Date.now(),p=Math.floor((f-h)/1e3);return p<60?`${p}s`:p<3600?`${Math.floor(p/60)}m`:`${Math.floor(p/3600)}h ${Math.floor(p%3600/60)}m`};return a.length===0?null:i.jsx(xe,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Scans"}),i.jsxs(_t,{variant:"status",type:"running",children:[l.totalScans," Running"]})]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 pb-3 border-b border-dark-border",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(l.avgProgress),"%"]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Avg Progress"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-400",children:l.totalHosts}),i.jsx("p",{className:"text-xs text-slate-400",children:"Total Hosts"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-red-400",children:l.totalVulns}),i.jsx("p",{className:"text-xs text-slate-400",children:"Total Vulns"})]})]}),i.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar",children:a.map(u=>{const h=o.get(u.id)||0,f=(s==null?void 0:s.id)===u.id;return i.jsxs("div",{onClick:()=>e==null?void 0:e(u.id),className:`
                  group relative p-3 rounded-lg border transition-all cursor-pointer
                  ${f?"bg-primary/10 border-primary":"bg-dark-surface border-dark-border hover:border-primary/50 hover:bg-dark-hover"}
                `,children:[i.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-lg transition-all duration-300",style:{width:`${h}%`}}),i.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c(u.status),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-white truncate",children:u.name}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:u.targets})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-sm font-semibold text-primary tabular-nums",children:[Math.round(h),"%"]}),i.jsx("p",{className:"text-xs text-slate-500",children:d(u)})]}),i.jsx(Ts,{className:`h-4 w-4 text-slate-400 transition-transform ${f?"text-primary":"group-hover:translate-x-1"}`})]})]}),i.jsx("div",{className:"relative mt-2 h-1 bg-dark-bg rounded-full overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${h}%`}})})]},u.id)})})]})})},e_=({scanId:e,maxItems:n=50})=>{const{liveUpdates:r}=Ht(),[s,a]=A.useState(!1),o=A.useRef(null),[l,c]=A.useState(!0),d=e?r.get(e)||[]:[],h=(s?d.filter(w=>{var _,v;return w.type==="vulnerabilityFound"&&(((_=w.data)==null?void 0:_.severity)==="Critical"||((v=w.data)==null?void 0:v.severity)==="High")}):d).slice(-n);A.useEffect(()=>{l&&o.current&&o.current.scrollIntoView({behavior:"smooth"})},[h.length,l]);const f=w=>{switch(w){case"hostDiscovered":return i.jsx(qt,{className:"h-4 w-4 text-blue-400"});case"portFound":return i.jsx(Os,{className:"h-4 w-4 text-green-400"});case"serviceDetected":return i.jsx(qo,{className:"h-4 w-4 text-purple-400"});case"vulnerabilityFound":return i.jsx(De,{className:"h-4 w-4 text-red-400"});case"phaseStarted":return i.jsx(Ft,{className:"h-4 w-4 text-primary"});case"scanStarted":case"scanCompleted":return i.jsx(Pe,{className:"h-4 w-4 text-green-400"});case"vpnConnecting":return i.jsx(Dn,{className:"h-4 w-4 text-yellow-400 animate-pulse"});case"vpnConnected":return i.jsx(Dn,{className:"h-4 w-4 text-green-400"});case"vpnDisconnecting":return i.jsx(ro,{className:"h-4 w-4 text-yellow-400"});case"vpnDisconnected":return i.jsx(ro,{className:"h-4 w-4 text-slate-400"});case"vpnError":return i.jsx(Dn,{className:"h-4 w-4 text-red-400"});default:return i.jsx(Ft,{className:"h-4 w-4 text-slate-400"})}},p=w=>{var _,v,g,x,b,y,j,k,S,C,P,O,E,R,z,T,D,M,B,X,W,$,Z,J;switch(w.type){case"hostDiscovered":return i.jsxs(i.Fragment,{children:["Discovered host ",i.jsx("code",{className:"text-primary font-mono",children:(_=w.data)==null?void 0:_.ip}),((v=w.data)==null?void 0:v.hostname)&&` (${w.data.hostname})`]});case"portFound":return i.jsxs(i.Fragment,{children:["Found open port"," ",i.jsxs("code",{className:"text-green-400 font-mono",children:[(g=w.data)==null?void 0:g.port,"/",(x=w.data)==null?void 0:x.protocol]})," ","on ",i.jsx("code",{className:"text-primary font-mono",children:(b=w.data)==null?void 0:b.ip})]});case"serviceDetected":return i.jsxs(i.Fragment,{children:["Detected service ",i.jsx("code",{className:"text-purple-400",children:(y=w.data)==null?void 0:y.service_name})," on"," ",i.jsx("code",{className:"text-primary font-mono",children:(j=w.data)==null?void 0:j.ip}),":",(k=w.data)==null?void 0:k.port]});case"vulnerabilityFound":return i.jsxs(i.Fragment,{children:["Found"," ",i.jsx(_t,{variant:"severity",type:((C=(S=w.data)==null?void 0:S.severity)==null?void 0:C.toLowerCase())||"low",children:(P=w.data)==null?void 0:P.severity})," ","vulnerability on ",i.jsx("code",{className:"text-primary font-mono",children:(O=w.data)==null?void 0:O.ip}),":"," ",i.jsx("span",{className:"text-white",children:(E=w.data)==null?void 0:E.title})]});case"phaseStarted":return i.jsxs(i.Fragment,{children:["Started phase: ",i.jsx("span",{className:"text-primary font-medium",children:(R=w.data)==null?void 0:R.phase})]});case"scanStarted":return i.jsx("span",{className:"text-green-400 font-medium",children:"Scan started"});case"scanCompleted":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-green-400 font-medium",children:"Scan completed"})," - Found"," ",((z=w.data)==null?void 0:z.total_hosts)||0," hosts in ",((T=w.data)==null?void 0:T.duration)||0,"s"]});case"error":return i.jsxs("span",{className:"text-red-400",children:["Error: ",(D=w.data)==null?void 0:D.message]});case"vpnConnecting":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-yellow-400",children:"Connecting to VPN:"})," ",i.jsx("span",{className:"text-white",children:(M=w.data)==null?void 0:M.config_name})]});case"vpnConnected":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-green-400 font-medium",children:"VPN connected"})," - ",(B=w.data)==null?void 0:B.config_name,((X=w.data)==null?void 0:X.assigned_ip)&&i.jsxs(i.Fragment,{children:[" (IP: ",i.jsx("code",{className:"text-primary font-mono",children:w.data.assigned_ip}),")"]})]});case"vpnDisconnecting":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-yellow-400",children:"Disconnecting from VPN:"})," ",i.jsx("span",{className:"text-white",children:(W=w.data)==null?void 0:W.config_name})]});case"vpnDisconnected":return i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-slate-400",children:"VPN disconnected:"})," ",i.jsx("span",{className:"text-white",children:($=w.data)==null?void 0:$.config_name})]});case"vpnError":return i.jsxs(i.Fragment,{children:[i.jsxs("span",{className:"text-red-400",children:["VPN Error (",(Z=w.data)==null?void 0:Z.config_name,"):"]})," ",(J=w.data)==null?void 0:J.message]});default:return i.jsx("span",{className:"text-slate-400",children:w.type})}},m=w=>{var _;if(w.type==="vulnerabilityFound")switch((_=w.data)==null?void 0:_.severity){case"Critical":return"border-l-severity-critical bg-severity-critical/5";case"High":return"border-l-severity-high bg-severity-high/5";case"Medium":return"border-l-severity-medium bg-severity-medium/5";default:return"border-l-severity-low bg-severity-low/5"}return w.type==="vpnConnecting"||w.type==="vpnDisconnecting"?"border-l-yellow-500 bg-yellow-500/5":w.type==="vpnConnected"?"border-l-green-500 bg-green-500/5":w.type==="vpnError"?"border-l-red-500 bg-red-500/5":"border-l-slate-600 bg-dark-bg"};return e?i.jsxs(xe,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ft,{className:"h-5 w-5 text-primary"}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"}),i.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," events)"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>a(!s),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${s?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-dark-surface text-slate-400 border border-dark-border hover:border-primary"}`,children:[i.jsx(qd,{className:"h-3 w-3"}),s?"Critical/High Only":"All Events"]}),i.jsx("button",{onClick:()=>c(!l),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l?"bg-primary text-white":"bg-dark-surface text-slate-400 border border-dark-border"}`,children:"Auto-scroll"})]})]}),i.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[h.length===0?i.jsx("div",{className:"text-center py-8 text-slate-500",children:s?"No critical/high severity findings yet":"Waiting for scan events..."}):h.map((w,_)=>i.jsx("div",{className:`border-l-4 rounded-r-lg p-3 transition-all hover:bg-dark-surface/50 ${m(w)}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-0.5",children:f(w.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm text-slate-300",children:p(w)}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Rn(new Date(w.timestamp),"HH:mm:ss.SSS")})]})]})},_)),i.jsx("div",{ref:o})]})]}):i.jsx(xe,{children:i.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a running scan to view live activity"})})},t_={Critical:10,High:7,Medium:4,Low:1};function Ua(e){let n=0;const r=e.vulnerabilities.reduce((o,l)=>o+t_[l.severity],0),s=e.ports.filter(o=>o.state==="Open").length,a=Math.min(s*2,30);return n=r+a,Math.min(Math.round(n),100)}function n_(e){return e>=70?"Critical":e>=50?"High":e>=25?"Medium":"Low"}function cf(e){const n={Critical:0,High:0,Medium:0,Low:0};return e.forEach(r=>{r.vulnerabilities.forEach(s=>{n[s.severity]++})}),n}function r_(e){const n=new Map;return e.forEach(r=>{r.ports.filter(s=>s.state==="Open").forEach(s=>{var o;const a=n.get(s.port);a?a.count++:n.set(s.port,{count:1,service:((o=s.service)==null?void 0:o.name)||`Port ${s.port}`})})}),Array.from(n.entries()).map(([r,s])=>({port:r,...s})).sort((r,s)=>s.count-r.count).slice(0,10)}function s_(e){const n=e.length,r=e.reduce((l,c)=>l+c.ports.filter(d=>d.state==="Open").length,0),s=cf(e),a=Object.values(s).reduce((l,c)=>l+c,0),o=s.Critical;return{totalHosts:n,totalPorts:r,totalVulnerabilities:a,criticalVulnerabilities:o,vulnerabilities:s}}function uf(e){switch(e.toLowerCase()){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":case"info":case"informational":return"low";default:return"low"}}const i_=({vulnerability:e,compact:n=!1})=>{const[r,s]=A.useState(!1),a=()=>{e.cve_id&&(navigator.clipboard.writeText(e.cve_id),ee.success("CVE ID copied to clipboard"))},o=c=>`https://nvd.nist.gov/vuln/detail/${c}`,l=c=>{switch(c){case"Critical":return"border-severity-critical bg-severity-critical/10";case"High":return"border-severity-high bg-severity-high/10";case"Medium":return"border-severity-medium bg-severity-medium/10";case"Low":return"border-severity-low bg-severity-low/10";default:return"border-slate-600 bg-slate-600/10"}};return i.jsx("div",{className:`border-l-4 rounded-lg p-4 ${l(e.severity)}`,children:i.jsx("div",{className:"flex items-start justify-between gap-3",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Pe,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),i.jsx("h4",{className:"text-white font-semibold text-sm truncate",children:e.title})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.cve_id&&i.jsxs("div",{className:"flex items-center gap-1 bg-dark-surface px-2 py-1 rounded",children:[i.jsx("code",{className:"text-xs text-primary font-mono",children:e.cve_id}),i.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors",title:"Copy CVE ID",children:i.jsx(ea,{className:"h-3 w-3"})}),i.jsx("a",{href:o(e.cve_id),target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",title:"View on NVD",children:i.jsx(Wd,{className:"h-3 w-3"})})]}),i.jsx(_t,{variant:"severity",type:uf(e.severity),children:e.severity}),e.affected_service&&i.jsxs("span",{className:"text-xs text-slate-400",children:["Affects: ",i.jsx("span",{className:"text-slate-300 font-mono",children:e.affected_service})]})]}),!n&&e.description&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:`text-sm text-slate-300 mt-2 ${r?"":"line-clamp-2"}`,children:e.description}),e.description.length>100&&i.jsx("button",{onClick:()=>s(!r),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:r?i.jsxs(i.Fragment,{children:["Show less ",i.jsx($n,{className:"h-3 w-3"})]}):i.jsxs(i.Fragment,{children:["Show more ",i.jsx(Nt,{className:"h-3 w-3"})]})})]})]})})})},a_=({banner:e,service:n})=>{const[r,s]=A.useState(!1),a=()=>{navigator.clipboard.writeText(e),ee.success("Service banner copied to clipboard")},o=e.length>100,l=r||!o?e:e.substring(0,100)+"...";return i.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 mt-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Id,{className:"h-4 w-4 text-green-400"}),i.jsxs("span",{className:"text-xs font-semibold text-slate-300",children:["Service Banner ",n&&`(${n})`]})]}),i.jsx("button",{onClick:a,className:"text-slate-400 hover:text-white transition-colors p-1 rounded hover:bg-dark-surface",title:"Copy banner",children:i.jsx(ea,{className:"h-3 w-3"})})]}),i.jsx("pre",{className:"bg-slate-900 rounded p-2 overflow-x-auto",children:i.jsx("code",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:l})}),o&&i.jsx("button",{onClick:()=>s(!r),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:r?i.jsxs(i.Fragment,{children:["Show less ",i.jsx($n,{className:"h-3 w-3"})]}):i.jsxs(i.Fragment,{children:["Show full banner ",i.jsx(Nt,{className:"h-3 w-3"})]})})]})};function o_(e){switch(e){case"A+":return{bg:"bg-emerald-500",text:"text-white",border:"border-emerald-600",glow:"shadow-emerald-500/50"};case"A":return{bg:"bg-green-500",text:"text-white",border:"border-green-600",glow:"shadow-green-500/50"};case"A-":return{bg:"bg-green-400",text:"text-white",border:"border-green-500",glow:"shadow-green-400/50"};case"B+":return{bg:"bg-lime-500",text:"text-white",border:"border-lime-600",glow:"shadow-lime-500/50"};case"B":return{bg:"bg-yellow-500",text:"text-gray-900",border:"border-yellow-600",glow:"shadow-yellow-500/50"};case"B-":return{bg:"bg-yellow-400",text:"text-gray-900",border:"border-yellow-500",glow:"shadow-yellow-400/50"};case"C":return{bg:"bg-orange-500",text:"text-white",border:"border-orange-600",glow:"shadow-orange-500/50"};case"D":return{bg:"bg-red-400",text:"text-white",border:"border-red-500",glow:"shadow-red-400/50"};case"F":return{bg:"bg-red-600",text:"text-white",border:"border-red-700",glow:"shadow-red-600/50"};case"T":return{bg:"bg-purple-600",text:"text-white",border:"border-purple-700",glow:"shadow-purple-600/50"};case"M":return{bg:"bg-fuchsia-600",text:"text-white",border:"border-fuchsia-700",glow:"shadow-fuchsia-600/50"};default:return{bg:"bg-gray-500",text:"text-white",border:"border-gray-600"}}}function au(e){switch(e){case"A+":return"Excellent - Best possible SSL/TLS configuration with HSTS";case"A":return"Very Good - Strong SSL/TLS configuration";case"A-":return"Good - Minor improvements possible";case"B+":case"B":case"B-":return"Acceptable - Some security issues present";case"C":return"Weak - Significant security issues";case"D":return"Poor - Serious security vulnerabilities";case"F":return"Failed - Critical security issues";case"T":return"Trust Issue - Certificate not from a trusted CA (self-signed)";case"M":return"Mismatch - Certificate hostname does not match";default:return"Unknown - Grade could not be determined"}}function l_(e){switch(e){case"T":return vm;case"M":return bm;default:return null}}function c_(e){return e>=90?"bg-emerald-500":e>=80?"bg-green-500":e>=70?"bg-lime-500":e>=60?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500"}function u_(e){switch(e){case"Critical":return{bg:"bg-red-600",text:"text-white"};case"High":return{bg:"bg-orange-500",text:"text-white"};case"Medium":return{bg:"bg-yellow-500",text:"text-gray-900"};case"Low":return{bg:"bg-blue-500",text:"text-white"};case"Informational":return{bg:"bg-gray-500",text:"text-white"};default:return{bg:"bg-gray-500",text:"text-white"}}}function ii({label:e,score:n,icon:r}){return i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[i.jsx(r,{className:"w-4 h-4"}),i.jsx("span",{children:e})]}),i.jsxs("span",{className:"font-mono text-gray-200",children:[n,"/100"]})]}),i.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${c_(n)} transition-all duration-300`,style:{width:`${n}%`}})})]})}function d_({vuln:e}){const n=u_(e.severity);return i.jsx("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${n.bg} ${n.text}`,children:e.severity}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium text-gray-200",children:e.name}),e.cve&&i.jsx("span",{className:"text-xs text-cyan-400 font-mono",children:e.cve})]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]})]})})}function h_({grade:e,showDetails:n=!0,compact:r=!1,animate:s=!0}){const[a,o]=A.useState(!1),[l,c]=A.useState(!s),d=o_(e.grade),u=l_(e.grade),h=e.grade==="T"||e.grade==="M";return A.useEffect(()=>{if(s&&!l){const f=setTimeout(()=>c(!0),100);return()=>clearTimeout(f)}},[s,l]),r?i.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg font-bold text-sm
          ${d.bg} ${d.text} border ${d.border}
          ${l?"opacity-100 scale-100":"opacity-0 scale-75"}
          ${d.glow?`shadow-lg ${d.glow}`:""}
          transition-all duration-300 ease-out`,title:`SSL/TLS Grade: ${e.grade} - ${au(e.grade)} (Score: ${e.overall_score}/100)`,children:u?i.jsx(u,{className:"w-4 h-4"}):e.grade}):i.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700",children:[i.jsxs("div",{className:`flex items-center justify-between p-3 ${n?"cursor-pointer hover:bg-gray-800/80":""} transition-colors`,onClick:()=>n&&o(!a),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg font-bold text-xl
              ${d.bg} ${d.text} border-2 ${d.border}
              ${l?"opacity-100 scale-100":"opacity-0 scale-75"}
              ${d.glow?`shadow-lg ${d.glow}`:""}
              transition-all duration-500 ease-out`,children:u?i.jsx(u,{className:"w-6 h-6"}):e.grade}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-gray-200 font-medium",children:"SSL/TLS Grade"}),h&&i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.grade==="T"?"bg-purple-500/20 text-purple-400":"bg-fuchsia-500/20 text-fuchsia-400"}`,children:e.grade==="T"?"Trust Issue":"Hostname Mismatch"}),!h&&e.grade_capped&&i.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Capped"})]}),i.jsx("div",{className:"text-sm text-gray-400",children:h?i.jsx("span",{children:au(e.grade)}):i.jsxs(i.Fragment,{children:["Overall Score: ",e.overall_score,"/100",e.vulnerabilities_found.length>0&&i.jsxs("span",{className:"ml-2 text-red-400",children:["(",e.vulnerabilities_found.length," issue",e.vulnerabilities_found.length!==1?"s":"",")"]})]})})]})]}),n&&i.jsx("button",{className:"text-gray-400 hover:text-gray-200 p-1 transition-colors",children:a?i.jsx($n,{className:"w-5 h-5"}):i.jsx(Nt,{className:"w-5 h-5"})})]}),n&&a&&i.jsxs("div",{className:"border-t border-gray-700 p-4 space-y-4",children:[e.grade_capped&&e.cap_reason&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 flex items-start gap-2",children:[i.jsx(De,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-yellow-400 font-medium",children:"Grade Capped"}),i.jsx("p",{className:"text-sm text-yellow-300/80 mt-1",children:e.cap_reason})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-4 h-4"}),"Score Breakdown"]}),i.jsxs("div",{className:"grid gap-3",children:[i.jsx(ii,{label:"Protocol",score:e.protocol_score,icon:wn}),i.jsx(ii,{label:"Cipher Suites",score:e.cipher_score,icon:vn}),i.jsx(ii,{label:"Certificate",score:e.certificate_score,icon:so}),i.jsx(ii,{label:"Key Exchange",score:e.key_exchange_score,icon:Pe})]})]}),e.vulnerabilities_found.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[i.jsx(De,{className:"w-4 h-4 text-red-400"}),"Issues Found (",e.vulnerabilities_found.length,")"]}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.vulnerabilities_found.map((f,p)=>i.jsx(d_,{vuln:f},`${f.id}-${p}`))})]}),e.recommendations.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[i.jsx(ut,{className:"w-4 h-4 text-green-400"}),"Recommendations (",e.recommendations.length,")"]}),i.jsx("ul",{className:"space-y-2",children:e.recommendations.map((f,p)=>i.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-400",children:[i.jsx(Wo,{className:"w-4 h-4 text-cyan-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:f})]},p))})]}),e.vulnerabilities_found.length===0&&e.recommendations.length===0&&i.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3 flex items-center gap-2",children:[i.jsx(ut,{className:"w-5 h-5 text-emerald-500"}),i.jsx("span",{className:"text-emerald-400",children:"Excellent! No security issues or recommendations found."})]})]})]})}function f_(e){return e>=90?"text-emerald-400":e>=80?"text-green-400":e>=70?"text-lime-400":e>=60?"text-yellow-400":e>=50?"text-orange-400":"text-red-400"}function p_(e){return e>=90?"bg-emerald-500":e>=80?"bg-green-500":e>=70?"bg-lime-500":e>=60?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500"}function m_(e){switch(e){case"A+":return{bg:"bg-emerald-500",text:"text-white",border:"border-emerald-600"};case"A":return{bg:"bg-green-500",text:"text-white",border:"border-green-600"};case"A-":return{bg:"bg-green-400",text:"text-white",border:"border-green-500"};case"B+":return{bg:"bg-lime-500",text:"text-white",border:"border-lime-600"};case"B":return{bg:"bg-yellow-500",text:"text-gray-900",border:"border-yellow-600"};case"B-":return{bg:"bg-yellow-400",text:"text-gray-900",border:"border-yellow-500"};case"C":return{bg:"bg-orange-500",text:"text-white",border:"border-orange-600"};case"D":return{bg:"bg-red-400",text:"text-white",border:"border-red-500"};case"F":return{bg:"bg-red-600",text:"text-white",border:"border-red-700"};case"T":return{bg:"bg-purple-600",text:"text-white",border:"border-purple-700"};case"M":return{bg:"bg-fuchsia-600",text:"text-white",border:"border-fuchsia-700"};default:return{bg:"bg-gray-500",text:"text-white",border:"border-gray-600"}}}function g_(e){switch(e){case"Critical":return"bg-red-600 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-gray-900";case"Low":return"bg-blue-500 text-white";case"Informational":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}}function ai({label:e,score:n,icon:r,description:s}){return i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(r,{className:"w-5 h-5 text-gray-400"}),i.jsx("span",{className:"font-medium text-gray-200",children:e})]}),i.jsxs("span",{className:`font-bold text-lg ${f_(n)}`,children:[n,"/100"]})]}),i.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full ${p_(n)} transition-all duration-500`,style:{width:`${n}%`}})}),s&&i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:s})]})}function x_({protocol:e,isWeak:n}){return i.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${n?"bg-red-500/10 border border-red-500/30":"bg-green-500/10 border border-green-500/30"}`,children:[n?i.jsx(rn,{className:"w-4 h-4 text-red-400"}):i.jsx(ut,{className:"w-4 h-4 text-green-400"}),i.jsx("span",{className:n?"text-red-300":"text-green-300",children:e}),n&&i.jsx("span",{className:"text-xs text-red-400 ml-auto",children:"Weak"})]})}function y_({cipher:e,isWeak:n}){return i.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm ${n?"bg-red-500/10 text-red-300":"bg-gray-700/50 text-gray-300"}`,children:[n&&i.jsx(De,{className:"w-3 h-3 text-red-400"}),i.jsx("span",{className:"font-mono text-xs truncate",children:e})]})}function b_({sslInfo:e,hostname:n}){const r=e.ssl_grade;if(!r)return i.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:i.jsx("p",{className:"text-gray-400 text-center",children:"SSL grade information not available"})});const s=m_(r.grade),a=r.grade==="T"||r.grade==="M";return i.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 p-6 border-b border-gray-700",children:i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:`flex items-center justify-center w-24 h-24 rounded-xl font-bold text-4xl shadow-xl ${s.bg} ${s.text} border-4 ${s.border}`,children:r.grade}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-2",children:["SSL/TLS Security Grade",n&&i.jsxs("span",{className:"text-gray-400 font-normal ml-2",children:["for ",n]})]}),a?i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ${r.grade==="T"?"bg-purple-500/20 text-purple-300":"bg-fuchsia-500/20 text-fuchsia-300"}`,children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{children:r.grade==="T"?"Certificate not trusted (self-signed or untrusted CA)":"Certificate hostname mismatch"})]}):i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-gray-400",children:[i.jsx("span",{className:"text-2xl font-bold text-white",children:r.overall_score}),i.jsx("span",{className:"text-gray-500",children:"/100"})]}),r.grade_capped&&r.cap_reason&&i.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[i.jsx(De,{className:"w-4 h-4"}),i.jsx("span",{children:"Grade capped"})]})]})]})]})}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-5 h-5 text-cyan-400"}),"Score Breakdown"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(ai,{label:"Protocol Support",score:r.protocol_score,icon:wn,description:"TLS version support and configuration"}),i.jsx(ai,{label:"Cipher Strength",score:r.cipher_score,icon:vn,description:"Encryption algorithms and key sizes"}),i.jsx(ai,{label:"Certificate",score:r.certificate_score,icon:so,description:"Certificate validity and chain"}),i.jsx(ai,{label:"Key Exchange",score:r.key_exchange_score,icon:Pe,description:"Forward secrecy and key exchange methods"})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(so,{className:"w-5 h-5 text-cyan-400"}),"Certificate Details"]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Subject"}),i.jsx("p",{className:"text-gray-200 font-mono text-sm truncate",title:e.subject,children:e.subject})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Issuer"}),i.jsx("p",{className:"text-gray-200 font-mono text-sm truncate",title:e.issuer,children:e.issuer})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Valid From"}),i.jsx("p",{className:"text-gray-200",children:new Date(e.valid_from).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Valid Until"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:e.cert_expired?"text-red-400":"text-gray-200",children:new Date(e.valid_until).toLocaleDateString()}),e.days_until_expiry!==null&&i.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.cert_expired?"bg-red-500/20 text-red-400":e.days_until_expiry<30?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:e.cert_expired?`Expired ${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`})]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-700",children:[e.self_signed&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:[i.jsx(De,{className:"w-3 h-3"}),"Self-Signed"]}),e.hostname_mismatch&&i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-fuchsia-500/20 text-fuchsia-400 text-xs rounded",children:[i.jsx(rn,{className:"w-3 h-3"}),"Hostname Mismatch"]}),e.hsts_enabled?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:[i.jsx(ut,{className:"w-3 h-3"}),"HSTS Enabled"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:[i.jsx(De,{className:"w-3 h-3"}),"HSTS Not Enabled"]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(wn,{className:"w-5 h-5 text-cyan-400"}),"Protocol Support"]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:e.protocols.map(o=>i.jsx(x_,{protocol:o,isWeak:e.weak_protocols.includes(o)},o))})]}),e.cipher_suites.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(vn,{className:"w-5 h-5 text-cyan-400"}),"Cipher Suites",i.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",e.cipher_suites.length,")"]})]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 max-h-48 overflow-y-auto",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:e.cipher_suites.map(o=>i.jsx(y_,{cipher:o,isWeak:e.weak_ciphers.includes(o)},o))})})]}),r.vulnerabilities_found.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(De,{className:"w-5 h-5 text-red-400"}),"Security Issues",i.jsxs("span",{className:"text-sm font-normal text-red-400",children:["(",r.vulnerabilities_found.length,")"]})]}),i.jsx("div",{className:"space-y-3",children:r.vulnerabilities_found.map((o,l)=>i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded flex-shrink-0 ${g_(o.severity)}`,children:o.severity}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"font-medium text-gray-200",children:o.name}),o.cve&&i.jsxs("a",{href:`https://nvd.nist.gov/vuln/detail/${o.cve}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 font-mono hover:underline flex items-center gap-1",children:[o.cve,i.jsx(Wd,{className:"w-3 h-3"})]})]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o.description})]})]})},`${o.id}-${l}`))})]}),r.recommendations.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(ut,{className:"w-5 h-5 text-green-400"}),"Recommendations"]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:r.recommendations.map((o,l)=>i.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[i.jsx(Wo,{className:"w-4 h-4 text-cyan-400 flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"text-gray-300",children:o})]},l))})]}),e.chain_issues.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx(qt,{className:"w-5 h-5 text-yellow-400"}),"Certificate Chain Issues"]}),i.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 space-y-2",children:e.chain_issues.map((o,l)=>i.jsxs("div",{className:"flex items-start gap-2 text-sm text-yellow-300",children:[i.jsx(De,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:o})]},l))})]}),r.vulnerabilities_found.length===0&&r.recommendations.length===0&&e.chain_issues.length===0&&i.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-6 flex items-center justify-center gap-3",children:[i.jsx(ut,{className:"w-6 h-6 text-emerald-400"}),i.jsx("span",{className:"text-emerald-300 text-lg",children:"Excellent! SSL/TLS configuration meets best practices."})]})]})]})}const v_=({sslInfo:e,port:n,hostname:r})=>{const[s,a]=A.useState(!1),l=e.cert_expired||e.hostname_mismatch?"critical":e.weak_protocols.length>0||e.weak_ciphers.length>0||e.self_signed?"warning":!e.hsts_enabled&&n===443?"info":"good",c=()=>e.cert_expired?"text-red-400":e.days_until_expiry?e.days_until_expiry<30?"text-yellow-400":e.days_until_expiry<90?"text-blue-400":"text-green-400":"text-slate-400";return s?i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:i.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 z-10 p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"w-6 h-6"})}),i.jsx(b_,{sslInfo:e,hostname:r})]})}):i.jsxs("div",{className:"mt-3 space-y-3 border-t border-dark-border pt-3",children:[e.ssl_grade&&i.jsxs("div",{className:"relative",children:[i.jsx(h_,{grade:e.ssl_grade,showDetails:!0,animate:!0}),i.jsx("button",{onClick:()=>a(!0),className:"absolute top-3 right-12 p-1.5 text-gray-400 hover:text-cyan-400 hover:bg-gray-700/50 rounded transition-colors",title:"View detailed SSL/TLS breakdown",children:i.jsx(Vd,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(wn,{className:"h-4 w-4 text-primary"}),i.jsx("span",{className:"text-sm font-semibold text-white",children:"SSL/TLS Certificate"}),!e.ssl_grade&&i.jsxs(i.Fragment,{children:[l==="critical"&&i.jsx(_t,{variant:"severity",type:"critical",children:"Critical Issues"}),l==="warning"&&i.jsx(_t,{variant:"severity",type:"high",children:"Security Issues"}),l==="good"&&i.jsx(_t,{variant:"severity",type:"low",children:"Secure"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.cert_valid&&!e.cert_expired?i.jsx(ut,{className:"h-3 w-3 text-green-500"}):i.jsx(rn,{className:"h-3 w-3 text-red-500"}),i.jsx("span",{className:"font-medium text-slate-300",children:"Certificate Status"})]}),i.jsx("div",{className:e.cert_expired?"text-red-400":"text-green-400",children:e.cert_expired?"Expired":"Valid"})]}),i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Bt,{className:"h-3 w-3 text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-300",children:"Expires In"})]}),i.jsx("div",{className:c(),children:e.days_until_expiry!==null?e.cert_expired?`${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`:"Unknown"})]}),i.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(qt,{className:"h-3 w-3 text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-300",children:"Subject"})]}),i.jsx("div",{className:"text-slate-400 truncate",title:e.subject,children:e.subject})]}),i.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[i.jsx(Pe,{className:"h-3 w-3 text-slate-400"}),i.jsx("span",{className:"font-medium text-slate-300",children:"Issuer"})]}),i.jsx("div",{className:"text-slate-400 truncate",title:e.issuer,children:e.issuer})]}),i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsx("span",{className:"font-medium text-slate-300",children:"Valid From"}),i.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_from).toLocaleDateString()})]}),i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsx("span",{className:"font-medium text-slate-300",children:"Valid Until"}),i.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(e.self_signed||e.hostname_mismatch||e.weak_protocols.length>0||e.weak_ciphers.length>0||!e.hsts_enabled||e.chain_issues.length>0)&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-yellow-400",children:[i.jsx(De,{className:"h-4 w-4"}),"Security Findings"]}),e.self_signed&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-yellow-400 font-medium",children:"Self-Signed Certificate"}),i.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate is not from a trusted Certificate Authority"})]}),e.hostname_mismatch&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-red-400 font-medium",children:"Hostname Mismatch"}),i.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate does not match the hostname"})]}),e.weak_protocols.length>0&&i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-red-400 font-medium",children:"Weak Protocols"}),i.jsx("div",{className:"text-slate-400 mt-1",children:e.weak_protocols.join(", ")})]}),e.weak_ciphers.length>0&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-yellow-400 font-medium",children:"Weak Ciphers"}),i.jsx("div",{className:"text-slate-400 mt-1 max-h-16 overflow-y-auto",children:e.weak_ciphers.join(", ")})]}),!e.hsts_enabled&&n===443&&i.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-blue-400 font-medium",children:"HSTS Not Enabled"}),i.jsx("div",{className:"text-slate-400 mt-1",children:"HTTP Strict Transport Security header not detected"})]}),e.chain_issues.length>0&&i.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[i.jsx("div",{className:"text-yellow-400 font-medium",children:"Certificate Chain Issues"}),i.jsx("div",{className:"text-slate-400 mt-1",children:e.chain_issues.join(", ")})]})]}),e.protocols.length>0&&i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"Supported Protocols"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.protocols.map(d=>i.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${e.weak_protocols.includes(d)?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:d},d))})]}),e.hsts_enabled&&i.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[i.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"HSTS"}),i.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[i.jsx(ut,{className:"h-3 w-3 text-green-500"}),i.jsx("span",{className:"text-green-400",children:"Enabled"}),e.hsts_max_age&&i.jsxs("span",{className:"text-slate-400",children:["(max-age: ",e.hsts_max_age.toLocaleString(),"s)"]})]})]})]})},w_=({hosts:e,scanName:n="scan",scanId:r,disabled:s=!1})=>{const[a,o]=A.useState(!1),[l,c]=A.useState(!1),d=()=>{const w={scan:n,exportedAt:new Date().toISOString(),totalHosts:e.length,hosts:e.map(_=>({ip:_.target.ip,hostname:_.target.hostname,isAlive:_.is_alive,osGuess:_.os_guess,ports:_.ports.map(v=>({port:v.port,protocol:v.protocol,state:v.state,service:v.service})),vulnerabilities:_.vulnerabilities}))};p(JSON.stringify(w,null,2),`${n}_${Rn(new Date,"yyyy-MM-dd_HHmmss")}.json`,"application/json"),ee.success("Exported as JSON")},u=()=>{let w=`IP,Hostname,Alive,OS,Ports,Vulnerabilities,Critical,High,Medium,Low
`;e.forEach(_=>{var x;const v=_.ports.filter(b=>b.state==="Open").map(b=>b.port).join(";"),g={Critical:_.vulnerabilities.filter(b=>b.severity==="Critical").length,High:_.vulnerabilities.filter(b=>b.severity==="High").length,Medium:_.vulnerabilities.filter(b=>b.severity==="Medium").length,Low:_.vulnerabilities.filter(b=>b.severity==="Low").length};w+=`"${_.target.ip}",`,w+=`"${_.target.hostname||""}",`,w+=`${_.is_alive},`,w+=`"${((x=_.os_guess)==null?void 0:x.os_family)||""}",`,w+=`"${v}",`,w+=`${_.vulnerabilities.length},`,w+=`${g.Critical},`,w+=`${g.High},`,w+=`${g.Medium},`,w+=`${g.Low}
`}),p(w,`${n}_${Rn(new Date,"yyyy-MM-dd_HHmmss")}.csv`,"text/csv"),ee.success("Exported as CSV")},h=()=>{const w=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HeroForge Scan Report - ${n}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      padding: 2rem;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: #3b82f6; margin-bottom: 0.5rem; }
    .meta { color: #94a3b8; margin-bottom: 2rem; }
    .summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
    }
    .card h3 { color: #cbd5e1; font-size: 0.875rem; margin-bottom: 0.5rem; }
    .card .value { font-size: 2rem; font-weight: bold; }
    .host {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .host-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #334155;
    }
    .host-ip { font-family: monospace; font-size: 1.25rem; color: #3b82f6; }
    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-critical { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
    .badge-high { background: rgba(249, 115, 22, 0.2); color: #f97316; }
    .badge-medium { background: rgba(234, 179, 8, 0.2); color: #eab308; }
    .badge-low { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .section { margin-top: 1rem; }
    .section h4 { color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.875rem; }
    .ports { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; }
    .port {
      background: #0f172a;
      padding: 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.875rem;
    }
    .vuln {
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #ef4444;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    .vuln-title { color: #fff; font-weight: 600; margin-bottom: 0.25rem; }
    .vuln-cve { color: #3b82f6; font-family: monospace; font-size: 0.875rem; }
    @media print {
      body { background: white; color: black; }
      .card, .host { border-color: #ccc; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1> HeroForge Scan Report</h1>
    <p class="meta">
      Scan: ${n} |
      Generated: ${Rn(new Date,"PPpp")} |
      Hosts: ${e.length}
    </p>

    <div class="summary">
      <div class="card">
        <h3>Total Hosts</h3>
        <div class="value" style="color: #3b82f6;">${e.length}</div>
      </div>
      <div class="card">
        <h3>Open Ports</h3>
        <div class="value" style="color: #22c55e;">
          ${e.reduce((_,v)=>_+v.ports.filter(g=>g.state==="Open").length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Total Vulnerabilities</h3>
        <div class="value" style="color: #eab308;">
          ${e.reduce((_,v)=>_+v.vulnerabilities.length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Critical Findings</h3>
        <div class="value" style="color: #ef4444;">
          ${e.reduce((_,v)=>_+v.vulnerabilities.filter(g=>g.severity==="Critical").length,0)}
        </div>
      </div>
    </div>

    <h2 style="color: #cbd5e1; margin-bottom: 1rem;">Discovered Hosts</h2>
    ${e.map(_=>`
      <div class="host">
        <div class="host-header">
          <div>
            <div class="host-ip">${_.target.ip}</div>
            ${_.target.hostname?`<div style="color: #94a3b8; font-size: 0.875rem;">${_.target.hostname}</div>`:""}
          </div>
          <div>
            ${_.vulnerabilities.length>0?`<span class="badge badge-critical">${_.vulnerabilities.length} vulnerabilities</span>`:""}
          </div>
        </div>

        ${_.os_guess?`
          <div class="section">
            <h4>OS Detection</h4>
            <p style="color: #94a3b8; font-size: 0.875rem;">
              ${_.os_guess.os_family} ${_.os_guess.os_version||""} (${_.os_guess.confidence}% confidence)
            </p>
          </div>
        `:""}

        ${_.ports.filter(v=>v.state==="Open").length>0?`
          <div class="section">
            <h4>Open Ports (${_.ports.filter(v=>v.state==="Open").length})</h4>
            <div class="ports">
              ${_.ports.filter(v=>v.state==="Open").map(v=>`
                <div class="port">
                  <strong>${v.port}/${v.protocol}</strong><br>
                  ${v.service?`<span style="color: #94a3b8;">${v.service.name} ${v.service.version||""}</span>`:""}
                </div>
              `).join("")}
            </div>
          </div>
        `:""}

        ${_.vulnerabilities.length>0?`
          <div class="section">
            <h4>Vulnerabilities (${_.vulnerabilities.length})</h4>
            ${_.vulnerabilities.map(v=>`
              <div class="vuln">
                <div class="vuln-title">${v.title}</div>
                ${v.cve_id?`<div class="vuln-cve">${v.cve_id}</div>`:""}
                <span class="badge badge-${v.severity.toLowerCase()}">${v.severity}</span>
              </div>
            `).join("")}
          </div>
        `:""}
      </div>
    `).join("")}

    <footer style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #334155; text-align: center; color: #64748b;">
      <p>Generated by HeroForge - Network Reconnaissance Tool</p>
      <p style="font-size: 0.875rem;">For authorized security testing only</p>
    </footer>
  </div>
</body>
</html>`;p(w,`${n}_${Rn(new Date,"yyyy-MM-dd_HHmmss")}.html`,"text/html"),ee.success("Exported as HTML report")},f=async()=>{if(!r){ee.error("Scan ID required for Markdown export");return}c(!0);try{const w=localStorage.getItem("token"),_=await We.get(`/api/scans/${r}/export/markdown`,{headers:{Authorization:`Bearer ${w}`},responseType:"blob"}),v=_.headers["content-disposition"];let g=`${n}_${Rn(new Date,"yyyy-MM-dd_HHmmss")}.md`;if(v){const y=v.match(/filename="?([^";\n]+)"?/);y&&(g=y[1])}const x=window.URL.createObjectURL(new Blob([_.data])),b=document.createElement("a");b.href=x,b.setAttribute("download",g),document.body.appendChild(b),b.click(),b.remove(),window.URL.revokeObjectURL(x),ee.success("Exported as Markdown")}catch(w){console.error("Markdown export failed:",w),ee.error("Failed to export as Markdown")}finally{c(!1)}},p=(w,_,v)=>{const g=new Blob([w],{type:v}),x=URL.createObjectURL(g),b=document.createElement("a");b.href=x,b.download=_,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(x)},m=w=>{if(o(!1),e.length===0){ee.error("No results to export");return}switch(w){case"json":d();break;case"csv":u();break;case"html":h();break;case"markdown":f();break}};return i.jsxs("div",{className:"relative",children:[i.jsxs(He,{onClick:()=>o(!a),disabled:s||e.length===0,variant:"secondary",children:[i.jsx(xr,{className:"h-4 w-4 mr-2"}),"Export Results"]}),a&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),i.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-20 overflow-hidden",children:i.jsxs("div",{className:"p-2",children:[i.jsxs("button",{onClick:()=>m("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[i.jsx(wm,{className:"h-4 w-4 text-blue-400"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"JSON"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Full data export"})]})]}),i.jsxs("button",{onClick:()=>m("csv"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[i.jsx(ct,{className:"h-4 w-4 text-green-400"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"CSV"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Spreadsheet format"})]})]}),i.jsxs("button",{onClick:()=>m("html"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[i.jsx(qo,{className:"h-4 w-4 text-purple-400"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"HTML"}),i.jsx("div",{className:"text-xs text-slate-500",children:"Printable report"})]})]}),i.jsxs("button",{onClick:()=>m("markdown"),disabled:!r||l,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(jm,{className:"h-4 w-4 text-cyan-400"}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium",children:"Markdown"}),i.jsx("div",{className:"text-xs text-slate-500",children:"GitHub-flavored MD"})]})]})]})})]})]})},j_={tableOfContents:"Table of Contents",executiveSummary:"Executive Summary",riskOverview:"Risk Overview",hostInventory:"Host Inventory",portAnalysis:"Port Analysis",vulnerabilityFindings:"Vulnerability Findings",serviceEnumeration:"Service Enumeration",remediationRecommendations:"Remediation Recommendations",appendix:"Appendix"},__=({scanId:e,scanName:n,onClose:r,onReportCreated:s})=>{const[a,o]=A.useState([]),[l,c]=A.useState(!0),[d,u]=A.useState(!1),[h,f]=A.useState(!1),[p,m]=A.useState(`${n} Report`),[w,_]=A.useState(""),[v,g]=A.useState("pdf"),[x,b]=A.useState("technical"),[y,j]=A.useState([]),[k,S]=A.useState({include_charts:!0,company_name:"",assessor_name:"",classification:"Confidential"});A.useEffect(()=>{C()},[]),A.useEffect(()=>{const R=a.find(z=>z.id===x);R&&j(R.default_sections)},[x,a]);const C=async()=>{try{const R=await fs.getTemplates();o(R.data);const z=R.data.find(T=>T.id==="technical");z&&j(z.default_sections)}catch{ee.error("Failed to load report templates")}finally{c(!1)}},P=R=>{j(z=>z.includes(R)?z.filter(T=>T!==R):[...z,R])},O=async()=>{var R,z;if(!p.trim()){ee.error("Please enter a report name");return}if(y.length===0){ee.error("Please select at least one section");return}u(!0);try{const T={scan_id:e,name:p.trim(),description:w.trim()||void 0,format:v,template_id:x,sections:y,options:k};await fs.create(T),ee.success("Report generation started"),s==null||s(),r()}catch(T){const M=((z=(R=T.response)==null?void 0:R.data)==null?void 0:z.error)||"Failed to create report";ee.error(M)}finally{u(!1)}},E=a.find(R=>R.id===x);return l?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:i.jsx(xe,{className:"w-full max-w-2xl mx-4",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nn,{})})})}):i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:i.jsxs(xe,{className:"w-full max-w-2xl my-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ct,{className:"h-6 w-6 text-primary"}),i.jsx("h2",{className:"text-xl font-semibold text-white",children:"Generate Report"})]}),i.jsx("button",{onClick:r,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",children:i.jsx(Tt,{className:"h-5 w-5 text-slate-400"})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Name"}),i.jsx(tt,{type:"text",value:p,onChange:R=>m(R.target.value),placeholder:"Enter report name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description (optional)"}),i.jsx("textarea",{value:w,onChange:R=>_(R.target.value),placeholder:"Brief description of the report",className:"w-full bg-dark-surface border border-dark-border rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Template"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:a.map(R=>i.jsxs("button",{onClick:()=>b(R.id),className:`p-4 rounded-lg border text-left transition-all ${x===R.id?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[i.jsx("p",{className:"font-medium text-white",children:R.name}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.description})]},R.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Format"}),i.jsx("div",{className:"flex gap-3",children:E==null?void 0:E.supports_formats.map(R=>i.jsxs("button",{onClick:()=>g(R),className:`px-6 py-3 rounded-lg border font-medium transition-all flex items-center gap-2 ${v===R?"border-primary bg-primary/10 text-primary":"border-dark-border text-slate-400 hover:border-primary/50"}`,children:[i.jsx(xr,{className:"h-4 w-4"}),R.toUpperCase()]},R))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Included Sections"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(j_).map(([R,z])=>i.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${y.includes(z)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[i.jsx("input",{type:"checkbox",checked:y.includes(z),onChange:()=>P(z),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),i.jsx("span",{className:"text-sm text-white",children:z})]},R))})]}),i.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[i.jsx(pr,{className:"h-4 w-4"}),h?"Hide":"Show"," Advanced Options"]}),h&&i.jsxs("div",{className:"space-y-4 p-4 bg-dark-surface rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Company Name"}),i.jsx(tt,{type:"text",value:k.company_name||"",onChange:R=>S({...k,company_name:R.target.value}),placeholder:"Your Company"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Assessor Name"}),i.jsx(tt,{type:"text",value:k.assessor_name||"",onChange:R=>S({...k,assessor_name:R.target.value}),placeholder:"Security Analyst"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Classification"}),i.jsxs("select",{value:k.classification||"",onChange:R=>S({...k,classification:R.target.value}),className:"w-full bg-dark-bg border border-dark-border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"",children:"None"}),i.jsx("option",{value:"Public",children:"Public"}),i.jsx("option",{value:"Internal",children:"Internal"}),i.jsx("option",{value:"Confidential",children:"Confidential"}),i.jsx("option",{value:"Restricted",children:"Restricted"})]})]}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:k.include_charts,onChange:R=>S({...k,include_charts:R.target.checked}),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),i.jsx("span",{className:"text-sm text-white",children:"Include visual charts"})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-border",children:[i.jsx(He,{variant:"ghost",onClick:r,children:"Cancel"}),i.jsx(He,{onClick:O,disabled:d,children:d?i.jsxs(i.Fragment,{children:[i.jsx(nn,{size:"sm",className:"mr-2"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ct,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})},N_=({isOpen:e,onClose:n,onConfirm:r,title:s,message:a,confirmLabel:o="Confirm",cancelLabel:l="Cancel",variant:c="danger",itemCount:d,loading:u=!1})=>{const h=A.useRef(null),f=A.useRef(null);if(A.useEffect(()=>{var _;if(e){f.current=document.activeElement,(_=h.current)==null||_.focus();const v=g=>{var x;if(g.key==="Escape"&&n(),g.key==="Tab"){const b=(x=h.current)==null?void 0:x.querySelectorAll('button:not([disabled]), [tabindex]:not([tabindex="-1"])');if(b&&b.length>0){const y=b[0],j=b[b.length-1];g.shiftKey&&document.activeElement===y?(g.preventDefault(),j.focus()):!g.shiftKey&&document.activeElement===j&&(g.preventDefault(),y.focus())}}};return document.addEventListener("keydown",v),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",v),document.body.style.overflow="",f.current instanceof HTMLElement&&f.current.focus()}}},[e,n]),!e)return null;const p={danger:i.jsx(ta,{className:"h-6 w-6 text-red-400"}),warning:i.jsx(De,{className:"h-6 w-6 text-yellow-400"}),info:i.jsx(Wo,{className:"h-6 w-6 text-blue-400"})},m={danger:"danger",warning:"primary",info:"primary"},w={danger:"bg-red-500/10",warning:"bg-yellow-500/10",info:"bg-blue-500/10"};return i.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100]",onClick:_=>{_.target===_.currentTarget&&n()},role:"presentation",children:i.jsxs("div",{ref:h,role:"alertdialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",tabIndex:-1,className:"bg-dark-card border border-dark-border rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl animate-scale-in focus:outline-none",children:[i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`p-3 rounded-full ${w[c]}`,children:p[c]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{id:"dialog-title",className:"text-lg font-semibold text-white",children:s}),i.jsx("p",{id:"dialog-description",className:"text-slate-400 mt-2",children:a}),d!==void 0&&d>0&&i.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["This will affect ",i.jsx("span",{className:"font-medium text-slate-300",children:d})," item",d!==1?"s":"","."]}),c==="danger"&&i.jsxs("p",{className:"text-sm text-red-400/80 mt-2 flex items-center gap-1",children:[i.jsx(De,{className:"h-3.5 w-3.5"}),"This action cannot be undone."]})]}),i.jsx("button",{onClick:n,disabled:u,className:"text-slate-500 hover:text-slate-300 transition-colors p-1 rounded hover:bg-dark-hover disabled:opacity-50","aria-label":"Close dialog",children:i.jsx(Tt,{className:"h-5 w-5"})})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[i.jsx(He,{variant:"secondary",onClick:n,disabled:u,children:l}),i.jsx(He,{variant:m[c],onClick:r,loading:u,children:o})]})]})})},k_=({scanId:e,onGenerateNew:n})=>{const[r,s]=A.useState([]),[a,o]=A.useState(!0),[l,c]=A.useState(null),[d,u]=A.useState(null),[h,f]=A.useState(null);A.useEffect(()=>{p();const x=setInterval(()=>{r.filter(y=>y.status==="pending"||y.status==="generating").length>0&&p()},5e3);return()=>clearInterval(x)},[e]);const p=async()=>{try{const x=await fs.getAll(e);s(x.data)}catch{ee.error("Failed to load reports")}finally{o(!1)}},m=async x=>{if(x.status!=="completed"){ee.warning("Report is not ready for download");return}c(x.id);try{const b=await fs.download(x.id),y=new Blob([b.data],{type:b.headers["content-type"]}),j=window.URL.createObjectURL(y),k=document.createElement("a");k.href=j,k.download=`${x.name.replace(/\s+/g,"_")}.${x.format}`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(j),document.body.removeChild(k),ee.success("Report downloaded")}catch{ee.error("Failed to download report")}finally{c(null)}},w=async()=>{if(h){u(h.id);try{await fs.delete(h.id),s(x=>x.filter(b=>b.id!==h.id)),ee.success(`Report "${h.name}" deleted`),f(null)}catch{ee.error("Failed to delete report")}finally{u(null)}}},_=x=>{switch(x){case"completed":return i.jsx(ut,{className:"h-4 w-4 text-green-500"});case"failed":return i.jsx(rn,{className:"h-4 w-4 text-red-500"});case"generating":return i.jsx(jt,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return i.jsx(Bt,{className:"h-4 w-4 text-slate-400"})}},v=x=>{switch(x){case"completed":return"completed";case"generating":return"running";case"failed":return"failed";default:return"pending"}},g=x=>x?x<1024?`${x} B`:x<1024*1024?`${(x/1024).toFixed(1)} KB`:`${(x/(1024*1024)).toFixed(1)} MB`:"-";return a?i.jsx(xe,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nn,{})})}):r.length===0?i.jsx(xe,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ct,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Reports Yet"}),i.jsx("p",{className:"text-slate-400 mb-4",children:"Generate a professional report from your scan results."}),n&&i.jsxs(He,{onClick:n,children:[i.jsx(ct,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})}):i.jsxs(xe,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[i.jsx(ct,{className:"h-5 w-5 text-primary"}),"Reports"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:p,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",title:"Refresh",children:i.jsx(ds,{className:"h-4 w-4 text-slate-400"})}),n&&i.jsxs(He,{size:"sm",onClick:n,children:[i.jsx(ct,{className:"h-4 w-4 mr-1"}),"New Report"]})]})]}),i.jsx("div",{className:"space-y-3",children:r.map(x=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-surface rounded-lg border border-dark-border hover:border-primary/30 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"p-2 bg-dark-bg rounded-lg",children:_(x.status)}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:x.name}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 mt-1",children:[i.jsx("span",{className:"uppercase font-mono",children:x.format}),i.jsx("span",{children:"|"}),i.jsx("span",{children:x.template_id}),i.jsx("span",{children:"|"}),i.jsx("span",{children:Rn(new Date(x.created_at),"MMM d, yyyy HH:mm")}),x.file_size&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:"|"}),i.jsx("span",{children:g(x.file_size)})]})]}),x.error_message&&i.jsx("p",{className:"text-sm text-red-400 mt-1",children:x.error_message})]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(_t,{variant:"status",type:v(x.status),children:x.status}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("button",{onClick:()=>m(x),disabled:x.status!=="completed"||l===x.id,className:`p-2 rounded-lg transition-colors ${x.status==="completed"?"hover:bg-dark-bg text-slate-400 hover:text-white":"text-slate-600 cursor-not-allowed"}`,title:"Download",children:l===x.id?i.jsx(jt,{className:"h-4 w-4 animate-spin"}):i.jsx(xr,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>f(x),disabled:d===x.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-dark-bg transition-colors",title:"Delete","aria-label":`Delete report ${x.name}`,children:d===x.id?i.jsx(jt,{className:"h-4 w-4 animate-spin"}):i.jsx(ta,{className:"h-4 w-4"})})]})]})]},x.id))}),i.jsx(N_,{isOpen:!!h,onClose:()=>f(null),onConfirm:w,title:"Delete Report",message:`Are you sure you want to delete the report "${h==null?void 0:h.name}"?`,confirmLabel:"Delete Report",variant:"danger",loading:!!d})]})},S_=({scanId:e,scanName:n,onClose:r})=>{const[s,a]=A.useState([]),[o,l]=A.useState(new Set),[c,d]=A.useState(!1),[u,h]=A.useState(!1),[f,p]=A.useState(null),[m,w]=A.useState(null),[_,v]=A.useState(!1),[g,x]=A.useState("pdf");A.useEffect(()=>{b()},[]);const b=async()=>{d(!0);try{const P=await Qs.getFrameworks();a(P.data.frameworks),l(new Set(["pci_dss","nist_800_53","owasp_top10"]))}catch{ee.error("Failed to load compliance frameworks")}finally{d(!1)}},y=async()=>{var P,O;if(o.size===0){ee.warning("Please select at least one framework");return}h(!0);try{const E=await Qs.analyzeScan(e,{frameworks:Array.from(o)});p(E.data),ee.success("Compliance analysis completed")}catch(E){const R=E;ee.error(((O=(P=R.response)==null?void 0:P.data)==null?void 0:O.error)||"Analysis failed")}finally{h(!1)}},j=P=>{const O=new Set(o);O.has(P)?O.delete(P):O.add(P),l(O)},k=P=>P>=80?"text-green-400":P>=60?"text-yellow-400":P>=40?"text-orange-400":"text-red-400",S=P=>P>=80?"completed":P>=60?"running":"failed",C=async()=>{var P,O;if(f){v(!0);try{const E=f.summary.frameworks.map(B=>String(B.framework).toLowerCase().replace(/_/g,"_")),R=await Qs.generateReport(e,{frameworks:E,format:g,include_evidence:!0}),z=await Qs.downloadReport(R.data.report_id),T=new Blob([z.data],{type:g==="pdf"?"application/pdf":g==="html"?"text/html":"application/json"}),D=window.URL.createObjectURL(T),M=document.createElement("a");M.href=D,M.download=`compliance_report_${e}.${g}`,document.body.appendChild(M),M.click(),document.body.removeChild(M),window.URL.revokeObjectURL(D),ee.success(`${g.toUpperCase()} report generated and downloaded successfully`)}catch(E){const R=E;ee.error(((O=(P=R.response)==null?void 0:P.data)==null?void 0:O.error)||"Failed to generate report")}finally{v(!1)}}};return c?i.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:i.jsx(xe,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nn,{})})})}):i.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:i.jsxs(xe,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Pe,{className:"h-6 w-6 text-primary"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Compliance Analysis"}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Scan: ",n]})]})]}),i.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors",children:i.jsx(rn,{className:"h-6 w-6"})})]}),f?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-6 p-4 bg-dark-bg rounded-lg border border-dark-border",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsxs("p",{className:`text-3xl font-bold ${k(f.summary.overall_score)}`,children:[f.summary.overall_score.toFixed(0),"%"]}),i.jsx("p",{className:"text-sm text-slate-400",children:"Overall Score"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-bold text-white",children:f.summary.total_findings}),i.jsx("p",{className:"text-sm text-slate-400",children:"Total Findings"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-bold text-red-400",children:f.summary.critical_findings+f.summary.high_findings}),i.jsx("p",{className:"text-sm text-slate-400",children:"Critical/High"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:f.summary.medium_findings+f.summary.low_findings}),i.jsx("p",{className:"text-sm text-slate-400",children:"Medium/Low"})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Framework Results"}),f.summary.frameworks.map(P=>i.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[i.jsxs("div",{onClick:()=>w(m===P.framework?null:P.framework),className:"flex items-center justify-between p-4 bg-dark-surface cursor-pointer hover:bg-dark-hover transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[m===P.framework?i.jsx(Nt,{className:"h-5 w-5 text-slate-400"}):i.jsx(Ts,{className:"h-5 w-5 text-slate-400"}),i.jsx("span",{className:"font-medium text-white",children:P.framework})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(_m,{className:"h-4 w-4 text-green-400"}),i.jsx("span",{className:"text-green-400",children:P.compliant})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(rn,{className:"h-4 w-4 text-red-400"}),i.jsx("span",{className:"text-red-400",children:P.non_compliant})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(De,{className:"h-4 w-4 text-yellow-400"}),i.jsx("span",{className:"text-yellow-400",children:P.partially_compliant})]}),i.jsxs(_t,{variant:"status",type:S(P.compliance_score),children:[P.compliance_score.toFixed(0),"%"]})]})]}),m===P.framework&&i.jsxs("div",{className:"p-4 bg-dark-bg border-t border-dark-border",children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4 text-sm",children:[i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Total Controls"}),i.jsx("p",{className:"text-xl font-bold text-white",children:P.total_controls})]}),i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Compliant"}),i.jsx("p",{className:"text-xl font-bold text-green-400",children:P.compliant})]}),i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Non-Compliant"}),i.jsx("p",{className:"text-xl font-bold text-red-400",children:P.non_compliant})]}),i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Partially Compliant"}),i.jsx("p",{className:"text-xl font-bold text-yellow-400",children:P.partially_compliant})]}),i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Not Applicable"}),i.jsx("p",{className:"text-xl font-bold text-slate-400",children:P.not_applicable})]}),i.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[i.jsx("p",{className:"text-slate-400",children:"Not Assessed"}),i.jsx("p",{className:"text-xl font-bold text-slate-500",children:P.not_assessed})]})]}),P.by_category&&P.by_category.length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"By Category"}),i.jsx("div",{className:"space-y-2",children:P.by_category.map(O=>i.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-surface rounded",children:[i.jsx("span",{className:"text-sm text-white",children:O.category}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("span",{className:"text-xs text-slate-400",children:[O.compliant,"/",O.total," compliant"]}),i.jsx("div",{className:"w-24 bg-dark-border rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${O.percentage>=80?"bg-green-500":O.percentage>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${O.percentage}%`}})}),i.jsxs("span",{className:"text-xs text-slate-300 w-12 text-right",children:[O.percentage.toFixed(0),"%"]})]})]},O.category))})]})]})]},P.framework))]}),i.jsxs("div",{className:"mt-6 pt-4 border-t border-dark-border",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Generate Compliance Report"}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex gap-2",children:["pdf","html","json"].map(P=>i.jsx("button",{onClick:()=>x(P),className:`px-4 py-2 rounded-lg font-medium transition-colors ${g===P?"bg-primary text-white":"bg-dark-surface text-slate-400 hover:bg-dark-hover"}`,children:P.toUpperCase()},P))}),i.jsx(He,{onClick:C,disabled:_,className:"ml-auto",children:_?i.jsxs(i.Fragment,{children:[i.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"}),"Generating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Nm,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]}),i.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[i.jsxs(He,{variant:"secondary",onClick:()=>p(null),children:[i.jsx(ds,{className:"h-4 w-4 mr-2"}),"Run New Analysis"]}),i.jsx(He,{onClick:r,children:"Close"})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Compliance Frameworks"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(P=>i.jsx("div",{onClick:()=>j(P.id),className:`p-4 rounded-lg border cursor-pointer transition-all ${o.has(P.id)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ar,{checked:o.has(P.id),onChange:()=>j(P.id)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"font-medium text-white",children:P.name}),i.jsxs(_t,{variant:"status",type:"running",children:["v",P.version]})]}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:P.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[i.jsxs("span",{children:[P.control_count," controls"]}),i.jsxs("span",{children:[P.automated_percentage.toFixed(0),"% automated"]})]})]})]})},P.id))})]}),i.jsxs("div",{className:"flex justify-end gap-3",children:[i.jsx(He,{variant:"secondary",onClick:r,children:"Cancel"}),i.jsx(He,{onClick:y,disabled:u||o.size===0,children:u?i.jsxs(i.Fragment,{children:[i.jsx(ds,{className:"h-4 w-4 animate-spin mr-2"}),"Analyzing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Run Analysis"]})})]})]})]})})};function C_(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function E_(e,n,r){return n=M_(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function ou(e,n){return R_(e)||C_(e,n)||df(e,n)||D_()}function P_(e){return A_(e)||O_(e)||df(e)||T_()}function A_(e){if(Array.isArray(e))return vo(e)}function R_(e){if(Array.isArray(e))return e}function O_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function df(e,n){if(e){if(typeof e=="string")return vo(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vo(e,n)}}function vo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=new Array(n);r<n;r++)s[r]=e[r];return s}function T_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $_(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function M_(e){var n=$_(e,"string");return typeof n=="symbol"?n:String(n)}var z_=function(n,r){var s=new Set(r);return Object.assign.apply(Object,[{}].concat(P_(Object.entries(n).filter(function(a){var o=ou(a,1),l=o[0];return!s.has(l)}).map(function(a){var o=ou(a,2),l=o[0],c=o[1];return E_({},l,c)}))))};function wo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function I_(e){if(Array.isArray(e))return e}function L_(e){if(Array.isArray(e))return wo(e)}function F_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function H_(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function B_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q_(e,n){return I_(e)||H_(e,n)||hf(e,n)||B_()}function lu(e){return L_(e)||F_(e)||hf(e)||U_()}function hf(e,n){if(e){if(typeof e=="string")return wo(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wo(e,n):void 0}}function W_(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,s=r===void 0?"div":r,a=n.nodeMapper,o=a===void 0?function(h){return h}:a,l=n.methodNames,c=l===void 0?[]:l,d=n.initPropNames,u=d===void 0?[]:d;return A.forwardRef(function(h,f){var p=A.useRef(),m=A.useMemo(function(){var v=Object.fromEntries(u.filter(function(g){return h.hasOwnProperty(g)}).map(function(g){return[g,h[g]]}));return e(v)},[]);cu(function(){m(o(p.current))},A.useLayoutEffect),cu(function(){return m._destructor instanceof Function?m._destructor:void 0});var w=A.useCallback(function(v){for(var g=arguments.length,x=new Array(g>1?g-1:0),b=1;b<g;b++)x[b-1]=arguments[b];return m[v]instanceof Function?m[v].apply(m,x):void 0},[m]),_=A.useRef({});return Object.keys(z_(h,[].concat(lu(c),lu(u)))).filter(function(v){return _.current[v]!==h[v]}).forEach(function(v){return w(v,h[v])}),_.current=h,A.useImperativeHandle(f,function(){return Object.fromEntries(c.map(function(v){return[v,function(){for(var g=arguments.length,x=new Array(g),b=0;b<g;b++)x[b]=arguments[b];return w.apply(void 0,[v].concat(x))}]}))},[w]),Fo.createElement(s,{ref:p})})}function cu(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:A.useEffect,r=A.useRef(),s=A.useRef(!1),a=A.useRef(!1),o=A.useState(0),l=q_(o,2);l[0];var c=l[1];s.current&&(a.current=!0),n(function(){return s.current||(r.current=e(),s.current=!0),c(function(d){return d+1}),function(){a.current&&r.current&&r.current()}},[])}var jo="http://www.w3.org/1999/xhtml";const uu={svg:"http://www.w3.org/2000/svg",xhtml:jo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function fa(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),uu.hasOwnProperty(n)?{space:uu[n],local:e}:e}function V_(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===jo&&n.documentElement.namespaceURI===jo?n.createElement(e):n.createElementNS(r,e)}}function G_(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ff(e){var n=fa(e);return(n.local?G_:V_)(n)}function Y_(){}function pl(e){return e==null?Y_:function(){return this.querySelector(e)}}function X_(e){typeof e!="function"&&(e=pl(e));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var o=n[a],l=o.length,c=s[a]=new Array(l),d,u,h=0;h<l;++h)(d=o[h])&&(u=e.call(d,d.__data__,h,o))&&("__data__"in d&&(u.__data__=d.__data__),c[h]=u);return new kt(s,this._parents)}function K_(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function J_(){return[]}function pf(e){return e==null?J_:function(){return this.querySelectorAll(e)}}function Q_(e){return function(){return K_(e.apply(this,arguments))}}function Z_(e){typeof e=="function"?e=Q_(e):e=pf(e);for(var n=this._groups,r=n.length,s=[],a=[],o=0;o<r;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(s.push(e.call(d,d.__data__,u,l)),a.push(d));return new kt(s,a)}function mf(e){return function(){return this.matches(e)}}function gf(e){return function(n){return n.matches(e)}}var e1=Array.prototype.find;function t1(e){return function(){return e1.call(this.children,e)}}function n1(){return this.firstElementChild}function r1(e){return this.select(e==null?n1:t1(typeof e=="function"?e:gf(e)))}var s1=Array.prototype.filter;function i1(){return Array.from(this.children)}function a1(e){return function(){return s1.call(this.children,e)}}function o1(e){return this.selectAll(e==null?i1:a1(typeof e=="function"?e:gf(e)))}function l1(e){typeof e!="function"&&(e=mf(e));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var o=n[a],l=o.length,c=s[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new kt(s,this._parents)}function xf(e){return new Array(e.length)}function c1(){return new kt(this._enter||this._groups.map(xf),this._parents)}function Ii(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Ii.prototype={constructor:Ii,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function u1(e){return function(){return e}}function d1(e,n,r,s,a,o){for(var l=0,c,d=n.length,u=o.length;l<u;++l)(c=n[l])?(c.__data__=o[l],s[l]=c):r[l]=new Ii(e,o[l]);for(;l<d;++l)(c=n[l])&&(a[l]=c)}function h1(e,n,r,s,a,o,l){var c,d,u=new Map,h=n.length,f=o.length,p=new Array(h),m;for(c=0;c<h;++c)(d=n[c])&&(p[c]=m=l.call(d,d.__data__,c,n)+"",u.has(m)?a[c]=d:u.set(m,d));for(c=0;c<f;++c)m=l.call(e,o[c],c,o)+"",(d=u.get(m))?(s[c]=d,d.__data__=o[c],u.delete(m)):r[c]=new Ii(e,o[c]);for(c=0;c<h;++c)(d=n[c])&&u.get(p[c])===d&&(a[c]=d)}function f1(e){return e.__data__}function p1(e,n){if(!arguments.length)return Array.from(this,f1);var r=n?h1:d1,s=this._parents,a=this._groups;typeof e!="function"&&(e=u1(e));for(var o=a.length,l=new Array(o),c=new Array(o),d=new Array(o),u=0;u<o;++u){var h=s[u],f=a[u],p=f.length,m=m1(e.call(h,h&&h.__data__,u,s)),w=m.length,_=c[u]=new Array(w),v=l[u]=new Array(w),g=d[u]=new Array(p);r(h,f,_,v,g,m,n);for(var x=0,b=0,y,j;x<w;++x)if(y=_[x]){for(x>=b&&(b=x+1);!(j=v[b])&&++b<w;);y._next=j||null}}return l=new kt(l,s),l._enter=c,l._exit=d,l}function m1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g1(){return new kt(this._exit||this._groups.map(xf),this._parents)}function x1(e,n,r){var s=this.enter(),a=this,o=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),n!=null&&(a=n(a),a&&(a=a.selection())),r==null?o.remove():r(o),s&&a?s.merge(a).order():a}function y1(e){for(var n=e.selection?e.selection():e,r=this._groups,s=n._groups,a=r.length,o=s.length,l=Math.min(a,o),c=new Array(a),d=0;d<l;++d)for(var u=r[d],h=s[d],f=u.length,p=c[d]=new Array(f),m,w=0;w<f;++w)(m=u[w]||h[w])&&(p[w]=m);for(;d<a;++d)c[d]=r[d];return new kt(c,this._parents)}function b1(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var s=e[n],a=s.length-1,o=s[a],l;--a>=0;)(l=s[a])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function v1(e){e||(e=w1);function n(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var r=this._groups,s=r.length,a=new Array(s),o=0;o<s;++o){for(var l=r[o],c=l.length,d=a[o]=new Array(c),u,h=0;h<c;++h)(u=l[h])&&(d[h]=u);d.sort(n)}return new kt(a,this._parents).order()}function w1(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function j1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function _1(){return Array.from(this)}function N1(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,o=s.length;a<o;++a){var l=s[a];if(l)return l}return null}function k1(){let e=0;for(const n of this)++e;return e}function S1(){return!this.node()}function C1(e){for(var n=this._groups,r=0,s=n.length;r<s;++r)for(var a=n[r],o=0,l=a.length,c;o<l;++o)(c=a[o])&&e.call(c,c.__data__,o,a);return this}function E1(e){return function(){this.removeAttribute(e)}}function P1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function A1(e,n){return function(){this.setAttribute(e,n)}}function R1(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function O1(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function T1(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function D1(e,n){var r=fa(e);if(arguments.length<2){var s=this.node();return r.local?s.getAttributeNS(r.space,r.local):s.getAttribute(r)}return this.each((n==null?r.local?P1:E1:typeof n=="function"?r.local?T1:O1:r.local?R1:A1)(r,n))}function yf(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $1(e){return function(){this.style.removeProperty(e)}}function M1(e,n,r){return function(){this.style.setProperty(e,n,r)}}function z1(e,n,r){return function(){var s=n.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,r)}}function I1(e,n,r){return arguments.length>1?this.each((n==null?$1:typeof n=="function"?z1:M1)(e,n,r??"")):br(this.node(),e)}function br(e,n){return e.style.getPropertyValue(n)||yf(e).getComputedStyle(e,null).getPropertyValue(n)}function L1(e){return function(){delete this[e]}}function F1(e,n){return function(){this[e]=n}}function H1(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function B1(e,n){return arguments.length>1?this.each((n==null?L1:typeof n=="function"?H1:F1)(e,n)):this.node()[e]}function bf(e){return e.trim().split(/^|\s+/)}function ml(e){return e.classList||new vf(e)}function vf(e){this._node=e,this._names=bf(e.getAttribute("class")||"")}vf.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function wf(e,n){for(var r=ml(e),s=-1,a=n.length;++s<a;)r.add(n[s])}function jf(e,n){for(var r=ml(e),s=-1,a=n.length;++s<a;)r.remove(n[s])}function U1(e){return function(){wf(this,e)}}function q1(e){return function(){jf(this,e)}}function W1(e,n){return function(){(n.apply(this,arguments)?wf:jf)(this,e)}}function V1(e,n){var r=bf(e+"");if(arguments.length<2){for(var s=ml(this.node()),a=-1,o=r.length;++a<o;)if(!s.contains(r[a]))return!1;return!0}return this.each((typeof n=="function"?W1:n?U1:q1)(r,n))}function G1(){this.textContent=""}function Y1(e){return function(){this.textContent=e}}function X1(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function K1(e){return arguments.length?this.each(e==null?G1:(typeof e=="function"?X1:Y1)(e)):this.node().textContent}function J1(){this.innerHTML=""}function Q1(e){return function(){this.innerHTML=e}}function Z1(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function eN(e){return arguments.length?this.each(e==null?J1:(typeof e=="function"?Z1:Q1)(e)):this.node().innerHTML}function tN(){this.nextSibling&&this.parentNode.appendChild(this)}function nN(){return this.each(tN)}function rN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sN(){return this.each(rN)}function iN(e){var n=typeof e=="function"?e:ff(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function aN(){return null}function oN(e,n){var r=typeof e=="function"?e:ff(e),s=n==null?aN:typeof n=="function"?n:pl(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),s.apply(this,arguments)||null)})}function lN(){var e=this.parentNode;e&&e.removeChild(this)}function cN(){return this.each(lN)}function uN(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function dN(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function hN(e){return this.select(e?dN:uN)}function fN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function pN(e){return function(n){e.call(this,n,this.__data__)}}function mN(e){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");return s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),{type:n,name:r}})}function gN(e){return function(){var n=this.__on;if(n){for(var r=0,s=-1,a=n.length,o;r<a;++r)o=n[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++s]=o;++s?n.length=s:delete this.__on}}}function xN(e,n,r){return function(){var s=this.__on,a,o=pN(n);if(s){for(var l=0,c=s.length;l<c;++l)if((a=s[l]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=o,a.options=r),a.value=n;return}}this.addEventListener(e.type,o,r),a={type:e.type,name:e.name,value:n,listener:o,options:r},s?s.push(a):this.__on=[a]}}function yN(e,n,r){var s=mN(e+""),a,o=s.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,h;d<u;++d)for(a=0,h=c[d];a<o;++a)if((l=s[a]).type===h.type&&l.name===h.name)return h.value}return}for(c=n?xN:gN,a=0;a<o;++a)this.each(c(s[a],n,r));return this}function _f(e,n,r){var s=yf(e),a=s.CustomEvent;typeof a=="function"?a=new a(n,r):(a=s.document.createEvent("Event"),r?(a.initEvent(n,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(n,!1,!1)),e.dispatchEvent(a)}function bN(e,n){return function(){return _f(this,e,n)}}function vN(e,n){return function(){return _f(this,e,n.apply(this,arguments))}}function wN(e,n){return this.each((typeof n=="function"?vN:bN)(e,n))}function*jN(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var s=e[n],a=0,o=s.length,l;a<o;++a)(l=s[a])&&(yield l)}var Nf=[null];function kt(e,n){this._groups=e,this._parents=n}function Bs(){return new kt([[document.documentElement]],Nf)}function _N(){return this}kt.prototype=Bs.prototype={constructor:kt,select:X_,selectAll:Z_,selectChild:r1,selectChildren:o1,filter:l1,data:p1,enter:c1,exit:g1,join:x1,merge:y1,selection:_N,order:b1,sort:v1,call:j1,nodes:_1,node:N1,size:k1,empty:S1,each:C1,attr:D1,style:I1,property:B1,classed:V1,text:K1,html:eN,raise:nN,lower:sN,append:iN,insert:oN,remove:cN,clone:hN,datum:fN,on:yN,dispatch:wN,[Symbol.iterator]:jN};function Rt(e){return typeof e=="string"?new kt([[document.querySelector(e)]],[document.documentElement]):new kt([[e]],Nf)}function NN(e){let n;for(;n=e.sourceEvent;)e=n;return e}function Jt(e,n){if(e=NN(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var s=r.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(n.getScreenCTM().inverse()),[s.x,s.y]}if(n.getBoundingClientRect){var a=n.getBoundingClientRect();return[e.clientX-a.left-n.clientLeft,e.clientY-a.top-n.clientTop]}}return[e.pageX,e.pageY]}var kN={value:()=>{}};function Us(){for(var e=0,n=arguments.length,r={},s;e<n;++e){if(!(s=arguments[e]+"")||s in r||/[\s.]/.test(s))throw new Error("illegal type: "+s);r[s]=[]}return new Ni(r)}function Ni(e){this._=e}function SN(e,n){return e.trim().split(/^|\s+/).map(function(r){var s="",a=r.indexOf(".");if(a>=0&&(s=r.slice(a+1),r=r.slice(0,a)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:s}})}Ni.prototype=Us.prototype={constructor:Ni,on:function(e,n){var r=this._,s=SN(e+"",r),a,o=-1,l=s.length;if(arguments.length<2){for(;++o<l;)if((a=(e=s[o]).type)&&(a=CN(r[a],e.name)))return a;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<l;)if(a=(e=s[o]).type)r[a]=du(r[a],e.name,n);else if(n==null)for(a in r)r[a]=du(r[a],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Ni(e)},call:function(e,n){if((a=arguments.length-2)>0)for(var r=new Array(a),s=0,a,o;s<a;++s)r[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],s=0,a=o.length;s<a;++s)o[s].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],a=0,o=s.length;a<o;++a)s[a].value.apply(n,r)}};function CN(e,n){for(var r=0,s=e.length,a;r<s;++r)if((a=e[r]).name===n)return a.value}function du(e,n,r){for(var s=0,a=e.length;s<a;++s)if(e[s].name===n){e[s]=kN,e=e.slice(0,s).concat(e.slice(s+1));break}return r!=null&&e.push({name:n,value:r}),e}const EN={passive:!1},Cs={capture:!0,passive:!1};function qa(e){e.stopImmediatePropagation()}function hr(e){e.preventDefault(),e.stopImmediatePropagation()}function kf(e){var n=e.document.documentElement,r=Rt(e).on("dragstart.drag",hr,Cs);"onselectstart"in n?r.on("selectstart.drag",hr,Cs):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Sf(e,n){var r=e.document.documentElement,s=Rt(e).on("dragstart.drag",null);n&&(s.on("click.drag",hr,Cs),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in r?s.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const oi=e=>()=>e;function _o(e,{sourceEvent:n,subject:r,target:s,identifier:a,active:o,x:l,y:c,dx:d,dy:u,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:h}})}_o.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function PN(e){return!e.ctrlKey&&!e.button}function AN(){return this.parentNode}function RN(e,n){return n??{x:e.x,y:e.y}}function ON(){return navigator.maxTouchPoints||"ontouchstart"in this}function TN(){var e=PN,n=AN,r=RN,s=ON,a={},o=Us("start","drag","end"),l=0,c,d,u,h,f=0;function p(y){y.on("mousedown.drag",m).filter(s).on("touchstart.drag",v).on("touchmove.drag",g,EN).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(y,j){if(!(h||!e.call(this,y,j))){var k=b(this,n.call(this,y,j),y,j,"mouse");k&&(Rt(y.view).on("mousemove.drag",w,Cs).on("mouseup.drag",_,Cs),kf(y.view),qa(y),u=!1,c=y.clientX,d=y.clientY,k("start",y))}}function w(y){if(hr(y),!u){var j=y.clientX-c,k=y.clientY-d;u=j*j+k*k>f}a.mouse("drag",y)}function _(y){Rt(y.view).on("mousemove.drag mouseup.drag",null),Sf(y.view,u),hr(y),a.mouse("end",y)}function v(y,j){if(e.call(this,y,j)){var k=y.changedTouches,S=n.call(this,y,j),C=k.length,P,O;for(P=0;P<C;++P)(O=b(this,S,y,j,k[P].identifier,k[P]))&&(qa(y),O("start",y,k[P]))}}function g(y){var j=y.changedTouches,k=j.length,S,C;for(S=0;S<k;++S)(C=a[j[S].identifier])&&(hr(y),C("drag",y,j[S]))}function x(y){var j=y.changedTouches,k=j.length,S,C;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<k;++S)(C=a[j[S].identifier])&&(qa(y),C("end",y,j[S]))}function b(y,j,k,S,C,P){var O=o.copy(),E=Jt(P||k,j),R,z,T;if((T=r.call(y,new _o("beforestart",{sourceEvent:k,target:p,identifier:C,active:l,x:E[0],y:E[1],dx:0,dy:0,dispatch:O}),S))!=null)return R=T.x-E[0]||0,z=T.y-E[1]||0,function D(M,B,X){var W=E,$;switch(M){case"start":a[C]=D,$=l++;break;case"end":delete a[C],--l;case"drag":E=Jt(X||B,j),$=l;break}O.call(M,y,new _o(M,{sourceEvent:B,subject:T,target:p,identifier:C,active:$,x:E[0]+R,y:E[1]+z,dx:E[0]-W[0],dy:E[1]-W[1],dispatch:O}),S)}}return p.filter=function(y){return arguments.length?(e=typeof y=="function"?y:oi(!!y),p):e},p.container=function(y){return arguments.length?(n=typeof y=="function"?y:oi(y),p):n},p.subject=function(y){return arguments.length?(r=typeof y=="function"?y:oi(y),p):r},p.touchable=function(y){return arguments.length?(s=typeof y=="function"?y:oi(!!y),p):s},p.on=function(){var y=o.on.apply(o,arguments);return y===o?p:y},p.clickDistance=function(y){return arguments.length?(f=(y=+y)*y,p):Math.sqrt(f)},p}var vr=0,is=0,Br=0,Cf=1e3,Li,as,Fi=0,Jn=0,pa=0,Es=typeof performance=="object"&&performance.now?performance:Date,Ef=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gl(){return Jn||(Ef(DN),Jn=Es.now()+pa)}function DN(){Jn=0}function Hi(){this._call=this._time=this._next=null}Hi.prototype=xl.prototype={constructor:Hi,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?gl():+r)+(n==null?0:+n),!this._next&&as!==this&&(as?as._next=this:Li=this,as=this),this._call=e,this._time=r,No()},stop:function(){this._call&&(this._call=null,this._time=1/0,No())}};function xl(e,n,r){var s=new Hi;return s.restart(e,n,r),s}function $N(){gl(),++vr;for(var e=Li,n;e;)(n=Jn-e._time)>=0&&e._call.call(void 0,n),e=e._next;--vr}function hu(){Jn=(Fi=Es.now())+pa,vr=is=0;try{$N()}finally{vr=0,zN(),Jn=0}}function MN(){var e=Es.now(),n=e-Fi;n>Cf&&(pa-=n,Fi=e)}function zN(){for(var e,n=Li,r,s=1/0;n;)n._call?(s>n._time&&(s=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Li=r);as=e,No(s)}function No(e){if(!vr){is&&(is=clearTimeout(is));var n=e-Jn;n>24?(e<1/0&&(is=setTimeout(hu,e-Es.now()-pa)),Br&&(Br=clearInterval(Br))):(Br||(Fi=Es.now(),Br=setInterval(MN,Cf)),vr=1,Ef(hu))}}function fu(e,n,r){var s=new Hi;return n=n==null?0:+n,s.restart(a=>{s.stop(),e(a+n)},n,r),s}var IN=Us("start","end","cancel","interrupt"),LN=[],Pf=0,pu=1,ko=2,ki=3,mu=4,So=5,Si=6;function ma(e,n,r,s,a,o){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;FN(e,r,{name:n,index:s,group:a,on:IN,tween:LN,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Pf})}function yl(e,n){var r=Vt(e,n);if(r.state>Pf)throw new Error("too late; already scheduled");return r}function on(e,n){var r=Vt(e,n);if(r.state>ki)throw new Error("too late; already running");return r}function Vt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function FN(e,n,r){var s=e.__transition,a;s[n]=r,r.timer=xl(o,0,r.time);function o(u){r.state=pu,r.timer.restart(l,r.delay,r.time),r.delay<=u&&l(u-r.delay)}function l(u){var h,f,p,m;if(r.state!==pu)return d();for(h in s)if(m=s[h],m.name===r.name){if(m.state===ki)return fu(l);m.state===mu?(m.state=Si,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete s[h]):+h<n&&(m.state=Si,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete s[h])}if(fu(function(){r.state===ki&&(r.state=mu,r.timer.restart(c,r.delay,r.time),c(u))}),r.state=ko,r.on.call("start",e,e.__data__,r.index,r.group),r.state===ko){for(r.state=ki,a=new Array(p=r.tween.length),h=0,f=-1;h<p;++h)(m=r.tween[h].value.call(e,e.__data__,r.index,r.group))&&(a[++f]=m);a.length=f+1}}function c(u){for(var h=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(d),r.state=So,1),f=-1,p=a.length;++f<p;)a[f].call(e,h);r.state===So&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=Si,r.timer.stop(),delete s[n];for(var u in s)return;delete e.__transition}}function Ci(e,n){var r=e.__transition,s,a,o=!0,l;if(r){n=n==null?null:n+"";for(l in r){if((s=r[l]).name!==n){o=!1;continue}a=s.state>ko&&s.state<So,s.state=Si,s.timer.stop(),s.on.call(a?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete r[l]}o&&delete e.__transition}}function HN(e){return this.each(function(){Ci(this,e)})}function BN(e,n){var r,s;return function(){var a=on(this,e),o=a.tween;if(o!==r){s=r=o;for(var l=0,c=s.length;l<c;++l)if(s[l].name===n){s=s.slice(),s.splice(l,1);break}}a.tween=s}}function UN(e,n,r){var s,a;if(typeof r!="function")throw new Error;return function(){var o=on(this,e),l=o.tween;if(l!==s){a=(s=l).slice();for(var c={name:n,value:r},d=0,u=a.length;d<u;++d)if(a[d].name===n){a[d]=c;break}d===u&&a.push(c)}o.tween=a}}function qN(e,n){var r=this._id;if(e+="",arguments.length<2){for(var s=Vt(this.node(),r).tween,a=0,o=s.length,l;a<o;++a)if((l=s[a]).name===e)return l.value;return null}return this.each((n==null?BN:UN)(r,e,n))}function bl(e,n,r){var s=e._id;return e.each(function(){var a=on(this,s);(a.value||(a.value={}))[n]=r.apply(this,arguments)}),function(a){return Vt(a,s).value[n]}}function Af(e,n){var r;return(typeof n=="number"?zm:n instanceof Wl?ql:(r=Wl(n))?(n=r,ql):Im)(e,n)}function WN(e){return function(){this.removeAttribute(e)}}function VN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GN(e,n,r){var s,a=r+"",o;return function(){var l=this.getAttribute(e);return l===a?null:l===s?o:o=n(s=l,r)}}function YN(e,n,r){var s,a=r+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===a?null:l===s?o:o=n(s=l,r)}}function XN(e,n,r){var s,a,o;return function(){var l,c=r(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===s&&d===a?o:(a=d,o=n(s=l,c)))}}function KN(e,n,r){var s,a,o;return function(){var l,c=r(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===s&&d===a?o:(a=d,o=n(s=l,c)))}}function JN(e,n){var r=fa(e),s=r==="transform"?Lm:Af;return this.attrTween(e,typeof n=="function"?(r.local?KN:XN)(r,s,bl(this,"attr."+e,n)):n==null?(r.local?VN:WN)(r):(r.local?YN:GN)(r,s,n))}function QN(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function ZN(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function ek(e,n){var r,s;function a(){var o=n.apply(this,arguments);return o!==s&&(r=(s=o)&&ZN(e,o)),r}return a._value=n,a}function tk(e,n){var r,s;function a(){var o=n.apply(this,arguments);return o!==s&&(r=(s=o)&&QN(e,o)),r}return a._value=n,a}function nk(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var s=fa(e);return this.tween(r,(s.local?ek:tk)(s,n))}function rk(e,n){return function(){yl(this,e).delay=+n.apply(this,arguments)}}function sk(e,n){return n=+n,function(){yl(this,e).delay=n}}function ik(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?rk:sk)(n,e)):Vt(this.node(),n).delay}function ak(e,n){return function(){on(this,e).duration=+n.apply(this,arguments)}}function ok(e,n){return n=+n,function(){on(this,e).duration=n}}function lk(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?ak:ok)(n,e)):Vt(this.node(),n).duration}function ck(e,n){if(typeof n!="function")throw new Error;return function(){on(this,e).ease=n}}function uk(e){var n=this._id;return arguments.length?this.each(ck(n,e)):Vt(this.node(),n).ease}function dk(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;on(this,e).ease=r}}function hk(e){if(typeof e!="function")throw new Error;return this.each(dk(this._id,e))}function fk(e){typeof e!="function"&&(e=mf(e));for(var n=this._groups,r=n.length,s=new Array(r),a=0;a<r;++a)for(var o=n[a],l=o.length,c=s[a]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new jn(s,this._parents,this._name,this._id)}function pk(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,s=n.length,a=r.length,o=Math.min(s,a),l=new Array(s),c=0;c<o;++c)for(var d=n[c],u=r[c],h=d.length,f=l[c]=new Array(h),p,m=0;m<h;++m)(p=d[m]||u[m])&&(f[m]=p);for(;c<s;++c)l[c]=n[c];return new jn(l,this._parents,this._name,this._id)}function mk(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function gk(e,n,r){var s,a,o=mk(n)?yl:on;return function(){var l=o(this,e),c=l.on;c!==s&&(a=(s=c).copy()).on(n,r),l.on=a}}function xk(e,n){var r=this._id;return arguments.length<2?Vt(this.node(),r).on.on(e):this.each(gk(r,e,n))}function yk(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function bk(){return this.on("end.remove",yk(this._id))}function vk(e){var n=this._name,r=this._id;typeof e!="function"&&(e=pl(e));for(var s=this._groups,a=s.length,o=new Array(a),l=0;l<a;++l)for(var c=s[l],d=c.length,u=o[l]=new Array(d),h,f,p=0;p<d;++p)(h=c[p])&&(f=e.call(h,h.__data__,p,c))&&("__data__"in h&&(f.__data__=h.__data__),u[p]=f,ma(u[p],n,r,p,u,Vt(h,r)));return new jn(o,this._parents,n,r)}function wk(e){var n=this._name,r=this._id;typeof e!="function"&&(e=pf(e));for(var s=this._groups,a=s.length,o=[],l=[],c=0;c<a;++c)for(var d=s[c],u=d.length,h,f=0;f<u;++f)if(h=d[f]){for(var p=e.call(h,h.__data__,f,d),m,w=Vt(h,r),_=0,v=p.length;_<v;++_)(m=p[_])&&ma(m,n,r,_,p,w);o.push(p),l.push(h)}return new jn(o,l,n,r)}var jk=Bs.prototype.constructor;function _k(){return new jk(this._groups,this._parents)}function Nk(e,n){var r,s,a;return function(){var o=br(this,e),l=(this.style.removeProperty(e),br(this,e));return o===l?null:o===r&&l===s?a:a=n(r=o,s=l)}}function Rf(e){return function(){this.style.removeProperty(e)}}function kk(e,n,r){var s,a=r+"",o;return function(){var l=br(this,e);return l===a?null:l===s?o:o=n(s=l,r)}}function Sk(e,n,r){var s,a,o;return function(){var l=br(this,e),c=r(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),br(this,e))),l===d?null:l===s&&d===a?o:(a=d,o=n(s=l,c))}}function Ck(e,n){var r,s,a,o="style."+n,l="end."+o,c;return function(){var d=on(this,e),u=d.on,h=d.value[o]==null?c||(c=Rf(n)):void 0;(u!==r||a!==h)&&(s=(r=u).copy()).on(l,a=h),d.on=s}}function Ek(e,n,r){var s=(e+="")=="transform"?Fm:Af;return n==null?this.styleTween(e,Nk(e,s)).on("end.style."+e,Rf(e)):typeof n=="function"?this.styleTween(e,Sk(e,s,bl(this,"style."+e,n))).each(Ck(this._id,e)):this.styleTween(e,kk(e,s,n),r).on("end.style."+e,null)}function Pk(e,n,r){return function(s){this.style.setProperty(e,n.call(this,s),r)}}function Ak(e,n,r){var s,a;function o(){var l=n.apply(this,arguments);return l!==a&&(s=(a=l)&&Pk(e,l,r)),s}return o._value=n,o}function Rk(e,n,r){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(n==null)return this.tween(s,null);if(typeof n!="function")throw new Error;return this.tween(s,Ak(e,n,r??""))}function Ok(e){return function(){this.textContent=e}}function Tk(e){return function(){var n=e(this);this.textContent=n??""}}function Dk(e){return this.tween("text",typeof e=="function"?Tk(bl(this,"text",e)):Ok(e==null?"":e+""))}function $k(e){return function(n){this.textContent=e.call(this,n)}}function Mk(e){var n,r;function s(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&$k(a)),n}return s._value=e,s}function zk(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,Mk(e))}function Ik(){for(var e=this._name,n=this._id,r=Of(),s=this._groups,a=s.length,o=0;o<a;++o)for(var l=s[o],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var h=Vt(d,n);ma(d,e,r,u,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new jn(s,this._parents,e,r)}function Lk(){var e,n,r=this,s=r._id,a=r.size();return new Promise(function(o,l){var c={value:l},d={value:function(){--a===0&&o()}};r.each(function(){var u=on(this,s),h=u.on;h!==e&&(n=(e=h).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(d)),u.on=n}),a===0&&o()})}var Fk=0;function jn(e,n,r,s){this._groups=e,this._parents=n,this._name=r,this._id=s}function Of(){return++Fk}var un=Bs.prototype;jn.prototype={constructor:jn,select:vk,selectAll:wk,selectChild:un.selectChild,selectChildren:un.selectChildren,filter:fk,merge:pk,selection:_k,transition:Ik,call:un.call,nodes:un.nodes,node:un.node,size:un.size,empty:un.empty,each:un.each,on:xk,attr:JN,attrTween:nk,style:Ek,styleTween:Rk,text:Dk,textTween:zk,remove:bk,tween:qN,delay:ik,duration:lk,ease:uk,easeVarying:hk,end:Lk,[Symbol.iterator]:un[Symbol.iterator]};function Hk(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Bk={time:null,delay:0,duration:250,ease:Hk};function Uk(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function qk(e){var n,r;e instanceof jn?(n=e._id,e=e._name):(n=Of(),(r=Bk).time=gl(),e=e==null?null:e+"");for(var s=this._groups,a=s.length,o=0;o<a;++o)for(var l=s[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&ma(d,e,n,u,l,r||Uk(d,n));return new jn(s,this._parents,e,n)}Bs.prototype.interrupt=HN;Bs.prototype.transition=qk;const li=e=>()=>e;function Wk(e,{sourceEvent:n,target:r,transform:s,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:a}})}function xn(e,n,r){this.k=e,this.x=n,this.y=r}xn.prototype={constructor:xn,scale:function(e){return e===1?this:new xn(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new xn(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var vl=new xn(1,0,0);Kt.prototype=xn.prototype;function Kt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return vl;return e.__zoom}function Wa(e){e.stopImmediatePropagation()}function Ur(e){e.preventDefault(),e.stopImmediatePropagation()}function Vk(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Gk(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function gu(){return this.__zoom||vl}function Yk(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Xk(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kk(e,n,r){var s=e.invertX(n[0][0])-r[0][0],a=e.invertX(n[1][0])-r[1][0],o=e.invertY(n[0][1])-r[0][1],l=e.invertY(n[1][1])-r[1][1];return e.translate(a>s?(s+a)/2:Math.min(0,s)||Math.max(0,a),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function Jk(){var e=Vk,n=Gk,r=Kk,s=Yk,a=Xk,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=Hm,u=Us("start","zoom","end"),h,f,p,m=500,w=150,_=0,v=10;function g(T){T.property("__zoom",gu).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",O).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}g.transform=function(T,D,M,B){var X=T.selection?T.selection():T;X.property("__zoom",gu),T!==X?j(T,D,M,B):X.interrupt().each(function(){k(this,arguments).event(B).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},g.scaleBy=function(T,D,M,B){g.scaleTo(T,function(){var X=this.__zoom.k,W=typeof D=="function"?D.apply(this,arguments):D;return X*W},M,B)},g.scaleTo=function(T,D,M,B){g.transform(T,function(){var X=n.apply(this,arguments),W=this.__zoom,$=M==null?y(X):typeof M=="function"?M.apply(this,arguments):M,Z=W.invert($),J=typeof D=="function"?D.apply(this,arguments):D;return r(b(x(W,J),$,Z),X,l)},M,B)},g.translateBy=function(T,D,M,B){g.transform(T,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof M=="function"?M.apply(this,arguments):M),n.apply(this,arguments),l)},null,B)},g.translateTo=function(T,D,M,B,X){g.transform(T,function(){var W=n.apply(this,arguments),$=this.__zoom,Z=B==null?y(W):typeof B=="function"?B.apply(this,arguments):B;return r(vl.translate(Z[0],Z[1]).scale($.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof M=="function"?-M.apply(this,arguments):-M),W,l)},B,X)};function x(T,D){return D=Math.max(o[0],Math.min(o[1],D)),D===T.k?T:new xn(D,T.x,T.y)}function b(T,D,M){var B=D[0]-M[0]*T.k,X=D[1]-M[1]*T.k;return B===T.x&&X===T.y?T:new xn(T.k,B,X)}function y(T){return[(+T[0][0]+ +T[1][0])/2,(+T[0][1]+ +T[1][1])/2]}function j(T,D,M,B){T.on("start.zoom",function(){k(this,arguments).event(B).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(B).end()}).tween("zoom",function(){var X=this,W=arguments,$=k(X,W).event(B),Z=n.apply(X,W),J=M==null?y(Z):typeof M=="function"?M.apply(X,W):M,I=Math.max(Z[1][0]-Z[0][0],Z[1][1]-Z[0][1]),ce=X.__zoom,we=typeof D=="function"?D.apply(X,W):D,ue=d(ce.invert(J).concat(I/ce.k),we.invert(J).concat(I/we.k));return function(Ne){if(Ne===1)Ne=we;else{var Q=ue(Ne),V=I/Q[2];Ne=new xn(V,J[0]-Q[0]*V,J[1]-Q[1]*V)}$.zoom(null,Ne)}})}function k(T,D,M){return!M&&T.__zooming||new S(T,D)}function S(T,D){this.that=T,this.args=D,this.active=0,this.sourceEvent=null,this.extent=n.apply(T,D),this.taps=0}S.prototype={event:function(T){return T&&(this.sourceEvent=T),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(T,D){return this.mouse&&T!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&T!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&T!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(T){var D=Rt(this.that).datum();u.call(T,this.that,new Wk(T,{sourceEvent:this.sourceEvent,target:g,transform:this.that.__zoom,dispatch:u}),D)}};function C(T,...D){if(!e.apply(this,arguments))return;var M=k(this,D).event(T),B=this.__zoom,X=Math.max(o[0],Math.min(o[1],B.k*Math.pow(2,s.apply(this,arguments)))),W=Jt(T);if(M.wheel)(M.mouse[0][0]!==W[0]||M.mouse[0][1]!==W[1])&&(M.mouse[1]=B.invert(M.mouse[0]=W)),clearTimeout(M.wheel);else{if(B.k===X)return;M.mouse=[W,B.invert(W)],Ci(this),M.start()}Ur(T),M.wheel=setTimeout($,w),M.zoom("mouse",r(b(x(B,X),M.mouse[0],M.mouse[1]),M.extent,l));function $(){M.wheel=null,M.end()}}function P(T,...D){if(p||!e.apply(this,arguments))return;var M=T.currentTarget,B=k(this,D,!0).event(T),X=Rt(T.view).on("mousemove.zoom",J,!0).on("mouseup.zoom",I,!0),W=Jt(T,M),$=T.clientX,Z=T.clientY;kf(T.view),Wa(T),B.mouse=[W,this.__zoom.invert(W)],Ci(this),B.start();function J(ce){if(Ur(ce),!B.moved){var we=ce.clientX-$,ue=ce.clientY-Z;B.moved=we*we+ue*ue>_}B.event(ce).zoom("mouse",r(b(B.that.__zoom,B.mouse[0]=Jt(ce,M),B.mouse[1]),B.extent,l))}function I(ce){X.on("mousemove.zoom mouseup.zoom",null),Sf(ce.view,B.moved),Ur(ce),B.event(ce).end()}}function O(T,...D){if(e.apply(this,arguments)){var M=this.__zoom,B=Jt(T.changedTouches?T.changedTouches[0]:T,this),X=M.invert(B),W=M.k*(T.shiftKey?.5:2),$=r(b(x(M,W),B,X),n.apply(this,D),l);Ur(T),c>0?Rt(this).transition().duration(c).call(j,$,B,T):Rt(this).call(g.transform,$,B,T)}}function E(T,...D){if(e.apply(this,arguments)){var M=T.touches,B=M.length,X=k(this,D,T.changedTouches.length===B).event(T),W,$,Z,J;for(Wa(T),$=0;$<B;++$)Z=M[$],J=Jt(Z,this),J=[J,this.__zoom.invert(J),Z.identifier],X.touch0?!X.touch1&&X.touch0[2]!==J[2]&&(X.touch1=J,X.taps=0):(X.touch0=J,W=!0,X.taps=1+!!h);h&&(h=clearTimeout(h)),W&&(X.taps<2&&(f=J[0],h=setTimeout(function(){h=null},m)),Ci(this),X.start())}}function R(T,...D){if(this.__zooming){var M=k(this,D).event(T),B=T.changedTouches,X=B.length,W,$,Z,J;for(Ur(T),W=0;W<X;++W)$=B[W],Z=Jt($,this),M.touch0&&M.touch0[2]===$.identifier?M.touch0[0]=Z:M.touch1&&M.touch1[2]===$.identifier&&(M.touch1[0]=Z);if($=M.that.__zoom,M.touch1){var I=M.touch0[0],ce=M.touch0[1],we=M.touch1[0],ue=M.touch1[1],Ne=(Ne=we[0]-I[0])*Ne+(Ne=we[1]-I[1])*Ne,Q=(Q=ue[0]-ce[0])*Q+(Q=ue[1]-ce[1])*Q;$=x($,Math.sqrt(Ne/Q)),Z=[(I[0]+we[0])/2,(I[1]+we[1])/2],J=[(ce[0]+ue[0])/2,(ce[1]+ue[1])/2]}else if(M.touch0)Z=M.touch0[0],J=M.touch0[1];else return;M.zoom("touch",r(b($,Z,J),M.extent,l))}}function z(T,...D){if(this.__zooming){var M=k(this,D).event(T),B=T.changedTouches,X=B.length,W,$;for(Wa(T),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),W=0;W<X;++W)$=B[W],M.touch0&&M.touch0[2]===$.identifier?delete M.touch0:M.touch1&&M.touch1[2]===$.identifier&&delete M.touch1;if(M.touch1&&!M.touch0&&(M.touch0=M.touch1,delete M.touch1),M.touch0)M.touch0[1]=this.__zoom.invert(M.touch0[0]);else if(M.end(),M.taps===2&&($=Jt($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<v)){var Z=Rt(this).on("dblclick.zoom");Z&&Z.apply(this,arguments)}}}return g.wheelDelta=function(T){return arguments.length?(s=typeof T=="function"?T:li(+T),g):s},g.filter=function(T){return arguments.length?(e=typeof T=="function"?T:li(!!T),g):e},g.touchable=function(T){return arguments.length?(a=typeof T=="function"?T:li(!!T),g):a},g.extent=function(T){return arguments.length?(n=typeof T=="function"?T:li([[+T[0][0],+T[0][1]],[+T[1][0],+T[1][1]]]),g):n},g.scaleExtent=function(T){return arguments.length?(o[0]=+T[0],o[1]=+T[1],g):[o[0],o[1]]},g.translateExtent=function(T){return arguments.length?(l[0][0]=+T[0][0],l[1][0]=+T[1][0],l[0][1]=+T[0][1],l[1][1]=+T[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(T){return arguments.length?(r=T,g):r},g.duration=function(T){return arguments.length?(c=+T,g):c},g.interpolate=function(T){return arguments.length?(d=T,g):d},g.on=function(){var T=u.on.apply(u,arguments);return T===u?g:T},g.clickDistance=function(T){return arguments.length?(_=(T=+T)*T,g):Math.sqrt(_)},g.tapDistance=function(T){return arguments.length?(v=+T,g):v},g}var Qk=typeof global=="object"&&global&&global.Object===Object&&global,Zk=typeof self=="object"&&self&&self.Object===Object&&self,Tf=Qk||Zk||Function("return this")(),Bi=Tf.Symbol,Df=Object.prototype,eS=Df.hasOwnProperty,tS=Df.toString,qr=Bi?Bi.toStringTag:void 0;function nS(e){var n=eS.call(e,qr),r=e[qr];try{e[qr]=void 0;var s=!0}catch{}var a=tS.call(e);return s&&(n?e[qr]=r:delete e[qr]),a}var rS=Object.prototype,sS=rS.toString;function iS(e){return sS.call(e)}var aS="[object Null]",oS="[object Undefined]",xu=Bi?Bi.toStringTag:void 0;function lS(e){return e==null?e===void 0?oS:aS:xu&&xu in Object(e)?nS(e):iS(e)}function cS(e){return e!=null&&typeof e=="object"}var uS="[object Symbol]";function dS(e){return typeof e=="symbol"||cS(e)&&lS(e)==uS}var hS=/\s/;function fS(e){for(var n=e.length;n--&&hS.test(e.charAt(n)););return n}var pS=/^\s+/;function mS(e){return e&&e.slice(0,fS(e)+1).replace(pS,"")}function Ui(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var yu=NaN,gS=/^[-+]0x[0-9a-f]+$/i,xS=/^0b[01]+$/i,yS=/^0o[0-7]+$/i,bS=parseInt;function bu(e){if(typeof e=="number")return e;if(dS(e))return yu;if(Ui(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ui(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=mS(e);var r=xS.test(e);return r||yS.test(e)?bS(e.slice(2),r?2:8):gS.test(e)?yu:+e}var Va=function(){return Tf.Date.now()},vS="Expected a function",wS=Math.max,jS=Math.min;function $f(e,n,r){var s,a,o,l,c,d,u=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(vS);n=bu(n)||0,Ui(r)&&(h=!!r.leading,f="maxWait"in r,o=f?wS(bu(r.maxWait)||0,n):o,p="trailing"in r?!!r.trailing:p);function m(k){var S=s,C=a;return s=a=void 0,u=k,l=e.apply(C,S),l}function w(k){return u=k,c=setTimeout(g,n),h?m(k):l}function _(k){var S=k-d,C=k-u,P=n-S;return f?jS(P,o-C):P}function v(k){var S=k-d,C=k-u;return d===void 0||S>=n||S<0||f&&C>=o}function g(){var k=Va();if(v(k))return x(k);c=setTimeout(g,_(k))}function x(k){return c=void 0,p&&s?m(k):(s=a=void 0,l)}function b(){c!==void 0&&clearTimeout(c),u=0,s=d=a=c=void 0}function y(){return c===void 0?l:x(Va())}function j(){var k=Va(),S=v(k);if(s=arguments,a=this,d=k,S){if(c===void 0)return w(d);if(f)return clearTimeout(c),c=setTimeout(g,n),m(d)}return c===void 0&&(c=setTimeout(g,n)),l}return j.cancel=b,j.flush=y,j}var _S="Expected a function";function NS(e,n,r){var s=!0,a=!0;if(typeof e!="function")throw new TypeError(_S);return Ui(r)&&(s="leading"in r?!!r.leading:s,a="trailing"in r?!!r.trailing:a),$f(e,n,{leading:s,maxWait:n,trailing:a})}var Yn=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Yn.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Yn.Bounce.In(e*2)*.5:Yn.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),os=function(){return performance.now()},Mf=(function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];for(var a=0,o=r;a<o.length;a++){var l=o[a];(n=l._group)===null||n===void 0||n.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var s=0,a=n;s<a.length;s++){var o=a[s];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=os()),r===void 0&&(r=!0);var s=Object.keys(this._tweens);if(s.length!==0)for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var a=0;a<s.length;a++){var o=this._tweens[s[a]],l=!r;o&&o.update(n,l)===!1&&!r&&this.remove(o)}s=Object.keys(this._tweensAddedDuringUpdate)}},e})(),Co={Linear:function(e,n){var r=e.length-1,s=r*n,a=Math.floor(s),o=Co.Utils.Linear;return n<0?o(e[0],e[1],s):n>1?o(e[r],e[r-1],r-s):o(e[a],e[a+1>r?r:a+1],s-a)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},zf=(function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e})(),Eo=new Mf,vu=(function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Yn.Linear.None,this._interpolationFunction=Co.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=zf.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Eo,Eo.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=os()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var a={};for(var o in this._valuesEnd)a[o]=this._valuesEnd[o];this._valuesEnd=a}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,s,a,o){for(var l in s){var c=n[l],d=Array.isArray(c),u=d?"array":typeof c,h=!d&&Array.isArray(s[l]);if(!(u==="undefined"||u==="function")){if(h){var f=s[l];if(f.length===0)continue;for(var p=[c],m=0,w=f.length;m<w;m+=1){var _=this._handleRelativeValue(c,f[m]);if(isNaN(_)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(_)}h&&(s[l]=p)}if((u==="object"||d)&&c&&!h){r[l]=d?[]:{};var v=c;for(var g in v)r[l][g]=v[g];a[l]=d?[]:{};var f=s[l];if(!this._isDynamic){var x={};for(var g in f)x[g]=f[g];s[l]=f=x}this._setupProperties(v,r[l],f,a[l],o)}else(typeof r[l]>"u"||o)&&(r[l]=c),d||(r[l]*=1),h?a[l]=s[l].slice().reverse():a[l]=r[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=os()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=os()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=Yn.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=Co.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var s=this,a;if(n===void 0&&(n=os()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=n-this._startTime,c=this._duration+((a=this._repeatDelayTime)!==null&&a!==void 0?a:this._delayTime),d=this._duration+this._repeat*c,u=function(){if(s._duration===0||l>d)return 1;var _=Math.trunc(l/c),v=l-_*c,g=Math.min(v/s._duration,1);return g===0&&l===s._duration?1:g},h=u(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||l>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((l-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var m=0,w=this._chainedTweens.length;m<w;m++)this._chainedTweens[m].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,s,a){for(var o in s)if(r[o]!==void 0){var l=r[o]||0,c=s[o],d=Array.isArray(n[o]),u=Array.isArray(c),h=!d&&u;h?n[o]=this._interpolationFunction(c,a):typeof c=="object"&&c?this._updateProperties(n[o],l,c,a):(c=this._handleRelativeValue(l,c),typeof c=="number"&&(n[o]=l+(c-l)*a))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],s=this._valuesEnd[n];typeof s=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(s):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e})();zf.nextId;var an=Eo;an.getAll.bind(an);an.removeAll.bind(an);an.add.bind(an);an.remove.bind(an);an.update.bind(an);function wu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function kS(e){if(Array.isArray(e))return e}function SS(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function CS(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function ES(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function PS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AS(e,n){return kS(e)||ES(e,n)||RS(e,n)||PS()}function RS(e,n){if(e){if(typeof e=="string")return wu(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wu(e,n):void 0}}var OS=CS(function e(n,r){var s=r.default,a=s===void 0?null:s,o=r.triggerUpdate,l=o===void 0?!0:o,c=r.onChange,d=c===void 0?function(u,h){}:c;SS(this,e),this.name=n,this.defaultVal=a,this.triggerUpdate=l,this.onChange=d});function wl(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,s=e.props,a=s===void 0?{}:s,o=e.methods,l=o===void 0?{}:o,c=e.aliases,d=c===void 0?{}:c,u=e.init,h=u===void 0?function(){}:u,f=e.update,p=f===void 0?function(){}:f,m=Object.keys(a).map(function(w){return new OS(w,a[w])});return function w(){for(var _=arguments.length,v=new Array(_),g=0;g<_;g++)v[g]=arguments[g];var x=!!(this instanceof w&&this.constructor),b=x?v.shift():void 0,y=v[0],j=y===void 0?{}:y,k=Object.assign({},r instanceof Function?r(j):r,{initialised:!1}),S={};function C(E){return P(E,j),O(),C}var P=function(R,z){h.call(C,R,k,z),k.initialised=!0},O=$f(function(){k.initialised&&(p.call(C,k,S),S={})},1);return m.forEach(function(E){C[E.name]=R(E);function R(z){var T=z.name,D=z.triggerUpdate,M=D===void 0?!1:D,B=z.onChange,X=B===void 0?function(Z,J){}:B,W=z.defaultVal,$=W===void 0?null:W;return function(Z){var J=k[T];if(!arguments.length)return J;var I=Z===void 0?$:Z;return k[T]=I,X.call(C,I,k,J),!S.hasOwnProperty(T)&&(S[T]=J),M&&O(),C}}}),Object.keys(l).forEach(function(E){C[E]=function(){for(var R,z=arguments.length,T=new Array(z),D=0;D<z;D++)T[D]=arguments[D];return(R=l[E]).call.apply(R,[C,k].concat(T))}}),Object.entries(d).forEach(function(E){var R=AS(E,2),z=R[0],T=R[1];return C[z]=C[T]}),C.resetProps=function(){return m.forEach(function(E){C[E.name](E.defaultVal)}),C},C.resetProps(),k._rerender=O,x&&b&&C(b),C}}var Re=(function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}});function qi(e){"@babel/helpers - typeof";return qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qi(e)}var TS=/^\s+/,DS=/\s+$/;function he(e,n){if(e=e||"",n=n||{},e instanceof he)return e;if(!(this instanceof he))return new he(e,n);var r=$S(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}he.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,s,a,o,l,c;return r=n.r/255,s=n.g/255,a=n.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),a<=.03928?c=a/12.92:c=Math.pow((a+.055)/1.055,2.4),.2126*o+.7152*l+.0722*c},setAlpha:function(n){return this._a=If(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=_u(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=_u(this._r,this._g,this._b),r=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+s+"%, "+a+"%)":"hsva("+r+", "+s+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var n=ju(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=ju(this._r,this._g,this._b),r=Math.round(n.h*360),s=Math.round(n.s*100),a=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+s+"%, "+a+"%)":"hsla("+r+", "+s+"%, "+a+"%, "+this._roundA+")"},toHex:function(n){return Nu(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return LS(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ue(this._r,255)*100)+"%",g:Math.round(Ue(this._g,255)*100)+"%",b:Math.round(Ue(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%)":"rgba("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:JS[Nu(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+ku(this._r,this._g,this._b,this._a),s=r,a=this._gradientType?"GradientType = 1, ":"";if(n){var o=he(n);s="#"+ku(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+r+",endColorstr="+s+")"},toString:function(n){var r=!!n;n=n||this._format;var s=!1,a=this._a<1&&this._a>=0,o=!r&&a&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return o?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(s=this.toRgbString()),n==="prgb"&&(s=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(s=this.toHexString()),n==="hex3"&&(s=this.toHexString(!0)),n==="hex4"&&(s=this.toHex8String(!0)),n==="hex8"&&(s=this.toHex8String()),n==="name"&&(s=this.toName()),n==="hsl"&&(s=this.toHslString()),n==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},clone:function(){return he(this.toString())},_applyModification:function(n,r){var s=n.apply(null,[this].concat([].slice.call(r)));return this._r=s._r,this._g=s._g,this._b=s._b,this.setAlpha(s._a),this},lighten:function(){return this._applyModification(US,arguments)},brighten:function(){return this._applyModification(qS,arguments)},darken:function(){return this._applyModification(WS,arguments)},desaturate:function(){return this._applyModification(FS,arguments)},saturate:function(){return this._applyModification(HS,arguments)},greyscale:function(){return this._applyModification(BS,arguments)},spin:function(){return this._applyModification(VS,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(XS,arguments)},complement:function(){return this._applyCombination(GS,arguments)},monochromatic:function(){return this._applyCombination(KS,arguments)},splitcomplement:function(){return this._applyCombination(YS,arguments)},triad:function(){return this._applyCombination(Su,[3])},tetrad:function(){return this._applyCombination(Su,[4])}};he.fromRatio=function(e,n){if(qi(e)=="object"){var r={};for(var s in e)e.hasOwnProperty(s)&&(s==="a"?r[s]=e[s]:r[s]=ls(e[s]));e=r}return he(e,n)};function $S(e){var n={r:0,g:0,b:0},r=1,s=null,a=null,o=null,l=!1,c=!1;return typeof e=="string"&&(e=t2(e)),qi(e)=="object"&&(dn(e.r)&&dn(e.g)&&dn(e.b)?(n=MS(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):dn(e.h)&&dn(e.s)&&dn(e.v)?(s=ls(e.s),a=ls(e.v),n=IS(e.h,s,a),l=!0,c="hsv"):dn(e.h)&&dn(e.s)&&dn(e.l)&&(s=ls(e.s),o=ls(e.l),n=zS(e.h,s,o),l=!0,c="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=If(r),{ok:l,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function MS(e,n,r){return{r:Ue(e,255)*255,g:Ue(n,255)*255,b:Ue(r,255)*255}}function ju(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var s=Math.max(e,n,r),a=Math.min(e,n,r),o,l,c=(s+a)/2;if(s==a)o=l=0;else{var d=s-a;switch(l=c>.5?d/(2-s-a):d/(s+a),s){case e:o=(n-r)/d+(n<r?6:0);break;case n:o=(r-e)/d+2;break;case r:o=(e-n)/d+4;break}o/=6}return{h:o,s:l,l:c}}function zS(e,n,r){var s,a,o;e=Ue(e,360),n=Ue(n,100),r=Ue(r,100);function l(u,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(h-u)*6*f:f<1/2?h:f<2/3?u+(h-u)*(2/3-f)*6:u}if(n===0)s=a=o=r;else{var c=r<.5?r*(1+n):r+n-r*n,d=2*r-c;s=l(d,c,e+1/3),a=l(d,c,e),o=l(d,c,e-1/3)}return{r:s*255,g:a*255,b:o*255}}function _u(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var s=Math.max(e,n,r),a=Math.min(e,n,r),o,l,c=s,d=s-a;if(l=s===0?0:d/s,s==a)o=0;else{switch(s){case e:o=(n-r)/d+(n<r?6:0);break;case n:o=(r-e)/d+2;break;case r:o=(e-n)/d+4;break}o/=6}return{h:o,s:l,v:c}}function IS(e,n,r){e=Ue(e,360)*6,n=Ue(n,100),r=Ue(r,100);var s=Math.floor(e),a=e-s,o=r*(1-n),l=r*(1-a*n),c=r*(1-(1-a)*n),d=s%6,u=[r,l,o,o,c,r][d],h=[c,r,r,l,o,o][d],f=[o,o,c,r,r,l][d];return{r:u*255,g:h*255,b:f*255}}function Nu(e,n,r,s){var a=[Lt(Math.round(e).toString(16)),Lt(Math.round(n).toString(16)),Lt(Math.round(r).toString(16))];return s&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function LS(e,n,r,s,a){var o=[Lt(Math.round(e).toString(16)),Lt(Math.round(n).toString(16)),Lt(Math.round(r).toString(16)),Lt(Lf(s))];return a&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function ku(e,n,r,s){var a=[Lt(Lf(s)),Lt(Math.round(e).toString(16)),Lt(Math.round(n).toString(16)),Lt(Math.round(r).toString(16))];return a.join("")}he.equals=function(e,n){return!e||!n?!1:he(e).toRgbString()==he(n).toRgbString()};he.random=function(){return he.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function FS(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.s-=n/100,r.s=ga(r.s),he(r)}function HS(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.s+=n/100,r.s=ga(r.s),he(r)}function BS(e){return he(e).desaturate(100)}function US(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.l+=n/100,r.l=ga(r.l),he(r)}function qS(e,n){n=n===0?0:n||10;var r=he(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),he(r)}function WS(e,n){n=n===0?0:n||10;var r=he(e).toHsl();return r.l-=n/100,r.l=ga(r.l),he(r)}function VS(e,n){var r=he(e).toHsl(),s=(r.h+n)%360;return r.h=s<0?360+s:s,he(r)}function GS(e){var n=he(e).toHsl();return n.h=(n.h+180)%360,he(n)}function Su(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=he(e).toHsl(),s=[he(e)],a=360/n,o=1;o<n;o++)s.push(he({h:(r.h+o*a)%360,s:r.s,l:r.l}));return s}function YS(e){var n=he(e).toHsl(),r=n.h;return[he(e),he({h:(r+72)%360,s:n.s,l:n.l}),he({h:(r+216)%360,s:n.s,l:n.l})]}function XS(e,n,r){n=n||6,r=r||30;var s=he(e).toHsl(),a=360/r,o=[he(e)];for(s.h=(s.h-(a*n>>1)+720)%360;--n;)s.h=(s.h+a)%360,o.push(he(s));return o}function KS(e,n){n=n||6;for(var r=he(e).toHsv(),s=r.h,a=r.s,o=r.v,l=[],c=1/n;n--;)l.push(he({h:s,s:a,v:o})),o=(o+c)%1;return l}he.mix=function(e,n,r){r=r===0?0:r||50;var s=he(e).toRgb(),a=he(n).toRgb(),o=r/100,l={r:(a.r-s.r)*o+s.r,g:(a.g-s.g)*o+s.g,b:(a.b-s.b)*o+s.b,a:(a.a-s.a)*o+s.a};return he(l)};he.readability=function(e,n){var r=he(e),s=he(n);return(Math.max(r.getLuminance(),s.getLuminance())+.05)/(Math.min(r.getLuminance(),s.getLuminance())+.05)};he.isReadable=function(e,n,r){var s=he.readability(e,n),a,o;switch(o=!1,a=n2(r),a.level+a.size){case"AAsmall":case"AAAlarge":o=s>=4.5;break;case"AAlarge":o=s>=3;break;case"AAAsmall":o=s>=7;break}return o};he.mostReadable=function(e,n,r){var s=null,a=0,o,l,c,d;r=r||{},l=r.includeFallbackColors,c=r.level,d=r.size;for(var u=0;u<n.length;u++)o=he.readability(e,n[u]),o>a&&(a=o,s=he(n[u]));return he.isReadable(e,s,{level:c,size:d})||!l?s:(r.includeFallbackColors=!1,he.mostReadable(e,["#fff","#000"],r))};var Po=he.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},JS=he.hexNames=QS(Po);function QS(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function If(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ue(e,n){ZS(e)&&(e="100%");var r=e2(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function ga(e){return Math.min(1,Math.max(0,e))}function vt(e){return parseInt(e,16)}function ZS(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function e2(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Lt(e){return e.length==1?"0"+e:""+e}function ls(e){return e<=1&&(e=e*100+"%"),e}function Lf(e){return Math.round(parseFloat(e)*255).toString(16)}function Cu(e){return vt(e)/255}var Mt=(function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",s="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+a),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+a),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+a),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function dn(e){return!!Mt.CSS_UNIT.exec(e)}function t2(e){e=e.replace(TS,"").replace(DS,"").toLowerCase();var n=!1;if(Po[e])e=Po[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Mt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Mt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Mt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Mt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Mt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Mt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Mt.hex8.exec(e))?{r:vt(r[1]),g:vt(r[2]),b:vt(r[3]),a:Cu(r[4]),format:n?"name":"hex8"}:(r=Mt.hex6.exec(e))?{r:vt(r[1]),g:vt(r[2]),b:vt(r[3]),format:n?"name":"hex"}:(r=Mt.hex4.exec(e))?{r:vt(r[1]+""+r[1]),g:vt(r[2]+""+r[2]),b:vt(r[3]+""+r[3]),a:Cu(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Mt.hex3.exec(e))?{r:vt(r[1]+""+r[1]),g:vt(r[2]+""+r[2]),b:vt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function n2(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function Ao(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function r2(e){if(Array.isArray(e))return Ao(e)}function Ff(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function s2(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function i2(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ct(e,n){return e.get(Ff(e,n))}function Eu(e,n,r){s2(e,n),n.set(e,r)}function Pu(e,n,r){return e.set(Ff(e,n),r),r}function a2(e,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,h2(s.key),s)}}function o2(e,n,r){return n&&a2(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l2(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u2(e){return r2(e)||l2(e)||f2(e)||c2()}function d2(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function h2(e){var n=d2(e,"string");return typeof n=="symbol"?n:n+""}function f2(e,n){if(e){if(typeof e=="string")return Ao(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ao(e,n):void 0}}var p2=123,m2=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},Hf=function(n,r,s){return(n<<16)+(r<<8)+s},g2=function(n){var r=he(n).toRgb(),s=r.r,a=r.g,o=r.b;return Hf(s,a,o)},Au=function(n,r){return n*p2%Math.pow(2,r)},Fn=new WeakMap,hn=new WeakMap,x2=(function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;i2(this,e),Eu(this,Fn,void 0),Eu(this,hn,void 0),Pu(hn,this,n),this.reset()}return o2(e,[{key:"reset",value:function(){Pu(Fn,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Ct(Fn,this).length>=Math.pow(2,24-Ct(hn,this)))return null;var s=Ct(Fn,this).length,a=Au(s,Ct(hn,this)),o=m2(s+(a<<24-Ct(hn,this)));return Ct(Fn,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var s=typeof r=="string"?g2(r):Hf.apply(void 0,u2(r));if(!s)return null;var a=s&Math.pow(2,24-Ct(hn,this))-1,o=s>>24-Ct(hn,this)&Math.pow(2,Ct(hn,this))-1;return Au(a,Ct(hn,this))!==o||a>=Ct(Fn,this).length?null:Ct(Fn,this)[a]}}])})(),qs,qe,Bf,Uf,qn,Ru,qf,Wf,Vf,jl,Ro,Oo,Ps={},Gf=[],y2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xa=Array.isArray;function en(e,n){for(var r in n)e[r]=n[r];return e}function _l(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function b2(e,n,r){var s,a,o,l={};for(o in n)o=="key"?s=n[o]:o=="ref"?a=n[o]:l[o]=n[o];if(arguments.length>2&&(l.children=arguments.length>3?qs.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]===void 0&&(l[o]=e.defaultProps[o]);return ys(e,l,s,a,null)}function ys(e,n,r,s,a){var o={type:e,props:n,key:r,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++Bf,__i:-1,__u:0};return a==null&&qe.vnode!=null&&qe.vnode(o),o}function ya(e){return e.children}function Ei(e,n){this.props=e,this.context=n}function wr(e,n){if(n==null)return e.__?wr(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?wr(e):null}function Yf(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return Yf(e)}}function Ou(e){(!e.__d&&(e.__d=!0)&&qn.push(e)&&!Wi.__r++||Ru!=qe.debounceRendering)&&((Ru=qe.debounceRendering)||qf)(Wi)}function Wi(){for(var e,n,r,s,a,o,l,c=1;qn.length;)qn.length>c&&qn.sort(Wf),e=qn.shift(),c=qn.length,e.__d&&(r=void 0,s=void 0,a=(s=(n=e).__v).__e,o=[],l=[],n.__P&&((r=en({},s)).__v=s.__v+1,qe.vnode&&qe.vnode(r),Nl(n.__P,r,s,n.__n,n.__P.namespaceURI,32&s.__u?[a]:null,o,a??wr(s),!!(32&s.__u),l),r.__v=s.__v,r.__.__k[r.__i]=r,Jf(o,r,l),s.__e=s.__=null,r.__e!=a&&Yf(r)));Wi.__r=0}function Xf(e,n,r,s,a,o,l,c,d,u,h){var f,p,m,w,_,v,g,x=s&&s.__k||Gf,b=n.length;for(d=v2(r,n,x,d,b),f=0;f<b;f++)(m=r.__k[f])!=null&&(p=m.__i==-1?Ps:x[m.__i]||Ps,m.__i=f,v=Nl(e,m,p,a,o,l,c,d,u,h),w=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&kl(p.ref,null,m),h.push(m.ref,m.__c||w,m)),_==null&&w!=null&&(_=w),(g=!!(4&m.__u))||p.__k===m.__k?d=Kf(m,d,e,g):typeof m.type=="function"&&v!==void 0?d=v:w&&(d=w.nextSibling),m.__u&=-7);return r.__e=_,d}function v2(e,n,r,s,a){var o,l,c,d,u,h=r.length,f=h,p=0;for(e.__k=new Array(a),o=0;o<a;o++)(l=n[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=e.__k[o]=ys(null,l,null,null,null):xa(l)?l=e.__k[o]=ys(ya,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=e.__k[o]=ys(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[o]=l,d=o+p,l.__=e,l.__b=e.__b+1,(u=l.__i=w2(l,r,d,f))!=-1&&(f--,(c=r[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(a>h?p--:a<h&&p++),typeof l.type!="function"&&(l.__u|=4)):u!=d&&(u==d-1?p--:u==d+1?p++:(u>d?p--:p++,l.__u|=4))):e.__k[o]=null;if(f)for(o=0;o<h;o++)(c=r[o])!=null&&(2&c.__u)==0&&(c.__e==s&&(s=wr(c)),Zf(c,c));return s}function Kf(e,n,r,s){var a,o;if(typeof e.type=="function"){for(a=e.__k,o=0;a&&o<a.length;o++)a[o]&&(a[o].__=e,n=Kf(a[o],n,r,s));return n}e.__e!=n&&(s&&(n&&e.type&&!n.parentNode&&(n=wr(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function w2(e,n,r,s){var a,o,l,c=e.key,d=e.type,u=n[r],h=u!=null&&(2&u.__u)==0;if(u===null&&c==null||h&&c==u.key&&d==u.type)return r;if(s>(h?1:0)){for(a=r-1,o=r+1;a>=0||o<n.length;)if((u=n[l=a>=0?a--:o++])!=null&&(2&u.__u)==0&&c==u.key&&d==u.type)return l}return-1}function Tu(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||y2.test(n)?r:r+"px"}function ci(e,n,r,s,a){var o,l;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(n in s)r&&n in r||Tu(e.style,n,"");if(r)for(n in r)s&&r[n]==s[n]||Tu(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")o=n!=(n=n.replace(Vf,"$1")),l=n.toLowerCase(),n=l in e||n=="onFocusOut"||n=="onFocusIn"?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=r,r?s?r.u=s.u:(r.u=jl,e.addEventListener(n,o?Oo:Ro,o)):e.removeEventListener(n,o?Oo:Ro,o);else{if(a=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function Du(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=jl++;else if(n.t<r.u)return;return r(qe.event?qe.event(n):n)}}}function Nl(e,n,r,s,a,o,l,c,d,u){var h,f,p,m,w,_,v,g,x,b,y,j,k,S,C,P,O,E=n.type;if(n.constructor!=null)return null;128&r.__u&&(d=!!(32&r.__u),o=[c=n.__e=r.__e]),(h=qe.__b)&&h(n);e:if(typeof E=="function")try{if(g=n.props,x="prototype"in E&&E.prototype.render,b=(h=E.contextType)&&s[h.__c],y=h?b?b.props.value:h.__:s,r.__c?v=(f=n.__c=r.__c).__=f.__E:(x?n.__c=f=new E(g,y):(n.__c=f=new Ei(g,y),f.constructor=E,f.render=_2),b&&b.sub(f),f.state||(f.state={}),f.__n=s,p=f.__d=!0,f.__h=[],f._sb=[]),x&&f.__s==null&&(f.__s=f.state),x&&E.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=en({},f.__s)),en(f.__s,E.getDerivedStateFromProps(g,f.__s))),m=f.props,w=f.state,f.__v=n,p)x&&E.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),x&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(x&&E.getDerivedStateFromProps==null&&g!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(g,y),n.__v==r.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(g,f.__s,y)===!1){for(n.__v!=r.__v&&(f.props=g,f.state=f.__s,f.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(R){R&&(R.__=n)}),j=0;j<f._sb.length;j++)f.__h.push(f._sb[j]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(g,f.__s,y),x&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,w,_)})}if(f.context=y,f.props=g,f.__P=e,f.__e=!1,k=qe.__r,S=0,x){for(f.state=f.__s,f.__d=!1,k&&k(n),h=f.render(f.props,f.state,f.context),C=0;C<f._sb.length;C++)f.__h.push(f._sb[C]);f._sb=[]}else do f.__d=!1,k&&k(n),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++S<25);f.state=f.__s,f.getChildContext!=null&&(s=en(en({},s),f.getChildContext())),x&&!p&&f.getSnapshotBeforeUpdate!=null&&(_=f.getSnapshotBeforeUpdate(m,w)),P=h,h!=null&&h.type===ya&&h.key==null&&(P=Qf(h.props.children)),c=Xf(e,xa(P)?P:[P],n,r,s,a,o,l,c,d,u),f.base=n.__e,n.__u&=-161,f.__h.length&&l.push(f),v&&(f.__E=f.__=null)}catch(R){if(n.__v=null,d||o!=null)if(R.then){for(n.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,n.__e=c}else{for(O=o.length;O--;)_l(o[O]);To(n)}else n.__e=r.__e,n.__k=r.__k,R.then||To(n);qe.__e(R,n,r)}else o==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):c=n.__e=j2(r.__e,n,r,s,a,o,l,d,u);return(h=qe.diffed)&&h(n),128&n.__u?void 0:c}function To(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(To)}function Jf(e,n,r){for(var s=0;s<r.length;s++)kl(r[s],r[++s],r[++s]);qe.__c&&qe.__c(n,e),e.some(function(a){try{e=a.__h,a.__h=[],e.some(function(o){o.call(a)})}catch(o){qe.__e(o,a.__v)}})}function Qf(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:xa(e)?e.map(Qf):en({},e)}function j2(e,n,r,s,a,o,l,c,d){var u,h,f,p,m,w,_,v=r.props||Ps,g=n.props,x=n.type;if(x=="svg"?a="http://www.w3.org/2000/svg":x=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((m=o[u])&&"setAttribute"in m==!!x&&(x?m.localName==x:m.nodeType==3)){e=m,o[u]=null;break}}if(e==null){if(x==null)return document.createTextNode(g);e=document.createElementNS(a,x,g.is&&g),c&&(qe.__m&&qe.__m(n,o),c=!1),o=null}if(x==null)v===g||c&&e.data==g||(e.data=g);else{if(o=o&&qs.call(e.childNodes),!c&&o!=null)for(v={},u=0;u<e.attributes.length;u++)v[(m=e.attributes[u]).name]=m.value;for(u in v)if(m=v[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=m;else if(!(u in g)){if(u=="value"&&"defaultValue"in g||u=="checked"&&"defaultChecked"in g)continue;ci(e,u,null,m,a)}}for(u in g)m=g[u],u=="children"?p=m:u=="dangerouslySetInnerHTML"?h=m:u=="value"?w=m:u=="checked"?_=m:c&&typeof m!="function"||v[u]===m||ci(e,u,m,v[u],a);if(h)c||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),n.__k=[];else if(f&&(e.innerHTML=""),Xf(n.type=="template"?e.content:e,xa(p)?p:[p],n,r,s,x=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,l,o?o[0]:r.__k&&wr(r,0),c,d),o!=null)for(u=o.length;u--;)_l(o[u]);c||(u="value",x=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[u]||x=="progress"&&!w||x=="option"&&w!=v[u])&&ci(e,u,w,v[u],a),u="checked",_!=null&&_!=e[u]&&ci(e,u,_,v[u],a))}return e}function kl(e,n,r){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&n==null||(e.__u=e(n))}else e.current=n}catch(a){qe.__e(a,r)}}function Zf(e,n,r){var s,a;if(qe.unmount&&qe.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||kl(s,null,n)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(o){qe.__e(o,n)}s.base=s.__P=null}if(s=e.__k)for(a=0;a<s.length;a++)s[a]&&Zf(s[a],n,r||typeof e.type!="function");r||_l(e.__e),e.__c=e.__=e.__e=void 0}function _2(e,n,r){return this.constructor(e,r)}function N2(e,n,r){var s,a,o,l;n==document&&(n=document.documentElement),qe.__&&qe.__(e,n),a=(s=!1)?null:n.__k,o=[],l=[],Nl(n,e=n.__k=b2(ya,null,[e]),a||Ps,Ps,n.namespaceURI,a?null:n.firstChild?qs.call(n.childNodes):null,o,a?a.__e:n.firstChild,s,l),Jf(o,e,l)}function ep(e,n,r){var s,a,o,l,c=en({},e.props);for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)o=="key"?s=n[o]:o=="ref"?a=n[o]:c[o]=n[o]===void 0&&l!=null?l[o]:n[o];return arguments.length>2&&(c.children=arguments.length>3?qs.call(arguments,2):r),ys(e.type,c,s||e.key,a||e.ref,null)}qs=Gf.slice,qe={__e:function(e,n,r,s){for(var a,o,l;n=n.__;)if((a=n.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(e)),l=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(e,s||{}),l=a.__d),l)return a.__E=a}catch(c){e=c}throw e}},Bf=0,Uf=function(e){return e!=null&&e.constructor==null},Ei.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=en({},this.state),typeof e=="function"&&(e=e(en({},r),this.props)),e&&en(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),Ou(this))},Ei.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ou(this))},Ei.prototype.render=ya,qn=[],qf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Wf=function(e,n){return e.__v.__b-n.__v.__b},Wi.__r=0,Vf=/(PointerCapture)$|Capture$/i,jl=0,Ro=Du(!1),Oo=Du(!0);function $u(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function k2(e){if(Array.isArray(e))return e}function S2(e,n,r){return(n=O2(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function C2(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function E2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mu(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function P2(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Mu(Object(r),!0).forEach(function(s){S2(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mu(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function A2(e,n){return k2(e)||C2(e,n)||T2(e,n)||E2()}function R2(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function O2(e){var n=R2(e,"string");return typeof n=="symbol"?n:n+""}function Vi(e){"@babel/helpers - typeof";return Vi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Vi(e)}function T2(e,n){if(e){if(typeof e=="string")return $u(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$u(e,n):void 0}}var Do=function(n){if(Vi(n)!=="object")return n;var r=ep(n);if(r.props){var s;r.props=P2({},r.props),r!=null&&(s=r.props)!==null&&s!==void 0&&s.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Do):Do(r.props.children))}return r},D2=function(n){return Uf(ep(n))},$2=function(n,r){delete r.__k,N2(Do(n),r)};function M2(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var z2=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;M2(z2);var I2=wl({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=s.style,o=a===void 0?{}:a,l=!!n&&Vi(n)==="object"&&!!n.node&&typeof n.node=="function",c=Rt(l?n.node():n);c.style("position")==="static"&&c.style("position","relative"),r.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var h=A2(u,2),f=h[0],p=h[1];return r.tooltipEl.style(f,p)}),r.tooltipEl.style("left","-10000px").style("display","none");var d="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,c.on("mousemove.".concat(d),function(u){r.mouseInside=!0;var h=Jt(u),f=c.node(),p=f.offsetWidth,m=f.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(h[0]/p*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?m>130&&m-h[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(d),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(d),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):D2(n.content)?(n.tooltipEl.text(""),$2(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function L2(e,n,r){var s,a=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function o(){var l,c=s.length,d,u=0,h=0,f=0;for(l=0;l<c;++l)d=s[l],u+=d.x||0,h+=d.y||0,f+=d.z||0;for(u=(u/c-e)*a,h=(h/c-n)*a,f=(f/c-r)*a,l=0;l<c;++l)d=s[l],u&&(d.x-=u),h&&(d.y-=h),f&&(d.z-=f)}return o.initialize=function(l){s=l},o.x=function(l){return arguments.length?(e=+l,o):e},o.y=function(l){return arguments.length?(n=+l,o):n},o.z=function(l){return arguments.length?(r=+l,o):r},o.strength=function(l){return arguments.length?(a=+l,o):a},o}function F2(e){const n=+this._x.call(null,e);return tp(this.cover(n),n,e)}function tp(e,n,r){if(isNaN(n))return e;var s,a=e._root,o={data:r},l=e._x0,c=e._x1,d,u,h,f,p;if(!a)return e._root=o,e;for(;a.length;)if((h=n>=(d=(l+c)/2))?l=d:c=d,s=a,!(a=a[f=+h]))return s[f]=o,e;if(u=+e._x.call(null,a.data),n===u)return o.next=a,s?s[f]=o:e._root=o,e;do s=s?s[f]=new Array(2):e._root=new Array(2),(h=n>=(d=(l+c)/2))?l=d:c=d;while((f=+h)==(p=+(u>=d)));return s[p]=a,s[f]=o,e}function H2(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let s=1/0,a=-1/0;for(let o=0,l;o<n;++o)isNaN(l=+this._x.call(null,e[o]))||(r[o]=l,l<s&&(s=l),l>a&&(a=l));if(s>a)return this;this.cover(s).cover(a);for(let o=0;o<n;++o)tp(this,r[o],e[o]);return this}function B2(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var s=r-n||1,a=this._root,o,l;n>e||e>=r;)switch(l=+(e<n),o=new Array(2),o[l]=a,a=o,s*=2,l){case 0:r=n+s;break;case 1:n=r-s;break}this._root&&this._root.length&&(this._root=a)}return this._x0=n,this._x1=r,this}function U2(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function q2(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function bn(e,n,r){this.node=e,this.x0=n,this.x1=r}function W2(e,n){var r,s=this._x0,a,o,l=this._x1,c=[],d=this._root,u,h;for(d&&c.push(new bn(d,s,l)),n==null?n=1/0:(s=e-n,l=e+n);u=c.pop();)if(!(!(d=u.node)||(a=u.x0)>l||(o=u.x1)<s))if(d.length){var f=(a+o)/2;c.push(new bn(d[1],f,o),new bn(d[0],a,f)),(h=+(e>=f))&&(u=c[c.length-1],c[c.length-1]=c[c.length-1-h],c[c.length-1-h]=u)}else{var p=Math.abs(e-+this._x.call(null,d.data));p<n&&(n=p,s=e-p,l=e+p,r=d.data)}return r}function V2(e){if(isNaN(d=+this._x.call(null,e)))return this;var n,r=this._root,s,a,o,l=this._x0,c=this._x1,d,u,h,f,p;if(!r)return this;if(r.length)for(;;){if((h=d>=(u=(l+c)/2))?l=u:c=u,n=r,!(r=r[f=+h]))return this;if(!r.length)break;n[f+1&1]&&(s=n,p=f)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[f]=o:delete n[f],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(s?s[p]=r:this._root=r),this):(this._root=o,this)}function G2(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function Y2(){return this._root}function X2(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function K2(e){var n=[],r,s=this._root,a,o,l;for(s&&n.push(new bn(s,this._x0,this._x1));r=n.pop();)if(!e(s=r.node,o=r.x0,l=r.x1)&&s.length){var c=(o+l)/2;(a=s[1])&&n.push(new bn(a,c,l)),(a=s[0])&&n.push(new bn(a,o,c))}return this}function J2(e){var n=[],r=[],s;for(this._root&&n.push(new bn(this._root,this._x0,this._x1));s=n.pop();){var a=s.node;if(a.length){var o,l=s.x0,c=s.x1,d=(l+c)/2;(o=a[0])&&n.push(new bn(o,l,d)),(o=a[1])&&n.push(new bn(o,d,c))}r.push(s)}for(;s=r.pop();)e(s.node,s.x0,s.x1);return this}function Q2(e){return e[0]}function Z2(e){return arguments.length?(this._x=e,this):this._x}function np(e,n){var r=new Sl(n??Q2,NaN,NaN);return e==null?r:r.addAll(e)}function Sl(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function zu(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var yt=np.prototype=Sl.prototype;yt.copy=function(){var e=new Sl(this._x,this._x0,this._x1),n=this._root,r,s;if(!n)return e;if(!n.length)return e._root=zu(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var a=0;a<2;++a)(s=n.source[a])&&(s.length?r.push({source:s,target:n.target[a]=new Array(2)}):n.target[a]=zu(s));return e};yt.add=F2;yt.addAll=H2;yt.cover=B2;yt.data=U2;yt.extent=q2;yt.find=W2;yt.remove=V2;yt.removeAll=G2;yt.root=Y2;yt.size=X2;yt.visit=K2;yt.visitAfter=J2;yt.x=Z2;function e4(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return rp(this.cover(n,r),n,r,e)}function rp(e,n,r,s){if(isNaN(n)||isNaN(r))return e;var a,o=e._root,l={data:s},c=e._x0,d=e._y0,u=e._x1,h=e._y1,f,p,m,w,_,v,g,x;if(!o)return e._root=l,e;for(;o.length;)if((_=n>=(f=(c+u)/2))?c=f:u=f,(v=r>=(p=(d+h)/2))?d=p:h=p,a=o,!(o=o[g=v<<1|_]))return a[g]=l,e;if(m=+e._x.call(null,o.data),w=+e._y.call(null,o.data),n===m&&r===w)return l.next=o,a?a[g]=l:e._root=l,e;do a=a?a[g]=new Array(4):e._root=new Array(4),(_=n>=(f=(c+u)/2))?c=f:u=f,(v=r>=(p=(d+h)/2))?d=p:h=p;while((g=v<<1|_)===(x=(w>=p)<<1|m>=f));return a[x]=o,a[g]=l,e}function t4(e){var n,r,s=e.length,a,o,l=new Array(s),c=new Array(s),d=1/0,u=1/0,h=-1/0,f=-1/0;for(r=0;r<s;++r)isNaN(a=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(l[r]=a,c[r]=o,a<d&&(d=a),a>h&&(h=a),o<u&&(u=o),o>f&&(f=o));if(d>h||u>f)return this;for(this.cover(d,u).cover(h,f),r=0;r<s;++r)rp(this,l[r],c[r],e[r]);return this}function n4(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,s=this._y0,a=this._x1,o=this._y1;if(isNaN(r))a=(r=Math.floor(e))+1,o=(s=Math.floor(n))+1;else{for(var l=a-r||1,c=this._root,d,u;r>e||e>=a||s>n||n>=o;)switch(u=(n<s)<<1|e<r,d=new Array(4),d[u]=c,c=d,l*=2,u){case 0:a=r+l,o=s+l;break;case 1:r=a-l,o=s+l;break;case 2:a=r+l,s=o-l;break;case 3:r=a-l,s=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=s,this._x1=a,this._y1=o,this}function r4(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function s4(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function lt(e,n,r,s,a){this.node=e,this.x0=n,this.y0=r,this.x1=s,this.y1=a}function i4(e,n,r){var s,a=this._x0,o=this._y0,l,c,d,u,h=this._x1,f=this._y1,p=[],m=this._root,w,_;for(m&&p.push(new lt(m,a,o,h,f)),r==null?r=1/0:(a=e-r,o=n-r,h=e+r,f=n+r,r*=r);w=p.pop();)if(!(!(m=w.node)||(l=w.x0)>h||(c=w.y0)>f||(d=w.x1)<a||(u=w.y1)<o))if(m.length){var v=(l+d)/2,g=(c+u)/2;p.push(new lt(m[3],v,g,d,u),new lt(m[2],l,g,v,u),new lt(m[1],v,c,d,g),new lt(m[0],l,c,v,g)),(_=(n>=g)<<1|e>=v)&&(w=p[p.length-1],p[p.length-1]=p[p.length-1-_],p[p.length-1-_]=w)}else{var x=e-+this._x.call(null,m.data),b=n-+this._y.call(null,m.data),y=x*x+b*b;if(y<r){var j=Math.sqrt(r=y);a=e-j,o=n-j,h=e+j,f=n+j,s=m.data}}return s}function a4(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var n,r=this._root,s,a,o,l=this._x0,c=this._y0,d=this._x1,u=this._y1,h,f,p,m,w,_,v,g;if(!r)return this;if(r.length)for(;;){if((w=h>=(p=(l+d)/2))?l=p:d=p,(_=f>=(m=(c+u)/2))?c=m:u=m,n=r,!(r=r[v=_<<1|w]))return this;if(!r.length)break;(n[v+1&3]||n[v+2&3]||n[v+3&3])&&(s=n,g=v)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[v]=o:delete n[v],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(s?s[g]=r:this._root=r),this):(this._root=o,this)}function o4(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function l4(){return this._root}function c4(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function u4(e){var n=[],r,s=this._root,a,o,l,c,d;for(s&&n.push(new lt(s,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(s=r.node,o=r.x0,l=r.y0,c=r.x1,d=r.y1)&&s.length){var u=(o+c)/2,h=(l+d)/2;(a=s[3])&&n.push(new lt(a,u,h,c,d)),(a=s[2])&&n.push(new lt(a,o,h,u,d)),(a=s[1])&&n.push(new lt(a,u,l,c,h)),(a=s[0])&&n.push(new lt(a,o,l,u,h))}return this}function d4(e){var n=[],r=[],s;for(this._root&&n.push(new lt(this._root,this._x0,this._y0,this._x1,this._y1));s=n.pop();){var a=s.node;if(a.length){var o,l=s.x0,c=s.y0,d=s.x1,u=s.y1,h=(l+d)/2,f=(c+u)/2;(o=a[0])&&n.push(new lt(o,l,c,h,f)),(o=a[1])&&n.push(new lt(o,h,c,d,f)),(o=a[2])&&n.push(new lt(o,l,f,h,u)),(o=a[3])&&n.push(new lt(o,h,f,d,u))}r.push(s)}for(;s=r.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function h4(e){return e[0]}function f4(e){return arguments.length?(this._x=e,this):this._x}function p4(e){return e[1]}function m4(e){return arguments.length?(this._y=e,this):this._y}function sp(e,n,r){var s=new Cl(n??h4,r??p4,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Cl(e,n,r,s,a,o){this._x=e,this._y=n,this._x0=r,this._y0=s,this._x1=a,this._y1=o,this._root=void 0}function Iu(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var dt=sp.prototype=Cl.prototype;dt.copy=function(){var e=new Cl(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,s;if(!n)return e;if(!n.length)return e._root=Iu(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var a=0;a<4;++a)(s=n.source[a])&&(s.length?r.push({source:s,target:n.target[a]=new Array(4)}):n.target[a]=Iu(s));return e};dt.add=e4;dt.addAll=t4;dt.cover=n4;dt.data=r4;dt.extent=s4;dt.find=i4;dt.remove=a4;dt.removeAll=o4;dt.root=l4;dt.size=c4;dt.visit=u4;dt.visitAfter=d4;dt.x=f4;dt.y=m4;function g4(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),s=+this._z.call(null,e);return ip(this.cover(n,r,s),n,r,s,e)}function ip(e,n,r,s,a){if(isNaN(n)||isNaN(r)||isNaN(s))return e;var o,l=e._root,c={data:a},d=e._x0,u=e._y0,h=e._z0,f=e._x1,p=e._y1,m=e._z1,w,_,v,g,x,b,y,j,k,S,C;if(!l)return e._root=c,e;for(;l.length;)if((y=n>=(w=(d+f)/2))?d=w:f=w,(j=r>=(_=(u+p)/2))?u=_:p=_,(k=s>=(v=(h+m)/2))?h=v:m=v,o=l,!(l=l[S=k<<2|j<<1|y]))return o[S]=c,e;if(g=+e._x.call(null,l.data),x=+e._y.call(null,l.data),b=+e._z.call(null,l.data),n===g&&r===x&&s===b)return c.next=l,o?o[S]=c:e._root=c,e;do o=o?o[S]=new Array(8):e._root=new Array(8),(y=n>=(w=(d+f)/2))?d=w:f=w,(j=r>=(_=(u+p)/2))?u=_:p=_,(k=s>=(v=(h+m)/2))?h=v:m=v;while((S=k<<2|j<<1|y)===(C=(b>=v)<<2|(x>=_)<<1|g>=w));return o[C]=l,o[S]=c,e}function x4(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),s=new Float64Array(n),a=new Float64Array(n);let o=1/0,l=1/0,c=1/0,d=-1/0,u=-1/0,h=-1/0;for(let f=0,p,m,w,_;f<n;++f)isNaN(m=+this._x.call(null,p=e[f]))||isNaN(w=+this._y.call(null,p))||isNaN(_=+this._z.call(null,p))||(r[f]=m,s[f]=w,a[f]=_,m<o&&(o=m),m>d&&(d=m),w<l&&(l=w),w>u&&(u=w),_<c&&(c=_),_>h&&(h=_));if(o>d||l>u||c>h)return this;this.cover(o,l,c).cover(d,u,h);for(let f=0;f<n;++f)ip(this,r[f],s[f],a[f],e[f]);return this}function y4(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var s=this._x0,a=this._y0,o=this._z0,l=this._x1,c=this._y1,d=this._z1;if(isNaN(s))l=(s=Math.floor(e))+1,c=(a=Math.floor(n))+1,d=(o=Math.floor(r))+1;else{for(var u=l-s||1,h=this._root,f,p;s>e||e>=l||a>n||n>=c||o>r||r>=d;)switch(p=(r<o)<<2|(n<a)<<1|e<s,f=new Array(8),f[p]=h,h=f,u*=2,p){case 0:l=s+u,c=a+u,d=o+u;break;case 1:s=l-u,c=a+u,d=o+u;break;case 2:l=s+u,a=c-u,d=o+u;break;case 3:s=l-u,a=c-u,d=o+u;break;case 4:l=s+u,c=a+u,o=d-u;break;case 5:s=l-u,c=a+u,o=d-u;break;case 6:l=s+u,a=c-u,o=d-u;break;case 7:s=l-u,a=c-u,o=d-u;break}this._root&&this._root.length&&(this._root=h)}return this._x0=s,this._y0=a,this._z0=o,this._x1=l,this._y1=c,this._z1=d,this}function b4(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function v4(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function Me(e,n,r,s,a,o,l){this.node=e,this.x0=n,this.y0=r,this.z0=s,this.x1=a,this.y1=o,this.z1=l}function w4(e,n,r,s){var a,o=this._x0,l=this._y0,c=this._z0,d,u,h,f,p,m,w=this._x1,_=this._y1,v=this._z1,g=[],x=this._root,b,y;for(x&&g.push(new Me(x,o,l,c,w,_,v)),s==null?s=1/0:(o=e-s,l=n-s,c=r-s,w=e+s,_=n+s,v=r+s,s*=s);b=g.pop();)if(!(!(x=b.node)||(d=b.x0)>w||(u=b.y0)>_||(h=b.z0)>v||(f=b.x1)<o||(p=b.y1)<l||(m=b.z1)<c))if(x.length){var j=(d+f)/2,k=(u+p)/2,S=(h+m)/2;g.push(new Me(x[7],j,k,S,f,p,m),new Me(x[6],d,k,S,j,p,m),new Me(x[5],j,u,S,f,k,m),new Me(x[4],d,u,S,j,k,m),new Me(x[3],j,k,h,f,p,S),new Me(x[2],d,k,h,j,p,S),new Me(x[1],j,u,h,f,k,S),new Me(x[0],d,u,h,j,k,S)),(y=(r>=S)<<2|(n>=k)<<1|e>=j)&&(b=g[g.length-1],g[g.length-1]=g[g.length-1-y],g[g.length-1-y]=b)}else{var C=e-+this._x.call(null,x.data),P=n-+this._y.call(null,x.data),O=r-+this._z.call(null,x.data),E=C*C+P*P+O*O;if(E<s){var R=Math.sqrt(s=E);o=e-R,l=n-R,c=r-R,w=e+R,_=n+R,v=r+R,a=x.data}}return a}const j4=(e,n,r,s,a,o)=>Math.sqrt((e-s)**2+(n-a)**2+(r-o)**2);function _4(e,n,r,s){const a=[],o=e-s,l=n-s,c=r-s,d=e+s,u=n+s,h=r+s;return this.visit((f,p,m,w,_,v,g)=>{if(!f.length)do{const x=f.data;j4(e,n,r,this._x(x),this._y(x),this._z(x))<=s&&a.push(x)}while(f=f.next);return p>d||m>u||w>h||_<o||v<l||g<c}),a}function N4(e){if(isNaN(p=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var n,r=this._root,s,a,o,l=this._x0,c=this._y0,d=this._z0,u=this._x1,h=this._y1,f=this._z1,p,m,w,_,v,g,x,b,y,j,k;if(!r)return this;if(r.length)for(;;){if((x=p>=(_=(l+u)/2))?l=_:u=_,(b=m>=(v=(c+h)/2))?c=v:h=v,(y=w>=(g=(d+f)/2))?d=g:f=g,n=r,!(r=r[j=y<<2|b<<1|x]))return this;if(!r.length)break;(n[j+1&7]||n[j+2&7]||n[j+3&7]||n[j+4&7]||n[j+5&7]||n[j+6&7]||n[j+7&7])&&(s=n,k=j)}for(;r.data!==e;)if(a=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,a?(o?a.next=o:delete a.next,this):n?(o?n[j]=o:delete n[j],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(s?s[k]=r:this._root=r),this):(this._root=o,this)}function k4(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function S4(){return this._root}function C4(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function E4(e){var n=[],r,s=this._root,a,o,l,c,d,u,h;for(s&&n.push(new Me(s,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(s=r.node,o=r.x0,l=r.y0,c=r.z0,d=r.x1,u=r.y1,h=r.z1)&&s.length){var f=(o+d)/2,p=(l+u)/2,m=(c+h)/2;(a=s[7])&&n.push(new Me(a,f,p,m,d,u,h)),(a=s[6])&&n.push(new Me(a,o,p,m,f,u,h)),(a=s[5])&&n.push(new Me(a,f,l,m,d,p,h)),(a=s[4])&&n.push(new Me(a,o,l,m,f,p,h)),(a=s[3])&&n.push(new Me(a,f,p,c,d,u,m)),(a=s[2])&&n.push(new Me(a,o,p,c,f,u,m)),(a=s[1])&&n.push(new Me(a,f,l,c,d,p,m)),(a=s[0])&&n.push(new Me(a,o,l,c,f,p,m))}return this}function P4(e){var n=[],r=[],s;for(this._root&&n.push(new Me(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));s=n.pop();){var a=s.node;if(a.length){var o,l=s.x0,c=s.y0,d=s.z0,u=s.x1,h=s.y1,f=s.z1,p=(l+u)/2,m=(c+h)/2,w=(d+f)/2;(o=a[0])&&n.push(new Me(o,l,c,d,p,m,w)),(o=a[1])&&n.push(new Me(o,p,c,d,u,m,w)),(o=a[2])&&n.push(new Me(o,l,m,d,p,h,w)),(o=a[3])&&n.push(new Me(o,p,m,d,u,h,w)),(o=a[4])&&n.push(new Me(o,l,c,w,p,m,f)),(o=a[5])&&n.push(new Me(o,p,c,w,u,m,f)),(o=a[6])&&n.push(new Me(o,l,m,w,p,h,f)),(o=a[7])&&n.push(new Me(o,p,m,w,u,h,f))}r.push(s)}for(;s=r.pop();)e(s.node,s.x0,s.y0,s.z0,s.x1,s.y1,s.z1);return this}function A4(e){return e[0]}function R4(e){return arguments.length?(this._x=e,this):this._x}function O4(e){return e[1]}function T4(e){return arguments.length?(this._y=e,this):this._y}function D4(e){return e[2]}function $4(e){return arguments.length?(this._z=e,this):this._z}function ap(e,n,r,s){var a=new El(n??A4,r??O4,s??D4,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function El(e,n,r,s,a,o,l,c,d){this._x=e,this._y=n,this._z=r,this._x0=s,this._y0=a,this._z0=o,this._x1=l,this._y1=c,this._z1=d,this._root=void 0}function Lu(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Qe=ap.prototype=El.prototype;Qe.copy=function(){var e=new El(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,s;if(!n)return e;if(!n.length)return e._root=Lu(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var a=0;a<8;++a)(s=n.source[a])&&(s.length?r.push({source:s,target:n.target[a]=new Array(8)}):n.target[a]=Lu(s));return e};Qe.add=g4;Qe.addAll=x4;Qe.cover=y4;Qe.data=b4;Qe.extent=v4;Qe.find=w4;Qe.findAllWithinRadius=_4;Qe.remove=N4;Qe.removeAll=k4;Qe.root=S4;Qe.size=C4;Qe.visit=E4;Qe.visitAfter=P4;Qe.x=R4;Qe.y=T4;Qe.z=$4;function yn(e){return function(){return e}}function gn(e){return(e()-.5)*1e-6}function M4(e){return e.index}function Fu(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function z4(e){var n=M4,r=p,s,a=yn(30),o,l,c,d,u,h,f=1;e==null&&(e=[]);function p(g){return 1/Math.min(d[g.source.index],d[g.target.index])}function m(g){for(var x=0,b=e.length;x<f;++x)for(var y=0,j,k,S,C=0,P=0,O=0,E,R;y<b;++y)j=e[y],k=j.source,S=j.target,C=S.x+S.vx-k.x-k.vx||gn(h),c>1&&(P=S.y+S.vy-k.y-k.vy||gn(h)),c>2&&(O=S.z+S.vz-k.z-k.vz||gn(h)),E=Math.sqrt(C*C+P*P+O*O),E=(E-o[y])/E*g*s[y],C*=E,P*=E,O*=E,S.vx-=C*(R=u[y]),c>1&&(S.vy-=P*R),c>2&&(S.vz-=O*R),k.vx+=C*(R=1-R),c>1&&(k.vy+=P*R),c>2&&(k.vz+=O*R)}function w(){if(l){var g,x=l.length,b=e.length,y=new Map(l.map((k,S)=>[n(k,S,l),k])),j;for(g=0,d=new Array(x);g<b;++g)j=e[g],j.index=g,typeof j.source!="object"&&(j.source=Fu(y,j.source)),typeof j.target!="object"&&(j.target=Fu(y,j.target)),d[j.source.index]=(d[j.source.index]||0)+1,d[j.target.index]=(d[j.target.index]||0)+1;for(g=0,u=new Array(b);g<b;++g)j=e[g],u[g]=d[j.source.index]/(d[j.source.index]+d[j.target.index]);s=new Array(b),_(),o=new Array(b),v()}}function _(){if(l)for(var g=0,x=e.length;g<x;++g)s[g]=+r(e[g],g,e)}function v(){if(l)for(var g=0,x=e.length;g<x;++g)o[g]=+a(e[g],g,e)}return m.initialize=function(g,...x){l=g,h=x.find(b=>typeof b=="function")||Math.random,c=x.find(b=>[1,2,3].includes(b))||2,w()},m.links=function(g){return arguments.length?(e=g,w(),m):e},m.id=function(g){return arguments.length?(n=g,m):n},m.iterations=function(g){return arguments.length?(f=+g,m):f},m.strength=function(g){return arguments.length?(r=typeof g=="function"?g:yn(+g),_(),m):r},m.distance=function(g){return arguments.length?(a=typeof g=="function"?g:yn(+g),v(),m):a},m}const I4=1664525,L4=1013904223,Hu=4294967296;function F4(){let e=1;return()=>(e=(I4*e+L4)%Hu)/Hu}var Bu=3;function Ga(e){return e.x}function Uu(e){return e.y}function H4(e){return e.z}var B4=10,U4=Math.PI*(3-Math.sqrt(5)),q4=Math.PI*20/(9+Math.sqrt(221));function W4(e,n){n=n||2;var r=Math.min(Bu,Math.max(1,Math.round(n))),s,a=1,o=.001,l=1-Math.pow(o,1/300),c=0,d=.6,u=new Map,h=xl(m),f=Us("tick","end"),p=F4();e==null&&(e=[]);function m(){w(),f.call("tick",s),a<o&&(h.stop(),f.call("end",s))}function w(g){var x,b=e.length,y;g===void 0&&(g=1);for(var j=0;j<g;++j)for(a+=(c-a)*l,u.forEach(function(k){k(a)}),x=0;x<b;++x)y=e[x],y.fx==null?y.x+=y.vx*=d:(y.x=y.fx,y.vx=0),r>1&&(y.fy==null?y.y+=y.vy*=d:(y.y=y.fy,y.vy=0)),r>2&&(y.fz==null?y.z+=y.vz*=d:(y.z=y.fz,y.vz=0));return s}function _(){for(var g=0,x=e.length,b;g<x;++g){if(b=e[g],b.index=g,b.fx!=null&&(b.x=b.fx),b.fy!=null&&(b.y=b.fy),b.fz!=null&&(b.z=b.fz),isNaN(b.x)||r>1&&isNaN(b.y)||r>2&&isNaN(b.z)){var y=B4*(r>2?Math.cbrt(.5+g):r>1?Math.sqrt(.5+g):g),j=g*U4,k=g*q4;r===1?b.x=y:r===2?(b.x=y*Math.cos(j),b.y=y*Math.sin(j)):(b.x=y*Math.sin(j)*Math.cos(k),b.y=y*Math.cos(j),b.z=y*Math.sin(j)*Math.sin(k))}(isNaN(b.vx)||r>1&&isNaN(b.vy)||r>2&&isNaN(b.vz))&&(b.vx=0,r>1&&(b.vy=0),r>2&&(b.vz=0))}}function v(g){return g.initialize&&g.initialize(e,p,r),g}return _(),s={tick:w,restart:function(){return h.restart(m),s},stop:function(){return h.stop(),s},numDimensions:function(g){return arguments.length?(r=Math.min(Bu,Math.max(1,Math.round(g))),u.forEach(v),s):r},nodes:function(g){return arguments.length?(e=g,_(),u.forEach(v),s):e},alpha:function(g){return arguments.length?(a=+g,s):a},alphaMin:function(g){return arguments.length?(o=+g,s):o},alphaDecay:function(g){return arguments.length?(l=+g,s):+l},alphaTarget:function(g){return arguments.length?(c=+g,s):c},velocityDecay:function(g){return arguments.length?(d=1-g,s):1-d},randomSource:function(g){return arguments.length?(p=g,u.forEach(v),s):p},force:function(g,x){return arguments.length>1?(x==null?u.delete(g):u.set(g,v(x)),s):u.get(g)},find:function(){var g=Array.prototype.slice.call(arguments),x=g.shift()||0,b=(r>1?g.shift():null)||0,y=(r>2?g.shift():null)||0,j=g.shift()||1/0,k=0,S=e.length,C,P,O,E,R,z;for(j*=j,k=0;k<S;++k)R=e[k],C=x-R.x,P=b-(R.y||0),O=y-(R.z||0),E=C*C+P*P+O*O,E<j&&(z=R,j=E);return z},on:function(g,x){return arguments.length>1?(f.on(g,x),s):f.on(g)}}}function V4(){var e,n,r,s,a,o=yn(-30),l,c=1,d=1/0,u=.81;function h(w){var _,v=e.length,g=(n===1?np(e,Ga):n===2?sp(e,Ga,Uu):n===3?ap(e,Ga,Uu,H4):null).visitAfter(p);for(a=w,_=0;_<v;++_)r=e[_],g.visit(m)}function f(){if(e){var w,_=e.length,v;for(l=new Array(_),w=0;w<_;++w)v=e[w],l[v.index]=+o(v,w,e)}}function p(w){var _=0,v,g,x=0,b,y,j,k,S=w.length;if(S){for(b=y=j=k=0;k<S;++k)(v=w[k])&&(g=Math.abs(v.value))&&(_+=v.value,x+=g,b+=g*(v.x||0),y+=g*(v.y||0),j+=g*(v.z||0));_*=Math.sqrt(4/S),w.x=b/x,n>1&&(w.y=y/x),n>2&&(w.z=j/x)}else{v=w,v.x=v.data.x,n>1&&(v.y=v.data.y),n>2&&(v.z=v.data.z);do _+=l[v.data.index];while(v=v.next)}w.value=_}function m(w,_,v,g,x){if(!w.value)return!0;var b=[v,g,x][n-1],y=w.x-r.x,j=n>1?w.y-r.y:0,k=n>2?w.z-r.z:0,S=b-_,C=y*y+j*j+k*k;if(S*S/u<C)return C<d&&(y===0&&(y=gn(s),C+=y*y),n>1&&j===0&&(j=gn(s),C+=j*j),n>2&&k===0&&(k=gn(s),C+=k*k),C<c&&(C=Math.sqrt(c*C)),r.vx+=y*w.value*a/C,n>1&&(r.vy+=j*w.value*a/C),n>2&&(r.vz+=k*w.value*a/C)),!0;if(w.length||C>=d)return;(w.data!==r||w.next)&&(y===0&&(y=gn(s),C+=y*y),n>1&&j===0&&(j=gn(s),C+=j*j),n>2&&k===0&&(k=gn(s),C+=k*k),C<c&&(C=Math.sqrt(c*C)));do w.data!==r&&(S=l[w.data.index]*a/C,r.vx+=y*S,n>1&&(r.vy+=j*S),n>2&&(r.vz+=k*S));while(w=w.next)}return h.initialize=function(w,..._){e=w,s=_.find(v=>typeof v=="function")||Math.random,n=_.find(v=>[1,2,3].includes(v))||2,f()},h.strength=function(w){return arguments.length?(o=typeof w=="function"?w:yn(+w),f(),h):o},h.distanceMin=function(w){return arguments.length?(c=w*w,h):Math.sqrt(c)},h.distanceMax=function(w){return arguments.length?(d=w*w,h):Math.sqrt(d)},h.theta=function(w){return arguments.length?(u=w*w,h):Math.sqrt(u)},h}function G4(e,n,r,s){var a,o,l=yn(.1),c,d;typeof e!="function"&&(e=yn(+e)),n==null&&(n=0),r==null&&(r=0),s==null&&(s=0);function u(f){for(var p=0,m=a.length;p<m;++p){var w=a[p],_=w.x-n||1e-6,v=(w.y||0)-r||1e-6,g=(w.z||0)-s||1e-6,x=Math.sqrt(_*_+v*v+g*g),b=(d[p]-x)*c[p]*f/x;w.vx+=_*b,o>1&&(w.vy+=v*b),o>2&&(w.vz+=g*b)}}function h(){if(a){var f,p=a.length;for(c=new Array(p),d=new Array(p),f=0;f<p;++f)d[f]=+e(a[f],f,a),c[f]=isNaN(d[f])?0:+l(a[f],f,a)}}return u.initialize=function(f,...p){a=f,o=p.find(m=>[1,2,3].includes(m))||2,h()},u.strength=function(f){return arguments.length?(l=typeof f=="function"?f:yn(+f),h(),u):l},u.radius=function(f){return arguments.length?(e=typeof f=="function"?f:yn(+f),h(),u):e},u.x=function(f){return arguments.length?(n=+f,u):n},u.y=function(f){return arguments.length?(r=+f,u):r},u.z=function(f){return arguments.length?(s=+f,u):s},u}const{abs:Wr,cos:fn,sin:rr,acos:Y4,atan2:Vr,sqrt:Sn,pow:Et}=Math;function Gr(e){return e<0?-Et(-e,1/3):Et(e,1/3)}const op=Math.PI,ui=2*op,Cn=op/2,X4=1e-6,Ya=Number.MAX_SAFE_INTEGER||9007199254740991,Xa=Number.MIN_SAFE_INTEGER||-9007199254740991,K4={x:0,y:0,z:0},re={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let s=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(s+=r.z*r.z),Sn(s)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const s=n.length-1;if(e===1)return n[s].t=1,n[s];const a=1-e;let o=n;if(s===0)return n[0].t=e,n[0];if(s===1){const c={x:a*o[0].x+e*o[1].x,y:a*o[0].y+e*o[1].y,t:e};return r&&(c.z=a*o[0].z+e*o[1].z),c}if(s<4){let c=a*a,d=e*e,u,h,f,p=0;s===2?(o=[o[0],o[1],o[2],K4],u=c,h=a*e*2,f=d):s===3&&(u=c*a,h=c*e*3,f=a*d*3,p=e*d);const m={x:u*o[0].x+h*o[1].x+f*o[2].x+p*o[3].x,y:u*o[0].y+h*o[1].y+f*o[2].y+p*o[3].y,t:e};return r&&(m.z=u*o[0].z+h*o[1].z+f*o[2].z+p*o[3].z),m}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let c=0;c<l.length-1;c++)l[c]={x:l[c].x+(l[c+1].x-l[c].x)*e,y:l[c].y+(l[c+1].y-l[c].y)*e},typeof l[c].z<"u"&&(l[c].z=l[c].z+(l[c+1].z-l[c].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,n,r,s){const a=1-e,o=r,l=n;let c=o[0],d=o[1],u=o[2],h=o[3],f;if(c*=a,d*=e,l.length===2)return f=c+d,{x:(c*l[0].x+d*l[1].x)/f,y:(c*l[0].y+d*l[1].y)/f,z:s?(c*l[0].z+d*l[1].z)/f:!1,t:e};if(c*=a,d*=2*a,u*=e*e,l.length===3)return f=c+d+u,{x:(c*l[0].x+d*l[1].x+u*l[2].x)/f,y:(c*l[0].y+d*l[1].y+u*l[2].y)/f,z:s?(c*l[0].z+d*l[1].z+u*l[2].z)/f:!1,t:e};if(c*=a,d*=1.5*a,u*=3*a,h*=e*e*e,l.length===4)return f=c+d+u+h,{x:(c*l[0].x+d*l[1].x+u*l[2].x+h*l[3].x)/f,y:(c*l[0].y+d*l[1].y+u*l[2].y+h*l[3].y)/f,z:s?(c*l[0].z+d*l[1].z+u*l[2].z+h*l[3].z)/f:!1,t:e}},derive:function(e,n){const r=[];for(let s=e,a=s.length,o=a-1;a>1;a--,o--){const l=[];for(let c=0,d;c<o;c++)d={x:o*(s[c+1].x-s[c].x),y:o*(s[c+1].y-s[c].y)},n&&(d.z=o*(s[c+1].z-s[c].z)),l.push(d);r.push(l),s=l}return r},between:function(e,n,r){return n<=e&&e<=r||re.approximately(e,n)||re.approximately(e,r)},approximately:function(e,n,r){return Wr(e-n)<=(r||X4)},length:function(e){const r=re.Tvalues.length;let s=0;for(let a=0,o;a<r;a++)o=.5*re.Tvalues[a]+.5,s+=re.Cvalues[a]*re.arcfn(o,e);return .5*s},map:function(e,n,r,s,a){const o=r-n,l=a-s,c=e-n,d=c/o;return s+l*d},lerp:function(e,n,r){const s={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(s.z=n.z+e*(r.z-n.z)),s},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(re.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const s=n.x-e.x,a=n.y-e.y,o=r.x-e.x,l=r.y-e.y,c=s*l-a*o,d=s*o+a*l;return Vr(c,d)},round:function(e,n){const r=""+e,s=r.indexOf(".");return parseFloat(r.substring(0,s+1+n))},dist:function(e,n){const r=e.x-n.x,s=e.y-n.y;return Sn(r*r+s*s)},closest:function(e,n){let r=Et(2,63),s,a;return e.forEach(function(o,l){a=re.dist(n,o),a<r&&(r=a,s=l)}),{mdist:r,mpos:s}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Et(e,n)+Et(1-e,n),s=r-1;return Wr(s/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=Et(1-e,n),s=Et(e,n)+r;return r/s},lli8:function(e,n,r,s,a,o,l,c){const d=(e*s-n*r)*(a-l)-(e-r)*(a*c-o*l),u=(e*s-n*r)*(o-c)-(n-s)*(a*c-o*l),h=(e-r)*(o-c)-(n-s)*(a-l);return h==0?!1:{x:d/h,y:u/h}},lli4:function(e,n,r,s){const a=e.x,o=e.y,l=n.x,c=n.y,d=r.x,u=r.y,h=s.x,f=s.y;return re.lli8(a,o,l,c,d,u,h,f)},lli:function(e,n){return re.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Fe(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=Ya,r=Ya,s=Xa,a=Xa;return e.forEach(function(o){const l=o.bbox();n>l.x.min&&(n=l.x.min),r>l.y.min&&(r=l.y.min),s<l.x.max&&(s=l.x.max),a<l.y.max&&(a=l.y.max)}),{x:{min:n,mid:(n+s)/2,max:s,size:s-n},y:{min:r,mid:(r+a)/2,max:a,size:a-r}}},shapeintersections:function(e,n,r,s,a){if(!re.bboxoverlap(n,s))return[];const o=[],l=[e.startcap,e.forward,e.back,e.endcap],c=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(d){d.virtual||c.forEach(function(u){if(u.virtual)return;const h=d.intersects(u,a);h.length>0&&(h.c1=d,h.c2=u,h.s1=e,h.s2=r,o.push(h))})}),o},makeshape:function(e,n,r){const s=n.points.length,a=e.points.length,o=re.makeline(n.points[s-1],e.points[0]),l=re.makeline(e.points[a-1],n.points[0]),c={startcap:o,forward:e,back:n,endcap:l,bbox:re.findbbox([o,e,n,l])};return c.intersections=function(d){return re.shapeintersections(c,c.bbox,d,d.bbox,r)},c},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let s=Ya,a=Xa,o,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let c=0,d=r.length;c<d;c++)o=r[c],l=e.get(o),l[n]<s&&(s=l[n]),l[n]>a&&(a=l[n]);return{min:s,mid:(s+a)/2,max:a,size:a-s}},align:function(e,n){const r=n.p1.x,s=n.p1.y,a=-Vr(n.p2.y-s,n.p2.x-r),o=function(l){return{x:(l.x-r)*fn(a)-(l.y-s)*rr(a),y:(l.x-r)*rr(a)+(l.y-s)*fn(a)}};return e.map(o)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,s=re.align(e,n),a=function(S){return 0<=S&&S<=1};if(r===2){const S=s[0].y,C=s[1].y,P=s[2].y,O=S-2*C+P;if(O!==0){const E=-Sn(C*C-S*P),R=-S+C,z=-(E+R)/O,T=-(-E+R)/O;return[z,T].filter(a)}else if(C!==P&&O===0)return[(2*C-P)/(2*C-2*P)].filter(a);return[]}const o=s[0].y,l=s[1].y,c=s[2].y,d=s[3].y;let u=-o+3*l-3*c+d,h=3*o-6*l+3*c,f=-3*o+3*l,p=o;if(re.approximately(u,0)){if(re.approximately(h,0))return re.approximately(f,0)?[]:[-p/f].filter(a);const S=Sn(f*f-4*h*p),C=2*h;return[(S-f)/C,(-f-S)/C].filter(a)}h/=u,f/=u,p/=u;const m=(3*f-h*h)/3,w=m/3,_=(2*h*h*h-9*h*f+27*p)/27,v=_/2,g=v*v+w*w*w;let x,b,y,j,k;if(g<0){const S=-m/3,C=S*S*S,P=Sn(C),O=-_/(2*P),E=O<-1?-1:O>1?1:O,R=Y4(E),z=Gr(P),T=2*z;return y=T*fn(R/3)-h/3,j=T*fn((R+ui)/3)-h/3,k=T*fn((R+2*ui)/3)-h/3,[y,j,k].filter(a)}else{if(g===0)return x=v<0?Gr(-v):-Gr(v),y=2*x-h/3,j=-x-h/3,[y,j].filter(a);{const S=Sn(g);return x=Gr(-v+S),b=Gr(v+S),[x-b-h/3].filter(a)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],s=e[2],a=n-2*r+s;if(a!==0){const o=-Sn(r*r-n*s),l=-n+r,c=-(o+l)/a,d=-(-o+l)/a;return[c,d]}else if(r!==s&&a===0)return[(2*r-s)/(2*(r-s))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,s,a){let o,l,c,d,u=0,h=0;const f=re.compute(e,n),p=re.compute(e,r),m=f.x*f.x+f.y*f.y;if(s?(o=Sn(Et(f.y*p.z-p.y*f.z,2)+Et(f.z*p.x-p.z*f.x,2)+Et(f.x*p.y-p.x*f.y,2)),l=Et(m+f.z*f.z,3/2)):(o=f.x*p.y-f.y*p.x,l=Et(m,3/2)),o===0||l===0)return{k:0,r:0};if(u=o/l,h=l/o,!a){const w=re.curvature(e-.001,n,r,s,!0).k,_=re.curvature(e+.001,n,r,s,!0).k;d=(_-u+(u-w))/2,c=(Wr(_-u)+Wr(u-w))/2}return{k:u,r:h,dk:d,adk:c}},inflections:function(e){if(e.length<4)return[];const n=re.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,s=n[3].x*n[1].y,a=n[1].x*n[2].y,o=n[3].x*n[2].y,l=18*(-3*r+2*s+3*a-o),c=18*(3*r-s-3*a),d=18*(a-r);if(re.approximately(l,0)){if(!re.approximately(c,0)){let p=-d/c;if(0<=p&&p<=1)return[p]}return[]}const u=2*l;if(re.approximately(u,0))return[];const h=c*c-4*l*d;if(h<0)return[];const f=Math.sqrt(h);return[(f-c)/u,-(c+f)/u].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(e,n){const r=["x","y"],s=r.length;for(let a=0,o,l,c,d;a<s;a++)if(o=r[a],l=e[o].mid,c=n[o].mid,d=(e[o].size+n[o].size)/2,Wr(l-c)>=d)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const s=e.bbox(),a=n.bbox(),o=1e5,l=r||.5;if(s.x.size+s.y.size<l&&a.x.size+a.y.size<l)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];let c=e.split(.5),d=n.split(.5),u=[{left:c.left,right:d.left},{left:c.left,right:d.right},{left:c.right,right:d.right},{left:c.right,right:d.left}];u=u.filter(function(f){return re.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return u.length===0||(u.forEach(function(f){h=h.concat(re.pairiteration(f.left,f.right,l))}),h=h.filter(function(f,p){return h.indexOf(f)===p})),h},getccenter:function(e,n,r){const s=n.x-e.x,a=n.y-e.y,o=r.x-n.x,l=r.y-n.y,c=s*fn(Cn)-a*rr(Cn),d=s*rr(Cn)+a*fn(Cn),u=o*fn(Cn)-l*rr(Cn),h=o*rr(Cn)+l*fn(Cn),f=(e.x+n.x)/2,p=(e.y+n.y)/2,m=(n.x+r.x)/2,w=(n.y+r.y)/2,_=f+c,v=p+d,g=m+u,x=w+h,b=re.lli8(f,p,_,v,m,w,g,x),y=re.dist(b,e);let j=Vr(e.y-b.y,e.x-b.x),k=Vr(n.y-b.y,n.x-b.x),S=Vr(r.y-b.y,r.x-b.x),C;return j<S?((j>k||k>S)&&(j+=ui),j>S&&(C=S,S=j,j=C)):S<k&&k<j?(C=S,S=j,j=C):S+=ui,b.s=j,b.e=S,b.r=y,b},numberSort:function(e,n){return e-n}};class bs{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return re.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),s=1;s<n.length;s++)re.expandbox(r,n[s].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(s){r.push(...s.offset(n))}),new bs(r)}}const{abs:Yr,min:qu,max:Wu,cos:J4,sin:Q4,acos:Z4,sqrt:Xr}=Math,eC=Math.PI;class Fe{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),s=!1;if(typeof r[0]=="object"){s=r.length;const m=[];r.forEach(function(w){["x","y","z"].forEach(function(_){typeof w[_]<"u"&&m.push(w[_])})}),r=m}let a=!1;const o=r.length;if(s){if(s>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");a=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!a&&(o===9||o===12)||n&&n[0]&&typeof n[0].z<"u",c=this.points=[];for(let m=0,w=l?3:2;m<o;m+=w){var d={x:r[m],y:r[m+1]};l&&(d.z=r[m+2]),c.push(d)}const u=this.order=c.length-1,h=this.dims=["x","y"];l&&h.push("z"),this.dimlen=h.length;const f=re.align(c,{p1:c[0],p2:c[u]}),p=re.dist(c[0],c[u]);this._linear=f.reduce((m,w)=>m+Yr(w.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,s,a){if(typeof a>"u"&&(a=.5),a===0)return new Fe(r,r,s);if(a===1)return new Fe(n,r,r);const o=Fe.getABC(2,n,r,s,a);return new Fe(n,o.A,s)}static cubicFromPoints(n,r,s,a,o){typeof a>"u"&&(a=.5);const l=Fe.getABC(3,n,r,s,a);typeof o>"u"&&(o=re.dist(r,l.C));const c=o*(1-a)/a,d=re.dist(n,s),u=(s.x-n.x)/d,h=(s.y-n.y)/d,f=o*u,p=o*h,m=c*u,w=c*h,_={x:r.x-f,y:r.y-p},v={x:r.x+m,y:r.y+w},g=l.A,x={x:g.x+(_.x-g.x)/(1-a),y:g.y+(_.y-g.y)/(1-a)},b={x:g.x+(v.x-g.x)/a,y:g.y+(v.y-g.y)/a},y={x:n.x+(x.x-n.x)/a,y:n.y+(x.y-n.y)/a},j={x:s.x+(b.x-s.x)/(1-a),y:s.y+(b.y-s.y)/(1-a)};return new Fe(n,y,j,s)}static getUtils(){return re}getUtils(){return Fe.getUtils()}static get PolyBezier(){return bs}valueOf(){return this.toString()}toString(){return re.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,s=n[0].y,a=["M",r,s,this.order===2?"Q":"C"];for(let o=1,l=n.length;o<l;o++)a.push(n[o].x),a.push(n[o].y);return a.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=re.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=re.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return re.length(this.derivative.bind(this))}static getABC(n=2,r,s,a,o=.5){const l=re.projectionratio(o,n),c=1-l,d={x:l*r.x+c*a.x,y:l*r.y+c*a.y},u=re.abcratio(o,n);return{A:{x:s.x+(s.x-d.x)/u,y:s.y+(s.y-d.y)/u},B:s,C:d,S:r,E:a}}getABC(n,r){r=r||this.get(n);let s=this.points[0],a=this.points[this.order];return Fe.getABC(this.order,s,r,a,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,s,a;r<n;r++)a=r/(n-1),s=this.compute(a),s.t=a,this._lut.push(s);return this._lut}on(n,r){r=r||5;const s=this.getLUT(),a=[];for(let o=0,l,c=0;o<s.length;o++)l=s[o],re.dist(l,n)<r&&(a.push(l),c+=o/s.length);return a.length?t/=a.length:!1}project(n){const r=this.getLUT(),s=r.length-1,a=re.closest(r,n),o=a.mpos,l=(o-1)/s,c=(o+1)/s,d=.1/s;let u=a.mdist,h=l,f=h,p;u+=1;for(let m;h<c+d;h+=d)p=this.compute(h),m=re.dist(n,p),m<u&&(u=m,f=h);return f=f<0?0:f>1?1:f,p=this.compute(f),p.t=f,p.d=u,p}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?re.computeWithRatios(n,this.points,this.ratios,this._3d):re.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],s=n.length;for(let a=1,o,l;a<s;a++)o=n[a],l=n[a-1],r[a]={x:(s-a)/s*o.x+a/s*l.x,y:(s-a)/s*o.y+a/s*l.y};return r[s]=n[s-1],new Fe(r)}derivative(n){return re.compute(n,this.dpoints[0],this._3d)}dderivative(n){return re.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Fe(re.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return re.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return re.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),s=Xr(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/s,y:r.x/s}}__normal3(n){const r=this.derivative(n),s=this.derivative(n+.01),a=Xr(r.x*r.x+r.y*r.y+r.z*r.z),o=Xr(s.x*s.x+s.y*s.y+s.z*s.z);r.x/=a,r.y/=a,r.z/=a,s.x/=o,s.y/=o,s.z/=o;const l={x:s.y*r.z-s.z*r.y,y:s.z*r.x-s.x*r.z,z:s.x*r.y-s.y*r.x},c=Xr(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=c,l.y/=c,l.z/=c;const d=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:d[0]*r.x+d[1]*r.y+d[2]*r.z,y:d[3]*r.x+d[4]*r.y+d[5]*r.z,z:d[6]*r.x+d[7]*r.y+d[8]*r.z}}hull(n){let r=this.points,s=[],a=[],o=0;for(a[o++]=r[0],a[o++]=r[1],a[o++]=r[2],this.order===3&&(a[o++]=r[3]);r.length>1;){s=[];for(let l=0,c,d=r.length-1;l<d;l++)c=re.lerp(n,r[l],r[l+1]),a[o++]=c,s.push(c);r=s}return a}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const s=this.hull(n),a={left:this.order===2?new Fe([s[0],s[3],s[5]]):new Fe([s[0],s[4],s[7],s[9]]),right:this.order===2?new Fe([s[5],s[4],s[2]]):new Fe([s[9],s[8],s[6],s[3]]),span:s};return a.left._t1=re.map(0,0,1,this._t1,this._t2),a.left._t2=re.map(n,0,1,this._t1,this._t2),a.right._t1=re.map(n,0,1,this._t1,this._t2),a.right._t2=re.map(1,0,1,this._t1,this._t2),r?(r=re.map(r,n,1,0,1),a.right.split(r).left):a}extrema(){const n={};let r=[];return this.dims.forEach((function(s){let a=function(l){return l[s]},o=this.dpoints[0].map(a);n[s]=re.droots(o),this.order===3&&(o=this.dpoints[1].map(a),n[s]=n[s].concat(re.droots(o))),n[s]=n[s].filter(function(l){return l>=0&&l<=1}),r=r.concat(n[s].sort(re.numberSort))}).bind(this)),n.values=r.sort(re.numberSort).filter(function(s,a){return r.indexOf(s)===a}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(s){r[s]=re.getminmax(this,s,n[s])}).bind(this)),r}overlaps(n){const r=this.bbox(),s=n.bbox();return re.bboxoverlap(r,s)}offset(n,r){if(typeof r<"u"){const s=this.get(n),a=this.normal(n),o={c:s,n:a,x:s.x+a.x*r,y:s.y+a.y*r};return this._3d&&(o.z=s.z+a.z*r),o}if(this._linear){const s=this.normal(0),a=this.points.map(function(o){const l={x:o.x+n*s.x,y:o.y+n*s.y};return o.z&&s.z&&(l.z=o.z+n*s.z),l});return[new Fe(a)]}return this.reduce().map(function(s){return s._linear?s.offset(n)[0]:s.scale(n)})}simple(){if(this.order===3){const a=re.angle(this.points[0],this.points[3],this.points[1]),o=re.angle(this.points[0],this.points[3],this.points[2]);if(a>0&&o<0||a<0&&o>0)return!1}const n=this.normal(0),r=this.normal(1);let s=n.x*r.x+n.y*r.y;return this._3d&&(s+=n.z*r.z),Yr(Z4(s))<eC/3}reduce(){let n,r=0,s=0,a=.01,o,l=[],c=[],d=this.extrema().values;for(d.indexOf(0)===-1&&(d=[0].concat(d)),d.indexOf(1)===-1&&d.push(1),r=d[0],n=1;n<d.length;n++)s=d[n],o=this.split(r,s),o._t1=r,o._t2=s,l.push(o),r=s;return l.forEach(function(u){for(r=0,s=0;s<=1;)for(s=r+a;s<=1+a;s+=a)if(o=u.split(r,s),!o.simple()){if(s-=a,Yr(r-s)<a)return[];o=u.split(r,s),o._t1=re.map(r,0,1,u._t1,u._t2),o._t2=re.map(s,0,1,u._t1,u._t2),c.push(o),r=s;break}r<1&&(o=u.split(r,1),o._t1=re.map(r,0,1,u._t1,u._t2),o._t2=u._t2,c.push(o))}),c}translate(n,r,s){s=typeof s=="number"?s:r;const a=this.order;let o=this.points.map((l,c)=>(1-c/a)*r+c/a*s);return new Fe(this.points.map((l,c)=>({x:l.x+n.x*o[c],y:l.y+n.y*o[c]})))}scale(n){const r=this.order;let s=!1;if(typeof n=="function"&&(s=n),s&&r===2)return this.raise().scale(s);const a=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),s?s(0):n,s?s(1):n);const l=s?s(0):n,c=s?s(1):n,d=[this.offset(0,10),this.offset(1,10)],u=[],h=re.lli4(d[0],d[0].c,d[1],d[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const p=u[f*r]=re.copy(o[f*r]);p.x+=(f?c:l)*d[f].n.x,p.y+=(f?c:l)*d[f].n.y}),s?([0,1].forEach(function(f){if(!(r===2&&f)){var p=o[f+1],m={x:p.x-h.x,y:p.y-h.y},w=s?s((f+1)/r):n;s&&!a&&(w=-w);var _=Xr(m.x*m.x+m.y*m.y);m.x/=_,m.y/=_,u[f+1]={x:p.x+w*m.x,y:p.y+w*m.y}}}),new Fe(u)):([0,1].forEach(f=>{if(r===2&&f)return;const p=u[f*r],m=this.derivative(f),w={x:p.x+m.x,y:p.y+m.y};u[f+1]=re.lli4(p,w,h,o[f+1])}),new Fe(u))}outline(n,r,s,a){if(r=r===void 0?n:r,this._linear){const j=this.normal(0),k=this.points[0],S=this.points[this.points.length-1];let C,P,O;s===void 0&&(s=n,a=r),C={x:k.x+j.x*n,y:k.y+j.y*n},O={x:S.x+j.x*s,y:S.y+j.y*s},P={x:(C.x+O.x)/2,y:(C.y+O.y)/2};const E=[C,P,O];C={x:k.x-j.x*r,y:k.y-j.y*r},O={x:S.x-j.x*a,y:S.y-j.y*a},P={x:(C.x+O.x)/2,y:(C.y+O.y)/2};const R=[O,P,C],z=re.makeline(R[2],E[0]),T=re.makeline(E[2],R[0]),D=[z,new Fe(E),T,new Fe(R)];return new bs(D)}const o=this.reduce(),l=o.length,c=[];let d=[],u,h=0,f=this.length();const p=typeof s<"u"&&typeof a<"u";function m(j,k,S,C,P){return function(O){const E=C/S,R=(C+P)/S,z=k-j;return re.map(O,0,1,j+E*z,j+R*z)}}o.forEach(function(j){const k=j.length();p?(c.push(j.scale(m(n,s,f,h,k))),d.push(j.scale(m(-r,-a,f,h,k)))):(c.push(j.scale(n)),d.push(j.scale(-r))),h+=k}),d=d.map(function(j){return u=j.points,u[3]?j.points=[u[3],u[2],u[1],u[0]]:j.points=[u[2],u[1],u[0]],j}).reverse();const w=c[0].points[0],_=c[l-1].points[c[l-1].points.length-1],v=d[l-1].points[d[l-1].points.length-1],g=d[0].points[0],x=re.makeline(v,w),b=re.makeline(_,g),y=[x].concat(c).concat([b]).concat(d);return new bs(y)}outlineshapes(n,r,s){r=r||n;const a=this.outline(n,r).curves,o=[];for(let l=1,c=a.length;l<c/2;l++){const d=re.makeshape(a[l],a[c-l],s);d.startcap.virtual=l>1,d.endcap.virtual=l<c/2-1,o.push(d)}return o}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Fe&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=qu(n.p1.x,n.p2.x),s=qu(n.p1.y,n.p2.y),a=Wu(n.p1.x,n.p2.x),o=Wu(n.p1.y,n.p2.y);return re.roots(this.points,n).filter(l=>{var c=this.get(l);return re.between(c.x,r,a)&&re.between(c.y,s,o)})}selfintersects(n){const r=this.reduce(),s=r.length-2,a=[];for(let o=0,l,c,d;o<s;o++)c=r.slice(o,o+1),d=r.slice(o+2),l=this.curveintersects(c,d,n),a.push(...l);return a}curveintersects(n,r,s){const a=[];n.forEach(function(l){r.forEach(function(c){l.overlaps(c)&&a.push({left:l,right:c})})});let o=[];return a.forEach(function(l){const c=re.pairiteration(l.left,l.right,s);c.length>0&&(o=o.concat(c))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,s,a){const o=(a-s)/4,l=this.get(s+o),c=this.get(a-o),d=re.dist(n,r),u=re.dist(n,l),h=re.dist(n,c);return Yr(u-d)+Yr(h-d)}_iterate(n,r){let s=0,a=1,o;do{o=0,a=1;let l=this.get(s),c,d,u,h,f=!1,p=!1,m,w=a,_=1;do if(p=f,h=u,w=(s+a)/2,c=this.get(w),d=this.get(a),u=re.getccenter(l,c,d),u.interval={start:s,end:a},f=this._error(u,l,s,a)<=n,m=p&&!f,m||(_=a),f){if(a>=1){if(u.interval.end=_=1,h=u,a>1){let g={x:u.x+u.r*J4(u.e),y:u.y+u.r*Q4(u.e)};u.e+=re.angle({x:u.x,y:u.y},g,this.get(1))}break}a=a+(a-s)/2}else a=w;while(!m&&o++<100);if(o>=100)break;h=h||u,r.push(h),s=_}while(a<1);return r}}function $o(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function tC(e){if(Array.isArray(e))return e}function nC(e){if(Array.isArray(e))return $o(e)}function rC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function sC(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function iC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oC(e,n){if(e==null)return{};var r,s,a=lC(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)r=o[s],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lC(e,n){if(e==null)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(n.includes(s))continue;r[s]=e[s]}return r}function cC(e,n){return tC(e)||sC(e,n)||lp(e,n)||iC()}function uC(e){return nC(e)||rC(e)||lp(e)||aC()}function dC(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function hC(e){var n=dC(e,"string");return typeof n=="symbol"?n:n+""}function lp(e,n){if(e){if(typeof e=="string")return $o(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$o(e,n):void 0}}var fC=(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),o=e.reduce(function(c,d){var u=c,h=d;return a.forEach(function(f,p){var m=f.keyAccessor,w=f.isProp,_;if(w){var v=h,g=v[m],x=oC(v,[m].map(hC));_=g,h=x}else _=m(h,p);p+1<a.length?(u.hasOwnProperty(_)||(u[_]={}),u=u[_]):r?(u.hasOwnProperty(_)||(u[_]=[]),u[_].push(h)):u[_]=h}),c},{});r instanceof Function&&(function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===a.length?Object.keys(d).forEach(function(h){return d[h]=r(d[h])}):Object.values(d).forEach(function(h){return c(h,u+1)})})(o);var l=o;return s&&(l=[],(function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===a.length?l.push({keys:u,vals:d}):Object.entries(d).forEach(function(h){var f=cC(h,2),p=f[0],m=f[1];return c(m,[].concat(uC(u),[p]))})})(o),n instanceof Array&&n.length===0&&l.length===1&&(l[0].keys=[])),l});function pC(e){for(var n=e.length/6|0,r=new Array(n),s=0;s<n;)r[s]="#"+e.slice(s*6,++s*6);return r}const mC=pC("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function gC(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",r==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}var xC=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;gC(xC);function Mo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,s=Array(n);r<n;r++)s[r]=e[r];return s}function yC(e){if(Array.isArray(e))return e}function bC(e){if(Array.isArray(e))return Mo(e)}function Vu(e,n,r){if(cp())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var a=new(e.bind.apply(e,s));return a}function As(e,n,r){return(n=kC(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function cp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cp=function(){return!!e})()}function vC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wC(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var s,a,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(s=o.call(r)).done)&&(c.push(s.value),c.length!==n);d=!0);}catch(h){u=!0,a=h}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw a}}return c}}function jC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _C(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gu(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,s)}return r}function sr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Gu(Object(r),!0).forEach(function(s){As(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gu(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}function vs(e,n){return yC(e)||wC(e,n)||up(e,n)||jC()}function Ot(e){return bC(e)||vC(e)||up(e)||_C()}function NC(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,n);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function kC(e){var n=NC(e,"string");return typeof n=="symbol"?n:n+""}function zo(e){"@babel/helpers - typeof";return zo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zo(e)}function up(e,n){if(e){if(typeof e=="string")return Mo(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mo(e,n):void 0}}var SC=Bm(mC);function Yu(e,n,r){!n||typeof r!="string"||e.filter(function(s){return!s[r]}).forEach(function(s){s[r]=SC(n(s))})}function CC(e,n){var r=e.nodes,s=e.links,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.nodeFilter,l=o===void 0?function(){return!0}:o,c=a.onLoopError,d=c===void 0?function(m){throw"Invalid DAG structure! Found cycle in node path: ".concat(m.join(" -> "),".")}:c,u={};r.forEach(function(m){return u[n(m)]={data:m,out:[],depth:-1,skip:!l(m)}}),s.forEach(function(m){var w=m.source,_=m.target,v=y(w),g=y(_);if(!u.hasOwnProperty(v))throw"Missing source node with id: ".concat(v);if(!u.hasOwnProperty(g))throw"Missing target node with id: ".concat(g);var x=u[v],b=u[g];x.out.push(b);function y(j){return zo(j)==="object"?n(j):j}});var h=[];p(Object.values(u));var f=Object.assign.apply(Object,[{}].concat(Ot(Object.entries(u).filter(function(m){var w=vs(m,2),_=w[1];return!_.skip}).map(function(m){var w=vs(m,2),_=w[0],v=w[1];return As({},_,v.depth)}))));return f;function p(m){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=function(){var y=m[g];if(w.indexOf(y)!==-1){var j=[].concat(Ot(w.slice(w.indexOf(y))),[y]).map(function(k){return n(k.data)});return h.some(function(k){return k.length===j.length&&k.every(function(S,C){return S===j[C]})})||(h.push(j),d(j)),1}_>y.depth&&(y.depth=_,p(y.out,[].concat(Ot(w),[y]),_+(y.skip?0:1)))},g=0,x=m.length;g<x;g++)v()}}var EC=2,et=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},Xu=function(n,r){if(!r.isShadow){var s=Re(r.linkDirectionalParticles);r.graphData.links.forEach(function(a){var o=Math.round(Math.abs(s(a)));o?a.__photons=Ot(Array(o)).map(function(){return{}}):delete a.__photons})}},Gi=wl({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,Xu(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(s){return s.fx=s.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:et},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:et},nodeColor:{default:"color",triggerUpdate:!1,onChange:et},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:et},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:et},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:et},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:et},linkColor:{default:"color",triggerUpdate:!1,onChange:et},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:et},linkWidth:{default:1,triggerUpdate:!1,onChange:et},linkCurvature:{default:0,triggerUpdate:!1,onChange:et},linkCanvasObject:{triggerUpdate:!1,onChange:et},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:et},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:et},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:et},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:et},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:Xu},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,s){return s===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,s),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),a(),!n.isShadow&&o(),!n.isShadow&&l(),s(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function s(){var c=Re(n.nodeVisibility),d=Re(n.nodeVal),u=Re(n.nodeColor),h=Re(n.nodeCanvasObjectMode),f=n.ctx,p=n.isShadow/n.globalScale,m=n.graphData.nodes.filter(c);f.save(),m.forEach(function(w){var _=h(w);if(n.nodeCanvasObject&&(_==="before"||_==="replace")&&(n.nodeCanvasObject(w,f,n.globalScale),_==="replace")){f.restore();return}var v=Math.sqrt(Math.max(0,d(w)||1))*n.nodeRelSize+p;f.beginPath(),f.arc(w.x,w.y,v,0,2*Math.PI,!1),f.fillStyle=u(w)||"rgba(31, 120, 180, 0.92)",f.fill(),n.nodeCanvasObject&&_==="after"&&n.nodeCanvasObject(w,n.ctx,n.globalScale)}),f.restore()}function a(){var c=Re(n.linkVisibility),d=Re(n.linkColor),u=Re(n.linkWidth),h=Re(n.linkLineDash),f=Re(n.linkCurvature),p=Re(n.linkCanvasObjectMode),m=n.ctx,w=n.isShadow*2,_=n.graphData.links.filter(c);_.forEach(k);var v=[],g=[],x=_;if(n.linkCanvasObject){var b=[],y=[];_.forEach(function(S){return({before:v,after:g,replace:b}[p(S)]||y).push(S)}),x=[].concat(Ot(v),g,y),v=v.concat(b)}m.save(),v.forEach(function(S){return n.linkCanvasObject(S,m,n.globalScale)}),m.restore();var j=fC(x,[d,u,h]);m.save(),Object.entries(j).forEach(function(S){var C=vs(S,2),P=C[0],O=C[1],E=!P||P==="undefined"?"rgba(0,0,0,0.15)":P;Object.entries(O).forEach(function(R){var z=vs(R,2),T=z[0],D=z[1],M=(T||1)/n.globalScale+w;Object.entries(D).forEach(function(B){var X=vs(B,2);X[0];var W=X[1],$=h(W[0]);m.beginPath(),W.forEach(function(Z){var J=Z.source,I=Z.target;if(!(!J||!I||!J.hasOwnProperty("x")||!I.hasOwnProperty("x"))){m.moveTo(J.x,J.y);var ce=Z.__controlPoints;ce?m[ce.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(m,Ot(ce).concat([I.x,I.y])):m.lineTo(I.x,I.y)}}),m.strokeStyle=E,m.lineWidth=M,m.setLineDash($||[]),m.stroke()})})}),m.restore(),m.save(),g.forEach(function(S){return n.linkCanvasObject(S,m,n.globalScale)}),m.restore();function k(S){var C=f(S);if(!C){S.__controlPoints=null;return}var P=S.source,O=S.target;if(!(!P||!O||!P.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var E=Math.sqrt(Math.pow(O.x-P.x,2)+Math.pow(O.y-P.y,2));if(E>0){var R=Math.atan2(O.y-P.y,O.x-P.x),z=E*C,T={x:(P.x+O.x)/2+z*Math.cos(R-Math.PI/2),y:(P.y+O.y)/2+z*Math.sin(R-Math.PI/2)};S.__controlPoints=[T.x,T.y]}else{var D=C*70;S.__controlPoints=[O.x,O.y-D,O.x+D,O.y]}}}}function o(){var c=1.6,d=.2,u=Re(n.linkDirectionalArrowLength),h=Re(n.linkDirectionalArrowRelPos),f=Re(n.linkVisibility),p=Re(n.linkDirectionalArrowColor||n.linkColor),m=Re(n.nodeVal),w=n.ctx;w.save(),n.graphData.links.filter(f).forEach(function(_){var v=u(_);if(!(!v||v<0)){var g=_.source,x=_.target;if(!(!g||!x||!g.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var b=Math.sqrt(Math.max(0,m(g)||1))*n.nodeRelSize,y=Math.sqrt(Math.max(0,m(x)||1))*n.nodeRelSize,j=Math.min(1,Math.max(0,h(_))),k=p(_)||"rgba(0,0,0,0.28)",S=v/c/2,C=_.__controlPoints&&Vu(Fe,[g.x,g.y].concat(Ot(_.__controlPoints),[x.x,x.y])),P=C?function(M){return C.get(M)}:function(M){return{x:g.x+(x.x-g.x)*M||0,y:g.y+(x.y-g.y)*M||0}},O=C?C.length():Math.sqrt(Math.pow(x.x-g.x,2)+Math.pow(x.y-g.y,2)),E=b+v+(O-b-y-v)*j,R=P(E/O),z=P((E-v)/O),T=P((E-v*(1-d))/O),D=Math.atan2(R.y-z.y,R.x-z.x)-Math.PI/2;w.beginPath(),w.moveTo(R.x,R.y),w.lineTo(z.x+S*Math.cos(D),z.y+S*Math.sin(D)),w.lineTo(T.x,T.y),w.lineTo(z.x-S*Math.cos(D),z.y-S*Math.sin(D)),w.fillStyle=k,w.fill()}}}),w.restore()}function l(){var c=Re(n.linkDirectionalParticles),d=Re(n.linkDirectionalParticleSpeed),u=Re(n.linkDirectionalParticleOffset),h=Re(n.linkDirectionalParticleWidth),f=Re(n.linkVisibility),p=Re(n.linkDirectionalParticleColor||n.linkColor),m=n.ctx;m.save(),n.graphData.links.filter(f).forEach(function(w){var _=c(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var v=w.source,g=w.target;if(!(!v||!g||!v.hasOwnProperty("x")||!g.hasOwnProperty("x"))){var x=d(w),b=Math.abs(u(w)),y=w.__photons||[],j=Math.max(0,h(w)/2)/Math.sqrt(n.globalScale),k=p(w)||"rgba(0,0,0,0.28)";m.fillStyle=k;var S=w.__controlPoints?Vu(Fe,[v.x,v.y].concat(Ot(w.__controlPoints),[g.x,g.y])):null,C=0,P=!1;y.forEach(function(O){var E=!!O.__singleHop;if(O.hasOwnProperty("__progressRatio")||(O.__progressRatio=E?0:(C+b)/_),!E&&C++,O.__progressRatio+=x,O.__progressRatio>=1)if(!E)O.__progressRatio=O.__progressRatio%1;else{P=!0;return}var R=O.__progressRatio,z=S?S.get(R):{x:v.x+(g.x-v.x)*R||0,y:v.y+(g.y-v.y)*R||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(z.x,z.y,w,m,n.globalScale):(m.beginPath(),m.arc(z.x,z.y,j,0,2*Math.PI,!1),m.fill())}),P&&(w.__photons=w.__photons.filter(function(O){return!O.__singleHop||O.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:W4().force("link",z4()).force("charge",V4()).force("center",L2()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&Yu(n.graphData.nodes,Re(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&Yu(n.graphData.links,Re(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(p){p.source=p[n.linkSource],p.target=p[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var s=n.forceLayout.force("link");s&&s.id(function(p){return p[n.nodeId]}).links(n.graphData.links);var a=n.dagMode&&CC(n.graphData,function(p){return p[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),o=Math.max.apply(Math,Ot(Object.values(a||[]))),l=n.dagLevelDistance||n.graphData.nodes.length/(o||1)*EC*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return delete p[c]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var d=["rl","bu"].includes(n.dagMode),u=function(m){return(a[m[n.nodeId]]-o/2)*l*(d?-1:1)},h=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return p[h]=u(p)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?G4(function(p){var m=a[p[n.nodeId]]||-1;return(n.dagMode==="radialin"?o-m:m)*l}).strength(function(p){return n.dagNodeFilter(p)?1:0}):null);for(var f=0;f<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);f++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function dp(e,n){var r=e instanceof Array?e:[e],s=new n;return s._destructor&&s._destructor(),{linkProp:function(o){return{default:s[o](),onChange:function(c,d){r.forEach(function(u){return d[u][o](c)})},triggerUpdate:!1}},linkMethod:function(o){return function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];var h=[];return r.forEach(function(f){var p=l[f],m=p[o].apply(p,d);m!==p&&h.push(m)}),h.length?h[0]:this}}}}var PC=800,AC=4,RC=5,hp=dp("forceGraph",Gi),OC=dp(["forceGraph","shadowGraph"],Gi),TC=Object.assign.apply(Object,Ot(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return As({},e,hp.linkProp(e))})).concat(Ot(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return As({},e,OC.linkProp(e))})))),DC=Object.assign.apply(Object,Ot(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return As({},e,hp.linkMethod(e))})));function Ka(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var s=window.devicePixelRatio;n/=s,r/=s,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*s,o.height=e.height*s,!n&&!r&&o.getContext("2d").scale(s,s)});var a=Kt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/a,(e.height-r)/2/a),e.needsRedraw=!0}}function fp(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function Ku(e,n,r){e.save(),fp(e),e.clearRect(0,0,n,r),e.restore()}var $C=wl({props:sr({width:{default:window.innerWidth,onChange:function(n,r){return Ka(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return Ka(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(a){return(a||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(s),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function s(a){var o=a.type,l=a.objs;l.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var d=r.colorTracker.lookup(c.__indexColor);return!d||!d.hasOwnProperty("d")||d.d!==c}).forEach(function(c){c.__indexColor=r.colorTracker.register({type:o,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(s,a,o){return n(s,s.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(s,a,o){return n(s,s.__indexColor,a,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},TC),aliases:{stopAnimation:"pauseAnimation"},methods:sr({graph2ScreenCoords:function(n,r,s){var a=Kt(n.canvas);return{x:r*a.k+a.x,y:s*a.k+a.y}},screen2GraphCoords:function(n,r,s){var a=Kt(n.canvas);return{x:(r-a.x)/a.k,y:(s-a.y)/a.k}},centerAt:function(n,r,s,a){if(!n.canvas)return null;if(r!==void 0||s!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},s!==void 0?{y:s}:{});return a?n.tweenGroup.add(new vu(l()).to(o,a).easing(Yn.Quadratic.Out).onUpdate(c).start()):c(o),this}return l();function l(){var d=Kt(n.canvas);return{x:(n.width/2-d.x)/d.k,y:(n.height/2-d.y)/d.k}}function c(d){var u=d.x,h=d.y;n.zoom.translateTo(n.zoom.__baseElem,u===void 0?l().x:u,h===void 0?l().y:h),n.needsRedraw=!0}},zoom:function(n,r,s){if(!n.canvas)return null;if(r!==void 0)return s?n.tweenGroup.add(new vu({k:a()}).to({k:r},s).easing(Yn.Quadratic.Out).onUpdate(function(l){var c=l.k;return o(c)}).start()):o(r),this;return a();function a(){return Kt(n.canvas).k}function o(l){n.zoom.scaleTo(n.zoom.__baseElem,l),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];var c=this.getGraphBbox.apply(this,o);if(c){var d={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(n.width-s*2)/(c.x[1]-c.x[0]),(n.height-s*2)/(c.y[1]-c.y[0])));this.centerAt(d.x,d.y,r),this.zoom(u,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},s=Re(n.nodeVal),a=function(c){return Math.sqrt(Math.max(0,s(c)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:a(l)}});return o.length?{x:[Vl(o,function(l){return l.x-l.r}),Gl(o,function(l){return l.x+l.r})],y:[Vl(o,function(l){return l.y-l.r}),Gl(o,function(l){return l.y+l.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},DC),stateInit:function(){return{lastSetZoom:1,zoom:Jk(),forceGraph:new Gi,shadowGraph:new Gi().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new x2,tweenGroup:new Mf}},init:function(n,r){var s=this;n.innerHTML="";var a=document.createElement("div");a.classList.add("force-graph-container"),a.style.position="relative",n.appendChild(a),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),a.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},d=function(){var f=null,p=window.devicePixelRatio,m=c.x>0&&c.y>0?l.getImageData(c.x*p,c.y*p,1,1):null;return m&&(f=r.colorTracker.lookup(m.data)),f};Rt(r.canvas).call(TN().subject(function(){if(!r.enableNodeDrag)return null;var h=d();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),r.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,p=f.__initialDragPos,m=h,w=Kt(r.canvas).k,_={x:p.x+(m.x-p.x)/w-f.x,y:p.y+(m.y-p.y)/w-f.y};["x","y"].forEach(function(v){return f["f".concat(v)]=f[v]=p[v]+(m[v]-p[v])/w}),!(!f.__dragged&&RC>=Math.sqrt(Um(["x","y"].map(function(v){return Math.pow(h[v]-p[v],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,f.__dragged=!0,r.onNodeDrag(f,_))}).on("end",function(h){var f=h.subject,p=f.__initialDragPos,m={x:f.x-p.x,y:f.y-p.y};p.fx===void 0&&(f.fx=void 0),p.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,r.onNodeDragEnd(f,m))})),r.zoom(r.zoom.__baseElem=Rt(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(h){return!h.button&&r.enableZoomPanInteraction&&(h.type!=="wheel"||Re(r.enableZoomInteraction)(h))&&(h.type==="wheel"||Re(r.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[o,l].forEach(function(p){fp(p),p.translate(f.x,f.y),p.scale(f.k,f.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(sr(sr({},f),s.centerAt())),r.needsRedraw=!0}).on("end",function(h){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(sr(sr({},h.transform),s.centerAt()))}),Ka(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){Kt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=AC/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new I2(a),["pointermove","pointerdown"].forEach(function(h){return a.addEventListener(h,function(f){h==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=f),!r.isPointerDragging&&f.type==="pointermove"&&r.onBackgroundClick&&(f.pressure>0||r.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var p=m(a);c.x=f.pageX-p.left,c.y=f.pageY-p.top;function m(w){var _=w.getBoundingClientRect(),v=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;return{top:_.top+g,left:_.left+v}}},{passive:!0})}),a.addEventListener("pointerup",function(h){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var f=[h,r.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"Click")];p&&p.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,f);if(h.button===2)if(r.hoverObj){var m=r["on".concat(r.hoverObj.type,"RightClick")];m&&m.apply(void 0,[r.hoverObj.d].concat(f))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,f)})}},{passive:!0}),a.addEventListener("contextmenu",function(h){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(h.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(l);var u=NS(function(){Ku(l,r.width,r.height),r.shadowGraph.linkWidth(function(f){return Re(r.linkWidth)(f)+r.linkHoverPrecision});var h=Kt(r.canvas);r.shadowGraph.globalScale(h.k).tickFrame()},PC);r.flushShadowCanvas=u.flush,(this._animationCycle=function h(){var f=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(b){return b.__photons&&b.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var p=r.isPointerDragging?null:d();if(p!==r.hoverObj){var m=r.hoverObj,w=m?m.type:null,_=p?p.type:null;if(w&&w!==_){var v=r["on".concat(w,"Hover")];v&&v(null,m.d)}if(_){var g=r["on".concat(_,"Hover")];g&&g(p.d,w===_?m.d:null)}r.tooltip.content(p&&Re(r["".concat(p.type.toLowerCase(),"Label")])(p.d)||null),r.canvas.classList[(p&&r["on".concat(_,"Click")]||!p&&r.onBackgroundClick)&&Re(r.showPointerCursor)(p==null?void 0:p.d)?"add":"remove"]("clickable"),r.hoverObj=p}f&&u()}if(f){Ku(o,r.width,r.height);var x=Kt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,x),r.forceGraph.globalScale(x).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,x)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(n){}});const ba={width:F.number,height:F.number,graphData:F.shape({nodes:F.arrayOf(F.object).isRequired,links:F.arrayOf(F.object).isRequired}),backgroundColor:F.string,nodeRelSize:F.number,nodeId:F.string,nodeLabel:F.oneOfType([F.string,F.func]),nodeVal:F.oneOfType([F.number,F.string,F.func]),nodeVisibility:F.oneOfType([F.bool,F.string,F.func]),nodeColor:F.oneOfType([F.string,F.func]),nodeAutoColorBy:F.oneOfType([F.string,F.func]),onNodeHover:F.func,onNodeClick:F.func,linkSource:F.string,linkTarget:F.string,linkLabel:F.oneOfType([F.string,F.func]),linkVisibility:F.oneOfType([F.bool,F.string,F.func]),linkColor:F.oneOfType([F.string,F.func]),linkAutoColorBy:F.oneOfType([F.string,F.func]),linkWidth:F.oneOfType([F.number,F.string,F.func]),linkCurvature:F.oneOfType([F.number,F.string,F.func]),linkDirectionalArrowLength:F.oneOfType([F.number,F.string,F.func]),linkDirectionalArrowColor:F.oneOfType([F.string,F.func]),linkDirectionalArrowRelPos:F.oneOfType([F.number,F.string,F.func]),linkDirectionalParticles:F.oneOfType([F.number,F.string,F.func]),linkDirectionalParticleSpeed:F.oneOfType([F.number,F.string,F.func]),linkDirectionalParticleOffset:F.oneOfType([F.number,F.string,F.func]),linkDirectionalParticleWidth:F.oneOfType([F.number,F.string,F.func]),linkDirectionalParticleColor:F.oneOfType([F.string,F.func]),onLinkHover:F.func,onLinkClick:F.func,dagMode:F.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:F.number,dagNodeFilter:F.func,onDagError:F.func,d3AlphaMin:F.number,d3AlphaDecay:F.number,d3VelocityDecay:F.number,warmupTicks:F.number,cooldownTicks:F.number,cooldownTime:F.number,onEngineTick:F.func,onEngineStop:F.func,getGraphBbox:F.func},pp={zoomToFit:F.func,onNodeRightClick:F.func,onNodeDrag:F.func,onNodeDragEnd:F.func,onLinkRightClick:F.func,linkHoverPrecision:F.number,onBackgroundClick:F.func,onBackgroundRightClick:F.func,showPointerCursor:F.oneOfType([F.bool,F.func]),enablePointerInteraction:F.bool,enableNodeDrag:F.bool},Pl={showNavInfo:F.bool,nodeOpacity:F.number,nodeResolution:F.number,nodeThreeObject:F.oneOfType([F.object,F.string,F.func]),nodeThreeObjectExtend:F.oneOfType([F.bool,F.string,F.func]),nodePositionUpdate:F.func,linkOpacity:F.number,linkResolution:F.number,linkCurveRotation:F.oneOfType([F.number,F.string,F.func]),linkMaterial:F.oneOfType([F.object,F.string,F.func]),linkThreeObject:F.oneOfType([F.object,F.string,F.func]),linkThreeObjectExtend:F.oneOfType([F.bool,F.string,F.func]),linkPositionUpdate:F.func,linkDirectionalArrowResolution:F.number,linkDirectionalParticleResolution:F.number,linkDirectionalParticleThreeObject:F.oneOfType([F.object,F.string,F.func]),forceEngine:F.oneOf(["d3","ngraph"]),ngraphPhysics:F.object,numDimensions:F.oneOf([1,2,3])},MC=Object.assign({},ba,pp,{linkLineDash:F.oneOfType([F.arrayOf(F.number),F.string,F.func]),nodeCanvasObjectMode:F.oneOfType([F.string,F.func]),nodeCanvasObject:F.func,nodePointerAreaPaint:F.func,linkCanvasObjectMode:F.oneOfType([F.string,F.func]),linkCanvasObject:F.func,linkPointerAreaPaint:F.func,linkDirectionalParticleCanvasObject:F.func,autoPauseRedraw:F.bool,minZoom:F.number,maxZoom:F.number,enableZoomInteraction:F.oneOfType([F.bool,F.func]),enablePanInteraction:F.oneOfType([F.bool,F.func]),onZoom:F.func,onZoomEnd:F.func,onRenderFramePre:F.func,onRenderFramePost:F.func});Object.assign({},ba,pp,Pl,{enableNavigationControls:F.bool,controlType:F.oneOf(["trackball","orbit","fly"]),rendererConfig:F.object,extraRenderers:F.arrayOf(F.shape({render:F.func.isRequired}))});Object.assign({},ba,Pl,{nodeDesc:F.oneOfType([F.string,F.func]),linkDesc:F.oneOfType([F.string,F.func])});Object.assign({},ba,Pl,{markerAttrs:F.object,yOffset:F.number,glScale:F.number});const Al=W_($C,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Al.displayName="ForceGraph2D";Al.propTypes=MC;const zC=({scanId:e})=>{const[n,r]=A.useState(null),[s,a]=A.useState(!0),[o,l]=A.useState(null),[c,d]=A.useState(null),[u,h]=A.useState(""),[f,p]=A.useState(!1),m=A.useRef(),w=A.useRef(null);A.useEffect(()=>{(async()=>{try{a(!0);const E=localStorage.getItem("token"),R=await fetch(`/api/scans/${e}/topology`,{headers:{Authorization:`Bearer ${E}`}});if(!R.ok)throw new Error("Failed to fetch topology data");const z=await R.json();r(z)}catch(E){l(E instanceof Error?E.message:"Unknown error")}finally{a(!1)}})()},[e]);const _=O=>O.critical_vulns>0||O.risk_score>=75?"#ef4444":O.high_vulns>0||O.risk_score>=50?"#f97316":O.risk_score>=25?"#eab308":"#22c55e",v=O=>{const R=Math.min(O.open_ports_count/10,3),z=Math.min(O.vuln_count/5,3),T=O.is_gateway?3:0;return 5+R+z+T},g=O=>{switch(O){case"server":return i.jsx(qt,{className:"w-4 h-4"});case"workstation":return i.jsx($d,{className:"w-4 h-4"});case"network":return i.jsx(lr,{className:"w-4 h-4"});case"gateway":return i.jsx(Ll,{className:"w-4 h-4"});default:return i.jsx(Od,{className:"w-4 h-4"})}},x=O=>{switch(O.relationship_type){case"gateway":return"#3b82f6";case"shared_service":return"#8b5cf6";case"same_subnet":return"#6b7280";default:return"#6b7280"}},b=A.useCallback(O=>{d(O)},[]),y=()=>{if(m.current){const O=m.current.zoom();m.current.zoom(O*1.3,400)}},j=()=>{if(m.current){const O=m.current.zoom();m.current.zoom(O/1.3,400)}},k=()=>{if(!n||!u)return;const O=n.nodes.find(E=>{var R;return E.ip.includes(u)||((R=E.hostname)==null?void 0:R.toLowerCase().includes(u.toLowerCase()))});if(O&&m.current){const E=O;m.current.centerAt(E.x,E.y,1e3),m.current.zoom(3,1e3),d(O)}},S=()=>{p(!f)};if(s)return i.jsx(xe,{className:"p-8",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),i.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading network topology..."})]})});if(o)return i.jsx(xe,{className:"p-8",children:i.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:i.jsxs("p",{children:["Failed to load topology: ",o]})})});if(!n||n.nodes.length===0)return i.jsx(xe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[i.jsx(lr,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No topology data available for this scan."})]})});const C={nodes:n.nodes.map(O=>({...O,color:_(O),size:v(O)})),links:n.edges.map(O=>({...O,color:x(O)}))},P=f?"fixed inset-0 z-50 bg-gray-900":"relative";return i.jsx("div",{ref:w,className:P,children:i.jsxs(xe,{className:f?"h-full rounded-none":"h-[600px]",children:[i.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2",children:[i.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[i.jsx("input",{type:"text",placeholder:"Search IP or hostname...",value:u,onChange:O=>h(O.target.value),onKeyPress:O=>O.key==="Enter"&&k(),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}),i.jsx("button",{onClick:k,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:i.jsx(mr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[i.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom In",children:i.jsx(km,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),i.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom Out",children:i.jsx(Sm,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),i.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:f?"Exit Fullscreen":"Fullscreen",children:f?i.jsx(Tt,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):i.jsx(Vd,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),i.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[i.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:"Legend"}),i.jsxs("div",{className:"space-y-2 text-xs",children:[i.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Risk Level"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low (0-25)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium (25-50)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High (50-75)"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical (75+)"})]}),i.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[i.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Connections"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-0.5 bg-blue-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gateway"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-0.5 bg-purple-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shared Service"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-0.5 bg-gray-500"}),i.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Subnet"})]})]})]})]}),c&&i.jsxs("div",{className:"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[g(c.node_type),i.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.hostname||c.ip})]}),i.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:i.jsx(Tt,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"IP:"})," ",c.ip]}),c.os&&i.jsxs("div",{children:[i.jsx("strong",{children:"OS:"})," ",c.os]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Subnet:"})," ",c.subnet]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Open Ports:"})," ",c.open_ports_count]}),c.vuln_count>0&&i.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"Vulnerabilities:"})," ",c.vuln_count]}),c.critical_vulns>0&&i.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Critical: ",c.critical_vulns]}),c.high_vulns>0&&i.jsxs("div",{className:"text-orange-600 dark:text-orange-400",children:["High: ",c.high_vulns]}),i.jsxs("div",{children:[i.jsx("strong",{children:"Risk Score:"})," ",c.risk_score.toFixed(1)]})]}),c.is_gateway&&i.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:i.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs font-medium",children:[i.jsx(Ll,{className:"w-3 h-3 mr-1"}),"Gateway"]})})]})]}),i.jsxs("div",{className:"absolute bottom-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[i.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:["Subnets (",n.subnets.length,")"]}),i.jsx("div",{className:"space-y-1 text-xs max-h-32 overflow-y-auto",children:n.subnets.map(O=>i.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[i.jsx("span",{className:"font-mono",children:O.subnet}),i.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[O.host_count," ",O.host_count===1?"host":"hosts"]})]},O.subnet))})]}),i.jsx(Al,{ref:m,graphData:C,nodeLabel:O=>{const E=O;return`${E.hostname||E.ip}
${E.os||""}
Risk: ${E.risk_score.toFixed(1)}`},nodeColor:O=>O.color||"#22c55e",nodeVal:O=>O.size||5,linkColor:O=>O.color||"#64748b",linkWidth:O=>(O.strength||1)*2,linkDirectionalParticles:O=>O.relationship_type==="gateway"?2:0,linkDirectionalParticleSpeed:.005,onNodeClick:b,nodeCanvasObject:(O,E,R)=>{const z=O,T=z.hostname||z.ip,D=12/R;E.font=`${D}px Sans-Serif`,E.beginPath(),E.arc(z.x||0,z.y||0,z.size||5,0,2*Math.PI,!1),E.fillStyle=z.color||"#22c55e",E.fill(),z.is_gateway&&(E.strokeStyle="#3b82f6",E.lineWidth=2/R,E.stroke()),R>1.5&&(E.textAlign="center",E.textBaseline="middle",E.fillStyle="rgba(255, 255, 255, 0.9)",E.fillText(T,z.x||0,(z.y||0)+(z.size||5)+D+2))},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTicks:100,onEngineStop:()=>{var O;return(O=m.current)==null?void 0:O.zoomToFit(400)}})]})})},IC=({scanId:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(null),[o,l]=A.useState(!0),[c,d]=A.useState(""),[u,h]=A.useState(""),[f,p]=A.useState(""),[m,w]=A.useState(new Set),[_,v]=A.useState(null),[g,x]=A.useState(!1),b=A.useCallback(async()=>{try{l(!0);let M=(await Or.getByScan(e)).data;c&&(M=M.filter(B=>B.status===c)),u&&(M=M.filter(B=>B.severity===u)),f&&(M=M.filter(B=>B.secret_type===f)),r(M)}catch(D){console.error("Failed to load secret findings:",D),ee.error("Failed to load secret findings")}finally{l(!1)}},[e,c,u,f]),y=A.useCallback(async()=>{try{const D=await Or.getStats(e);a(D.data)}catch(D){console.error("Failed to load secret finding stats:",D)}},[e]);A.useEffect(()=>{b(),y()},[b,y]);const j=(D,M)=>{const B=new Set(m);M?B.add(D):B.delete(D),w(B)},k=async(D,M)=>{try{x(!0),await Or.update(D,{status:M}),ee.success(`Status updated to ${M}`),b(),y()}catch(B){console.error("Failed to update status:",B),ee.error("Failed to update status")}finally{x(!1)}},S=async D=>{if(m.size!==0)try{x(!0);const M=await Or.bulkUpdateStatus(Array.from(m),D);ee.success(M.data.message),w(new Set),b(),y()}catch(M){console.error("Failed to bulk update status:",M),ee.error("Failed to update findings")}finally{x(!1)}},C=async(D,M)=>{try{x(!0),await Or.update(D,{false_positive:M,status:M?"false_positive":"open"}),ee.success(M?"Marked as false positive":"Unmarked false positive"),b(),y()}catch(B){console.error("Failed to update false positive status:",B),ee.error("Failed to update")}finally{x(!1)}},P=D=>{const M="px-2 py-1 text-xs font-semibold rounded-full";switch(D.toLowerCase()){case"critical":return`${M} bg-red-500/20 text-red-400`;case"high":return`${M} bg-orange-500/20 text-orange-400`;case"medium":return`${M} bg-yellow-500/20 text-yellow-400`;case"low":return`${M} bg-blue-500/20 text-blue-400`;default:return`${M} bg-gray-500/20 text-gray-400`}},O=D=>{const M="px-2 py-1 text-xs font-semibold rounded-full";switch(D){case"open":return`${M} bg-red-500/20 text-red-400`;case"investigating":return`${M} bg-yellow-500/20 text-yellow-400`;case"resolved":return`${M} bg-green-500/20 text-green-400`;case"false_positive":return`${M} bg-gray-500/20 text-gray-400`;default:return`${M} bg-gray-500/20 text-gray-400`}},E=D=>{const M=D.toLowerCase();return M.includes("key")||M.includes("api")?i.jsx(vn,{className:"h-4 w-4"}):M.includes("password")||M.includes("secret")?i.jsx(wn,{className:"h-4 w-4"}):M.includes("token")?i.jsx(Pe,{className:"h-4 w-4"}):i.jsx(ct,{className:"h-4 w-4"})},R=D=>D.replace(/_/g," ").replace(/\b\w/g,M=>M.toUpperCase()),z=D=>{const M=Math.round(D*100);return M>=90?i.jsxs("span",{className:"text-xs text-green-400 bg-green-500/10 px-2 py-0.5 rounded",children:[M,"% confident"]}):M>=70?i.jsxs("span",{className:"text-xs text-yellow-400 bg-yellow-500/10 px-2 py-0.5 rounded",children:[M,"% confident"]}):i.jsxs("span",{className:"text-xs text-gray-400 bg-gray-500/10 px-2 py-0.5 rounded",children:[M,"% confident"]})},T=[...new Set(n.map(D=>D.secret_type))];return o?i.jsx("div",{className:"flex justify-center items-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):n.length===0&&!(s!=null&&s.total_findings)?i.jsxs("div",{className:"text-center py-12 text-gray-400",children:[i.jsx(Pe,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No exposed secrets detected in this scan."})]}):i.jsxs("div",{className:"space-y-4",children:[s&&s.total_findings>0&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Total Secrets"}),i.jsx("div",{className:"text-2xl font-bold text-white",children:s.total_findings})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Critical"}),i.jsx("div",{className:"text-2xl font-bold text-red-500",children:s.critical_count})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"High"}),i.jsx("div",{className:"text-2xl font-bold text-orange-400",children:s.high_count})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Open"}),i.jsx("div",{className:"text-2xl font-bold text-red-400",children:s.open_count})]}),i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("div",{className:"text-sm text-gray-400",children:"Resolved"}),i.jsx("div",{className:"text-2xl font-bold text-green-400",children:s.resolved_count})]})]}),s&&s.by_type.length>0&&i.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Secrets by Type"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.by_type.map(D=>i.jsxs("div",{className:"flex items-center gap-2 bg-gray-700/50 px-3 py-1.5 rounded-full text-sm",children:[E(D.secret_type),i.jsx("span",{className:"text-gray-300",children:R(D.secret_type)}),i.jsx("span",{className:"bg-gray-600 px-2 py-0.5 rounded-full text-xs text-white",children:D.count})]},D.secret_type))})]}),i.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:i.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),i.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[i.jsx("option",{value:"",children:"All"}),i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"investigating",children:"Investigating"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"false_positive",children:"False Positive"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Severity"}),i.jsxs("select",{value:u,onChange:D=>h(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[i.jsx("option",{value:"",children:"All"}),i.jsx("option",{value:"critical",children:"Critical"}),i.jsx("option",{value:"high",children:"High"}),i.jsx("option",{value:"medium",children:"Medium"}),i.jsx("option",{value:"low",children:"Low"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),i.jsxs("select",{value:f,onChange:D=>p(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[i.jsx("option",{value:"",children:"All Types"}),T.map(D=>i.jsx("option",{value:D,children:R(D)},D))]})]}),m.size>0&&i.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[i.jsxs("span",{className:"text-sm text-gray-400",children:[m.size," selected"]}),i.jsx("button",{onClick:()=>S("resolved"),disabled:g,className:"px-3 py-1.5 text-sm bg-green-600 hover:bg-green-500 text-white rounded-md disabled:opacity-50",children:"Mark Resolved"}),i.jsx("button",{onClick:()=>S("false_positive"),disabled:g,className:"px-3 py-1.5 text-sm bg-gray-600 hover:bg-gray-500 text-white rounded-md disabled:opacity-50",children:"False Positive"})]})]})}),i.jsx("div",{className:"space-y-2",children:n.map(D=>i.jsxs("div",{className:`bg-gray-800 border rounded-lg overflow-hidden transition-all ${D.false_positive?"border-gray-600 opacity-60":D.status==="resolved"?"border-green-700":"border-gray-700"}`,children:[i.jsxs("div",{className:"p-4 flex items-center gap-4",children:[i.jsx("input",{type:"checkbox",checked:m.has(D.id),onChange:M=>j(D.id,M.target.checked),className:"rounded border-gray-600 bg-gray-700 text-cyan-500 focus:ring-cyan-500"}),i.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:E(D.secret_type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"font-medium text-white",children:R(D.secret_type)}),i.jsx("span",{className:P(D.severity),children:D.severity.toUpperCase()}),i.jsx("span",{className:O(D.status),children:D.status.replace("_"," ").toUpperCase()}),z(D.confidence)]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[i.jsx("span",{className:"font-mono",children:D.host_ip}),D.port&&i.jsxs("span",{children:[":",D.port]}),i.jsx("span",{className:"mx-2",children:"|"}),i.jsxs("span",{children:[D.source_type,": ",D.source_location]}),D.line_number&&i.jsxs("span",{className:"text-gray-500",children:[" (line ",D.line_number,")"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!D.false_positive&&D.status!=="resolved"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>k(D.id,"resolved"),disabled:g,className:"p-1.5 text-green-400 hover:bg-green-500/20 rounded transition-colors",title:"Mark Resolved",children:i.jsx(fr,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>C(D.id,!0),disabled:g,className:"p-1.5 text-gray-400 hover:bg-gray-500/20 rounded transition-colors",title:"Mark False Positive",children:i.jsx(Tt,{className:"h-4 w-4"})})]}),D.false_positive&&i.jsx("button",{onClick:()=>C(D.id,!1),disabled:g,className:"p-1.5 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Unmark False Positive",children:i.jsx(zd,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(_===D.id?null:D.id),className:"p-1.5 text-gray-400 hover:bg-gray-500/20 rounded transition-colors",children:_===D.id?i.jsx($n,{className:"h-4 w-4"}):i.jsx(Nt,{className:"h-4 w-4"})})]})]}),_===D.id&&i.jsxs("div",{className:"border-t border-gray-700 p-4 bg-gray-850",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Redacted Value"}),i.jsx("div",{className:"bg-gray-900 p-3 rounded font-mono text-sm text-cyan-400 break-all",children:D.redacted_value})]}),D.context&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Context"}),i.jsx("div",{className:"bg-gray-900 p-3 rounded font-mono text-sm text-gray-300 whitespace-pre-wrap break-all max-h-32 overflow-y-auto",children:D.context})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Source Type:"}),i.jsx("span",{className:"ml-2 text-gray-300",children:D.source_type})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Location:"}),i.jsx("span",{className:"ml-2 text-gray-300 font-mono",children:D.source_location})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Detected:"}),i.jsx("span",{className:"ml-2 text-gray-300",children:new Date(D.created_at).toLocaleString()})]}),D.resolved_at&&i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-500",children:"Resolved:"}),i.jsx("span",{className:"ml-2 text-gray-300",children:new Date(D.resolved_at).toLocaleString()})]})]}),D.notes&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-2",children:[i.jsx(Cm,{className:"h-4 w-4"}),"Notes"]}),i.jsx("div",{className:"bg-gray-900 p-3 rounded text-sm text-gray-300",children:D.notes})]}),i.jsxs("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded",children:[i.jsxs("h4",{className:"text-sm font-medium text-yellow-400 mb-2 flex items-center gap-2",children:[i.jsx(De,{className:"h-4 w-4"}),"Remediation Guidance"]}),i.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[i.jsx("li",{children:"Immediately rotate or revoke the exposed credential"}),i.jsx("li",{children:"Check audit logs for any unauthorized access using this credential"}),i.jsx("li",{children:"Review how the secret was exposed and fix the root cause"}),i.jsx("li",{children:"Implement secrets management best practices (e.g., HashiCorp Vault, AWS Secrets Manager)"}),i.jsx("li",{children:"Add pre-commit hooks to prevent secrets from being committed"})]})]})]})]},D.id))}),n.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-400",children:"No findings match your current filters."})]})},LC=({score:e,category:n,confidence:r,priority:s,estimatedHours:a,compact:o=!1})=>{const l=u=>{switch(u.toLowerCase()){case"critical":return"text-red-400 bg-red-500/20 border-red-500/50";case"high":return"text-orange-400 bg-orange-500/20 border-orange-500/50";case"medium":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/50";case"low":return"text-green-400 bg-green-500/20 border-green-500/50";default:return"text-gray-400 bg-gray-500/20 border-gray-500/50"}},c=u=>u>=80?"text-red-400":u>=60?"text-orange-400":u>=40?"text-yellow-400":"text-green-400",d=u=>u/100*180-90;return o?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:`text-2xl font-bold ${c(e)}`,children:e.toFixed(0)}),i.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium border ${l(n)}`,children:n.toUpperCase()}),i.jsxs("div",{className:"text-gray-500 text-sm",children:["#",s]})]}):i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsx("div",{className:"flex items-center justify-center mb-4",children:i.jsxs("div",{className:"relative w-32 h-16 overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 flex items-end justify-center",children:i.jsx("div",{className:"w-32 h-16 border-t-8 border-l-8 border-r-8 border-gray-700 rounded-t-full"})}),i.jsx("div",{className:"absolute inset-0 flex items-end justify-center origin-bottom",style:{transform:`rotate(${d(e)}deg)`},children:i.jsx("div",{className:`w-1 h-14 ${c(e)} bg-current rounded-t-full`})}),i.jsx("div",{className:"absolute inset-x-0 bottom-0 text-center",children:i.jsx("span",{className:`text-2xl font-bold ${c(e)}`,children:e.toFixed(0)})})]})}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${l(n)}`,children:[n.toUpperCase()," RISK"]})}),i.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[i.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[i.jsx(_r,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Priority"}),i.jsxs("div",{className:"text-sm font-medium text-white",children:["#",s]})]}),i.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[i.jsx(Pe,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Confidence"}),i.jsxs("div",{className:"text-sm font-medium text-white",children:[r.toFixed(0),"%"]})]}),a!==void 0&&i.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[i.jsx(Bt,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),i.jsx("div",{className:"text-xs text-gray-400",children:"Effort"}),i.jsxs("div",{className:"text-sm font-medium text-white",children:[a,"h"]})]})]})]})},FC=({scores:e,onSelectVulnerability:n,selectedId:r})=>{const[s,a]=A.useState(null),[o,l]=A.useState("all"),c=p=>{switch(p.toLowerCase()){case"critical":return"border-red-500 bg-red-500/10";case"high":return"border-orange-500 bg-orange-500/10";case"medium":return"border-yellow-500 bg-yellow-500/10";case"low":return"border-green-500 bg-green-500/10";default:return"border-gray-500 bg-gray-500/10"}},d=p=>{switch(p.toLowerCase()){case"critical":return"bg-red-500/20 text-red-400 border-red-500/50";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"low":return"bg-green-500/20 text-green-400 border-green-500/50";default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},u=o==="all"?e:e.filter(p=>p.risk_category.toLowerCase()===o),h=["all","critical","high","medium","low"],f={all:e.length,critical:e.filter(p=>p.risk_category.toLowerCase()==="critical").length,high:e.filter(p=>p.risk_category.toLowerCase()==="high").length,medium:e.filter(p=>p.risk_category.toLowerCase()==="medium").length,low:e.filter(p=>p.risk_category.toLowerCase()==="low").length};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:h.map(p=>i.jsxs("button",{onClick:()=>l(p),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${o===p?p==="all"?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":d(p):"bg-gray-800 text-gray-400 border border-gray-700 hover:border-gray-600"}`,children:[p.charAt(0).toUpperCase()+p.slice(1),i.jsxs("span",{className:"ml-1.5 text-xs opacity-75",children:["(",f[p],")"]})]},p))}),i.jsx("div",{className:"space-y-2",children:u.length===0?i.jsx("div",{className:"text-center py-8 text-gray-400",children:"No vulnerabilities in this category"}):u.map(p=>i.jsxs("div",{className:`border-l-4 rounded-lg transition-all ${c(p.risk_category)} ${r===p.vulnerability_id?"ring-2 ring-cyan-500":""}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-800/50",onClick:()=>{n&&n(p.vulnerability_id),a(s===p.vulnerability_id?null:p.vulnerability_id)},children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-white font-bold text-sm",children:["#",p.remediation_priority]}),i.jsx(LC,{score:p.effective_risk_score,category:p.risk_category,confidence:p.confidence,priority:p.remediation_priority,compact:!0})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[i.jsx(Bt,{className:"w-4 h-4 mr-1"}),p.estimated_effort.estimated_hours,"h"]}),i.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[i.jsx(Vn,{className:"w-4 h-4 mr-1"}),p.confidence.toFixed(0),"%"]}),s===p.vulnerability_id?i.jsx($n,{className:"w-5 h-5 text-gray-400"}):i.jsx(Nt,{className:"w-5 h-5 text-gray-400"})]})]}),s===p.vulnerability_id&&i.jsx("div",{className:"px-4 pb-4 border-t border-gray-700/50",children:i.jsxs("div",{className:"pt-3 space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Contributing Factors"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.factor_scores.slice(0,4).map((m,w)=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 rounded p-2",children:[i.jsx("span",{className:"text-xs text-gray-400",children:m.factor_name}),i.jsx("span",{className:"text-xs font-medium text-white",children:m.normalized_value.toFixed(0)})]},w))})]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[i.jsxs("span",{className:`px-2 py-1 rounded text-xs ${p.estimated_effort.effort_level==="low"?"bg-green-500/20 text-green-400":p.estimated_effort.effort_level==="medium"?"bg-yellow-500/20 text-yellow-400":p.estimated_effort.effort_level==="high"?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[p.estimated_effort.effort_level.replace("_"," ").toUpperCase()," EFFORT"]}),i.jsxs("span",{className:`px-2 py-1 rounded text-xs ${p.estimated_effort.impact_level==="low"?"bg-green-500/20 text-green-400":p.estimated_effort.impact_level==="medium"?"bg-yellow-500/20 text-yellow-400":p.estimated_effort.impact_level==="high"?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[p.estimated_effort.impact_level.toUpperCase()," IMPACT"]}),p.estimated_effort.requires_downtime&&i.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400",children:"DOWNTIME REQUIRED"})]}),i.jsxs("div",{className:"text-xs text-gray-500",children:["Calculated: ",new Date(p.calculated_at).toLocaleString()]})]})})]},p.vulnerability_id))})]})},HC=({score:e})=>{const n=e.factor_scores.map(a=>({name:a.factor_name.replace(" ",`
`),value:a.normalized_value,contribution:a.contribution,weight:a.weight})),r=a=>a>=80?"#ef4444":a>=60?"#f97316":a>=40?"#eab308":"#22c55e",s=({active:a,payload:o})=>{if(a&&o&&o.length){const l=o[0].payload;return i.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-3 shadow-lg",children:[i.jsx("p",{className:"font-medium text-white",children:l.name.replace(`
`," ")}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Score: ",i.jsx("span",{className:"text-white",children:l.value.toFixed(1)})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Weight: ",i.jsxs("span",{className:"text-white",children:[(l.weight*100).toFixed(0),"%"]})]}),i.jsxs("p",{className:"text-sm text-gray-400",children:["Contribution: ",i.jsx("span",{className:"text-cyan-400",children:l.contribution.toFixed(1)})]})]})}return null};return i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Score Breakdown"}),i.jsx("div",{className:"h-64 mb-4",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(na,{data:n,layout:"vertical",margin:{top:5,right:20,left:100,bottom:5},children:[i.jsx(zt,{type:"number",domain:[0,100],tick:{fill:"#9ca3af",fontSize:12},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),i.jsx(At,{type:"category",dataKey:"name",tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:95}),i.jsx(ot,{content:i.jsx(s,{})}),i.jsx(ra,{dataKey:"value",radius:[0,4,4,0],children:n.map((a,o)=>i.jsx(Ds,{fill:r(a.value)},`cell-${o}`))})]})})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-700",children:[i.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Factor"}),i.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Score"}),i.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Weight"}),i.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Contribution"})]})}),i.jsxs("tbody",{children:[e.factor_scores.map((a,o)=>i.jsxs("tr",{className:"border-b border-gray-700/50",children:[i.jsx("td",{className:"py-2 text-white",children:a.factor_name}),i.jsx("td",{className:"py-2 text-right text-gray-300",children:a.normalized_value.toFixed(1)}),i.jsxs("td",{className:"py-2 text-right text-gray-400",children:[(a.weight*100).toFixed(0),"%"]}),i.jsx("td",{className:"py-2 text-right text-cyan-400 font-medium",children:a.contribution.toFixed(1)})]},o)),i.jsxs("tr",{className:"font-medium",children:[i.jsx("td",{className:"py-2 text-white",children:"Total"}),i.jsx("td",{className:"py-2 text-right text-white",children:e.effective_risk_score.toFixed(1)}),i.jsx("td",{className:"py-2 text-right text-gray-400",children:"100%"}),i.jsx("td",{className:"py-2 text-right text-cyan-400",children:e.factor_scores.reduce((a,o)=>a+o.contribution,0).toFixed(1)})]})]})]})}),i.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Remediation Effort"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Estimated Hours:"}),i.jsxs("span",{className:"ml-2 text-white font-medium",children:[e.estimated_effort.estimated_hours,"h"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Effort Level:"}),i.jsx("span",{className:"ml-2 text-white font-medium capitalize",children:e.estimated_effort.effort_level.replace("_"," ")})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Impact Level:"}),i.jsx("span",{className:"ml-2 text-white font-medium capitalize",children:e.estimated_effort.impact_level})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[e.estimated_effort.requires_downtime&&i.jsx("span",{className:"text-red-400 text-xs",children:"Requires Downtime"}),e.estimated_effort.requires_testing&&i.jsx("span",{className:"text-yellow-400 text-xs",children:"Requires Testing"})]})]})]})]})},BC=({onConfigUpdate:e})=>{const[n,r]=A.useState(null),[s,a]=A.useState(!0),[o,l]=A.useState(!1),[c,d]=A.useState({cvss_weight:.25,exploit_weight:.2,asset_criticality_weight:.15,network_exposure_weight:.15,attack_path_weight:.1,compliance_weight:.08,business_context_weight:.07}),u={cvss_weight:.25,exploit_weight:.2,asset_criticality_weight:.15,network_exposure_weight:.15,attack_path_weight:.1,compliance_weight:.08,business_context_weight:.07};A.useEffect(()=>{h()},[]);const h=async()=>{try{a(!0);const g=await Ti.getConfig();r(g.data),d(g.data.weights)}catch(g){console.error("Failed to load AI config:",g),ee.error("Failed to load AI configuration")}finally{a(!1)}},f=(g,x)=>{d(b=>({...b,[g]:x}))},p=async()=>{try{l(!0),await Ti.updateConfig({weights:c}),ee.success("AI configuration updated"),e&&e()}catch(g){console.error("Failed to save AI config:",g),ee.error("Failed to save configuration")}finally{l(!1)}},m=()=>{d(u),ee.info("Weights reset to defaults")},w=()=>Object.values(c).reduce((g,x)=>g+x,0),_={cvss_weight:"CVSS Score",exploit_weight:"Exploit Availability",asset_criticality_weight:"Asset Criticality",network_exposure_weight:"Network Exposure",attack_path_weight:"Attack Path Risk",compliance_weight:"Compliance Impact",business_context_weight:"Business Context"},v={cvss_weight:"Base vulnerability severity from CVE database",exploit_weight:"Whether exploits exist in the wild",asset_criticality_weight:"Importance of the affected asset",network_exposure_weight:"Internet-facing vs internal exposure",attack_path_weight:"Position in potential attack chains",compliance_weight:"Impact on regulatory compliance",business_context_weight:"Overall business risk context"};return s?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Em,{className:"w-5 h-5 text-cyan-400"}),i.jsx("h3",{className:"text-lg font-medium text-white",children:"AI Scoring Configuration"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(He,{variant:"secondary",size:"sm",onClick:m,children:[i.jsx(Hd,{className:"w-4 h-4 mr-1"}),"Reset"]}),i.jsxs(He,{variant:"primary",size:"sm",onClick:p,loading:o,children:[i.jsx(Uo,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),i.jsxs("div",{className:"mb-6 p-3 bg-gray-900/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-400",children:"Total Weight"}),i.jsxs("span",{className:`text-lg font-bold ${Math.abs(w()-1)<.01?"text-green-400":"text-yellow-400"}`,children:[(w()*100).toFixed(0),"%"]})]}),Math.abs(w()-1)>=.01&&i.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"Weights should sum to 100% for optimal scoring"})]}),i.jsx("div",{className:"space-y-4",children:Object.keys(c).map(g=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-white",children:_[g]}),i.jsx("p",{className:"text-xs text-gray-400",children:v[g]})]}),i.jsxs("span",{className:"text-sm font-mono text-cyan-400",children:[(c[g]*100).toFixed(0),"%"]})]}),i.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:c[g]*100,onChange:x=>f(g,parseInt(x.target.value)/100),className:`w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer
                         [&::-webkit-slider-thumb]:appearance-none
                         [&::-webkit-slider-thumb]:w-4
                         [&::-webkit-slider-thumb]:h-4
                         [&::-webkit-slider-thumb]:rounded-full
                         [&::-webkit-slider-thumb]:bg-cyan-500
                         [&::-webkit-slider-thumb]:cursor-pointer
                         [&::-webkit-slider-thumb]:transition-transform
                         [&::-webkit-slider-thumb]:hover:scale-110`})]},g))}),n&&i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Configuration Name:"}),i.jsx("span",{className:"ml-2 text-white",children:n.name})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-400",children:"Last Updated:"}),i.jsx("span",{className:"ml-2 text-white",children:new Date(n.updated_at).toLocaleString()})]})]})})]})},UC=({scanId:e,onSelectVulnerability:n})=>{const[r,s]=A.useState(null),[a,o]=A.useState(!1),[l,c]=A.useState(!1),[d,u]=A.useState(null),[h,f]=A.useState(!1),[p,m]=A.useState("list"),w=A.useCallback(async()=>{var b;try{o(!0);const y=await Ti.getScores(e);s(y.data)}catch(y){((b=y.response)==null?void 0:b.status)!==404&&console.error("Failed to load AI scores:",y)}finally{o(!1)}},[e]);A.useEffect(()=>{w()},[w]);const _=async(b=!1)=>{try{c(!0);const y=await Ti.prioritize(e,{force_recalculate:b});s(y.data),ee.success("AI prioritization calculated successfully")}catch(y){console.error("Failed to calculate prioritization:",y),ee.error("Failed to calculate AI prioritization")}finally{c(!1)}},v=b=>{const y=r==null?void 0:r.scores.find(j=>j.vulnerability_id===b);u(y||null),n&&n(b)},g=b=>[{name:"Critical",value:b.critical_count,color:"#ef4444"},{name:"High",value:b.high_count,color:"#f97316"},{name:"Medium",value:b.medium_count,color:"#eab308"},{name:"Low",value:b.low_count,color:"#22c55e"}].filter(y=>y.value>0),x=b=>{var j;return b.length===0?[]:(((j=b[0])==null?void 0:j.factor_scores.map(k=>k.factor_name))||[]).map(k=>{const S=b.reduce((C,P)=>{const O=P.factor_scores.find(E=>E.factor_name===k);return C+((O==null?void 0:O.normalized_value)||0)},0)/b.length;return{factor:k.replace(" ",`
`),value:S,fullMark:100}})};return a?i.jsx("div",{className:"flex items-center justify-center p-8",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(xi,{className:"w-6 h-6 text-cyan-400"}),i.jsx("h2",{className:"text-xl font-semibold text-white",children:"AI Vulnerability Prioritization"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r&&i.jsxs(He,{variant:"secondary",size:"sm",onClick:()=>_(!0),loading:l,children:[i.jsx(ds,{className:"w-4 h-4 mr-1"}),"Recalculate"]}),i.jsxs(He,{variant:h?"primary":"secondary",size:"sm",onClick:()=>f(!h),children:[i.jsx(pr,{className:"w-4 h-4 mr-1"}),"Configure"]})]})]}),h&&i.jsx(BC,{onConfigUpdate:()=>_(!0)}),!r&&!a&&i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-8 text-center",children:[i.jsx(xi,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No AI Prioritization Data"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Calculate AI-based risk scores to prioritize vulnerabilities for remediation."}),i.jsxs(He,{variant:"primary",onClick:()=>_(!1),loading:l,children:[i.jsx(xi,{className:"w-4 h-4 mr-2"}),"Calculate AI Prioritization"]})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(De,{className:"w-5 h-5 text-red-400"}),i.jsx("span",{className:"text-sm text-gray-400",children:"Critical"})]}),i.jsx("div",{className:"text-2xl font-bold text-red-400",children:r.summary.critical_count})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(_r,{className:"w-5 h-5 text-cyan-400"}),i.jsx("span",{className:"text-sm text-gray-400",children:"Avg Risk Score"})]}),i.jsx("div",{className:"text-2xl font-bold text-white",children:r.summary.average_risk_score.toFixed(1)})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(Vn,{className:"w-5 h-5 text-orange-400"}),i.jsx("span",{className:"text-sm text-gray-400",children:"Highest Score"})]}),i.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r.summary.highest_risk_score.toFixed(1)})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(gr,{className:"w-5 h-5 text-green-400"}),i.jsx("span",{className:"text-sm text-gray-400",children:"Total Analyzed"})]}),i.jsx("div",{className:"text-2xl font-bold text-white",children:r.summary.total_vulnerabilities})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Risk Distribution"}),i.jsx("div",{className:"h-48",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(Vo,{children:[i.jsx(Go,{data:g(r.summary),cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:g(r.summary).map((b,y)=>i.jsx(Ds,{fill:b.color},`cell-${y}`))}),i.jsx(ot,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},itemStyle:{color:"#fff"}})]})})}),i.jsx("div",{className:"flex justify-center space-x-4 mt-2",children:g(r.summary).map(b=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:b.color}}),i.jsxs("span",{className:"text-xs text-gray-400",children:[b.name," (",b.value,")"]})]},b.name))})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Average Factor Scores"}),i.jsx("div",{className:"h-48",children:i.jsx(at,{width:"100%",height:"100%",children:i.jsxs(qm,{data:x(r.scores),children:[i.jsx(Wm,{stroke:"#374151"}),i.jsx(Vm,{dataKey:"factor",tick:{fill:"#9ca3af",fontSize:10}}),i.jsx(Gm,{angle:30,domain:[0,100],tick:{fill:"#9ca3af",fontSize:10}}),i.jsx(Ym,{name:"Score",dataKey:"value",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.3}),i.jsx(ot,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},itemStyle:{color:"#fff"}})]})})})]})]}),i.jsxs("div",{className:"flex space-x-2 border-b border-gray-700",children:[i.jsx("button",{onClick:()=>m("list"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${p==="list"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white"}`,children:"Prioritized List"}),i.jsx("button",{onClick:()=>m("matrix"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${p==="matrix"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white"}`,children:"Impact vs Likelihood"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[p==="list"&&i.jsx(FC,{scores:r.scores,onSelectVulnerability:v,selectedId:d==null?void 0:d.vulnerability_id}),p==="matrix"&&i.jsx(qC,{scores:r.scores})]}),i.jsx("div",{className:"lg:col-span-1",children:d?i.jsx(HC,{score:d}):i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 text-center",children:[i.jsx(Ts,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"Select a vulnerability to view detailed score breakdown"})]})})]}),i.jsxs("div",{className:"text-xs text-gray-500 text-right",children:["Last calculated: ",new Date(r.calculated_at).toLocaleString()]})]})]})},qC=({scores:e})=>{const n=s=>{const a=s.factor_scores.find(d=>d.factor_name==="CVSS Score"),o=s.factor_scores.find(d=>d.factor_name==="Exploit Availability"),l=(a==null?void 0:a.normalized_value)||50,c=(o==null?void 0:o.normalized_value)||50;return{impact:l,likelihood:c}},r=s=>{switch(s.toLowerCase()){case"critical":return"#ef4444";case"high":return"#f97316";case"medium":return"#eab308";case"low":return"#22c55e";default:return"#6b7280"}};return i.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Impact vs Likelihood Matrix"}),i.jsxs("div",{className:"relative w-full h-80 border border-gray-700 rounded-lg bg-gray-900/50",children:[i.jsx("div",{className:"absolute inset-0 grid grid-cols-5 grid-rows-5",children:Array.from({length:25}).map((s,a)=>{const o=Math.floor(a/5),l=a%5;let c="bg-gray-800/20";const d=(l+(4-o))/8;return d>.7?c="bg-red-500/10":d>.5?c="bg-orange-500/10":d>.3?c="bg-yellow-500/10":c="bg-green-500/10",i.jsx("div",{className:`border-r border-b border-gray-700/50 ${c}`},a)})}),i.jsx("div",{className:"absolute -bottom-6 inset-x-0 text-center text-xs text-gray-400",children:"Likelihood (Exploit Availability) "}),i.jsx("div",{className:"absolute -left-6 inset-y-0 flex items-center text-xs text-gray-400",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Impact (CVSS Score) "}),e.map(s=>{const{impact:a,likelihood:o}=n(s),l=o/100*100,c=a/100*100;return i.jsx("div",{className:"absolute w-3 h-3 rounded-full transform -translate-x-1/2 translate-y-1/2 cursor-pointer hover:scale-150 transition-transform",style:{left:`${l}%`,bottom:`${c}%`,backgroundColor:r(s.risk_category)},title:`Priority #${s.remediation_priority} - Score: ${s.effective_risk_score.toFixed(1)}`},s.vulnerability_id)})]}),i.jsx("div",{className:"flex justify-center space-x-4 mt-6",children:["critical","high","medium","low"].map(s=>i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r(s)}}),i.jsx("span",{className:"text-xs text-gray-400 capitalize",children:s})]},s))})]})},WC=()=>{const{activeScan:e,results:n}=Ht(),[r,s]=A.useState(!1),[a,o]=A.useState(null),[l,c]=A.useState(""),[d,u]=A.useState("risk"),[h,f]=A.useState("all"),[p,m]=A.useState(!1),[w,_]=A.useState(!1),[v,g]=A.useState(!1),[x,b]=A.useState(0),[y,j]=A.useState("results"),[k,S]=A.useState(!1),[C,P]=A.useState([]),[O,E]=A.useState([]),[R,z]=A.useState(!1),[T,D]=A.useState(!1),M=e?n.get(e.id)||[]:[];A.useEffect(()=>{e&&e.status==="completed"&&M.length===0&&I(),e&&(B(),X())},[e]);const B=async()=>{if(e)try{const V=await It.getTagsForScan(e.id);P(V.data)}catch(V){console.error("Failed to load scan tags:",V)}},X=async()=>{try{const V=await It.getAll();E(V.data)}catch(V){console.error("Failed to load all tags:",V)}},W=async V=>{if(e)try{const se=await It.addTagsToScan(e.id,{tag_ids:[V]});P(se.data),z(!1),ee.success("Tag added")}catch{ee.error("Failed to add tag")}},$=async V=>{if(e)try{await It.removeTagFromScan(e.id,V),P(C.filter(se=>se.id!==V)),ee.success("Tag removed")}catch{ee.error("Failed to remove tag")}},Z=async()=>{if(e){D(!0);try{const V=await tn.duplicate(e.id);ee.success(`Scan duplicated as "${V.data.name}"`),Ht.getState().setActiveScan(V.data)}catch{ee.error("Failed to duplicate scan")}finally{D(!1)}}},J=O.filter(V=>!C.some(se=>se.id===V.id)),I=async()=>{if(e){s(!0);try{const V=await tn.getResults(e.id);Ht.getState().setResults(e.id,V.data)}catch{ee.error("Failed to load scan results")}finally{s(!1)}}},ce=async()=>{var V,se,oe;if(e){S(!0);try{const ie=await Fx.exportScan(e.id);ie.data.success?ee.success(`Exported ${ie.data.events_count} events to ${ie.data.exported_to} SIEM integration(s)`):ee.warning("Export completed with issues. Check SIEM settings."),ie.data.errors&&ie.data.errors.length>0&&ie.data.errors.forEach(Se=>{ee.error(`SIEM export error: ${Se}`)})}catch(ie){const Se=ie;((V=Se.response)==null?void 0:V.status)===404?ee.error("No SIEM integrations configured. Go to Settings > SIEM Integration to set up."):ee.error(((oe=(se=Se.response)==null?void 0:se.data)==null?void 0:oe.error)||"Failed to export to SIEM")}finally{S(!1)}}},we=A.useMemo(()=>{let V=[...M];switch(l&&(V=V.filter(se=>{var oe;return se.target.ip.includes(l)||((oe=se.target.hostname)==null?void 0:oe.toLowerCase().includes(l.toLowerCase()))})),h){case"with-vulns":V=V.filter(se=>se.vulnerabilities.length>0);break;case"critical":V=V.filter(se=>se.vulnerabilities.some(oe=>oe.severity==="Critical"));break;case"high":V=V.filter(se=>se.vulnerabilities.some(oe=>oe.severity==="Critical"||oe.severity==="High"));break}return V.sort((se,oe)=>{switch(d){case"risk":return Ua(oe)-Ua(se);case"vulns":return oe.vulnerabilities.length-se.vulnerabilities.length;case"ports":return oe.ports.filter(ie=>ie.state==="Open").length-se.ports.filter(ie=>ie.state==="Open").length;case"ip":default:return se.target.ip.localeCompare(oe.target.ip)}}),V},[M,l,d,h]);if(!e)return i.jsx(xe,{children:i.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a scan from the list to view results"})});if(r)return i.jsx(xe,{children:i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(nn,{})})});if(M.length===0)return i.jsx(xe,{children:i.jsx("div",{className:"text-center py-12 text-slate-500",children:e.status==="running"?"Scan in progress... Results will appear here as hosts are discovered":e.status==="pending"?"Scan is pending...":e.status==="failed"?`Scan failed: ${e.error_message||"Unknown error"}`:"No results available"})});const ue=M.filter(V=>V.is_alive).length,Ne=M.reduce((V,se)=>V+se.ports.filter(oe=>oe.state==="Open").length,0),Q=M.reduce((V,se)=>V+se.vulnerabilities.length,0);return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(xe,{children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:e==null?void 0:e.name}),i.jsxs("button",{onClick:Z,disabled:T,className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-dark-border rounded hover:border-primary hover:text-primary transition-colors disabled:opacity-50",title:"Duplicate this scan",children:[T?i.jsx(nn,{className:"h-4 w-4"}):i.jsx(ea,{className:"h-4 w-4"}),"Duplicate"]})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[i.jsx(js,{className:"h-4 w-4 text-slate-400"}),C.map(V=>i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm",style:{backgroundColor:V.color+"20",color:V.color},children:[V.name,i.jsx("button",{onClick:()=>$(V.id),className:"hover:opacity-70",title:"Remove tag",children:i.jsx(Tt,{className:"h-3 w-3"})})]},V.id)),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>z(!R),className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm border border-dashed border-dark-border text-slate-400 hover:border-primary hover:text-primary",children:[i.jsx(Tn,{className:"h-3 w-3"}),"Add Tag"]}),R&&J.length>0&&i.jsx("div",{className:"absolute top-full left-0 mt-1 z-10 bg-dark-surface border border-dark-border rounded-lg shadow-lg min-w-[150px] max-h-[200px] overflow-y-auto",children:J.map(V=>i.jsxs("button",{onClick:()=>W(V.id),className:"w-full text-left px-3 py-2 hover:bg-dark-hover flex items-center gap-2",children:[i.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:V.color}}),i.jsx("span",{className:"text-sm text-slate-300",children:V.name})]},V.id))}),R&&J.length===0&&i.jsx("div",{className:"absolute top-full left-0 mt-1 z-10 bg-dark-surface border border-dark-border rounded-lg shadow-lg p-3",children:i.jsx("span",{className:"text-sm text-slate-500",children:"No more tags available"})})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx(qt,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:ue}),i.jsx("p",{className:"text-sm text-slate-400",children:"Alive Hosts"})]}),i.jsxs("div",{children:[i.jsx(Pe,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:Ne}),i.jsx("p",{className:"text-sm text-slate-400",children:"Open Ports"})]}),i.jsxs("div",{children:[i.jsx(De,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:Q}),i.jsx("p",{className:"text-sm text-slate-400",children:"Vulnerabilities"})]})]})]}),i.jsx(xe,{children:i.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[i.jsxs("button",{onClick:()=>j("results"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${y==="results"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[i.jsx(Pm,{className:"h-4 w-4"}),"Results"]}),i.jsxs("button",{onClick:()=>j("topology"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${y==="topology"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[i.jsx(lr,{className:"h-4 w-4"}),"Topology"]}),i.jsxs("button",{onClick:()=>j("secrets"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${y==="secrets"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[i.jsx(vn,{className:"h-4 w-4"}),"Secrets"]}),i.jsxs("button",{onClick:()=>j("ai-priority"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${y==="ai-priority"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[i.jsx(xi,{className:"h-4 w-4"}),"AI Priority"]})]})}),y==="topology"&&e&&i.jsx(zC,{scanId:e.id}),y==="secrets"&&e&&i.jsxs(xe,{children:[i.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[i.jsx(vn,{className:"h-5 w-5 text-yellow-400"}),"Exposed Secrets"]}),i.jsx(IC,{scanId:e.id})]}),y==="ai-priority"&&e&&i.jsx(xe,{children:i.jsx(UC,{scanId:e.id})}),y==="results"&&i.jsxs(i.Fragment,{children:[i.jsx(xe,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx(tt,{type:"text",placeholder:"Search by IP or hostname...",value:l,onChange:V=>c(V.target.value),icon:i.jsx(mr,{className:"h-4 w-4"})})}),i.jsx(w_,{hosts:we,scanName:e==null?void 0:e.name,scanId:e==null?void 0:e.id,disabled:we.length===0}),i.jsxs("button",{onClick:()=>g(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-green-500 text-green-500 hover:bg-green-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Bo,{className:"h-4 w-4"}),"Compliance"]}),i.jsxs("button",{onClick:ce,disabled:(e==null?void 0:e.status)!=="completed"||k,className:"px-4 py-2 rounded-lg border border-purple-500 text-purple-500 hover:bg-purple-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export scan results to configured SIEM integrations",children:[k?i.jsx(nn,{}):i.jsx(Ld,{className:"h-4 w-4"}),k?"Exporting...":"SIEM"]}),i.jsxs("button",{onClick:()=>_(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-primary text-primary hover:bg-primary/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ct,{className:"h-4 w-4"}),"Report"]}),i.jsxs("button",{onClick:()=>m(!p),className:`px-4 py-2 rounded-lg border transition-colors flex items-center gap-2 ${p?"bg-primary border-primary text-white":"border-dark-border text-slate-400 hover:border-primary hover:text-white"}`,children:[i.jsx(Am,{className:"h-4 w-4"}),"Filters"]})]}),p&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-dark-border",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort by"}),i.jsxs("select",{value:d,onChange:V=>u(V.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"risk",children:"Risk Score (High to Low)"}),i.jsx("option",{value:"vulns",children:"Vulnerability Count"}),i.jsx("option",{value:"ports",children:"Port Count"}),i.jsx("option",{value:"ip",children:"IP Address"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Filter by"}),i.jsxs("select",{value:h,onChange:V=>f(V.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Hosts"}),i.jsx("option",{value:"with-vulns",children:"With Vulnerabilities"}),i.jsx("option",{value:"high",children:"High/Critical Severity"}),i.jsx("option",{value:"critical",children:"Critical Only"})]})]})]}),i.jsxs("div",{className:"text-sm text-slate-400",children:["Showing ",we.length," of ",M.length," hosts"]})]})}),i.jsxs(xe,{children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Discovered Hosts"}),i.jsxs("div",{className:"space-y-3",children:[we.map(V=>{const se=Ua(V),oe=n_(se);return i.jsxs("div",{className:`bg-dark-bg border rounded-lg p-4 cursor-pointer hover:border-primary/50 transition-all ${oe==="Critical"?"border-severity-critical":oe==="High"?"border-severity-high":"border-dark-border"}`,onClick:()=>o(a===V.target.ip?null:V.target.ip),children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-white font-mono font-semibold",children:V.target.ip}),V.target.hostname&&i.jsx("p",{className:"text-sm text-slate-400",children:V.target.hostname})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(_t,{variant:"severity",type:uf(oe),children:["Risk: ",se]}),i.jsx(_t,{variant:"status",type:V.is_alive?"completed":"failed",children:V.is_alive?"Alive":"Down"}),V.ports.filter(ie=>ie.state==="Open").length>0&&i.jsxs("span",{className:"text-sm text-slate-400",children:[V.ports.filter(ie=>ie.state==="Open").length," ports"]}),V.vulnerabilities.length>0&&i.jsxs("span",{className:"text-sm text-red-400",children:[V.vulnerabilities.length," vulns"]})]})]}),a===V.target.ip&&i.jsxs("div",{className:"mt-4 border-t border-dark-border pt-4 space-y-4",children:[V.os_guess&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-1",children:"OS Detection"}),i.jsxs("p",{className:"text-sm text-slate-400",children:[V.os_guess.os_family," ",V.os_guess.os_version," (",V.os_guess.confidence,"% confidence)"]})]}),V.ports.filter(ie=>ie.state==="Open").length>0&&i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Open Ports"}),i.jsx("div",{className:"space-y-2",children:V.ports.filter(ie=>ie.state==="Open").map(ie=>{var Se,$e;return i.jsx("div",{children:i.jsxs("div",{className:"bg-dark-surface rounded p-3 text-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-white font-mono font-semibold",children:[ie.port,"/",ie.protocol]}),ie.service&&i.jsxs("span",{className:"text-slate-400",children:[ie.service.name," ",ie.service.version&&i.jsxs("span",{className:"text-slate-500",children:["v",ie.service.version]})]})]}),((Se=ie.service)==null?void 0:Se.banner)&&i.jsx(a_,{banner:ie.service.banner,port:ie.port,service:ie.service.name}),(($e=ie.service)==null?void 0:$e.ssl_info)&&i.jsx(v_,{sslInfo:ie.service.ssl_info,port:ie.port})]})},ie.port)})})]}),V.vulnerabilities.length>0&&i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-slate-300 mb-3",children:["Vulnerabilities (",V.vulnerabilities.length,")"]}),i.jsx("div",{className:"space-y-3",children:V.vulnerabilities.map((ie,Se)=>i.jsx(i_,{vulnerability:ie},Se))})]})]})]},V.target.ip)}),we.length===0&&i.jsx("div",{className:"text-center py-8 text-slate-400",children:"No hosts match the current filters"})]})]}),(e==null?void 0:e.status)==="completed"&&i.jsx(k_,{scanId:e.id,onGenerateNew:()=>_(!0)},x)]}),w&&e&&i.jsx(__,{scanId:e.id,scanName:e.name,onClose:()=>_(!1),onReportCreated:()=>b(V=>V+1)}),v&&e&&i.jsx(S_,{scanId:e.id,scanName:e.name,onClose:()=>g(!1)})]})},di=({title:e,value:n,icon:r,color:s,subtitle:a})=>i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),i.jsx("p",{className:`text-3xl font-bold ${s} mb-1`,children:n}),a&&i.jsx("p",{className:"text-slate-500 text-xs",children:a})]}),i.jsx("div",{className:`${s.replace("text-","bg-")}/20 p-3 rounded-lg`,children:r})]})}),VC=()=>{const{scans:e,results:n}=Ht(),r=A.useMemo(()=>{const s=e.filter(o=>o.status==="completed"),a=Array.from(n.values()).flat();return{...s_(a),completedScans:s.length}},[e,n]);return i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[i.jsx(di,{title:"Completed Scans",value:r.completedScans,icon:i.jsx(Ft,{className:"h-6 w-6 text-primary"}),color:"text-primary",subtitle:`${e.filter(s=>s.status==="running").length} running`}),i.jsx(di,{title:"Hosts Discovered",value:r.totalHosts,icon:i.jsx(qt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400",subtitle:`${r.totalPorts} open ports`}),i.jsx(di,{title:"Total Vulnerabilities",value:r.totalVulnerabilities,icon:i.jsx(De,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400",subtitle:"Across all scans"}),i.jsx(di,{title:"Critical Findings",value:r.criticalVulnerabilities,icon:i.jsx(Pe,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical",subtitle:"Requires immediate attention"})]})},GC={Critical:"#ef4444",High:"#f97316",Medium:"#eab308",Low:"#3b82f6"},YC=({hosts:e})=>{const n=A.useMemo(()=>{const s=cf(e);return Object.entries(s).filter(([a,o])=>o>0).map(([a,o])=>({name:a,value:o,color:GC[a]}))},[e]),r=n.reduce((s,a)=>s+a.value,0);return r===0?i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Distribution"}),i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No vulnerabilities found"})})]}):i.jsxs(xe,{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Vulnerability Distribution",i.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",r," total)"]})]}),i.jsx(at,{width:"100%",height:300,children:i.jsxs(Vo,{children:[i.jsx(Go,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:a})=>`${s}: ${(a*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((s,a)=>i.jsx(Ds,{fill:s.color},`cell-${a}`))}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:s=>[`${s} vulnerabilities`,"Count"]}),i.jsx(hs,{verticalAlign:"bottom",height:36,formatter:(s,a)=>i.jsxs("span",{style:{color:"#cbd5e1"},children:[s,": ",a.payload.value]})})]})})]})},XC={21:"#f97316",22:"#22c55e",23:"#ef4444",25:"#3b82f6",53:"#8b5cf6",80:"#06b6d4",110:"#3b82f6",143:"#3b82f6",443:"#10b981",445:"#f59e0b",3306:"#ec4899",3389:"#ef4444",5432:"#3b82f6",8080:"#06b6d4"},KC="#64748b",JC=({hosts:e})=>{const n=A.useMemo(()=>r_(e).map(r=>({...r,displayName:`${r.port} (${r.service})`,color:XC[r.port]||KC})),[e]);return n.length===0?i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Port Distribution"}),i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No open ports found"})})]}):i.jsxs(xe,{className:"p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Top Open Ports",i.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:"(Across all hosts)"})]}),i.jsx(at,{width:"100%",height:300,children:i.jsxs(na,{data:n,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{type:"number",stroke:"#cbd5e1"}),i.jsx(At,{dataKey:"displayName",type:"category",width:90,stroke:"#cbd5e1",tick:{fontSize:12}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:(r,s,a)=>[`${r} hosts`,a.payload.service],labelFormatter:r=>{var s;return`Port ${(s=n.find(a=>a.displayName===r))==null?void 0:s.port}`}}),i.jsx(ra,{dataKey:"count",radius:[0,4,4,0],children:n.map((r,s)=>i.jsx(Ds,{fill:r.color},`cell-${s}`))})]})})]})},Ja=({title:e,value:n,subtitle:r,icon:s,color:a,trend:o})=>i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),i.jsx("p",{className:`text-3xl font-bold ${a} mb-1`,children:n}),r&&i.jsx("p",{className:"text-slate-500 text-xs",children:r}),o&&i.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${o.isPositive?"text-green-400":"text-red-400"}`,children:[i.jsx(_r,{className:`h-3 w-3 ${!o.isPositive&&"rotate-180"}`}),i.jsxs("span",{children:[o.isPositive?"+":"",o.value.toFixed(1),"%"]})]})]}),i.jsx("div",{className:`${a.replace("text-","bg-")}/20 p-3 rounded-lg`,children:s})]})}),QC=({height:e=300})=>i.jsx("div",{className:"animate-pulse",style:{height:e},children:i.jsx("div",{className:"h-full bg-slate-700/50 rounded-lg"})}),$t={critical:"#ef4444",high:"#f97316",medium:"#eab308",low:"#3b82f6"},ZC=()=>{const[e,n]=A.useState(30),[r,s]=A.useState(!0),[a,o]=A.useState(null),[l,c]=A.useState(null);A.useEffect(()=>{d()},[e]);const d=async()=>{var b,y;s(!0),o(null);try{const j=await ir.getVulnerabilityTrendsDashboard(e);c(j.data)}catch(j){const k=j;console.error("Failed to load vulnerability trends:",j),o(((y=(b=k.response)==null?void 0:b.data)==null?void 0:y.message)||"Failed to load vulnerability trends")}finally{s(!1)}},u=b=>{if(b.includes("-W")){const[j,k]=b.split("-W");return`W${k}`}return new Date(b).toLocaleDateString("en-US",{month:"short",day:"numeric"})},h=b=>{switch(b){case"improving":return i.jsx(Rm,{className:"h-5 w-5 text-green-400"});case"declining":return i.jsx(_r,{className:"h-5 w-5 text-red-400"});default:return i.jsx(Bd,{className:"h-5 w-5 text-yellow-400"})}},f=b=>{switch(b){case"improving":return"text-green-400";case"declining":return"text-red-400";default:return"text-yellow-400"}},p=b=>{switch(b){case"improving":return"Improving";case"declining":return"Declining";default:return"Stable"}};if(r)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-8 w-64 bg-slate-700 rounded animate-pulse mb-2"}),i.jsx("div",{className:"h-4 w-48 bg-slate-700 rounded animate-pulse"})]}),i.jsx("div",{className:"h-10 w-72 bg-slate-700 rounded animate-pulse"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(b=>i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-4 w-24 bg-slate-700 rounded mb-3"}),i.jsx("div",{className:"h-8 w-16 bg-slate-700 rounded mb-2"}),i.jsx("div",{className:"h-3 w-32 bg-slate-700 rounded"})]})},b))}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(b=>i.jsxs(xe,{className:"p-6",children:[i.jsx("div",{className:"h-6 w-48 bg-slate-700 rounded animate-pulse mb-4"}),i.jsx(QC,{})]},b))})]});if(a)return i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(De,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Vulnerability Trends"}),i.jsx("p",{className:"text-slate-400 mb-4",children:a}),i.jsx("button",{onClick:d,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 transition-colors",children:"Retry"})]})});if(!l)return null;const{summary:m,daily_counts:w,severity_trends:_,remediation_rates:v,top_recurring:g}=l,x=[{name:"Critical",value:m.critical_open,color:$t.critical},{name:"High",value:m.high_open,color:$t.high},{name:"Medium",value:m.current_open-m.critical_open-m.high_open,color:$t.medium}].filter(b=>b.value>0);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Vulnerability Trends"}),i.jsx("p",{className:"text-slate-400",children:"Historical analysis and remediation metrics"})]}),i.jsx("div",{className:"flex items-center gap-2 bg-slate-800 border border-slate-700 rounded-lg p-1",children:[7,30,90,180].map(b=>i.jsxs("button",{onClick:()=>n(b),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===b?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[i.jsx(cr,{className:"h-4 w-4"}),b,"d"]},b))})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(Ja,{title:"Current Open",value:m.current_open,subtitle:`${m.critical_open} critical, ${m.high_open} high`,icon:i.jsx(Ai,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),i.jsx(Ja,{title:"Remediation Rate",value:`${m.remediation_rate.toFixed(1)}%`,subtitle:`${m.total_resolved} of ${m.total_found} resolved`,icon:i.jsx(ut,{className:"h-6 w-6 text-green-400"}),color:"text-green-400"}),i.jsx(Ja,{title:"Avg. MTTR",value:`${m.avg_mttr_days.toFixed(1)}`,subtitle:"Days to remediate",icon:i.jsx(Bt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Trend"}),i.jsxs("div",{className:"flex items-center gap-2",children:[h(m.trend_direction),i.jsx("span",{className:`text-2xl font-bold ${f(m.trend_direction)}`,children:p(m.trend_direction)})]}),i.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Compared to previous period"})]}),i.jsx("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:i.jsx(Pe,{className:"h-6 w-6 text-slate-400"})})]})})]}),(m.critical_open>0||m.high_open>0)&&i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Critical Issues Requiring Attention"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),i.jsx(rn,{className:"h-4 w-4 text-red-500"})]}),i.jsx("p",{className:"text-2xl font-bold text-red-500",children:m.critical_open})]}),i.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"High"}),i.jsx(De,{className:"h-4 w-4 text-orange-500"})]}),i.jsx("p",{className:"text-2xl font-bold text-orange-500",children:m.high_open})]}),i.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Total Found"}),i.jsx(Ai,{className:"h-4 w-4 text-slate-400"})]}),i.jsx("p",{className:"text-2xl font-bold text-white",children:m.total_found})]}),i.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Resolved"}),i.jsx(ut,{className:"h-4 w-4 text-green-500"})]}),i.jsx("p",{className:"text-2xl font-bold text-green-500",children:m.total_resolved})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerabilities Over Time"}),w.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(_s,{data:w,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u}),i.jsx(hs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),i.jsx(An,{type:"monotone",dataKey:"open",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:3},activeDot:{r:5},name:"Open"}),i.jsx(An,{type:"monotone",dataKey:"new",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",r:3},activeDot:{r:5},name:"New"}),i.jsx(An,{type:"monotone",dataKey:"resolved",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",r:3},activeDot:{r:5},name:"Resolved"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Severity Distribution Over Time"}),_.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(Gd,{data:_,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u}),i.jsx(hs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),i.jsx(On,{type:"monotone",dataKey:"critical",stackId:"1",stroke:$t.critical,fill:$t.critical,fillOpacity:.6,name:"Critical"}),i.jsx(On,{type:"monotone",dataKey:"high",stackId:"1",stroke:$t.high,fill:$t.high,fillOpacity:.6,name:"High"}),i.jsx(On,{type:"monotone",dataKey:"medium",stackId:"1",stroke:$t.medium,fill:$t.medium,fillOpacity:.6,name:"Medium"}),i.jsx(On,{type:"monotone",dataKey:"low",stackId:"1",stroke:$t.low,fill:$t.low,fillOpacity:.6,name:"Low"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Remediation Rate Over Time"}),v.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(_s,{data:v,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{yAxisId:"left",stroke:"#94a3b8",style:{fontSize:"12px"},domain:[0,100],tickFormatter:b=>`${b}%`}),i.jsx(At,{yAxisId:"right",orientation:"right",stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:b=>`${b}d`}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u,formatter:(b,y)=>y==="Remediation Rate"?[`${b.toFixed(1)}%`,y]:y==="MTTR (days)"?[`${b.toFixed(1)} days`,y]:[b,y]}),i.jsx(hs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),i.jsx(An,{yAxisId:"left",type:"monotone",dataKey:"remediation_rate",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",r:3},activeDot:{r:5},name:"Remediation Rate"}),i.jsx(An,{yAxisId:"right",type:"monotone",dataKey:"mttr_days",stroke:"#06b6d4",strokeWidth:2,dot:{fill:"#06b6d4",r:3},activeDot:{r:5},name:"MTTR (days)"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Recurring Vulnerabilities"}),g.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(na,{data:g,layout:"vertical",children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{dataKey:"title",type:"category",stroke:"#94a3b8",style:{fontSize:"11px"},width:140,tickFormatter:b=>b.length>20?`${b.substring(0,20)}...`:b}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},content:({active:b,payload:y})=>{if(!b||!y||!y[0])return null;const j=y[0].payload;return i.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 text-white text-sm",children:[i.jsx("div",{className:"font-medium mb-2",children:j.title}),i.jsxs("div",{className:"space-y-1 text-slate-300",children:[i.jsxs("div",{children:["Occurrences: ",j.count]}),i.jsxs("div",{children:["Severity: ",j.severity]}),i.jsxs("div",{children:["Affected Hosts: ",j.affected_hosts]}),j.avg_resolution_days!==null&&i.jsxs("div",{children:["Avg Resolution: ",j.avg_resolution_days.toFixed(1)," days"]})]})]})}}),i.jsx(ra,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Occurrences"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No recurring vulnerabilities found"})})]})]}),x.length>0&&i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Open Vulnerabilities by Severity"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(at,{width:"100%",height:250,children:i.jsxs(Vo,{children:[i.jsx(Go,{data:x,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",nameKey:"name",label:({name:b,percent:y})=>`${b} ${(y*100).toFixed(0)}%`,labelLine:!1,children:x.map((b,y)=>i.jsx(Ds,{fill:b.color},`cell-${y}`))}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}})]})}),i.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[x.map(b=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:b.color}}),i.jsx("span",{className:"text-slate-300",children:b.name})]}),i.jsx("span",{className:"text-white font-semibold",children:b.value})]},b.name)),i.jsx("div",{className:"border-t border-slate-700 pt-4 mt-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-slate-300 font-medium",children:"Total Open"}),i.jsx("span",{className:"text-white font-bold text-lg",children:m.current_open})]})})]})]})]}),g.length>0&&i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recurring Vulnerability Details"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Vulnerability"}),i.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Severity"}),i.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Occurrences"}),i.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Affected Hosts"}),i.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Avg. Resolution"})]})}),i.jsx("tbody",{children:g.map((b,y)=>i.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/50",children:[i.jsxs("td",{className:"py-3 px-4",children:[i.jsx("span",{className:"text-white font-medium",children:b.title}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:b.vulnerability_id})]}),i.jsx("td",{className:"py-3 px-4",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${b.severity==="critical"?"bg-red-500/20 text-red-400":b.severity==="high"?"bg-orange-500/20 text-orange-400":b.severity==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:b.severity})}),i.jsx("td",{className:"py-3 px-4 text-center text-white",children:b.count}),i.jsx("td",{className:"py-3 px-4 text-center text-white",children:b.affected_hosts}),i.jsx("td",{className:"py-3 px-4 text-center text-white",children:b.avg_resolution_days!==null?`${b.avg_resolution_days.toFixed(1)} days`:"-"})]},y))})]})})]})]})},hi=({title:e,value:n,subtitle:r,icon:s,color:a,trend:o})=>i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),i.jsx("p",{className:`text-3xl font-bold ${a} mb-1`,children:n}),r&&i.jsx("p",{className:"text-slate-500 text-xs",children:r}),o&&i.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${o.isPositive?"text-green-400":"text-red-400"}`,children:[i.jsx(_r,{className:`h-3 w-3 ${!o.isPositive&&"rotate-180"}`}),i.jsxs("span",{children:[o.isPositive?"+":"",o.value,"%"]})]})]}),i.jsx("div",{className:`${a.replace("text-","bg-")}/20 p-3 rounded-lg`,children:s})]})}),e5=()=>{const[e,n]=A.useState("overview"),[r,s]=A.useState(30),[a,o]=A.useState(!0),[l,c]=A.useState(null),[d,u]=A.useState(null),[h,f]=A.useState([]),[p,m]=A.useState([]),[w,_]=A.useState([]),[v,g]=A.useState([]);A.useEffect(()=>{e==="overview"&&x()},[r,e]);const x=async()=>{var j,k;o(!0),c(null);try{const[S,C,P,O,E]=await Promise.all([ir.getSummary(r),ir.getHosts(r),ir.getVulnerabilities(r),ir.getServices(10),ir.getFrequency(r)]);u(S.data),f(C.data),m(P.data),_(O.data),g(E.data)}catch(S){const C=S;console.error("Failed to load analytics:",S),c(((k=(j=C.response)==null?void 0:j.data)==null?void 0:k.message)||"Failed to load analytics data")}finally{o(!1)}},b=j=>new Date(j).toLocaleDateString("en-US",{month:"short",day:"numeric"}),y=()=>i.jsxs("div",{className:"flex gap-2 border-b border-slate-700 pb-2 mb-6",children:[i.jsxs("button",{onClick:()=>n("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${e==="overview"?"bg-slate-800 text-cyan-400 border-b-2 border-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[i.jsx(gr,{className:"h-4 w-4"}),"Overview"]}),i.jsxs("button",{onClick:()=>n("vulnerability-trends"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${e==="vulnerability-trends"?"bg-slate-800 text-cyan-400 border-b-2 border-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[i.jsx(Ai,{className:"h-4 w-4"}),"Vulnerability Trends"]})]});return e==="vulnerability-trends"?i.jsxs("div",{className:"space-y-6",children:[i.jsx(y,{}),i.jsx(ZC,{})]}):a?i.jsxs("div",{className:"space-y-6",children:[i.jsx(y,{}),i.jsx("div",{className:"flex items-center justify-center h-96",children:i.jsx(nn,{size:"lg"})})]}):l?i.jsxs("div",{className:"space-y-6",children:[i.jsx(y,{}),i.jsx(xe,{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx(De,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Analytics"}),i.jsx("p",{className:"text-slate-400 mb-4",children:l}),i.jsx("button",{onClick:x,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 transition-colors",children:"Retry"})]})})]}):d?i.jsxs("div",{className:"space-y-6",children:[i.jsx(y,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Analytics Dashboard"}),i.jsx("p",{className:"text-slate-400",children:"Insights and trends from your security scans"})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-dark-surface border border-dark-border rounded-lg p-1",children:[i.jsxs("button",{onClick:()=>s(7),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===7?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[i.jsx(cr,{className:"h-4 w-4"}),"7 Days"]}),i.jsxs("button",{onClick:()=>s(30),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===30?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[i.jsx(cr,{className:"h-4 w-4"}),"30 Days"]}),i.jsxs("button",{onClick:()=>s(90),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===90?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[i.jsx(cr,{className:"h-4 w-4"}),"90 Days"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(hi,{title:"Total Scans",value:d.total_scans,subtitle:`${d.scans_this_week} this week`,icon:i.jsx(Ft,{className:"h-6 w-6 text-primary"}),color:"text-primary"}),i.jsx(hi,{title:"Hosts Discovered",value:d.total_hosts,subtitle:`${d.total_ports} open ports`,icon:i.jsx(qt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),i.jsx(hi,{title:"Total Vulnerabilities",value:d.total_vulnerabilities,subtitle:`${d.critical_vulns} critical`,icon:i.jsx(De,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),i.jsx(hi,{title:"Critical Findings",value:d.critical_vulns,subtitle:"Requires immediate attention",icon:i.jsx(Pe,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical"})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Severity Breakdown"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),i.jsx(Pe,{className:"h-4 w-4 text-severity-critical"})]}),i.jsx("p",{className:"text-2xl font-bold text-severity-critical",children:d.critical_vulns})]}),i.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"High"}),i.jsx(Pe,{className:"h-4 w-4 text-severity-high"})]}),i.jsx("p",{className:"text-2xl font-bold text-severity-high",children:d.high_vulns})]}),i.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Medium"}),i.jsx(Pe,{className:"h-4 w-4 text-severity-medium"})]}),i.jsx("p",{className:"text-2xl font-bold text-severity-medium",children:d.medium_vulns})]}),i.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Low"}),i.jsx(Pe,{className:"h-4 w-4 text-severity-low"})]}),i.jsx("p",{className:"text-2xl font-bold text-severity-low",children:d.low_vulns})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hosts Discovered Over Time"}),h.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(_s,{data:h,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:b,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:b}),i.jsx(An,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Hosts"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Scan Frequency"}),v.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(_s,{data:v,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:b,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:b}),i.jsx(An,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:4},activeDot:{r:6},name:"Scans"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Trends by Severity"}),p.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(Gd,{data:p,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{dataKey:"date",tickFormatter:b,stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:b}),i.jsx(hs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),i.jsx(On,{type:"monotone",dataKey:"critical",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Critical"}),i.jsx(On,{type:"monotone",dataKey:"high",stackId:"1",stroke:"#f97316",fill:"#f97316",fillOpacity:.6,name:"High"}),i.jsx(On,{type:"monotone",dataKey:"medium",stackId:"1",stroke:"#eab308",fill:"#eab308",fillOpacity:.6,name:"Medium"}),i.jsx(On,{type:"monotone",dataKey:"low",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Low"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]}),i.jsxs(xe,{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Services Discovered"}),w.length>0?i.jsx(at,{width:"100%",height:300,children:i.jsxs(na,{data:w,layout:"vertical",children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#334155"}),i.jsx(zt,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),i.jsx(At,{dataKey:"service",type:"category",stroke:"#94a3b8",style:{fontSize:"12px"},width:100}),i.jsx(ot,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}}),i.jsx(ra,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Count"})]})}):i.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:i.jsx("p",{children:"No data available"})})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx(y,{}),i.jsx("div",{className:"flex items-center justify-center h-96 text-slate-400",children:"No data available"})]})};var Qa={exports:{}},Kr={},cs={exports:{}},t5=cs.exports,Ju;function Rl(){return Ju||(Ju=1,(function(e,n){(function(r,s){s(n)})(t5,(function(r){function s(Q){return function(se,oe,ie,Se,$e,Ve,L){return Q(se,oe,L)}}function a(Q){return function(se,oe,ie,Se){if(!se||!oe||typeof se!="object"||typeof oe!="object")return Q(se,oe,ie,Se);var $e=Se.get(se),Ve=Se.get(oe);if($e&&Ve)return $e===oe&&Ve===se;Se.set(se,oe),Se.set(oe,se);var L=Q(se,oe,ie,Se);return Se.delete(se),Se.delete(oe),L}}function o(Q,V){var se={};for(var oe in Q)se[oe]=Q[oe];for(var oe in V)se[oe]=V[oe];return se}function l(Q){return Q.constructor===Object||Q.constructor==null}function c(Q){return typeof Q.then=="function"}function d(Q,V){return Q===V||Q!==Q&&V!==V}var u="[object Arguments]",h="[object Boolean]",f="[object Date]",p="[object RegExp]",m="[object Map]",w="[object Number]",_="[object Object]",v="[object Set]",g="[object String]",x=Object.prototype.toString;function b(Q){var V=Q.areArraysEqual,se=Q.areDatesEqual,oe=Q.areMapsEqual,ie=Q.areObjectsEqual,Se=Q.areRegExpsEqual,$e=Q.areSetsEqual,Ve=Q.createIsNestedEqual,L=Ve(H);function H(q,K,ae){if(q===K)return!0;if(!q||!K||typeof q!="object"||typeof K!="object")return q!==q&&K!==K;if(l(q)&&l(K))return ie(q,K,L,ae);var de=Array.isArray(q),ge=Array.isArray(K);if(de||ge)return de===ge&&V(q,K,L,ae);var je=x.call(q);return je!==x.call(K)?!1:je===f?se(q,K,L,ae):je===p?Se(q,K,L,ae):je===m?oe(q,K,L,ae):je===v?$e(q,K,L,ae):je===_||je===u?c(q)||c(K)?!1:ie(q,K,L,ae):je===h||je===w||je===g?d(q.valueOf(),K.valueOf()):!1}return H}function y(Q,V,se,oe){var ie=Q.length;if(V.length!==ie)return!1;for(;ie-- >0;)if(!se(Q[ie],V[ie],ie,ie,Q,V,oe))return!1;return!0}var j=a(y);function k(Q,V){return d(Q.valueOf(),V.valueOf())}function S(Q,V,se,oe){var ie=Q.size===V.size;if(!ie)return!1;if(!Q.size)return!0;var Se={},$e=0;return Q.forEach(function(Ve,L){if(ie){var H=!1,q=0;V.forEach(function(K,ae){!H&&!Se[q]&&(H=se(L,ae,$e,q,Q,V,oe)&&se(Ve,K,L,ae,Q,V,oe))&&(Se[q]=!0),q++}),$e++,ie=H}}),ie}var C=a(S),P="_owner",O=Object.prototype.hasOwnProperty;function E(Q,V,se,oe){var ie=Object.keys(Q),Se=ie.length;if(Object.keys(V).length!==Se)return!1;for(var $e;Se-- >0;){if($e=ie[Se],$e===P){var Ve=!!Q.$$typeof,L=!!V.$$typeof;if((Ve||L)&&Ve!==L)return!1}if(!O.call(V,$e)||!se(Q[$e],V[$e],$e,$e,Q,V,oe))return!1}return!0}var R=a(E);function z(Q,V){return Q.source===V.source&&Q.flags===V.flags}function T(Q,V,se,oe){var ie=Q.size===V.size;if(!ie)return!1;if(!Q.size)return!0;var Se={};return Q.forEach(function($e,Ve){if(ie){var L=!1,H=0;V.forEach(function(q,K){!L&&!Se[H]&&(L=se($e,q,Ve,K,Q,V,oe))&&(Se[H]=!0),H++}),ie=L}}),ie}var D=a(T),M=Object.freeze({areArraysEqual:y,areDatesEqual:k,areMapsEqual:S,areObjectsEqual:E,areRegExpsEqual:z,areSetsEqual:T,createIsNestedEqual:s}),B=Object.freeze({areArraysEqual:j,areDatesEqual:k,areMapsEqual:C,areObjectsEqual:R,areRegExpsEqual:z,areSetsEqual:D,createIsNestedEqual:s}),X=b(M);function W(Q,V){return X(Q,V,void 0)}var $=b(o(M,{createIsNestedEqual:function(){return d}}));function Z(Q,V){return $(Q,V,void 0)}var J=b(B);function I(Q,V){return J(Q,V,new WeakMap)}var ce=b(o(B,{createIsNestedEqual:function(){return d}}));function we(Q,V){return ce(Q,V,new WeakMap)}function ue(Q){return b(o(M,Q(M)))}function Ne(Q){var V=b(o(B,Q(B)));return(function(se,oe,ie){return ie===void 0&&(ie=new WeakMap),V(se,oe,ie)})}r.circularDeepEqual=I,r.circularShallowEqual=we,r.createCustomCircularEqual=Ne,r.createCustomEqual=ue,r.deepEqual=W,r.sameValueZeroEqual=d,r.shallowEqual=Z,Object.defineProperty(r,"__esModule",{value:!0})}))})(cs,cs.exports)),cs.exports}var fi={exports:{}},Qu;function va(){if(Qu)return fi.exports;Qu=1;function e(r){var s,a,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(a=e(r[s]))&&(o&&(o+=" "),o+=a)}else for(a in r)r[a]&&(o&&(o+=" "),o+=a);return o}function n(){for(var r,s,a=0,o="",l=arguments.length;a<l;a++)(r=arguments[a])&&(s=e(r))&&(o&&(o+=" "),o+=s);return o}return fi.exports=n,fi.exports.clsx=n,fi.exports}var Ee={},Za,Zu;function n5(){return Zu||(Zu=1,Za=function(n,r,s){return n===r?!0:n.className===r.className&&s(n.style,r.style)&&n.width===r.width&&n.autoSize===r.autoSize&&n.cols===r.cols&&n.draggableCancel===r.draggableCancel&&n.draggableHandle===r.draggableHandle&&s(n.verticalCompact,r.verticalCompact)&&s(n.compactType,r.compactType)&&s(n.layout,r.layout)&&s(n.margin,r.margin)&&s(n.containerPadding,r.containerPadding)&&n.rowHeight===r.rowHeight&&n.maxRows===r.maxRows&&n.isBounded===r.isBounded&&n.isDraggable===r.isDraggable&&n.isResizable===r.isResizable&&n.allowOverlap===r.allowOverlap&&n.preventCollision===r.preventCollision&&n.useCSSTransforms===r.useCSSTransforms&&n.transformScale===r.transformScale&&n.isDroppable===r.isDroppable&&s(n.resizeHandles,r.resizeHandles)&&s(n.resizeHandle,r.resizeHandle)&&n.onLayoutChange===r.onLayoutChange&&n.onDragStart===r.onDragStart&&n.onDrag===r.onDrag&&n.onDragStop===r.onDragStop&&n.onResizeStart===r.onResizeStart&&n.onResize===r.onResize&&n.onResizeStop===r.onResizeStop&&n.onDrop===r.onDrop&&s(n.droppingItem,r.droppingItem)&&s(n.innerRef,r.innerRef)}),Za}var ed;function Er(){if(ed)return Ee;ed=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.bottom=d,Ee.childrenEqual=m,Ee.cloneLayout=u,Ee.cloneLayoutItem=p,Ee.collides=_,Ee.compact=v,Ee.compactItem=b,Ee.compactType=Se,Ee.correctBounds=y,Ee.fastPositionEqual=w,Ee.fastRGLPropsEqual=void 0,Ee.getAllCollisions=S,Ee.getFirstCollision=k,Ee.getLayoutItem=j,Ee.getStatics=C,Ee.modifyLayout=h,Ee.moveElement=P,Ee.moveElementAwayFromCollision=O,Ee.noop=void 0,Ee.perc=E,Ee.resizeItemInDirection=we,Ee.setTopLeft=Ne,Ee.setTransform=ue,Ee.sortLayoutItems=Q,Ee.sortLayoutItemsByColRow=se,Ee.sortLayoutItemsByRowCol=V,Ee.synchronizeLayoutWithChildren=oe,Ee.validateLayout=ie,Ee.withLayoutItem=f;var e=Rl(),n=r(Ut());function r(L){return L&&L.__esModule?L:{default:L}}function s(L,H){var q=Object.keys(L);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(L);H&&(K=K.filter(function(ae){return Object.getOwnPropertyDescriptor(L,ae).enumerable})),q.push.apply(q,K)}return q}function a(L){for(var H=1;H<arguments.length;H++){var q=arguments[H]!=null?arguments[H]:{};H%2?s(Object(q),!0).forEach(function(K){o(L,K,q[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(q)):s(Object(q)).forEach(function(K){Object.defineProperty(L,K,Object.getOwnPropertyDescriptor(q,K))})}return L}function o(L,H,q){return(H=l(H))in L?Object.defineProperty(L,H,{value:q,enumerable:!0,configurable:!0,writable:!0}):L[H]=q,L}function l(L){var H=c(L,"string");return typeof H=="symbol"?H:H+""}function c(L,H){if(typeof L!="object"||!L)return L;var q=L[Symbol.toPrimitive];if(q!==void 0){var K=q.call(L,H);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(H==="string"?String:Number)(L)}function d(L){let H=0,q;for(let K=0,ae=L.length;K<ae;K++)q=L[K].y+L[K].h,q>H&&(H=q);return H}function u(L){const H=Array(L.length);for(let q=0,K=L.length;q<K;q++)H[q]=p(L[q]);return H}function h(L,H){const q=Array(L.length);for(let K=0,ae=L.length;K<ae;K++)H.i===L[K].i?q[K]=H:q[K]=L[K];return q}function f(L,H,q){let K=j(L,H);return K?(K=q(p(K)),L=h(L,K),[L,K]):[L,null]}function p(L){return{w:L.w,h:L.h,x:L.x,y:L.y,i:L.i,minW:L.minW,maxW:L.maxW,minH:L.minH,maxH:L.maxH,moved:!!L.moved,static:!!L.static,isDraggable:L.isDraggable,isResizable:L.isResizable,resizeHandles:L.resizeHandles,isBounded:L.isBounded}}function m(L,H){return(0,e.deepEqual)(n.default.Children.map(L,q=>q==null?void 0:q.key),n.default.Children.map(H,q=>q==null?void 0:q.key))&&(0,e.deepEqual)(n.default.Children.map(L,q=>q==null?void 0:q.props["data-grid"]),n.default.Children.map(H,q=>q==null?void 0:q.props["data-grid"]))}Ee.fastRGLPropsEqual=n5();function w(L,H){return L.left===H.left&&L.top===H.top&&L.width===H.width&&L.height===H.height}function _(L,H){return!(L.i===H.i||L.x+L.w<=H.x||L.x>=H.x+H.w||L.y+L.h<=H.y||L.y>=H.y+H.h)}function v(L,H,q,K){const ae=C(L);let de=d(ae);const ge=Q(L,H),je=Array(L.length);for(let Te=0,Ge=ge.length;Te<Ge;Te++){let Y=p(ge[Te]);Y.static||(Y=b(ae,Y,H,q,ge,K,de),de=Math.max(de,Y.y+Y.h),ae.push(Y)),je[L.indexOf(ge[Te])]=Y,Y.moved=!1}return je}const g={x:"w",y:"h"};function x(L,H,q,K){const ae=g[K];H[K]+=1;const de=L.map(ge=>ge.i).indexOf(H.i);for(let ge=de+1;ge<L.length;ge++){const je=L[ge];if(!je.static){if(je.y>H.y+H.h)break;_(H,je)&&x(L,je,q+H[ae],K)}}H[K]=q}function b(L,H,q,K,ae,de,ge){const je=q==="vertical",Te=q==="horizontal";if(je)for(typeof ge=="number"?H.y=Math.min(ge,H.y):H.y=Math.min(d(L),H.y);H.y>0&&!k(L,H);)H.y--;else if(Te)for(;H.x>0&&!k(L,H);)H.x--;let Ge;for(;(Ge=k(L,H))&&!(q===null&&de);)if(Te?x(ae,H,Ge.x+Ge.w,"x"):x(ae,H,Ge.y+Ge.h,"y"),Te&&H.x+H.w>K)for(H.x=K-H.w,H.y++;H.x>0&&!k(L,H);)H.x--;return H.y=Math.max(H.y,0),H.x=Math.max(H.x,0),H}function y(L,H){const q=C(L);for(let K=0,ae=L.length;K<ae;K++){const de=L[K];if(de.x+de.w>H.cols&&(de.x=H.cols-de.w),de.x<0&&(de.x=0,de.w=H.cols),!de.static)q.push(de);else for(;k(q,de);)de.y++}return L}function j(L,H){for(let q=0,K=L.length;q<K;q++)if(L[q].i===H)return L[q]}function k(L,H){for(let q=0,K=L.length;q<K;q++)if(_(L[q],H))return L[q]}function S(L,H){return L.filter(q=>_(q,H))}function C(L){return L.filter(H=>H.static)}function P(L,H,q,K,ae,de,ge,je,Te){if(H.static&&H.isDraggable!==!0||H.y===K&&H.x===q)return L;"Moving element ".concat(H.i," to [").concat(String(q),",").concat(String(K),"] from [").concat(H.x,",").concat(H.y,"]");const Ge=H.x,Y=H.y;typeof q=="number"&&(H.x=q),typeof K=="number"&&(H.y=K),H.moved=!0;let te=Q(L,ge);(ge==="vertical"&&typeof K=="number"?Y>=K:ge==="horizontal"&&typeof q=="number"?Ge>=q:!1)&&(te=te.reverse());const ye=S(te,H),Ce=ye.length>0;if(Ce&&Te)return u(L);if(Ce&&de)return"Collision prevented on ".concat(H.i,", reverting."),H.x=Ge,H.y=Y,H.moved=!1,L;for(let Je=0,Dt=ye.length;Je<Dt;Je++){const Be=ye[Je];"Resolving collision between ".concat(H.i," at [").concat(H.x,",").concat(H.y,"] and ").concat(Be.i," at [").concat(Be.x,",").concat(Be.y,"]"),!Be.moved&&(Be.static?L=O(L,Be,H,ae,ge):L=O(L,H,Be,ae,ge))}return L}function O(L,H,q,K,ae,de){const ge=ae==="horizontal",je=ae==="vertical",Te=H.static;if(K){K=!1;const te={x:ge?Math.max(H.x-q.w,0):q.x,y:je?Math.max(H.y-q.h,0):q.y,w:q.w,h:q.h,i:"-1"},pe=k(L,te),ye=pe&&pe.y+pe.h>H.y,Ce=pe&&H.x+H.w>pe.x;if(pe){if(ye&&je)return P(L,q,void 0,q.y+1,K,Te,ae);if(ye&&ae==null)return H.y=q.y,q.y=q.y+q.h,L;if(Ce&&ge)return P(L,H,q.x,void 0,K,Te,ae)}else return"Doing reverse collision on ".concat(q.i," up to [").concat(te.x,",").concat(te.y,"]."),P(L,q,ge?te.x:void 0,je?te.y:void 0,K,Te,ae)}const Ge=ge?q.x+1:void 0,Y=je?q.y+1:void 0;return Ge==null&&Y==null?L:P(L,q,ge?q.x+1:void 0,je?q.y+1:void 0,K,Te,ae)}function E(L){return L*100+"%"}const R=(L,H,q,K)=>L+q>K?H:q,z=(L,H,q)=>L<0?H:q,T=L=>Math.max(0,L),D=L=>Math.max(0,L),M=(L,H,q)=>{let{left:K,height:ae,width:de}=H;const ge=L.top-(ae-L.height);return{left:K,width:de,height:z(ge,L.height,ae),top:D(ge)}},B=(L,H,q)=>{let{top:K,left:ae,height:de,width:ge}=H;return{top:K,height:de,width:R(L.left,L.width,ge,q),left:T(ae)}},X=(L,H,q)=>{let{top:K,height:ae,width:de}=H;const ge=L.left-(de-L.width);return{height:ae,width:ge<0?L.width:R(L.left,L.width,de,q),top:D(K),left:T(ge)}},W=(L,H,q)=>{let{top:K,left:ae,height:de,width:ge}=H;return{width:ge,left:ae,height:z(K,L.height,de),top:D(K)}},ce={n:M,ne:function(){return M(arguments.length<=0?void 0:arguments[0],B(...arguments))},e:B,se:function(){return W(arguments.length<=0?void 0:arguments[0],B(...arguments))},s:W,sw:function(){return W(arguments.length<=0?void 0:arguments[0],X(...arguments))},w:X,nw:function(){return M(arguments.length<=0?void 0:arguments[0],X(...arguments))}};function we(L,H,q,K){const ae=ce[L];return ae?ae(H,a(a({},H),q),K):q}function ue(L){let{top:H,left:q,width:K,height:ae}=L;const de="translate(".concat(q,"px,").concat(H,"px)");return{transform:de,WebkitTransform:de,MozTransform:de,msTransform:de,OTransform:de,width:"".concat(K,"px"),height:"".concat(ae,"px"),position:"absolute"}}function Ne(L){let{top:H,left:q,width:K,height:ae}=L;return{top:"".concat(H,"px"),left:"".concat(q,"px"),width:"".concat(K,"px"),height:"".concat(ae,"px"),position:"absolute"}}function Q(L,H){return H==="horizontal"?se(L):H==="vertical"?V(L):L}function V(L){return L.slice(0).sort(function(H,q){return H.y>q.y||H.y===q.y&&H.x>q.x?1:H.y===q.y&&H.x===q.x?0:-1})}function se(L){return L.slice(0).sort(function(H,q){return H.x>q.x||H.x===q.x&&H.y>q.y?1:-1})}function oe(L,H,q,K,ae){L=L||[];const de=[];n.default.Children.forEach(H,je=>{if((je==null?void 0:je.key)==null)return;const Te=j(L,String(je.key)),Ge=je.props["data-grid"];Te&&Ge==null?de.push(p(Te)):Ge?de.push(p(a(a({},Ge),{},{i:je.key}))):de.push(p({w:1,h:1,x:0,y:d(de),i:String(je.key)}))});const ge=y(de,{cols:q});return ae?ge:v(ge,K,q)}function ie(L){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const q=["x","y","w","h"];if(!Array.isArray(L))throw new Error(H+" must be an array!");for(let K=0,ae=L.length;K<ae;K++){const de=L[K];for(let ge=0;ge<q.length;ge++){const je=q[ge],Te=de[je];if(typeof Te!="number"||Number.isNaN(Te))throw new Error("ReactGridLayout: ".concat(H,"[").concat(K,"].").concat(je," must be a number! Received: ").concat(Te," (").concat(typeof Te,")"))}if(typeof de.i<"u"&&typeof de.i!="string")throw new Error("ReactGridLayout: ".concat(H,"[").concat(K,"].i must be a string! Received: ").concat(de.i," (").concat(typeof de.i,")"))}}function Se(L){const{verticalCompact:H,compactType:q}=L||{};return H===!1?null:q}function $e(){}const Ve=()=>{};return Ee.noop=Ve,Ee}var pn={},td;function Ol(){if(td)return pn;td=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.calcGridColWidth=e,pn.calcGridItemPosition=r,pn.calcGridItemWHPx=n,pn.calcWH=a,pn.calcXY=s,pn.clamp=o;function e(l){const{margin:c,containerPadding:d,containerWidth:u,cols:h}=l;return(u-c[0]*(h-1)-d[0]*2)/h}function n(l,c,d){return Number.isFinite(l)?Math.round(c*l+Math.max(0,l-1)*d):l}function r(l,c,d,u,h,f){const{margin:p,containerPadding:m,rowHeight:w}=l,_=e(l),v={};return f&&f.resizing?(v.width=Math.round(f.resizing.width),v.height=Math.round(f.resizing.height)):(v.width=n(u,_,p[0]),v.height=n(h,w,p[1])),f&&f.dragging?(v.top=Math.round(f.dragging.top),v.left=Math.round(f.dragging.left)):f&&f.resizing&&typeof f.resizing.top=="number"&&typeof f.resizing.left=="number"?(v.top=Math.round(f.resizing.top),v.left=Math.round(f.resizing.left)):(v.top=Math.round((w+p[1])*d+m[1]),v.left=Math.round((_+p[0])*c+m[0])),v}function s(l,c,d,u,h){const{margin:f,containerPadding:p,cols:m,rowHeight:w,maxRows:_}=l,v=e(l);let g=Math.round((d-p[0])/(v+f[0])),x=Math.round((c-p[1])/(w+f[1]));return g=o(g,0,m-u),x=o(x,0,_-h),{x:g,y:x}}function a(l,c,d,u,h,f){const{margin:p,maxRows:m,cols:w,rowHeight:_}=l,v=e(l);let g=Math.round((c+p[0])/(v+p[0])),x=Math.round((d+p[1])/(_+p[1])),b=o(g,0,w-u),y=o(x,0,m-h);return["sw","w","nw"].indexOf(f)!==-1&&(b=o(g,0,w)),["nw","n","ne"].indexOf(f)!==-1&&(y=o(x,0,m)),{w:b,h:y}}function o(l,c,d){return Math.max(Math.min(l,d),c)}return pn}var Jr={},Qr={exports:{}},eo={},Xe={},En={},nd;function wa(){if(nd)return En;nd=1,Object.defineProperty(En,"__esModule",{value:!0}),En.dontSetMe=a,En.findInArray=e,En.int=s,En.isFunction=n,En.isNum=r;function e(o,l){for(let c=0,d=o.length;c<d;c++)if(l.apply(l,[o[c],c,o]))return o[c]}function n(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function r(o){return typeof o=="number"&&!isNaN(o)}function s(o){return parseInt(o,10)}function a(o,l,c){if(o[l])return new Error(`Invalid prop ${l} passed to ${c} - do not set this, set it on the child.`)}return En}var Pn={},rd;function r5(){if(rd)return Pn;rd=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.browserPrefixToKey=r,Pn.browserPrefixToStyle=s,Pn.default=void 0,Pn.getPrefix=n;const e=["Moz","Webkit","O","ms"];function n(){var c,d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(d=(c=window.document)==null?void 0:c.documentElement)==null?void 0:d.style;if(!l||o in l)return"";for(let u=0;u<e.length;u++)if(r(o,e[u])in l)return e[u];return""}function r(o,l){return l?`${l}${a(o)}`:o}function s(o,l){return l?`-${l.toLowerCase()}-${o}`:o}function a(o){let l="",c=!0;for(let d=0;d<o.length;d++)c?(l+=o[d].toUpperCase(),c=!1):o[d]==="-"?c=!0:l+=o[d];return l}return Pn.default=n(),Pn}var sd;function Tl(){if(sd)return Xe;sd=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.addClassName=j,Xe.addEvent=l,Xe.addUserSelectStyles=x,Xe.createCSSTransform=m,Xe.createSVGTransform=w,Xe.getTouch=v,Xe.getTouchIdentifier=g,Xe.getTranslation=_,Xe.innerHeight=h,Xe.innerWidth=f,Xe.matchesSelector=a,Xe.matchesSelectorAndParentsTo=o,Xe.offsetXYFromParent=p,Xe.outerHeight=d,Xe.outerWidth=u,Xe.removeClassName=k,Xe.removeEvent=c,Xe.scheduleRemoveUserSelectStyles=b;var e=wa(),n=r(r5());function r(S,C){if(typeof WeakMap=="function")var P=new WeakMap,O=new WeakMap;return(r=function(E,R){if(!R&&E&&E.__esModule)return E;var z,T,D={__proto__:null,default:E};if(E===null||typeof E!="object"&&typeof E!="function")return D;if(z=R?O:P){if(z.has(E))return z.get(E);z.set(E,D)}for(const M in E)M!=="default"&&{}.hasOwnProperty.call(E,M)&&((T=(z=Object.defineProperty)&&Object.getOwnPropertyDescriptor(E,M))&&(T.get||T.set)?z(D,M,T):D[M]=E[M]);return D})(S,C)}let s="";function a(S,C){return s||(s=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(P){return(0,e.isFunction)(S[P])})),(0,e.isFunction)(S[s])?S[s](C):!1}function o(S,C,P){let O=S;do{if(a(O,C))return!0;if(O===P)return!1;O=O.parentNode}while(O);return!1}function l(S,C,P,O){if(!S)return;const E={capture:!0,...O};S.addEventListener?S.addEventListener(C,P,E):S.attachEvent?S.attachEvent("on"+C,P):S["on"+C]=P}function c(S,C,P,O){if(!S)return;const E={capture:!0,...O};S.removeEventListener?S.removeEventListener(C,P,E):S.detachEvent?S.detachEvent("on"+C,P):S["on"+C]=null}function d(S){let C=S.clientHeight;const P=S.ownerDocument.defaultView.getComputedStyle(S);return C+=(0,e.int)(P.borderTopWidth),C+=(0,e.int)(P.borderBottomWidth),C}function u(S){let C=S.clientWidth;const P=S.ownerDocument.defaultView.getComputedStyle(S);return C+=(0,e.int)(P.borderLeftWidth),C+=(0,e.int)(P.borderRightWidth),C}function h(S){let C=S.clientHeight;const P=S.ownerDocument.defaultView.getComputedStyle(S);return C-=(0,e.int)(P.paddingTop),C-=(0,e.int)(P.paddingBottom),C}function f(S){let C=S.clientWidth;const P=S.ownerDocument.defaultView.getComputedStyle(S);return C-=(0,e.int)(P.paddingLeft),C-=(0,e.int)(P.paddingRight),C}function p(S,C,P){const E=C===C.ownerDocument.body?{left:0,top:0}:C.getBoundingClientRect(),R=(S.clientX+C.scrollLeft-E.left)/P,z=(S.clientY+C.scrollTop-E.top)/P;return{x:R,y:z}}function m(S,C){const P=_(S,C,"px");return{[(0,n.browserPrefixToKey)("transform",n.default)]:P}}function w(S,C){return _(S,C,"")}function _(S,C,P){let{x:O,y:E}=S,R=`translate(${O}${P},${E}${P})`;if(C){const z=`${typeof C.x=="string"?C.x:C.x+P}`,T=`${typeof C.y=="string"?C.y:C.y+P}`;R=`translate(${z}, ${T})`+R}return R}function v(S,C){return S.targetTouches&&(0,e.findInArray)(S.targetTouches,P=>C===P.identifier)||S.changedTouches&&(0,e.findInArray)(S.changedTouches,P=>C===P.identifier)}function g(S){if(S.targetTouches&&S.targetTouches[0])return S.targetTouches[0].identifier;if(S.changedTouches&&S.changedTouches[0])return S.changedTouches[0].identifier}function x(S){if(!S)return;let C=S.getElementById("react-draggable-style-el");C||(C=S.createElement("style"),C.type="text/css",C.id="react-draggable-style-el",C.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,C.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,S.getElementsByTagName("head")[0].appendChild(C)),S.body&&j(S.body,"react-draggable-transparent-selection")}function b(S){window.requestAnimationFrame?window.requestAnimationFrame(()=>{y(S)}):y(S)}function y(S){if(S)try{if(S.body&&k(S.body,"react-draggable-transparent-selection"),S.selection)S.selection.empty();else{const C=(S.defaultView||window).getSelection();C&&C.type!=="Caret"&&C.removeAllRanges()}}catch{}}function j(S,C){S.classList?S.classList.add(C):S.className.match(new RegExp(`(?:^|\\s)${C}(?!\\S)`))||(S.className+=` ${C}`)}function k(S,C){S.classList?S.classList.remove(C):S.className=S.className.replace(new RegExp(`(?:^|\\s)${C}(?!\\S)`,"g"),"")}return Xe}var Yt={},id;function mp(){if(id)return Yt;id=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.canDragX=a,Yt.canDragY=o,Yt.createCoreData=c,Yt.createDraggableData=d,Yt.getBoundPosition=r,Yt.getControlPosition=l,Yt.snapToGrid=s;var e=wa(),n=Tl();function r(f,p,m){if(!f.props.bounds)return[p,m];let{bounds:w}=f.props;w=typeof w=="string"?w:u(w);const _=h(f);if(typeof w=="string"){const{ownerDocument:v}=_,g=v.defaultView;let x;if(w==="parent"?x=_.parentNode:x=_.getRootNode().querySelector(w),!(x instanceof g.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const b=x,y=g.getComputedStyle(_),j=g.getComputedStyle(b);w={left:-_.offsetLeft+(0,e.int)(j.paddingLeft)+(0,e.int)(y.marginLeft),top:-_.offsetTop+(0,e.int)(j.paddingTop)+(0,e.int)(y.marginTop),right:(0,n.innerWidth)(b)-(0,n.outerWidth)(_)-_.offsetLeft+(0,e.int)(j.paddingRight)-(0,e.int)(y.marginRight),bottom:(0,n.innerHeight)(b)-(0,n.outerHeight)(_)-_.offsetTop+(0,e.int)(j.paddingBottom)-(0,e.int)(y.marginBottom)}}return(0,e.isNum)(w.right)&&(p=Math.min(p,w.right)),(0,e.isNum)(w.bottom)&&(m=Math.min(m,w.bottom)),(0,e.isNum)(w.left)&&(p=Math.max(p,w.left)),(0,e.isNum)(w.top)&&(m=Math.max(m,w.top)),[p,m]}function s(f,p,m){const w=Math.round(p/f[0])*f[0],_=Math.round(m/f[1])*f[1];return[w,_]}function a(f){return f.props.axis==="both"||f.props.axis==="x"}function o(f){return f.props.axis==="both"||f.props.axis==="y"}function l(f,p,m){const w=typeof p=="number"?(0,n.getTouch)(f,p):null;if(typeof p=="number"&&!w)return null;const _=h(m),v=m.props.offsetParent||_.offsetParent||_.ownerDocument.body;return(0,n.offsetXYFromParent)(w||f,v,m.props.scale)}function c(f,p,m){const w=!(0,e.isNum)(f.lastX),_=h(f);return w?{node:_,deltaX:0,deltaY:0,lastX:p,lastY:m,x:p,y:m}:{node:_,deltaX:p-f.lastX,deltaY:m-f.lastY,lastX:f.lastX,lastY:f.lastY,x:p,y:m}}function d(f,p){const m=f.props.scale;return{node:p.node,x:f.state.x+p.deltaX/m,y:f.state.y+p.deltaY/m,deltaX:p.deltaX/m,deltaY:p.deltaY/m,lastX:f.state.x,lastY:f.state.y}}function u(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function h(f){const p=f.findDOMNode();if(!p)throw new Error("<DraggableCore>: Unmounted during event!");return p}return Yt}var Zr={},pi={},ad;function gp(){if(ad)return pi;ad=1,Object.defineProperty(pi,"__esModule",{value:!0}),pi.default=e;function e(){}return pi}var od;function s5(){if(od)return Zr;od=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0;var e=d(Ut()),n=c(zn()),r=c(Ji()),s=Tl(),a=mp(),o=wa(),l=c(gp());function c(_){return _&&_.__esModule?_:{default:_}}function d(_,v){if(typeof WeakMap=="function")var g=new WeakMap,x=new WeakMap;return(d=function(b,y){if(!y&&b&&b.__esModule)return b;var j,k,S={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return S;if(j=y?x:g){if(j.has(b))return j.get(b);j.set(b,S)}for(const C in b)C!=="default"&&{}.hasOwnProperty.call(b,C)&&((k=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,C))&&(k.get||k.set)?j(S,C,k):S[C]=b[C]);return S})(_,v)}function u(_,v,g){return(v=h(v))in _?Object.defineProperty(_,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):_[v]=g,_}function h(_){var v=f(_,"string");return typeof v=="symbol"?v:v+""}function f(_,v){if(typeof _!="object"||!_)return _;var g=_[Symbol.toPrimitive];if(g!==void 0){var x=g.call(_,v);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(_)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let m=p.mouse,w=class extends e.Component{constructor(){super(...arguments),u(this,"dragging",!1),u(this,"lastX",NaN),u(this,"lastY",NaN),u(this,"touchIdentifier",null),u(this,"mounted",!1),u(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const g=this.findDOMNode();if(!g||!g.ownerDocument||!g.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:x}=g;if(this.props.disabled||!(v.target instanceof x.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(v.target,this.props.handle,g)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(v.target,this.props.cancel,g))return;v.type==="touchstart"&&!this.props.allowMobileScroll&&v.preventDefault();const b=(0,s.getTouchIdentifier)(v);this.touchIdentifier=b;const y=(0,a.getControlPosition)(v,b,this);if(y==null)return;const{x:j,y:k}=y,S=(0,a.createCoreData)(this,j,k);(0,l.default)("DraggableCore: handleDragStart: %j",S),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(v,S)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(x),this.dragging=!0,this.lastX=j,this.lastY=k,(0,s.addEvent)(x,m.move,this.handleDrag),(0,s.addEvent)(x,m.stop,this.handleDragStop))}),u(this,"handleDrag",v=>{const g=(0,a.getControlPosition)(v,this.touchIdentifier,this);if(g==null)return;let{x,y:b}=g;if(Array.isArray(this.props.grid)){let k=x-this.lastX,S=b-this.lastY;if([k,S]=(0,a.snapToGrid)(this.props.grid,k,S),!k&&!S)return;x=this.lastX+k,b=this.lastY+S}const y=(0,a.createCoreData)(this,x,b);if((0,l.default)("DraggableCore: handleDrag: %j",y),this.props.onDrag(v,y)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const S=document.createEvent("MouseEvents");S.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(S)}return}this.lastX=x,this.lastY=b}),u(this,"handleDragStop",v=>{if(!this.dragging)return;const g=(0,a.getControlPosition)(v,this.touchIdentifier,this);if(g==null)return;let{x,y:b}=g;if(Array.isArray(this.props.grid)){let S=x-this.lastX||0,C=b-this.lastY||0;[S,C]=(0,a.snapToGrid)(this.props.grid,S,C),x=this.lastX+S,b=this.lastY+C}const y=(0,a.createCoreData)(this,x,b);if(this.props.onStop(v,y)===!1||this.mounted===!1)return!1;const k=this.findDOMNode();k&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(k.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",y),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,k&&((0,l.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(k.ownerDocument,m.move,this.handleDrag),(0,s.removeEvent)(k.ownerDocument,m.stop,this.handleDragStop))}),u(this,"onMouseDown",v=>(m=p.mouse,this.handleDragStart(v))),u(this,"onMouseUp",v=>(m=p.mouse,this.handleDragStop(v))),u(this,"onTouchStart",v=>(m=p.touch,this.handleDragStart(v))),u(this,"onTouchEnd",v=>(m=p.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,s.addEvent)(v,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:g}=v;(0,s.removeEvent)(g,p.mouse.move,this.handleDrag),(0,s.removeEvent)(g,p.touch.move,this.handleDrag),(0,s.removeEvent)(g,p.mouse.stop,this.handleDragStop),(0,s.removeEvent)(g,p.touch.stop,this.handleDragStop),(0,s.removeEvent)(v,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(g)}}findDOMNode(){var v,g,x;return(v=this.props)!=null&&v.nodeRef?(x=(g=this.props)==null?void 0:g.nodeRef)==null?void 0:x.current:r.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Zr.default=w,u(w,"displayName","DraggableCore"),u(w,"propTypes",{allowAnyClick:n.default.bool,allowMobileScroll:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(_,v){if(_[v]&&_[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),u(w,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Zr}var ld;function i5(){return ld||(ld=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),e.default=void 0;var n=f(Ut()),r=h(zn()),s=h(Ji()),a=va(),o=Tl(),l=mp(),c=wa(),d=h(s5()),u=h(gp());function h(g){return g&&g.__esModule?g:{default:g}}function f(g,x){if(typeof WeakMap=="function")var b=new WeakMap,y=new WeakMap;return(f=function(j,k){if(!k&&j&&j.__esModule)return j;var S,C,P={__proto__:null,default:j};if(j===null||typeof j!="object"&&typeof j!="function")return P;if(S=k?y:b){if(S.has(j))return S.get(j);S.set(j,P)}for(const O in j)O!=="default"&&{}.hasOwnProperty.call(j,O)&&((C=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(j,O))&&(C.get||C.set)?S(P,O,C):P[O]=j[O]);return P})(g,x)}function p(){return p=Object.assign?Object.assign.bind():function(g){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var y in b)({}).hasOwnProperty.call(b,y)&&(g[y]=b[y])}return g},p.apply(null,arguments)}function m(g,x,b){return(x=w(x))in g?Object.defineProperty(g,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[x]=b,g}function w(g){var x=_(g,"string");return typeof x=="symbol"?x:x+""}function _(g,x){if(typeof g!="object"||!g)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var y=b.call(g,x);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(g)}class v extends n.Component{static getDerivedStateFromProps(x,b){let{position:y}=x,{prevPropsPosition:j}=b;return y&&(!j||y.x!==j.x||y.y!==j.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:y,prevPropsPosition:j}),{x:y.x,y:y.y,prevPropsPosition:{...y}}):null}constructor(x){super(x),m(this,"onDragStart",(b,y)=>{if((0,u.default)("Draggable: onDragStart: %j",y),this.props.onStart(b,(0,l.createDraggableData)(this,y))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(b,y)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",y);const j=(0,l.createDraggableData)(this,y),k={x:j.x,y:j.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:P}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[O,E]=(0,l.getBoundPosition)(this,k.x,k.y);k.x=O,k.y=E,k.slackX=this.state.slackX+(C-k.x),k.slackY=this.state.slackY+(P-k.y),j.x=k.x,j.y=k.y,j.deltaX=k.x-this.state.x,j.deltaY=k.y-this.state.y}if(this.props.onDrag(b,j)===!1)return!1;this.setState(k)}),m(this,"onDragStop",(b,y)=>{if(!this.state.dragging||this.props.onStop(b,(0,l.createDraggableData)(this,y))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",y);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:P}=this.props.position;k.x=C,k.y=P}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:x.position?x.position.x:x.defaultPosition.x,y:x.position?x.position.y:x.defaultPosition.y,prevPropsPosition:{...x.position},slackX:0,slackY:0,isElementSVG:!1},x.position&&!(x.onDrag||x.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var x,b;return((b=(x=this.props)==null?void 0:x.nodeRef)==null?void 0:b.current)??s.default.findDOMNode(this)}render(){const{axis:x,bounds:b,children:y,defaultPosition:j,defaultClassName:k,defaultClassNameDragging:S,defaultClassNameDragged:C,position:P,positionOffset:O,scale:E,...R}=this.props;let z={},T=null;const M=!!!P||this.state.dragging,B=P||j,X={x:(0,l.canDragX)(this)&&M?this.state.x:B.x,y:(0,l.canDragY)(this)&&M?this.state.y:B.y};this.state.isElementSVG?T=(0,o.createSVGTransform)(X,O):z=(0,o.createCSSTransform)(X,O);const W=(0,a.clsx)(y.props.className||"",k,{[S]:this.state.dragging,[C]:this.state.dragged});return n.createElement(d.default,p({},R,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(y),{className:W,style:{...y.props.style,...z},transform:T}))}}e.default=v,m(v,"displayName","Draggable"),m(v,"propTypes",{...d.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),m(v,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(eo)),eo}var cd;function Dl(){if(cd)return Qr.exports;cd=1;const{default:e,DraggableCore:n}=i5();return Qr.exports=e,Qr.exports.default=e,Qr.exports.DraggableCore=n,Qr.exports}var es={exports:{}},ts={},mi={},ud;function a5(){if(ud)return mi;ud=1,mi.__esModule=!0,mi.cloneElement=c;var e=n(Ut());function n(d){return d&&d.__esModule?d:{default:d}}function r(d,u){var h=Object.keys(d);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(d);u&&(f=f.filter(function(p){return Object.getOwnPropertyDescriptor(d,p).enumerable})),h.push.apply(h,f)}return h}function s(d){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{};u%2?r(Object(h),!0).forEach(function(f){a(d,f,h[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(h)):r(Object(h)).forEach(function(f){Object.defineProperty(d,f,Object.getOwnPropertyDescriptor(h,f))})}return d}function a(d,u,h){return u=o(u),u in d?Object.defineProperty(d,u,{value:h,enumerable:!0,configurable:!0,writable:!0}):d[u]=h,d}function o(d){var u=l(d,"string");return typeof u=="symbol"?u:String(u)}function l(d,u){if(typeof d!="object"||d===null)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var f=h.call(d,u);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(d)}function c(d,u){return u.style&&d.props.style&&(u.style=s(s({},d.props.style),u.style)),u.className&&d.props.className&&(u.className=d.props.className+" "+u.className),e.default.cloneElement(d,u)}return mi}var ns={},dd;function xp(){if(dd)return ns;dd=1,ns.__esModule=!0,ns.resizableProps=void 0;var e=n(zn());Dl();function n(s){return s&&s.__esModule?s:{default:s}}var r={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=o[0];if(c.axis==="both"||c.axis==="y"){var d;return(d=e.default.number).isRequired.apply(d,o)}return e.default.number.apply(e.default,o)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=o[0];if(c.axis==="both"||c.axis==="x"){var d;return(d=e.default.number).isRequired.apply(d,o)}return e.default.number.apply(e.default,o)}};return ns.resizableProps=r,ns}var hd;function yp(){if(hd)return ts;hd=1,ts.__esModule=!0,ts.default=void 0;var e=l(Ut()),n=Dl(),r=a5(),s=xp(),a=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(g){if(typeof WeakMap!="function")return null;var x=new WeakMap,b=new WeakMap;return(o=function(j){return j?b:x})(g)}function l(g,x){if(g&&g.__esModule)return g;if(g===null||typeof g!="object"&&typeof g!="function")return{default:g};var b=o(x);if(b&&b.has(g))return b.get(g);var y={},j=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in g)if(k!=="default"&&Object.prototype.hasOwnProperty.call(g,k)){var S=j?Object.getOwnPropertyDescriptor(g,k):null;S&&(S.get||S.set)?Object.defineProperty(y,k,S):y[k]=g[k]}return y.default=g,b&&b.set(g,y),y}function c(){return c=Object.assign?Object.assign.bind():function(g){for(var x=1;x<arguments.length;x++){var b=arguments[x];for(var y in b)Object.prototype.hasOwnProperty.call(b,y)&&(g[y]=b[y])}return g},c.apply(this,arguments)}function d(g,x){if(g==null)return{};var b={},y=Object.keys(g),j,k;for(k=0;k<y.length;k++)j=y[k],!(x.indexOf(j)>=0)&&(b[j]=g[j]);return b}function u(g,x){var b=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);x&&(y=y.filter(function(j){return Object.getOwnPropertyDescriptor(g,j).enumerable})),b.push.apply(b,y)}return b}function h(g){for(var x=1;x<arguments.length;x++){var b=arguments[x]!=null?arguments[x]:{};x%2?u(Object(b),!0).forEach(function(y){f(g,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(b,y))})}return g}function f(g,x,b){return x=p(x),x in g?Object.defineProperty(g,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[x]=b,g}function p(g){var x=m(g,"string");return typeof x=="symbol"?x:String(x)}function m(g,x){if(typeof g!="object"||g===null)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var y=b.call(g,x);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(g)}function w(g,x){g.prototype=Object.create(x.prototype),g.prototype.constructor=g,_(g,x)}function _(g,x){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,j){return y.__proto__=j,y},_(g,x)}var v=(function(g){w(x,g);function x(){for(var y,j=arguments.length,k=new Array(j),S=0;S<j;S++)k[S]=arguments[S];return y=g.call.apply(g,[this].concat(k))||this,y.handleRefs={},y.lastHandleRect=null,y.slack=null,y}var b=x.prototype;return b.componentWillUnmount=function(){this.resetData()},b.resetData=function(){this.lastHandleRect=this.slack=null},b.runConstraints=function(j,k){var S=this.props,C=S.minConstraints,P=S.maxConstraints,O=S.lockAspectRatio;if(!C&&!P&&!O)return[j,k];if(O){var E=this.props.width/this.props.height,R=j-this.props.width,z=k-this.props.height;Math.abs(R)>Math.abs(z*E)?k=j/E:j=k*E}var T=j,D=k,M=this.slack||[0,0],B=M[0],X=M[1];return j+=B,k+=X,C&&(j=Math.max(C[0],j),k=Math.max(C[1],k)),P&&(j=Math.min(P[0],j),k=Math.min(P[1],k)),this.slack=[B+(T-j),X+(D-k)],[j,k]},b.resizeHandler=function(j,k){var S=this;return function(C,P){var O=P.node,E=P.deltaX,R=P.deltaY;j==="onResizeStart"&&S.resetData();var z=(S.props.axis==="both"||S.props.axis==="x")&&k!=="n"&&k!=="s",T=(S.props.axis==="both"||S.props.axis==="y")&&k!=="e"&&k!=="w";if(!(!z&&!T)){var D=k[0],M=k[k.length-1],B=O.getBoundingClientRect();if(S.lastHandleRect!=null){if(M==="w"){var X=B.left-S.lastHandleRect.left;E+=X}if(D==="n"){var W=B.top-S.lastHandleRect.top;R+=W}}S.lastHandleRect=B,M==="w"&&(E=-E),D==="n"&&(R=-R);var $=S.props.width+(z?E/S.props.transformScale:0),Z=S.props.height+(T?R/S.props.transformScale:0),J=S.runConstraints($,Z);$=J[0],Z=J[1];var I=$!==S.props.width||Z!==S.props.height,ce=typeof S.props[j]=="function"?S.props[j]:null,we=j==="onResize"&&!I;ce&&!we&&(C.persist==null||C.persist(),ce(C,{node:O,size:{width:$,height:Z},handle:k})),j==="onResizeStop"&&S.resetData()}}},b.renderResizeHandle=function(j,k){var S=this.props.handle;if(!S)return e.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+j,ref:k});if(typeof S=="function")return S(j,k);var C=typeof S.type=="string",P=h({ref:k},C?{}:{handleAxis:j});return e.cloneElement(S,P)},b.render=function(){var j=this,k=this.props,S=k.children,C=k.className,P=k.draggableOpts;k.width,k.height,k.handle,k.handleSize,k.lockAspectRatio,k.axis,k.minConstraints,k.maxConstraints,k.onResize,k.onResizeStop,k.onResizeStart;var O=k.resizeHandles;k.transformScale;var E=d(k,a);return(0,r.cloneElement)(S,h(h({},E),{},{className:(C?C+" ":"")+"react-resizable",children:[].concat(S.props.children,O.map(function(R){var z,T=(z=j.handleRefs[R])!=null?z:j.handleRefs[R]=e.createRef();return e.createElement(n.DraggableCore,c({},P,{nodeRef:T,key:"resizableHandle-"+R,onStop:j.resizeHandler("onResizeStop",R),onStart:j.resizeHandler("onResizeStart",R),onDrag:j.resizeHandler("onResize",R)}),j.renderResizeHandle(R,T))}))}))},x})(e.Component);return ts.default=v,v.propTypes=s.resizableProps,v.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},ts}var rs={},fd;function o5(){if(fd)return rs;fd=1,rs.__esModule=!0,rs.default=void 0;var e=c(Ut()),n=o(zn()),r=o(yp()),s=xp(),a=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(x){return x&&x.__esModule?x:{default:x}}function l(x){if(typeof WeakMap!="function")return null;var b=new WeakMap,y=new WeakMap;return(l=function(k){return k?y:b})(x)}function c(x,b){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var y=l(b);if(y&&y.has(x))return y.get(x);var j={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in x)if(S!=="default"&&Object.prototype.hasOwnProperty.call(x,S)){var C=k?Object.getOwnPropertyDescriptor(x,S):null;C&&(C.get||C.set)?Object.defineProperty(j,S,C):j[S]=x[S]}return j.default=x,y&&y.set(x,j),j}function d(){return d=Object.assign?Object.assign.bind():function(x){for(var b=1;b<arguments.length;b++){var y=arguments[b];for(var j in y)Object.prototype.hasOwnProperty.call(y,j)&&(x[j]=y[j])}return x},d.apply(this,arguments)}function u(x,b){var y=Object.keys(x);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(x);b&&(j=j.filter(function(k){return Object.getOwnPropertyDescriptor(x,k).enumerable})),y.push.apply(y,j)}return y}function h(x){for(var b=1;b<arguments.length;b++){var y=arguments[b]!=null?arguments[b]:{};b%2?u(Object(y),!0).forEach(function(j){f(x,j,y[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(y)):u(Object(y)).forEach(function(j){Object.defineProperty(x,j,Object.getOwnPropertyDescriptor(y,j))})}return x}function f(x,b,y){return b=p(b),b in x?Object.defineProperty(x,b,{value:y,enumerable:!0,configurable:!0,writable:!0}):x[b]=y,x}function p(x){var b=m(x,"string");return typeof b=="symbol"?b:String(b)}function m(x,b){if(typeof x!="object"||x===null)return x;var y=x[Symbol.toPrimitive];if(y!==void 0){var j=y.call(x,b);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(x)}function w(x,b){if(x==null)return{};var y={},j=Object.keys(x),k,S;for(S=0;S<j.length;S++)k=j[S],!(b.indexOf(k)>=0)&&(y[k]=x[k]);return y}function _(x,b){x.prototype=Object.create(b.prototype),x.prototype.constructor=x,v(x,b)}function v(x,b){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,k){return j.__proto__=k,j},v(x,b)}var g=(function(x){_(b,x);function b(){for(var j,k=arguments.length,S=new Array(k),C=0;C<k;C++)S[C]=arguments[C];return j=x.call.apply(x,[this].concat(S))||this,j.state={width:j.props.width,height:j.props.height,propsWidth:j.props.width,propsHeight:j.props.height},j.onResize=function(P,O){var E=O.size;j.props.onResize?(P.persist==null||P.persist(),j.setState(E,function(){return j.props.onResize&&j.props.onResize(P,O)})):j.setState(E)},j}b.getDerivedStateFromProps=function(k,S){return S.propsWidth!==k.width||S.propsHeight!==k.height?{width:k.width,height:k.height,propsWidth:k.width,propsHeight:k.height}:null};var y=b.prototype;return y.render=function(){var k=this.props,S=k.handle,C=k.handleSize;k.onResize;var P=k.onResizeStart,O=k.onResizeStop,E=k.draggableOpts,R=k.minConstraints,z=k.maxConstraints,T=k.lockAspectRatio,D=k.axis;k.width,k.height;var M=k.resizeHandles,B=k.style,X=k.transformScale,W=w(k,a);return e.createElement(r.default,{axis:D,draggableOpts:E,handle:S,handleSize:C,height:this.state.height,lockAspectRatio:T,maxConstraints:z,minConstraints:R,onResizeStart:P,onResize:this.onResize,onResizeStop:O,resizeHandles:M,transformScale:X,width:this.state.width},e.createElement("div",d({},W,{style:h(h({},B),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},b})(e.Component);return rs.default=g,g.propTypes=h(h({},s.resizableProps),{},{children:n.default.element}),rs}var pd;function l5(){return pd||(pd=1,es.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},es.exports.Resizable=yp().default,es.exports.ResizableBox=o5().default),es.exports}var mn={},md;function bp(){if(md)return mn;md=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.resizeHandleType=mn.resizeHandleAxesType=mn.default=void 0;var e=r(zn()),n=r(Ut());function r(o){return o&&o.__esModule?o:{default:o}}const s=mn.resizeHandleAxesType=e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),a=mn.resizeHandleType=e.default.oneOfType([e.default.node,e.default.func]);return mn.default={className:e.default.string,style:e.default.object,width:e.default.number,autoSize:e.default.bool,cols:e.default.number,draggableCancel:e.default.string,draggableHandle:e.default.string,verticalCompact:function(o){o.verticalCompact},compactType:e.default.oneOf(["vertical","horizontal"]),layout:function(o){var l=o.layout;l!==void 0&&Er().validateLayout(l,"layout")},margin:e.default.arrayOf(e.default.number),containerPadding:e.default.arrayOf(e.default.number),rowHeight:e.default.number,maxRows:e.default.number,isBounded:e.default.bool,isDraggable:e.default.bool,isResizable:e.default.bool,allowOverlap:e.default.bool,preventCollision:e.default.bool,useCSSTransforms:e.default.bool,transformScale:e.default.number,isDroppable:e.default.bool,resizeHandles:s,resizeHandle:a,onLayoutChange:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onDragStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,onResizeStop:e.default.func,onDrop:e.default.func,droppingItem:e.default.shape({i:e.default.string.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired}),children:function(o,l){const c=o[l],d={};n.default.Children.forEach(c,function(u){if((u==null?void 0:u.key)!=null){if(d[u.key])throw new Error('Duplicate child key "'+u.key+'" found! This will cause problems in ReactGridLayout.');d[u.key]=!0}})},innerRef:e.default.any},mn}var gd;function c5(){if(gd)return Jr;gd=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.default=void 0;var e=u(Ut()),n=Ji(),r=u(zn()),s=Dl(),a=l5(),o=Er(),l=Ol(),c=bp(),d=u(va());function u(v){return v&&v.__esModule?v:{default:v}}function h(v,g){var x=Object.keys(v);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(v);g&&(b=b.filter(function(y){return Object.getOwnPropertyDescriptor(v,y).enumerable})),x.push.apply(x,b)}return x}function f(v){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?h(Object(x),!0).forEach(function(b){p(v,b,x[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(x)):h(Object(x)).forEach(function(b){Object.defineProperty(v,b,Object.getOwnPropertyDescriptor(x,b))})}return v}function p(v,g,x){return(g=m(g))in v?Object.defineProperty(v,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):v[g]=x,v}function m(v){var g=w(v,"string");return typeof g=="symbol"?g:g+""}function w(v,g){if(typeof v!="object"||!v)return v;var x=v[Symbol.toPrimitive];if(x!==void 0){var b=x.call(v,g);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(g==="string"?String:Number)(v)}let _=class extends e.default.Component{constructor(){super(...arguments),p(this,"state",{resizing:null,dragging:null,className:""}),p(this,"elementRef",e.default.createRef()),p(this,"onDragStart",(g,x)=>{let{node:b}=x;const{onDragStart:y,transformScale:j}=this.props;if(!y)return;const k={top:0,left:0},{offsetParent:S}=b;if(!S)return;const C=S.getBoundingClientRect(),P=b.getBoundingClientRect(),O=P.left/j,E=C.left/j,R=P.top/j,z=C.top/j;k.left=O-E+S.scrollLeft,k.top=R-z+S.scrollTop,this.setState({dragging:k});const{x:T,y:D}=(0,l.calcXY)(this.getPositionParams(),k.top,k.left,this.props.w,this.props.h);return y.call(this,this.props.i,T,D,{e:g,node:b,newPosition:k})}),p(this,"onDrag",(g,x,b)=>{let{node:y,deltaX:j,deltaY:k}=x;const{onDrag:S}=this.props;if(!S)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let C=this.state.dragging.top+k,P=this.state.dragging.left+j;const{isBounded:O,i:E,w:R,h:z,containerWidth:T}=this.props,D=this.getPositionParams();if(O){const{offsetParent:W}=y;if(W){const{margin:$,rowHeight:Z}=this.props,J=W.clientHeight-(0,l.calcGridItemWHPx)(z,Z,$[1]);C=(0,l.clamp)(C,0,J);const I=(0,l.calcGridColWidth)(D),ce=T-(0,l.calcGridItemWHPx)(R,I,$[0]);P=(0,l.clamp)(P,0,ce)}}const M={top:C,left:P};b?this.setState({dragging:M}):(0,n.flushSync)(()=>{this.setState({dragging:M})});const{x:B,y:X}=(0,l.calcXY)(D,C,P,R,z);return S.call(this,E,B,X,{e:g,node:y,newPosition:M})}),p(this,"onDragStop",(g,x)=>{let{node:b}=x;const{onDragStop:y}=this.props;if(!y)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:j,h:k,i:S}=this.props,{left:C,top:P}=this.state.dragging,O={top:P,left:C};this.setState({dragging:null});const{x:E,y:R}=(0,l.calcXY)(this.getPositionParams(),P,C,j,k);return y.call(this,S,E,R,{e:g,node:b,newPosition:O})}),p(this,"onResizeStop",(g,x,b)=>this.onResizeHandler(g,x,b,"onResizeStop")),p(this,"onResizeStart",(g,x,b)=>this.onResizeHandler(g,x,b,"onResizeStart")),p(this,"onResize",(g,x,b)=>this.onResizeHandler(g,x,b,"onResize"))}shouldComponentUpdate(g,x){if(this.props.children!==g.children||this.props.droppingPosition!==g.droppingPosition)return!0;const b=(0,l.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),y=(0,l.calcGridItemPosition)(this.getPositionParams(g),g.x,g.y,g.w,g.h,x);return!(0,o.fastPositionEqual)(b,y)||this.props.useCSSTransforms!==g.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(g){this.moveDroppingItem(g)}moveDroppingItem(g){const{droppingPosition:x}=this.props;if(!x)return;const b=this.elementRef.current;if(!b)return;const y=g.droppingPosition||{left:0,top:0},{dragging:j}=this.state,k=j&&x.left!==y.left||x.top!==y.top;if(!j)this.onDragStart(x.e,{node:b,deltaX:x.left,deltaY:x.top});else if(k){const S=x.left-j.left,C=x.top-j.top;this.onDrag(x.e,{node:b,deltaX:S,deltaY:C},!0)}}getPositionParams(){let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:g.cols,containerPadding:g.containerPadding,containerWidth:g.containerWidth,margin:g.margin,maxRows:g.maxRows,rowHeight:g.rowHeight}}createStyle(g){const{usePercentages:x,containerWidth:b,useCSSTransforms:y}=this.props;let j;return y?j=(0,o.setTransform)(g):(j=(0,o.setTopLeft)(g),x&&(j.left=(0,o.perc)(g.left/b),j.width=(0,o.perc)(g.width/b))),j}mixinDraggable(g,x){return e.default.createElement(s.DraggableCore,{disabled:!x,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},g)}curryResizeHandler(g,x){return(b,y)=>x(b,y,g)}mixinResizable(g,x,b){const{cols:y,minW:j,minH:k,maxW:S,maxH:C,transformScale:P,resizeHandles:O,resizeHandle:E}=this.props,R=this.getPositionParams(),z=(0,l.calcGridItemPosition)(R,0,0,y,0).width,T=(0,l.calcGridItemPosition)(R,0,0,j,k),D=(0,l.calcGridItemPosition)(R,0,0,S,C),M=[T.width,T.height],B=[Math.min(D.width,z),Math.min(D.height,1/0)];return e.default.createElement(a.Resizable,{draggableOpts:{disabled:!b},className:b?void 0:"react-resizable-hide",width:x.width,height:x.height,minConstraints:M,maxConstraints:B,onResizeStop:this.curryResizeHandler(x,this.onResizeStop),onResizeStart:this.curryResizeHandler(x,this.onResizeStart),onResize:this.curryResizeHandler(x,this.onResize),transformScale:P,resizeHandles:O,handle:E},g)}onResizeHandler(g,x,b,y){let{node:j,size:k,handle:S}=x;const C=this.props[y];if(!C)return;const{x:P,y:O,i:E,maxH:R,minH:z,containerWidth:T}=this.props,{minW:D,maxW:M}=this.props;let B=k;j&&(B=(0,o.resizeItemInDirection)(S,b,k,T),(0,n.flushSync)(()=>{this.setState({resizing:y==="onResizeStop"?null:B})}));let{w:X,h:W}=(0,l.calcWH)(this.getPositionParams(),B.width,B.height,P,O,S);X=(0,l.clamp)(X,Math.max(D,1),M),W=(0,l.clamp)(W,z,R),C.call(this,E,X,W,{e:g,node:j,size:B,handle:S})}render(){const{x:g,y:x,w:b,h:y,isDraggable:j,isResizable:k,droppingPosition:S,useCSSTransforms:C}=this.props,P=(0,l.calcGridItemPosition)(this.getPositionParams(),g,x,b,y,this.state),O=e.default.Children.only(this.props.children);let E=e.default.cloneElement(O,{ref:this.elementRef,className:(0,d.default)("react-grid-item",O.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":j,"react-draggable-dragging":!!this.state.dragging,dropping:!!S,cssTransforms:C}),style:f(f(f({},this.props.style),O.props.style),this.createStyle(P))});return E=this.mixinResizable(E,P,k),E=this.mixinDraggable(E,j),E}};return Jr.default=_,p(_,"propTypes",{children:r.default.element,cols:r.default.number.isRequired,containerWidth:r.default.number.isRequired,rowHeight:r.default.number.isRequired,margin:r.default.array.isRequired,maxRows:r.default.number.isRequired,containerPadding:r.default.array.isRequired,x:r.default.number.isRequired,y:r.default.number.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired,minW:function(v,g){const x=v[g];if(typeof x!="number")return new Error("minWidth not Number");if(x>v.w||x>v.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(v,g){const x=v[g];if(typeof x!="number")return new Error("maxWidth not Number");if(x<v.w||x<v.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(v,g){const x=v[g];if(typeof x!="number")return new Error("minHeight not Number");if(x>v.h||x>v.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(v,g){const x=v[g];if(typeof x!="number")return new Error("maxHeight not Number");if(x<v.h||x<v.minH)return new Error("maxHeight smaller than item height/minHeight")},i:r.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,isDraggable:r.default.bool.isRequired,isResizable:r.default.bool.isRequired,isBounded:r.default.bool.isRequired,static:r.default.bool,useCSSTransforms:r.default.bool.isRequired,transformScale:r.default.number,className:r.default.string,handle:r.default.string,cancel:r.default.string,droppingPosition:r.default.shape({e:r.default.object.isRequired,left:r.default.number.isRequired,top:r.default.number.isRequired})}),p(_,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Jr}var xd;function vp(){if(xd)return Kr;xd=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0;var e=d(Ut()),n=Rl(),r=c(va()),s=Er(),a=Ol(),o=c(c5()),l=c(bp());function c(g){return g&&g.__esModule?g:{default:g}}function d(g,x){if(typeof WeakMap=="function")var b=new WeakMap,y=new WeakMap;return(d=function(j,k){if(!k&&j&&j.__esModule)return j;var S,C,P={__proto__:null,default:j};if(j===null||typeof j!="object"&&typeof j!="function")return P;if(S=k?y:b){if(S.has(j))return S.get(j);S.set(j,P)}for(const O in j)O!=="default"&&{}.hasOwnProperty.call(j,O)&&((C=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(j,O))&&(C.get||C.set)?S(P,O,C):P[O]=j[O]);return P})(g,x)}function u(g,x){var b=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);x&&(y=y.filter(function(j){return Object.getOwnPropertyDescriptor(g,j).enumerable})),b.push.apply(b,y)}return b}function h(g){for(var x=1;x<arguments.length;x++){var b=arguments[x]!=null?arguments[x]:{};x%2?u(Object(b),!0).forEach(function(y){f(g,y,b[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(b,y))})}return g}function f(g,x,b){return(x=p(x))in g?Object.defineProperty(g,x,{value:b,enumerable:!0,configurable:!0,writable:!0}):g[x]=b,g}function p(g){var x=m(g,"string");return typeof x=="symbol"?x:x+""}function m(g,x){if(typeof g!="object"||!g)return g;var b=g[Symbol.toPrimitive];if(b!==void 0){var y=b.call(g,x);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(g)}const w="react-grid-layout";let _=!1;try{_=/firefox/i.test(navigator.userAgent)}catch{}let v=class extends e.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,s.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(x,b,y,j)=>{let{e:k,node:S}=j;const{layout:C}=this.state,P=(0,s.getLayoutItem)(C,x);if(!P)return;const O={w:P.w,h:P.h,x:P.x,y:P.y,placeholder:!0,i:x};return this.setState({oldDragItem:(0,s.cloneLayoutItem)(P),oldLayout:C,activeDrag:O}),this.props.onDragStart(C,P,P,null,k,S)}),f(this,"onDrag",(x,b,y,j)=>{let{e:k,node:S}=j;const{oldDragItem:C}=this.state;let{layout:P}=this.state;const{cols:O,allowOverlap:E,preventCollision:R}=this.props,z=(0,s.getLayoutItem)(P,x);if(!z)return;const T={w:z.w,h:z.h,x:z.x,y:z.y,placeholder:!0,i:x};P=(0,s.moveElement)(P,z,b,y,!0,R,(0,s.compactType)(this.props),O,E),this.props.onDrag(P,C,z,T,k,S),this.setState({layout:E?P:(0,s.compact)(P,(0,s.compactType)(this.props),O),activeDrag:T})}),f(this,"onDragStop",(x,b,y,j)=>{let{e:k,node:S}=j;if(!this.state.activeDrag)return;const{oldDragItem:C}=this.state;let{layout:P}=this.state;const{cols:O,preventCollision:E,allowOverlap:R}=this.props,z=(0,s.getLayoutItem)(P,x);if(!z)return;P=(0,s.moveElement)(P,z,b,y,!0,E,(0,s.compactType)(this.props),O,R);const D=R?P:(0,s.compact)(P,(0,s.compactType)(this.props),O);this.props.onDragStop(D,C,z,null,k,S);const{oldLayout:M}=this.state;this.setState({activeDrag:null,layout:D,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(D,M)}),f(this,"onResizeStart",(x,b,y,j)=>{let{e:k,node:S}=j;const{layout:C}=this.state,P=(0,s.getLayoutItem)(C,x);P&&(this.setState({oldResizeItem:(0,s.cloneLayoutItem)(P),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(C,P,P,null,k,S))}),f(this,"onResize",(x,b,y,j)=>{let{e:k,node:S,size:C,handle:P}=j;const{oldResizeItem:O}=this.state,{layout:E}=this.state,{cols:R,preventCollision:z,allowOverlap:T}=this.props;let D=!1,M,B,X;const[W,$]=(0,s.withLayoutItem)(E,x,J=>{let I;return B=J.x,X=J.y,["sw","w","nw","n","ne"].indexOf(P)!==-1&&(["sw","nw","w"].indexOf(P)!==-1&&(B=J.x+(J.w-b),b=J.x!==B&&B<0?J.w:b,B=B<0?0:B),["ne","n","nw"].indexOf(P)!==-1&&(X=J.y+(J.h-y),y=J.y!==X&&X<0?J.h:y,X=X<0?0:X),D=!0),z&&!T&&(I=(0,s.getAllCollisions)(E,h(h({},J),{},{w:b,h:y,x:B,y:X})).filter(we=>we.i!==J.i).length>0,I&&(X=J.y,y=J.h,B=J.x,b=J.w,D=!1)),J.w=b,J.h=y,J});if(!$)return;M=W,D&&(M=(0,s.moveElement)(W,$,B,X,!0,this.props.preventCollision,(0,s.compactType)(this.props),R,T));const Z={w:$.w,h:$.h,x:$.x,y:$.y,static:!0,i:x};this.props.onResize(M,O,$,Z,k,S),this.setState({layout:T?M:(0,s.compact)(M,(0,s.compactType)(this.props),R),activeDrag:Z})}),f(this,"onResizeStop",(x,b,y,j)=>{let{e:k,node:S}=j;const{layout:C,oldResizeItem:P}=this.state,{cols:O,allowOverlap:E}=this.props,R=(0,s.getLayoutItem)(C,x),z=E?C:(0,s.compact)(C,(0,s.compactType)(this.props),O);this.props.onResizeStop(z,P,R,null,k,S);const{oldLayout:T}=this.state;this.setState({activeDrag:null,layout:z,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(z,T)}),f(this,"onDragOver",x=>{var b;if(x.preventDefault(),x.stopPropagation(),_&&!((b=x.nativeEvent.target)!==null&&b!==void 0&&b.classList.contains(w)))return!1;const{droppingItem:y,onDropDragOver:j,margin:k,cols:S,rowHeight:C,maxRows:P,width:O,containerPadding:E,transformScale:R}=this.props,z=j==null?void 0:j(x);if(z===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const T=h(h({},y),z),{layout:D}=this.state,M=x.currentTarget.getBoundingClientRect(),B=x.clientX-M.left,X=x.clientY-M.top,W={left:B/R,top:X/R,e:x};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:$,top:Z}=this.state.droppingPosition;($!=B||Z!=X)&&this.setState({droppingPosition:W})}}else{const $={cols:S,margin:k,maxRows:P,rowHeight:C,containerWidth:O,containerPadding:E||k},Z=(0,a.calcXY)($,X,B,T.w,T.h);this.setState({droppingDOMNode:e.createElement("div",{key:T.i}),droppingPosition:W,layout:[...D,h(h({},T),{},{x:Z.x,y:Z.y,static:!1,isDraggable:!0})]})}}),f(this,"removeDroppingPlaceholder",()=>{const{droppingItem:x,cols:b}=this.props,{layout:y}=this.state,j=(0,s.compact)(y.filter(k=>k.i!==x.i),(0,s.compactType)(this.props),b,this.props.allowOverlap);this.setState({layout:j,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",x=>{x.preventDefault(),x.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",x=>{x.preventDefault(),x.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",x=>{x.preventDefault(),x.stopPropagation();const{droppingItem:b}=this.props,{layout:y}=this.state,j=y.find(k=>k.i===b.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(y,j,x)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(x,b){let y;return b.activeDrag?null:(!(0,n.deepEqual)(x.layout,b.propsLayout)||x.compactType!==b.compactType?y=x.layout:(0,s.childrenEqual)(x.children,b.children)||(y=b.layout),y?{layout:(0,s.synchronizeLayoutWithChildren)(y,x.children,x.cols,(0,s.compactType)(x),x.allowOverlap),compactType:x.compactType,children:x.children,propsLayout:x.layout}:null)}shouldComponentUpdate(x,b){return this.props.children!==x.children||!(0,s.fastRGLPropsEqual)(this.props,x,n.deepEqual)||this.state.activeDrag!==b.activeDrag||this.state.mounted!==b.mounted||this.state.droppingPosition!==b.droppingPosition}componentDidUpdate(x,b){if(!this.state.activeDrag){const y=this.state.layout,j=b.layout;this.onLayoutMaybeChanged(y,j)}}containerHeight(){if(!this.props.autoSize)return;const x=(0,s.bottom)(this.state.layout),b=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return x*this.props.rowHeight+(x-1)*this.props.margin[1]+b*2+"px"}onLayoutMaybeChanged(x,b){b||(b=this.state.layout),(0,n.deepEqual)(b,x)||this.props.onLayoutChange(x)}placeholder(){const{activeDrag:x}=this.state;if(!x)return null;const{width:b,cols:y,margin:j,containerPadding:k,rowHeight:S,maxRows:C,useCSSTransforms:P,transformScale:O}=this.props;return e.createElement(o.default,{w:x.w,h:x.h,x:x.x,y:x.y,i:x.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:b,cols:y,margin:j,containerPadding:k||j,maxRows:C,rowHeight:S,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:P,transformScale:O},e.createElement("div",null))}processGridItem(x,b){if(!x||!x.key)return;const y=(0,s.getLayoutItem)(this.state.layout,String(x.key));if(!y)return null;const{width:j,cols:k,margin:S,containerPadding:C,rowHeight:P,maxRows:O,isDraggable:E,isResizable:R,isBounded:z,useCSSTransforms:T,transformScale:D,draggableCancel:M,draggableHandle:B,resizeHandles:X,resizeHandle:W}=this.props,{mounted:$,droppingPosition:Z}=this.state,J=typeof y.isDraggable=="boolean"?y.isDraggable:!y.static&&E,I=typeof y.isResizable=="boolean"?y.isResizable:!y.static&&R,ce=y.resizeHandles||X,we=J&&z&&y.isBounded!==!1;return e.createElement(o.default,{containerWidth:j,cols:k,margin:S,containerPadding:C||S,maxRows:O,rowHeight:P,cancel:M,handle:B,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:J,isResizable:I,isBounded:we,useCSSTransforms:T&&$,usePercentages:!$,transformScale:D,w:y.w,h:y.h,x:y.x,y:y.y,i:y.i,minH:y.minH,minW:y.minW,maxH:y.maxH,maxW:y.maxW,static:y.static,droppingPosition:b?Z:void 0,resizeHandles:ce,resizeHandle:W},x)}render(){const{className:x,style:b,isDroppable:y,innerRef:j}=this.props,k=(0,r.default)(w,x),S=h({height:this.containerHeight()},b);return e.createElement("div",{ref:j,className:k,style:S,onDrop:y?this.onDrop:s.noop,onDragLeave:y?this.onDragLeave:s.noop,onDragEnter:y?this.onDragEnter:s.noop,onDragOver:y?this.onDragOver:s.noop},e.Children.map(this.props.children,C=>this.processGridItem(C)),y&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return Kr.default=v,f(v,"displayName","ReactGridLayout"),f(v,"propTypes",l.default),f(v,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop}),Kr}var ss={},Hn={},yd;function wp(){if(yd)return Hn;yd=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.findOrGenerateResponsiveLayout=s,Hn.getBreakpointFromWidth=n,Hn.getColsFromBreakpoint=r,Hn.sortBreakpoints=a;var e=Er();function n(o,l){const c=a(o);let d=c[0];for(let u=1,h=c.length;u<h;u++){const f=c[u];l>o[f]&&(d=f)}return d}function r(o,l){if(!l[o])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+o+" is missing!");return l[o]}function s(o,l,c,d,u,h){if(o[c])return(0,e.cloneLayout)(o[c]);let f=o[d];const p=a(l),m=p.slice(p.indexOf(c));for(let w=0,_=m.length;w<_;w++){const v=m[w];if(o[v]){f=o[v];break}}return f=(0,e.cloneLayout)(f||[]),(0,e.compact)((0,e.correctBounds)(f,{cols:u}),h,u)}function a(o){return Object.keys(o).sort(function(c,d){return o[c]-o[d]})}return Hn}var bd;function u5(){if(bd)return ss;bd=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.default=void 0;var e=d(Ut()),n=c(zn()),r=Rl(),s=Er(),a=wp(),o=c(vp());const l=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function c(y){return y&&y.__esModule?y:{default:y}}function d(y,j){if(typeof WeakMap=="function")var k=new WeakMap,S=new WeakMap;return(d=function(C,P){if(!P&&C&&C.__esModule)return C;var O,E,R={__proto__:null,default:C};if(C===null||typeof C!="object"&&typeof C!="function")return R;if(O=P?S:k){if(O.has(C))return O.get(C);O.set(C,R)}for(const z in C)z!=="default"&&{}.hasOwnProperty.call(C,z)&&((E=(O=Object.defineProperty)&&Object.getOwnPropertyDescriptor(C,z))&&(E.get||E.set)?O(R,z,E):R[z]=C[z]);return R})(y,j)}function u(){return u=Object.assign?Object.assign.bind():function(y){for(var j=1;j<arguments.length;j++){var k=arguments[j];for(var S in k)({}).hasOwnProperty.call(k,S)&&(y[S]=k[S])}return y},u.apply(null,arguments)}function h(y,j){if(y==null)return{};var k,S,C=f(y,j);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(y);for(S=0;S<P.length;S++)k=P[S],j.indexOf(k)===-1&&{}.propertyIsEnumerable.call(y,k)&&(C[k]=y[k])}return C}function f(y,j){if(y==null)return{};var k={};for(var S in y)if({}.hasOwnProperty.call(y,S)){if(j.indexOf(S)!==-1)continue;k[S]=y[S]}return k}function p(y,j){var k=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);j&&(S=S.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),k.push.apply(k,S)}return k}function m(y){for(var j=1;j<arguments.length;j++){var k=arguments[j]!=null?arguments[j]:{};j%2?p(Object(k),!0).forEach(function(S){w(y,S,k[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(k)):p(Object(k)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(k,S))})}return y}function w(y,j,k){return(j=_(j))in y?Object.defineProperty(y,j,{value:k,enumerable:!0,configurable:!0,writable:!0}):y[j]=k,y}function _(y){var j=v(y,"string");return typeof j=="symbol"?j:j+""}function v(y,j){if(typeof y!="object"||!y)return y;var k=y[Symbol.toPrimitive];if(k!==void 0){var S=k.call(y,j);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(y)}const g=y=>Object.prototype.toString.call(y);function x(y,j){return y==null?null:Array.isArray(y)?y:y[j]}let b=class extends e.Component{constructor(){super(...arguments),w(this,"state",this.generateInitialState()),w(this,"onLayoutChange",j=>{this.props.onLayoutChange(j,m(m({},this.props.layouts),{},{[this.state.breakpoint]:j}))})}generateInitialState(){const{width:j,breakpoints:k,layouts:S,cols:C}=this.props,P=(0,a.getBreakpointFromWidth)(k,j),O=(0,a.getColsFromBreakpoint)(P,C),E=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,a.findOrGenerateResponsiveLayout)(S,k,P,P,O,E),breakpoint:P,cols:O}}static getDerivedStateFromProps(j,k){if(!(0,r.deepEqual)(j.layouts,k.layouts)){const{breakpoint:S,cols:C}=k;return{layout:(0,a.findOrGenerateResponsiveLayout)(j.layouts,j.breakpoints,S,S,C,j.compactType),layouts:j.layouts}}return null}componentDidUpdate(j){(this.props.width!=j.width||this.props.breakpoint!==j.breakpoint||!(0,r.deepEqual)(this.props.breakpoints,j.breakpoints)||!(0,r.deepEqual)(this.props.cols,j.cols))&&this.onWidthChange(j)}onWidthChange(j){const{breakpoints:k,cols:S,layouts:C,compactType:P}=this.props,O=this.props.breakpoint||(0,a.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),E=this.state.breakpoint,R=(0,a.getColsFromBreakpoint)(O,S),z=m({},C);if(E!==O||j.breakpoints!==k||j.cols!==S){E in z||(z[E]=(0,s.cloneLayout)(this.state.layout));let M=(0,a.findOrGenerateResponsiveLayout)(z,k,O,E,R,P);M=(0,s.synchronizeLayoutWithChildren)(M,this.props.children,R,P,this.props.allowOverlap),z[O]=M,this.props.onBreakpointChange(O,R),this.props.onLayoutChange(M,z),this.setState({breakpoint:O,layout:M,cols:R})}const T=x(this.props.margin,O),D=x(this.props.containerPadding,O);this.props.onWidthChange(this.props.width,T,R,D)}render(){const j=this.props,{breakpoint:k,breakpoints:S,cols:C,layouts:P,margin:O,containerPadding:E,onBreakpointChange:R,onLayoutChange:z,onWidthChange:T}=j,D=h(j,l);return e.createElement(o.default,u({},D,{margin:x(O,this.state.breakpoint),containerPadding:x(E,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return ss.default=b,w(b,"propTypes",{breakpoint:n.default.string,breakpoints:n.default.object,allowOverlap:n.default.bool,cols:n.default.object,margin:n.default.oneOfType([n.default.array,n.default.object]),containerPadding:n.default.oneOfType([n.default.array,n.default.object]),layouts(y,j){if(g(y[j])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+g(y[j]));Object.keys(y[j]).forEach(k=>{if(!(k in y.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(y.layouts[k],"layouts."+k)})},width:n.default.number.isRequired,onBreakpointChange:n.default.func,onLayoutChange:n.default.func,onWidthChange:n.default.func}),w(b,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop}),ss}var gi={},jp=(function(){if(typeof Map<"u")return Map;function e(n,r){var s=-1;return n.some(function(a,o){return a[0]===r?(s=o,!0):!1}),s}return(function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(r){var s=e(this.__entries__,r),a=this.__entries__[s];return a&&a[1]},n.prototype.set=function(r,s){var a=e(this.__entries__,r);~a?this.__entries__[a][1]=s:this.__entries__.push([r,s])},n.prototype.delete=function(r){var s=this.__entries__,a=e(s,r);~a&&s.splice(a,1)},n.prototype.has=function(r){return!!~e(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,s){s===void 0&&(s=null);for(var a=0,o=this.__entries__;a<o.length;a++){var l=o[a];r.call(s,l[1],l[0])}},n})()})(),Io=typeof window<"u"&&typeof document<"u"&&window.document===document,Yi=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),d5=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Yi):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),h5=2;function f5(e,n){var r=!1,s=!1,a=0;function o(){r&&(r=!1,e()),s&&c()}function l(){d5(o)}function c(){var d=Date.now();if(r){if(d-a<h5)return;s=!0}else r=!0,s=!1,setTimeout(l,n);a=d}return c}var p5=20,m5=["top","right","bottom","left","width","height","size","weight"],g5=typeof MutationObserver<"u",x5=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=f5(this.refresh.bind(this),p5)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var r=this.observers_,s=r.indexOf(n);~s&&r.splice(s,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return n.forEach(function(r){return r.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Io||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),g5?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Io||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var r=n.propertyName,s=r===void 0?"":r,a=m5.some(function(o){return!!~s.indexOf(o)});a&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),_p=(function(e,n){for(var r=0,s=Object.keys(n);r<s.length;r++){var a=s[r];Object.defineProperty(e,a,{value:n[a],enumerable:!1,writable:!1,configurable:!0})}return e}),jr=(function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||Yi}),Np=ja(0,0,0,0);function Xi(e){return parseFloat(e)||0}function vd(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce(function(s,a){var o=e["border-"+a+"-width"];return s+Xi(o)},0)}function y5(e){for(var n=["top","right","bottom","left"],r={},s=0,a=n;s<a.length;s++){var o=a[s],l=e["padding-"+o];r[o]=Xi(l)}return r}function b5(e){var n=e.getBBox();return ja(0,0,n.width,n.height)}function v5(e){var n=e.clientWidth,r=e.clientHeight;if(!n&&!r)return Np;var s=jr(e).getComputedStyle(e),a=y5(s),o=a.left+a.right,l=a.top+a.bottom,c=Xi(s.width),d=Xi(s.height);if(s.boxSizing==="border-box"&&(Math.round(c+o)!==n&&(c-=vd(s,"left","right")+o),Math.round(d+l)!==r&&(d-=vd(s,"top","bottom")+l)),!j5(e)){var u=Math.round(c+o)-n,h=Math.round(d+l)-r;Math.abs(u)!==1&&(c-=u),Math.abs(h)!==1&&(d-=h)}return ja(a.left,a.top,c,d)}var w5=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof jr(e).SVGGraphicsElement}:function(e){return e instanceof jr(e).SVGElement&&typeof e.getBBox=="function"}})();function j5(e){return e===jr(e).document.documentElement}function _5(e){return Io?w5(e)?b5(e):v5(e):Np}function N5(e){var n=e.x,r=e.y,s=e.width,a=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return _p(l,{x:n,y:r,width:s,height:a,top:r,right:n+s,bottom:a+r,left:n}),l}function ja(e,n,r,s){return{x:e,y:n,width:r,height:s}}var k5=(function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ja(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=_5(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e})(),S5=(function(){function e(n,r){var s=N5(r);_p(this,{target:n,contentRect:s})}return e})(),C5=(function(){function e(n,r,s){if(this.activeObservations_=[],this.observations_=new jp,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=r,this.callbackCtx_=s}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof jr(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)||(r.set(n,new k5(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof jr(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)&&(r.delete(n),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&n.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,r=this.activeObservations_.map(function(s){return new S5(s.target,s.broadcastRect())});this.callback_.call(n,r,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),kp=typeof WeakMap<"u"?new WeakMap:new jp,Sp=(function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=x5.getInstance(),s=new C5(n,r,this);kp.set(this,s)}return e})();["observe","unobserve","disconnect"].forEach(function(e){Sp.prototype[e]=function(){var n;return(n=kp.get(this))[e].apply(n,arguments)}});var E5=(function(){return typeof Yi.ResizeObserver<"u"?Yi.ResizeObserver:Sp})();const P5=Object.freeze(Object.defineProperty({__proto__:null,default:E5},Symbol.toStringTag,{value:"Module"})),A5=Xp(P5);var wd;function R5(){if(wd)return gi;wd=1,Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=w;var e=l(Ut()),n=o(zn()),r=o(A5),s=o(va());const a=["measureBeforeMount"];function o(_){return _&&_.__esModule?_:{default:_}}function l(_,v){if(typeof WeakMap=="function")var g=new WeakMap,x=new WeakMap;return(l=function(b,y){if(!y&&b&&b.__esModule)return b;var j,k,S={__proto__:null,default:b};if(b===null||typeof b!="object"&&typeof b!="function")return S;if(j=y?x:g){if(j.has(b))return j.get(b);j.set(b,S)}for(const C in b)C!=="default"&&{}.hasOwnProperty.call(b,C)&&((k=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(b,C))&&(k.get||k.set)?j(S,C,k):S[C]=b[C]);return S})(_,v)}function c(){return c=Object.assign?Object.assign.bind():function(_){for(var v=1;v<arguments.length;v++){var g=arguments[v];for(var x in g)({}).hasOwnProperty.call(g,x)&&(_[x]=g[x])}return _},c.apply(null,arguments)}function d(_,v){if(_==null)return{};var g,x,b=u(_,v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(_);for(x=0;x<y.length;x++)g=y[x],v.indexOf(g)===-1&&{}.propertyIsEnumerable.call(_,g)&&(b[g]=_[g])}return b}function u(_,v){if(_==null)return{};var g={};for(var x in _)if({}.hasOwnProperty.call(_,x)){if(v.indexOf(x)!==-1)continue;g[x]=_[x]}return g}function h(_,v,g){return(v=f(v))in _?Object.defineProperty(_,v,{value:g,enumerable:!0,configurable:!0,writable:!0}):_[v]=g,_}function f(_){var v=p(_,"string");return typeof v=="symbol"?v:v+""}function p(_,v){if(typeof _!="object"||!_)return _;var g=_[Symbol.toPrimitive];if(g!==void 0){var x=g.call(_,v);if(typeof x!="object")return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(_)}const m="react-grid-layout";function w(_){var v;return v=class extends e.Component{constructor(){super(...arguments),h(this,"state",{width:1280}),h(this,"elementRef",e.createRef()),h(this,"mounted",!1),h(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new r.default(b=>{if(this.elementRef.current instanceof HTMLElement){const j=b[0].contentRect.width;this.setState({width:j})}});const x=this.elementRef.current;x instanceof HTMLElement&&this.resizeObserver.observe(x)}componentWillUnmount(){this.mounted=!1;const x=this.elementRef.current;x instanceof HTMLElement&&this.resizeObserver.unobserve(x),this.resizeObserver.disconnect()}render(){const x=this.props,{measureBeforeMount:b}=x,y=d(x,a);return b&&!this.mounted?e.createElement("div",{className:(0,s.default)(this.props.className,m),style:this.props.style,ref:this.elementRef}):e.createElement(_,c({innerRef:this.elementRef},y,this.state))}},h(v,"defaultProps",{measureBeforeMount:!1}),h(v,"propTypes",{measureBeforeMount:n.default.bool}),v}return gi}var jd;function O5(){return jd||(jd=1,(function(e){e.exports=vp().default,e.exports.utils=Er(),e.exports.calculateUtils=Ol(),e.exports.Responsive=u5().default,e.exports.Responsive.utils=wp(),e.exports.WidthProvider=R5().default})(Qa)),Qa.exports}var T5=O5();const D5=Qi(T5),_n=({title:e,icon:n,children:r,onRemove:s,className:a=""})=>i.jsxs("div",{className:`bg-dark-surface border border-dark-border rounded-lg shadow-lg h-full flex flex-col ${a}`,children:[i.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Om,{className:"h-4 w-4 text-slate-400 cursor-move drag-handle"}),n&&i.jsx("div",{className:"text-primary",children:n}),i.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),s&&i.jsx("button",{onClick:s,className:"p-1 text-slate-400 hover:text-white hover:bg-dark-hover rounded transition-colors",children:i.jsx(Tt,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"flex-1 p-4 overflow-auto",children:r})]}),$5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await(await fetch("/api/dashboard/data/recent_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(d.scans||[])}catch(c){console.error("Failed to fetch recent scans:",c)}finally{a(!1)}},l=c=>{switch(c){case"completed":return i.jsx(ut,{className:"h-4 w-4 text-green-500"});case"failed":return i.jsx(rn,{className:"h-4 w-4 text-red-500"});case"running":return i.jsx(jt,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return i.jsx(Bt,{className:"h-4 w-4 text-yellow-500"})}};return i.jsx(_n,{title:"Recent Scans",icon:i.jsx(Ft,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No recent scans"}):i.jsx("div",{className:"space-y-2",children:n.map(c=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l(c.status),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:c.name}),i.jsx("div",{className:"text-xs text-slate-400",children:ha(new Date(c.created_at),{addSuffix:!0})})]})]}),i.jsx("div",{className:"text-xs text-slate-400 capitalize",children:c.status})]},c.id))})})},M5=({onRemove:e})=>{const[n,r]=A.useState(null),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/vulnerability_summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c)}catch(l){console.error("Failed to fetch vulnerability summary:",l)}finally{a(!1)}};return i.jsx(_n,{title:"Vulnerability Summary",icon:i.jsx(Pe,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-dark-border",children:[i.jsx("div",{className:"text-3xl font-bold text-white",children:n.total}),i.jsx("div",{className:"text-sm text-slate-400",children:"Total"})]}),i.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-red-900/30",children:[i.jsx("div",{className:"text-3xl font-bold text-red-500",children:n.critical}),i.jsx("div",{className:"text-sm text-slate-400",children:"Critical"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),i.jsx("span",{className:"text-sm text-slate-300",children:"High"})]}),i.jsx("span",{className:"text-sm font-semibold text-white",children:n.high})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),i.jsx("span",{className:"text-sm text-slate-300",children:"Medium"})]}),i.jsx("span",{className:"text-sm font-semibold text-white",children:n.medium})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),i.jsx("span",{className:"text-sm text-slate-300",children:"Low"})]}),i.jsx("span",{className:"text-sm font-semibold text-white",children:n.low})]})]})]}):i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No vulnerability data"})})},z5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await(await fetch("/api/dashboard/data/compliance_scores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(u.scores||[])}catch(d){console.error("Failed to fetch compliance scores:",d)}finally{a(!1)}},l=d=>d>=90?"text-green-500":d>=70?"text-yellow-500":"text-red-500",c=d=>d>=90?"bg-green-500":d>=70?"bg-yellow-500":"bg-red-500";return i.jsx(_n,{title:"Compliance Scores",icon:i.jsx(Tm,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No compliance data"}):i.jsx("div",{className:"space-y-4",children:n.map(d=>{const u=d.score/d.total*100;return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-white",children:d.framework}),i.jsxs("span",{className:`text-sm font-bold ${l(u)}`,children:[d.score,"/",d.total," (",u.toFixed(0),"%)"]})]}),i.jsx("div",{className:"w-full bg-dark-bg rounded-full h-2",children:i.jsx("div",{className:`${c(u)} h-2 rounded-full transition-all duration-300`,style:{width:`${u}%`}})})]},d.framework)})})})},I5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/scan_activity_chart",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.data||[])}catch(l){console.error("Failed to fetch scan activity:",l)}finally{a(!1)}};return i.jsx(_n,{title:"Scan Activity (Last 30 Days)",icon:i.jsx(gr,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No scan activity data"}):i.jsx(at,{width:"100%",height:200,children:i.jsxs(_s,{data:n,children:[i.jsx(Zt,{strokeDasharray:"3 3",stroke:"#374151"}),i.jsx(zt,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},tickFormatter:l=>{const c=new Date(l);return`${c.getMonth()+1}/${c.getDate()}`}}),i.jsx(At,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),i.jsx(ot,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#fff"}}),i.jsx(An,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4}})]})})})},L5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await(await fetch("/api/dashboard/data/top_risky_hosts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(d.hosts||[])}catch(c){console.error("Failed to fetch risky hosts:",c)}finally{a(!1)}},l=c=>c>=50?"text-red-500":c>=20?"text-orange-500":"text-yellow-500";return i.jsx(_n,{title:"Top Risky Hosts",icon:i.jsx(De,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No risky hosts found"}):i.jsx("div",{className:"space-y-2",children:n.map((c,d)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`text-xl font-bold ${l(c.risk_score)}`,children:d+1}),i.jsx(qt,{className:"h-4 w-4 text-slate-400"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:c.hostname||c.ip}),c.hostname&&i.jsx("div",{className:"text-xs text-slate-400",children:c.ip})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsxs("div",{className:"text-sm font-semibold text-white",children:[c.vulnerability_count," vulns"]}),i.jsxs("div",{className:"flex gap-2 text-xs",children:[c.critical_count>0&&i.jsxs("span",{className:"text-red-500",children:[c.critical_count,"C"]}),c.high_count>0&&i.jsxs("span",{className:"text-orange-500",children:[c.high_count,"H"]})]})]})]},c.ip))})})},F5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/critical_vulns",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.vulnerabilities||[])}catch(l){console.error("Failed to fetch critical vulnerabilities:",l)}finally{a(!1)}};return i.jsx(_n,{title:"Critical Vulnerabilities",icon:i.jsx(Fl,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No critical vulnerabilities"}):i.jsx("div",{className:"space-y-2",children:n.map(l=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-red-900/30 hover:border-red-500 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx(Fl,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:l.vulnerability_id}),i.jsxs("div",{className:"text-xs text-slate-400",children:[l.host_ip,"  ",ha(new Date(l.created_at),{addSuffix:!0})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[i.jsx("div",{className:"px-2 py-1 bg-red-900/30 text-red-500 text-xs font-semibold rounded",children:l.severity.toUpperCase()}),i.jsx("div",{className:"text-xs text-slate-400 capitalize",children:l.status.replace("_"," ")})]})]},l.id))})})},H5=({onRemove:e})=>{const[n,r]=A.useState([]),[s,a]=A.useState(!0);A.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/upcoming_scheduled_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.scans||[])}catch(l){console.error("Failed to fetch upcoming scans:",l)}finally{a(!1)}};return i.jsx(_n,{title:"Upcoming Scheduled Scans",icon:i.jsx(cr,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?i.jsx("div",{className:"text-center text-slate-400 py-8",children:"No upcoming scans"}):i.jsx("div",{className:"space-y-2",children:n.map(l=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx(Bt,{className:"h-4 w-4 text-primary flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate",children:l.name}),i.jsxs("div",{className:"text-xs text-slate-400 capitalize",children:[l.schedule_type," scan"]})]})]}),i.jsx("div",{className:"text-xs text-slate-400",children:ha(new Date(l.next_run_at),{addSuffix:!0})})]},l.id))})})},_d={critical:"bg-red-900/30 text-red-500 border-red-500/50",high:"bg-orange-900/30 text-orange-500 border-orange-500/50",medium:"bg-yellow-900/30 text-yellow-500 border-yellow-500/50",low:"bg-blue-900/30 text-blue-500 border-blue-500/50",info:"bg-slate-700/30 text-slate-400 border-slate-500/50"},B5={exposed_service:i.jsx(Dn,{className:"h-4 w-4"}),exploit_available:i.jsx(Ai,{className:"h-4 w-4"}),known_exploited_vulnerability:i.jsx(Hl,{className:"h-4 w-4"}),critical_cve:i.jsx(De,{className:"h-4 w-4"}),new_cve:i.jsx(De,{className:"h-4 w-4"}),ransomware_threat:i.jsx(Hl,{className:"h-4 w-4"}),misconfiguration:i.jsx(Pe,{className:"h-4 w-4"})},U5=({onRemove:e,limit:n=5})=>{const{data:r,isLoading:s,error:a}=Pd({queryKey:["threatAlerts","widget",n],queryFn:async()=>(await Bx.getAlerts({limit:n})).data,refetchInterval:6e4}),o=(r==null?void 0:r.alerts)||[],l=(r==null?void 0:r.total)||0,c=o.filter(f=>f.severity==="critical").length,d=o.filter(f=>f.severity==="high").length,u=o.filter(f=>f.in_cisa_kev).length,h=o.filter(f=>f.exploit_available).length;return i.jsx(_n,{title:"Threat Intelligence",icon:i.jsx(Pe,{className:"h-5 w-5"}),onRemove:e,children:s?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):a?i.jsx("div",{className:"text-center text-red-400 py-8",children:"Failed to load threat alerts"}):o.length===0?i.jsxs("div",{className:"text-center text-slate-400 py-8",children:[i.jsx(Pe,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No active threat alerts"}),i.jsx("p",{className:"text-xs mt-1",children:"Run threat intel enrichment on your scans to generate alerts"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[i.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[i.jsx("div",{className:"text-lg font-bold text-red-400",children:c}),i.jsx("div",{className:"text-xs text-slate-400",children:"Critical"})]}),i.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[i.jsx("div",{className:"text-lg font-bold text-orange-400",children:d}),i.jsx("div",{className:"text-xs text-slate-400",children:"High"})]}),i.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[i.jsx("div",{className:"text-lg font-bold text-yellow-400",children:u}),i.jsx("div",{className:"text-xs text-slate-400",children:"KEV"})]}),i.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[i.jsx("div",{className:"text-lg font-bold text-primary",children:h}),i.jsx("div",{className:"text-xs text-slate-400",children:"Exploits"})]})]}),i.jsx("div",{className:"space-y-2",children:o.slice(0,n).map(f=>i.jsx(q5,{alert:f},f.id))}),l>n&&i.jsx("div",{className:"mt-3 text-center",children:i.jsxs("a",{href:"/threat-intel",className:"text-sm text-primary hover:underline flex items-center justify-center gap-1",children:["View all ",l," alerts",i.jsx(Ts,{className:"h-4 w-4"})]})})]})})},q5=({alert:e})=>{const n=B5[e.alert_type]||i.jsx(De,{className:"h-4 w-4"}),r=_d[e.severity]||_d.info;return i.jsxs("div",{className:`flex items-center justify-between p-3 bg-dark-bg rounded-lg border ${e.severity==="critical"?"border-red-900/50":e.severity==="high"?"border-orange-900/50":"border-dark-border"} hover:border-primary/50 transition-colors`,children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`p-1.5 rounded ${r}`,children:n}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white text-sm truncate",title:e.title,children:e.title}),i.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2",children:[i.jsx("span",{children:e.source}),i.jsx("span",{className:"text-slate-600",children:"|"}),i.jsx("span",{children:ha(new Date(e.created_at),{addSuffix:!0})})]})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[i.jsx("div",{className:`px-2 py-0.5 text-xs font-semibold rounded ${r}`,children:e.severity.toUpperCase()}),i.jsxs("div",{className:"flex gap-1",children:[e.in_cisa_kev&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-900/30 text-red-400 rounded",children:"KEV"}),e.exploit_available&&i.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-purple-900/30 text-purple-400 rounded",children:"Exploit"})]})]})]})},W5=({onRemove:e})=>{const n=Zi(),[r,s]=A.useState(null),[a,o]=A.useState([]),[l,c]=A.useState(!0),d=A.useCallback(async()=>{try{c(!0);const p=await hc.getMyAssignments({status:""});s(p.data.stats),o(p.data.assignments.slice(0,5))}catch(p){console.error("Failed to fetch assignments:",p)}finally{c(!1)}},[]);A.useEffect(()=>{d()},[d]);const u=async(p,m,w)=>{p.stopPropagation();try{await hc.updateAssignment(m,{status:w}),ee.success("Status updated"),d()}catch(_){console.error("Failed to update status:",_),ee.error("Failed to update status")}},h=p=>{const m="px-2 py-0.5 text-xs font-semibold rounded-full";switch(p.toLowerCase()){case"critical":return`${m} bg-red-500/20 text-red-400`;case"high":return`${m} bg-orange-500/20 text-orange-400`;case"medium":return`${m} bg-yellow-500/20 text-yellow-400`;case"low":return`${m} bg-blue-500/20 text-blue-400`;default:return`${m} bg-gray-500/20 text-gray-400`}},f=(p,m,w)=>{if(!p)return null;const v=new Date(p).toLocaleDateString();if(w)return i.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[i.jsx(De,{className:"h-3 w-3"}),"Overdue"]});if(m!==null){if(m===0)return i.jsx("span",{className:"text-yellow-400",children:"Today"});if(m<=3)return i.jsxs("span",{className:"text-yellow-400",children:[m,"d"]})}return i.jsx("span",{className:"text-gray-400",children:v})};return i.jsx(_n,{title:"My Assignments",icon:i.jsx(Dm,{className:"h-5 w-5"}),onRemove:e,children:l?i.jsx("div",{className:"flex items-center justify-center h-32",children:i.jsx(jt,{className:"h-6 w-6 text-primary animate-spin"})}):i.jsxs(i.Fragment,{children:[r&&i.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4 p-3 bg-dark-bg rounded-lg border border-dark-border",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-white",children:r.total}),i.jsx("div",{className:"text-xs text-slate-400",children:"Total"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-red-400",children:r.overdue}),i.jsx("div",{className:"text-xs text-slate-400",children:"Overdue"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-yellow-400",children:r.in_progress}),i.jsx("div",{className:"text-xs text-slate-400",children:"In Progress"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-lg font-bold text-cyan-400",children:r.critical+r.high}),i.jsx("div",{className:"text-xs text-slate-400",children:"High+"})]})]}),a.length===0?i.jsxs("div",{className:"text-center text-slate-400 py-8",children:[i.jsx(ut,{className:"h-12 w-12 mx-auto mb-2 text-green-500/50"}),i.jsx("p",{children:"No assignments"}),i.jsx("p",{className:"text-sm mt-1",children:"You are all caught up!"})]}):i.jsx("div",{className:"space-y-2",children:a.map(p=>i.jsxs("div",{className:`flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary cursor-pointer transition-colors ${p.is_overdue?"border-red-900/50":""}`,onClick:()=>n(`/remediation?vuln=${p.id}`),children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("span",{className:h(p.severity),children:p.severity.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-white truncate text-sm",children:p.vulnerability_id}),i.jsxs("div",{className:"text-xs text-slate-400",children:[p.host_ip,p.port?`:${p.port}`:""]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:m=>m.stopPropagation(),children:[i.jsxs("div",{className:"text-xs",children:[i.jsx(cr,{className:"h-3 w-3 inline mr-1 text-gray-500"}),f(p.due_date,p.days_until_due,p.is_overdue)||i.jsx("span",{className:"text-gray-500",children:"--"})]}),p.status==="open"&&i.jsx("button",{onClick:m=>u(m,p.id,"in_progress"),className:"p-1 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Start Working",children:i.jsx(no,{className:"h-4 w-4"})}),p.status==="in_progress"&&i.jsx("button",{onClick:m=>u(m,p.id,"resolved"),className:"p-1 text-green-400 hover:bg-green-500/20 rounded transition-colors",title:"Mark Resolved",children:i.jsx(ut,{className:"h-4 w-4"})}),i.jsx(Ts,{className:"h-4 w-4 text-gray-500"})]})]},p.id))}),r&&r.total>5&&i.jsx("div",{className:"pt-3 text-center",children:i.jsxs("button",{onClick:()=>n("/remediation?assigned=me"),className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:["View all ",r.total," assignments"]})})]})})},Nd=[{type:"recent_scans",label:"Recent Scans",minW:4,minH:2},{type:"vulnerability_summary",label:"Vulnerability Summary",minW:4,minH:2},{type:"compliance_scores",label:"Compliance Scores",minW:4,minH:2},{type:"scan_activity_chart",label:"Scan Activity",minW:6,minH:3},{type:"top_risky_hosts",label:"Top Risky Hosts",minW:4,minH:3},{type:"critical_vulns",label:"Critical Vulnerabilities",minW:4,minH:2},{type:"upcoming_scheduled_scans",label:"Upcoming Scans",minW:4,minH:2},{type:"threat_intel",label:"Threat Intelligence",minW:4,minH:3},{type:"my_assignments",label:"My Assignments",minW:4,minH:3}],V5=({editMode:e=!1,onEditModeChange:n})=>{const[r,s]=A.useState([]),[a,o]=A.useState(!0),[l,c]=A.useState(!1),[d,u]=A.useState(e),[h,f]=A.useState(!1);A.useEffect(()=>{p()},[]),A.useEffect(()=>{u(e)},[e]);const p=async()=>{try{const j=await(await fetch("/api/dashboard/widgets",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();s(j.widgets||[])}catch(y){console.error("Failed to fetch dashboard config:",y)}finally{o(!1)}},m=async()=>{c(!0);try{await fetch("/api/dashboard/widgets",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({widgets:r})})}catch(y){console.error("Failed to save dashboard config:",y)}finally{c(!1)}},w=y=>{if(!d)return;const j=r.map(k=>{const S=y.find(C=>C.i===k.id);return S?{...k,x:S.x,y:S.y,w:S.w,h:S.h}:k});s(j)},_=y=>{const j=Nd.find(S=>S.type===y);if(!j)return;const k={id:`${y}_${Date.now()}`,widget_type:y,x:0,y:1/0,w:j.minW,h:j.minH};s([...r,k]),f(!1)},v=y=>{s(r.filter(j=>j.id!==y))},g=()=>{const y=!d;u(y),n&&n(y)},x=y=>{const j={onRemove:d?()=>v(y.id):void 0};switch(y.widget_type){case"recent_scans":return i.jsx($5,{...j});case"vulnerability_summary":return i.jsx(M5,{...j});case"compliance_scores":return i.jsx(z5,{...j});case"scan_activity_chart":return i.jsx(I5,{...j});case"top_risky_hosts":return i.jsx(L5,{...j});case"critical_vulns":return i.jsx(F5,{...j});case"upcoming_scheduled_scans":return i.jsx(H5,{...j});case"threat_intel":return i.jsx(U5,{...j});case"my_assignments":return i.jsx(W5,{...j});default:return null}};if(a)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"text-slate-400",children:"Loading dashboard..."})});const b=r.map(y=>({i:y.id,x:y.x,y:y.y,w:y.w,h:y.h}));return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:g,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-primary text-white":"bg-dark-surface text-slate-300 hover:text-white border border-dark-border"}`,children:[i.jsx(Bl,{className:"h-4 w-4"}),d?"Exit Edit Mode":"Customize Dashboard"]}),d&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-4 py-2 bg-dark-surface text-slate-300 hover:text-white border border-dark-border rounded-lg transition-colors",children:[i.jsx(Tn,{className:"h-4 w-4"}),"Add Widget"]}),h&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),i.jsx("div",{className:"absolute top-full mt-2 left-0 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-50 min-w-[200px]",children:Nd.map(y=>i.jsx("button",{onClick:()=>_(y.type),className:"w-full text-left px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-dark-hover transition-colors first:rounded-t-lg last:rounded-b-lg",children:y.label},y.type))})]})]}),i.jsxs("button",{onClick:m,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Uo,{className:"h-4 w-4"}),l?"Saving...":"Save Layout"]})]})]}),d&&i.jsx("div",{className:"text-sm text-slate-400",children:"Drag widgets to reposition, resize from corners"})]}),i.jsx(D5,{className:"layout",layout:b,cols:12,rowHeight:100,width:1200,isDraggable:d,isResizable:d,onLayoutChange:w,draggableHandle:".drag-handle",children:r.map(y=>i.jsx("div",{className:d?"cursor-move":"",children:x(y)},y.id))}),r.length===0&&i.jsxs("div",{className:"text-center py-12 text-slate-400",children:[i.jsx(Bl,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"No widgets added yet"}),d&&i.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-primary hover:underline",children:"Add your first widget"})]})]})},G5=({selectedCount:e,onClear:n,actions:r,onAction:s,isProcessing:a=!1})=>{const[o,l]=A.useState(null);if(e===0)return null;const c=f=>{f.requiresConfirmation?l(f.id):s(f.id)},d=()=>{o&&(s(o),l(null))},u=f=>{if(f.icon)return f.icon;switch(f.id){case"delete":return i.jsx(ta,{className:"h-4 w-4"});case"export":return i.jsx(xr,{className:"h-4 w-4"});default:return null}},h=r.find(f=>f.id===o);return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:i.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-2xl px-6 py-4 min-w-[400px]",children:i.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center font-semibold text-sm",children:e}),i.jsxs("span",{className:"text-white font-medium",children:[e," item",e!==1?"s":""," selected"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[r.map(f=>i.jsxs(He,{variant:f.variant||"secondary",onClick:()=>c(f),disabled:a,className:"flex items-center space-x-2",children:[u(f),i.jsx("span",{children:f.label})]},f.id)),i.jsx("button",{onClick:n,disabled:a,className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-dark-bg disabled:opacity-50",title:"Clear selection",children:i.jsx(Tt,{className:"h-5 w-5"})})]})]})})}),o&&h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:i.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 max-w-md w-full mx-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Action"}),i.jsx("p",{className:"text-slate-300 mb-6",children:h.confirmationMessage||`Are you sure you want to ${h.label.toLowerCase()} ${e} item${e!==1?"s":""}?`}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(He,{variant:"secondary",onClick:()=>l(null),disabled:a,children:"Cancel"}),i.jsx(He,{variant:h.variant||"primary",onClick:d,disabled:a,children:"Confirm"})]})]})})]})},Y5=({shortcuts:e,enabled:n=!0})=>{A.useEffect(()=>{if(!n)return;const r=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement))for(const a of e){const o=a.ctrl===void 0||a.ctrl===(s.ctrlKey||s.metaKey),l=a.shift===void 0||a.shift===s.shiftKey,c=a.alt===void 0||a.alt===s.altKey,d=s.key.toLowerCase()===a.key.toLowerCase();if(o&&l&&c&&d){s.preventDefault(),a.action();break}}};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[e,n])},X5=e=>{const n=[];return e.ctrl&&n.push("Ctrl"),e.shift&&n.push("Shift"),e.alt&&n.push("Alt"),n.push(e.key.toUpperCase()),n.join("+")},kd=()=>{const{activeScan:e,results:n,setActiveScan:r,scans:s,setScans:a}=Ht(),[o,l]=A.useState(!1),[c,d]=A.useState("overview"),[u,h]=A.useState(new Set),[f,p]=A.useState(!1),m=y=>{const j=s.find(k=>k.id===y);j&&r(j)},w=async y=>{if(u.size!==0){p(!0);try{switch(y){case"delete":await _();break;case"export-json":await v("json");break;case"export-csv":await v("csv");break;default:ee.warning("Unknown action")}}catch(j){console.error("Bulk action failed:",j),ee.error("Bulk action failed")}finally{p(!1)}}},_=async()=>{try{const y=await tn.bulkDelete(Array.from(u));y.data.failed&&y.data.failed>0?ee.warning(y.data.message):ee.success(y.data.message);const j=await tn.getAll();a(j.data),h(new Set)}catch(y){throw ee.error("Failed to delete scans"),y}},v=async y=>{try{const j=await tn.bulkExport(Array.from(u),y,{include_vulnerabilities:!0,include_services:!0}),k=window.URL.createObjectURL(new Blob([j.data])),S=document.createElement("a");S.href=k,S.setAttribute("download","scans_export.zip"),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(k),ee.success(`Exported ${u.size} scan(s) successfully`),h(new Set)}catch(j){throw ee.error("Failed to export scans"),j}},g=[{id:"delete",label:"Delete",icon:i.jsx(ta,{className:"h-4 w-4"}),variant:"danger",requiresConfirmation:!0,confirmationMessage:`Are you sure you want to delete ${u.size} scan${u.size!==1?"s":""}? This action cannot be undone.`},{id:"export-json",label:"Export JSON",icon:i.jsx(xr,{className:"h-4 w-4"}),variant:"secondary"},{id:"export-csv",label:"Export CSV",icon:i.jsx(xr,{className:"h-4 w-4"}),variant:"secondary"}],x=A.useMemo(()=>e&&n.has(e.id)?n.get(e.id)||[]:Array.from(n.values()).flat(),[e,n]),b=[{key:"f",ctrl:!0,action:()=>{const y=document.querySelector('input[placeholder*="Search"]');y&&(y.focus(),y.select())},description:"Focus search"},{key:"k",ctrl:!0,action:()=>l(!o),description:"Show keyboard shortcuts"},{key:"Escape",action:()=>l(!1),description:"Close modals"}];return Y5({shortcuts:b}),i.jsx(Sw,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Network Triage Dashboard"}),i.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Create scans, monitor progress, and analyze results in real-time"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors border border-light-border dark:border-dark-border hover:border-primary rounded-lg",children:[i.jsx(Ul,{className:"h-4 w-4"}),"Shortcuts"]})]}),i.jsxs("div",{className:"flex gap-2 border-b border-light-border dark:border-dark-border pb-2",children:[i.jsxs("button",{onClick:()=>d("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="overview"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[i.jsx($m,{className:"h-4 w-4"}),"Overview"]}),i.jsxs("button",{onClick:()=>d("scans"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="scans"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[i.jsx(Md,{className:"h-4 w-4"}),"Scans"]}),i.jsxs("button",{onClick:()=>d("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="analytics"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[i.jsx(gr,{className:"h-4 w-4"}),"Analytics"]})]}),c==="overview"&&i.jsx(V5,{}),c==="scans"&&i.jsxs(i.Fragment,{children:[i.jsx(VC,{}),i.jsx(Zj,{onScanSelect:m}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsx(Rw,{}),i.jsx(Gj,{selectedIds:u,onSelectionChange:h})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx(Qj,{scanId:(e==null?void 0:e.id)||null}),(e==null?void 0:e.status)==="running"&&i.jsx(e_,{scanId:e.id}),x.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsx(YC,{hosts:x}),i.jsx(JC,{hosts:x})]}),i.jsx(WC,{})]})]})]}),c==="analytics"&&i.jsx(e5,{}),i.jsx(G5,{selectedCount:u.size,onClear:()=>h(new Set),actions:g,onAction:w,isProcessing:f}),o&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:()=>l(!1)}),i.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadeIn",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[i.jsx(Ul,{className:"h-5 w-5 text-primary"}),"Keyboard Shortcuts"]}),i.jsx("button",{onClick:()=>l(!1),className:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:i.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),i.jsx("div",{className:"space-y-2",children:b.map((y,j)=>i.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-light-bg dark:bg-dark-bg rounded border border-light-border dark:border-dark-border",children:[i.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:y.description}),i.jsx("kbd",{className:"px-2 py-1 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded text-xs font-mono text-primary",children:X5(y)})]},j))}),i.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center",children:["Press ",i.jsx("kbd",{className:"px-1 py-0.5 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded text-xs font-mono",children:"Esc"})," to close"]})]})]})]})})},K5=new Gp({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),J5=A.lazy(()=>fe(()=>import("./AdminPage-r3ILf5MT.js"),__vite__mapDeps([0,1,2,3,4]))),Q5=A.lazy(()=>fe(()=>import("./SettingsPage-CYojhwJq.js"),__vite__mapDeps([5,1,2,3,6,4]))),Z5=A.lazy(()=>fe(()=>import("./SalesPage-PhCF2-Xd.js"),__vite__mapDeps([7,1,2,3]))),eE=A.lazy(()=>fe(()=>import("./AssetsPage-CbBZygcI.js"),__vite__mapDeps([8,1,2,3,4]))),tE=A.lazy(()=>fe(()=>import("./WebAppScanPage-DqvjpWxe.js"),__vite__mapDeps([9,1,2,3,4]))),nE=A.lazy(()=>fe(()=>import("./DnsToolsPage-BtOJcBYo.js"),__vite__mapDeps([10,1,2,3,4]))),rE=A.lazy(()=>fe(()=>import("./CompliancePage-Dfcy28Ie.js"),__vite__mapDeps([11,1,2,3,4]))),sE=A.lazy(()=>fe(()=>import("./RemediationPage-CMBFvi6d.js"),__vite__mapDeps([12,1,2,3,13,4]))),iE=A.lazy(()=>fe(()=>import("./ManualAssessmentPage-BFEUTE-x.js"),__vite__mapDeps([14,1,2,3,4]))),aE=A.lazy(()=>fe(()=>import("./AssessmentDetailPage-C51oFDcK.js"),__vite__mapDeps([15,1,2,3,4]))),Sd=A.lazy(()=>fe(()=>import("./MethodologyPage-Cm7jIE67.js"),__vite__mapDeps([16,1,2,3,4]))),oE=A.lazy(()=>fe(()=>import("./ExecutiveDashboardPage-Dj7nZ6E0.js"),__vite__mapDeps([17,1,2,3,4]))),lE=A.lazy(()=>fe(()=>import("./ApiSecurityPage-CP4Sn9JR.js"),__vite__mapDeps([18,1,2,3,4]))),cE=A.lazy(()=>fe(()=>import("./AttackPathsPage-Cg1i69nJ.js"),__vite__mapDeps([19,1,2,3,4]))),uE=A.lazy(()=>fe(()=>import("./ScanComparisonPage-C-_SKge3.js"),__vite__mapDeps([20,1,2,6,3,4]))),dE=A.lazy(()=>fe(()=>import("./WorkflowsPage-B1TPsM0C.js"),__vite__mapDeps([21,1,2,3,13,4]))),hE=A.lazy(()=>fe(()=>import("./ContainerSecurityPage-Ch9-SnWw.js"),__vite__mapDeps([22,1,2,3,4]))),fE=A.lazy(()=>fe(()=>import("./IacSecurityPage-DCx9hfJL.js"),__vite__mapDeps([23,1,2,3,4]))),pE=A.lazy(()=>fe(()=>import("./PluginsPage-CwchUU2Z.js"),__vite__mapDeps([24,1,2,3,4]))),mE=A.lazy(()=>fe(()=>import("./AgentsPage-B-3dkRHM.js"),__vite__mapDeps([25,1,2,3,4]))),gE=A.lazy(()=>fe(()=>import("./MeshAgentsPage-R_CmyJ2-.js"),__vite__mapDeps([26,1,2,3,4]))),xE=A.lazy(()=>fe(()=>import("./EvidencePage-0amy9wlV.js"),__vite__mapDeps([27,1,2,3,4]))),yE=A.lazy(()=>fe(()=>import("./SiemPage-2eYgUUMs.js"),__vite__mapDeps([28,1,2,3,4]))),bE=A.lazy(()=>fe(()=>import("./AttackSimulationPage-DC9MMkVP.js"),__vite__mapDeps([29,1,2,3,4]))),Cd=A.lazy(()=>fe(()=>import("./ExploitationPage-C992VVOe.js"),__vite__mapDeps([30,1,2,3,4]))),vE=A.lazy(()=>fe(()=>import("./NucleiPage-BWJCE19I.js"),__vite__mapDeps([31,1,2,3,4]))),wE=A.lazy(()=>fe(()=>import("./ReportsPage-CJuZAMZG.js"),__vite__mapDeps([32,1,2,3,4]))),jE=A.lazy(()=>fe(()=>import("./AssetDiscoveryPage-C0kCwvb0.js"),__vite__mapDeps([33,1,2,3,4]))),_E=A.lazy(()=>fe(()=>import("./PrivescPage-aOAOeuK3.js"),__vite__mapDeps([34,1,2,3,4]))),Ed=A.lazy(()=>fe(()=>import("./BloodHoundPage-BGz-qBuP.js"),__vite__mapDeps([35,1,2,3,4]))),NE=A.lazy(()=>fe(()=>import("./PhishingPage-eGrhZ83M.js"),__vite__mapDeps([36,1,2,3,4]))),kE=A.lazy(()=>fe(()=>import("./C2Page-DJ5VZgyM.js"),__vite__mapDeps([37,1,2,3,4]))),SE=A.lazy(()=>fe(()=>import("./WirelessPage-Ci_jMJBD.js"),__vite__mapDeps([38,1,2,3,4]))),CE=A.lazy(()=>fe(()=>import("./FindingTemplatesPage-B4xqpaJh.js"),__vite__mapDeps([39,1,2,3,4]))),EE=A.lazy(()=>fe(()=>import("./CrackingPage-XoSwCaXa.js"),__vite__mapDeps([40,1,2,3,4]))),PE=A.lazy(()=>fe(()=>import("./AttackSurfacePage-CDPhfJNG.js"),__vite__mapDeps([41,1,2,3,4]))),AE=A.lazy(()=>fe(()=>import("./PurpleTeamPage-DKURDc98.js"),__vite__mapDeps([42,1,2,3,4]))),RE=A.lazy(()=>fe(()=>import("./OrganizationPage-CL8h5QXX.js"),__vite__mapDeps([43,1,2,3,4]))),OE=A.lazy(()=>fe(()=>import("./CrmDashboard-CGpN0Dne.js"),__vite__mapDeps([44,1,2,3,4]))),TE=A.lazy(()=>fe(()=>import("./CustomerList-Dca-y0u3.js"),__vite__mapDeps([45,1,2,3,4]))),DE=A.lazy(()=>fe(()=>import("./CustomerDetail-Dm4hSvgy.js"),__vite__mapDeps([46,1,2,3,4]))),$E=A.lazy(()=>fe(()=>import("./EngagementsPage-DE2-qE1A.js"),__vite__mapDeps([47,1,2,3,4]))),ME=A.lazy(()=>fe(()=>import("./ContractsPage-rBJMCePr.js"),__vite__mapDeps([48,1,2,3,4]))),zE=A.lazy(()=>fe(()=>import("./TimeTrackingPage-BlwKH9Yo.js"),__vite__mapDeps([49,1,2,3,4]))),IE=A.lazy(()=>fe(()=>import("./PortalLogin-5Ie_GWTM.js"),__vite__mapDeps([50,1,2,3,4]))),LE=A.lazy(()=>fe(()=>import("./PortalForgotPassword-BjNjIrvq.js"),__vite__mapDeps([51,1,2,3,4]))),FE=A.lazy(()=>fe(()=>import("./PortalResetPassword-DqoQgsbq.js"),__vite__mapDeps([52,1,2,3,4]))),HE=A.lazy(()=>fe(()=>import("./PortalDashboard-B9YxKbMq.js"),__vite__mapDeps([53,1,2,54,3,4]))),BE=A.lazy(()=>fe(()=>import("./PortalEngagementList-C8vTWg_X.js"),__vite__mapDeps([55,1,2,54,3,4]))),UE=A.lazy(()=>fe(()=>import("./PortalEngagementDetail-BXAbCBR2.js"),__vite__mapDeps([56,1,2,54,3,4]))),qE=A.lazy(()=>fe(()=>import("./PortalVulnerabilityList-BU2wb8bO.js"),__vite__mapDeps([57,1,2,54,3,4]))),WE=A.lazy(()=>fe(()=>import("./PortalVulnerabilityDetail-CPGwrQtc.js"),__vite__mapDeps([58,1,2,54,3,4]))),VE=A.lazy(()=>fe(()=>import("./PortalReportList-DnnO72el.js"),__vite__mapDeps([59,1,2,54,3,4]))),GE=A.lazy(()=>fe(()=>import("./PortalProfile-DyFbBbZE.js"),__vite__mapDeps([60,1,2,54,3,4]))),YE=()=>i.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-gray-900 flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading..."})]})}),be=({children:e})=>Xn(r=>r.isAuthenticated)?i.jsx(i.Fragment,{children:e}):i.jsx(ws,{to:"/",replace:!0}),XE=({children:e})=>{const n=Xn(s=>s.isAuthenticated),r=Xn(s=>s.isAdmin);return n?r()?i.jsx(i.Fragment,{children:e}):i.jsx(ws,{to:"/dashboard",replace:!0}):i.jsx(ws,{to:"/",replace:!0})},Bn=({children:e})=>Dx.isAuthenticated()?i.jsx(i.Fragment,{children:e}):i.jsx(ws,{to:"/portal/login",replace:!0}),KE=()=>{const{resolvedTheme:e}=vh();return i.jsx(Mm,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:e})};function JE(){return i.jsx(Yp,{client:K5,children:i.jsx(zx,{defaultTheme:"system",children:i.jsxs(Kp,{children:[i.jsx(A.Suspense,{fallback:i.jsx(YE,{}),children:i.jsxs(Jp,{children:[i.jsx(le,{path:"/",element:i.jsx(Kx,{})}),i.jsx(le,{path:"/sales",element:i.jsx(Z5,{})}),i.jsx(le,{path:"/dashboard",element:i.jsx(be,{children:i.jsx(kd,{})})}),i.jsx(le,{path:"/dashboard/:scanId",element:i.jsx(be,{children:i.jsx(kd,{})})}),i.jsx(le,{path:"/admin",element:i.jsx(XE,{children:i.jsx(J5,{})})}),i.jsx(le,{path:"/settings",element:i.jsx(be,{children:i.jsx(Q5,{})})}),i.jsx(le,{path:"/assets",element:i.jsx(be,{children:i.jsx(eE,{})})}),i.jsx(le,{path:"/webapp-scan",element:i.jsx(be,{children:i.jsx(tE,{})})}),i.jsx(le,{path:"/dns-tools",element:i.jsx(be,{children:i.jsx(nE,{})})}),i.jsx(le,{path:"/compliance",element:i.jsx(be,{children:i.jsx(rE,{})})}),i.jsx(le,{path:"/evidence",element:i.jsx(be,{children:i.jsx(xE,{})})}),i.jsx(le,{path:"/remediation",element:i.jsx(be,{children:i.jsx(sE,{})})}),i.jsx(le,{path:"/reports",element:i.jsx(be,{children:i.jsx(wE,{})})}),i.jsx(le,{path:"/workflows",element:i.jsx(be,{children:i.jsx(dE,{})})}),i.jsx(le,{path:"/manual-assessments",element:i.jsx(be,{children:i.jsx(iE,{})})}),i.jsx(le,{path:"/manual-assessments/:assessmentId",element:i.jsx(be,{children:i.jsx(aE,{})})}),i.jsx(le,{path:"/methodology",element:i.jsx(be,{children:i.jsx(Sd,{})})}),i.jsx(le,{path:"/methodology/:checklistId",element:i.jsx(be,{children:i.jsx(Sd,{})})}),i.jsx(le,{path:"/finding-templates",element:i.jsx(be,{children:i.jsx(CE,{})})}),i.jsx(le,{path:"/cracking",element:i.jsx(be,{children:i.jsx(EE,{})})}),i.jsx(le,{path:"/executive-dashboard",element:i.jsx(be,{children:i.jsx(oE,{})})}),i.jsx(le,{path:"/api-security",element:i.jsx(be,{children:i.jsx(lE,{})})}),i.jsx(le,{path:"/attack-paths/:scanId",element:i.jsx(be,{children:i.jsx(cE,{})})}),i.jsx(le,{path:"/compare",element:i.jsx(be,{children:i.jsx(uE,{})})}),i.jsx(le,{path:"/container-security",element:i.jsx(be,{children:i.jsx(hE,{})})}),i.jsx(le,{path:"/iac-security",element:i.jsx(be,{children:i.jsx(fE,{})})}),i.jsx(le,{path:"/attack-simulation",element:i.jsx(be,{children:i.jsx(bE,{})})}),i.jsx(le,{path:"/exploitation",element:i.jsx(be,{children:i.jsx(Cd,{})})}),i.jsx(le,{path:"/exploitation/:tab",element:i.jsx(be,{children:i.jsx(Cd,{})})}),i.jsx(le,{path:"/nuclei",element:i.jsx(be,{children:i.jsx(vE,{})})}),i.jsx(le,{path:"/discovery",element:i.jsx(be,{children:i.jsx(jE,{})})}),i.jsx(le,{path:"/privesc",element:i.jsx(be,{children:i.jsx(_E,{})})}),i.jsx(le,{path:"/bloodhound",element:i.jsx(be,{children:i.jsx(Ed,{})})}),i.jsx(le,{path:"/bloodhound/:importId",element:i.jsx(be,{children:i.jsx(Ed,{})})}),i.jsx(le,{path:"/phishing",element:i.jsx(be,{children:i.jsx(NE,{})})}),i.jsx(le,{path:"/c2",element:i.jsx(be,{children:i.jsx(kE,{})})}),i.jsx(le,{path:"/wireless",element:i.jsx(be,{children:i.jsx(SE,{})})}),i.jsx(le,{path:"/attack-surface",element:i.jsx(be,{children:i.jsx(PE,{})})}),i.jsx(le,{path:"/purple-team",element:i.jsx(be,{children:i.jsx(AE,{})})}),i.jsx(le,{path:"/organization/:id",element:i.jsx(be,{children:i.jsx(RE,{})})}),i.jsx(le,{path:"/plugins",element:i.jsx(be,{children:i.jsx(pE,{})})}),i.jsx(le,{path:"/agents",element:i.jsx(be,{children:i.jsx(mE,{})})}),i.jsx(le,{path:"/agents/mesh",element:i.jsx(be,{children:i.jsx(gE,{})})}),i.jsx(le,{path:"/siem",element:i.jsx(be,{children:i.jsx(yE,{})})}),i.jsx(le,{path:"/crm",element:i.jsx(be,{children:i.jsx(OE,{})})}),i.jsx(le,{path:"/crm/customers",element:i.jsx(be,{children:i.jsx(TE,{})})}),i.jsx(le,{path:"/crm/customers/:id",element:i.jsx(be,{children:i.jsx(DE,{})})}),i.jsx(le,{path:"/crm/engagements",element:i.jsx(be,{children:i.jsx($E,{})})}),i.jsx(le,{path:"/crm/contracts",element:i.jsx(be,{children:i.jsx(ME,{})})}),i.jsx(le,{path:"/crm/time-tracking",element:i.jsx(be,{children:i.jsx(zE,{})})}),i.jsx(le,{path:"/portal/login",element:i.jsx(IE,{})}),i.jsx(le,{path:"/portal/forgot-password",element:i.jsx(LE,{})}),i.jsx(le,{path:"/portal/reset-password",element:i.jsx(FE,{})}),i.jsx(le,{path:"/portal/dashboard",element:i.jsx(Bn,{children:i.jsx(HE,{})})}),i.jsx(le,{path:"/portal/engagements",element:i.jsx(Bn,{children:i.jsx(BE,{})})}),i.jsx(le,{path:"/portal/engagements/:id",element:i.jsx(Bn,{children:i.jsx(UE,{})})}),i.jsx(le,{path:"/portal/vulnerabilities",element:i.jsx(Bn,{children:i.jsx(qE,{})})}),i.jsx(le,{path:"/portal/vulnerabilities/:id",element:i.jsx(Bn,{children:i.jsx(WE,{})})}),i.jsx(le,{path:"/portal/reports",element:i.jsx(Bn,{children:i.jsx(VE,{})})}),i.jsx(le,{path:"/portal/profile",element:i.jsx(Bn,{children:i.jsx(GE,{})})}),i.jsx(le,{path:"*",element:i.jsx(ws,{to:"/",replace:!0})})]})}),i.jsx(KE,{})]})})})}Jm.createRoot(document.getElementById("root")).render(i.jsx(Fo.StrictMode,{children:i.jsx(JE,{})}));export{We as $,GP as A,He as B,xe as C,VP as D,MP as E,DP as F,Qs as G,hc as H,tt as I,Xn as J,OP as K,nn as L,JP as M,IP as N,FP as O,zP as P,LP as Q,BP as R,fc as S,UP as T,WP as U,qP as V,uf as W,RP as X,ze as Y,KP as Z,QP as _,SP as a,e3 as a0,ZP as a1,e0 as a2,t3 as a3,N as a4,fs as a5,n3 as a6,r3 as a7,s3 as a8,i3 as a9,a3 as aa,Qx as ab,qx as ac,o3 as ad,Dx as ae,jP as af,_P as ag,NP as ah,kP as ai,wP as aj,_t as b,ha as c,Sw as d,Oi as e,Rn as f,N_ as g,ps as h,HP as i,Ux as j,AP as k,TP as l,Ix as m,PP as n,$P as o,Fx as p,tn as q,pc as r,CP as s,Lx as t,EP as u,Hx as v,YP as w,XP as x,ar as y,mc as z};
