import{j as t}from"./vendor-state-DdX3IZQk.js";import{r as s,L as u}from"./vendor-react-Da1CiaFS.js";import{P as o}from"./PortalLayout-cPZC2yAF.js";import{aw as h}from"./index-lpqdgxD1.js";import"./vendor-ui-wM19Qo8C.js";import"./vendor-charts-CCbxmwBt.js";const y={planning:"bg-yellow-900/50 text-yellow-200",in_progress:"bg-blue-900/50 text-blue-200",completed:"bg-green-900/50 text-green-200",on_hold:"bg-gray-700 text-gray-300",cancelled:"bg-red-900/50 text-red-200"},b={pentest:"Penetration Test",vuln_assessment:"Vulnerability Assessment",red_team:"Red Team",compliance_audit:"Compliance Audit",consulting:"Consulting"};function E(){const[r,i]=s.useState([]),[d,c]=s.useState(!0),[l,x]=s.useState(""),[a,m]=s.useState("all");s.useEffect(()=>{g()},[]);const g=async()=>{try{const e=await h.getAll();i(e.data)}catch(e){x("Failed to load engagements"),console.error(e)}finally{c(!1)}},n=a==="all"?r:r.filter(e=>e.status===a);return d?t.jsx(o,{children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})})}):t.jsx(o,{children:t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h1",{className:"text-2xl font-bold text-white",children:"Engagements"}),t.jsx("div",{className:"flex gap-2",children:["all","planning","in_progress","completed"].map(e=>t.jsx("button",{onClick:()=>m(e),className:`px-3 py-1.5 text-sm rounded-lg transition-colors ${a===e?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:e==="all"?"All":e.replace("_"," ").replace(/\b\w/g,p=>p.toUpperCase())},e))})]}),l&&t.jsx("div",{className:"bg-red-900/50 text-red-200 p-4 rounded-lg",children:l}),n.length===0?t.jsx("div",{className:"bg-gray-800 rounded-lg p-8 text-center",children:t.jsx("p",{className:"text-gray-400",children:"No engagements found"})}):t.jsx("div",{className:"grid gap-4",children:n.map(e=>t.jsxs(u,{to:`/portal/engagements/${e.id}`,className:"bg-gray-800 rounded-lg p-6 hover:bg-gray-750 transition-colors border border-gray-700 hover:border-gray-600",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-semibold text-white",children:e.name}),t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:b[e.engagement_type]||e.engagement_type})]}),t.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${y[e.status]||"bg-gray-700 text-gray-300"}`,children:e.status.replace("_"," ")})]}),e.scope&&t.jsx("p",{className:"mt-3 text-sm text-gray-400 line-clamp-2",children:e.scope}),t.jsxs("div",{className:"mt-4 flex items-center gap-4 text-xs text-gray-500",children:[e.start_date&&t.jsxs("span",{children:["Started: ",new Date(e.start_date).toLocaleDateString()]}),e.end_date&&t.jsxs("span",{children:["Ends: ",new Date(e.end_date).toLocaleDateString()]})]})]},e.id))})]})})}export{E as default};
