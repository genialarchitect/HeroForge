import{j as e}from"./vendor-state-DrZ0R9WI.js";import{r as l}from"./vendor-react-HUtzaQ-y.js";import{q as te,r as o,c as _e,B as x}from"./index-HWikd5b2.js";import{h as I,aS as q,aT as M,T as U,s as Fe,w as Ee,P as J,aU as Ge,ai as Me,J as De,X as y,D as Le,au as Pe,a7 as $e,B as d}from"./vendor-ui-B0CnzN9V.js";import"./vendor-charts-B0X_RreH.js";const X=["#22c55e","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#6366f1"],ae=[{value:"environment",label:"Environment"},{value:"criticality",label:"Criticality"},{value:"owner",label:"Owner"},{value:"department",label:"Department"},{value:"location",label:"Location"},{value:"compliance",label:"Compliance"},{value:"custom",label:"Custom"}],Xe=()=>{const[re,H]=l.useState([]),[le,K]=l.useState(!0),[Q,k]=l.useState(""),[V,ce]=l.useState(""),[N,ie]=l.useState(""),[c,D]=l.useState(null),[ne,L]=l.useState(!1),[u,de]=l.useState([]),[p,T]=l.useState([]),[oe,C]=l.useState(!1),[xe,S]=l.useState(!1),[A,_]=l.useState(!1),[W,F]=l.useState(null),[f,P]=l.useState(""),[g,$]=l.useState(X[0]),[O,z]=l.useState("custom"),[B,R]=l.useState(""),[me,j]=l.useState(!1),[E,v]=l.useState(null),[Y,he]=l.useState([]),[m,Z]=l.useState(null),[Oe,ue]=l.useState(!1),[ze,pe]=l.useState(!1),[Be,fe]=l.useState(null),ee=l.useCallback(async()=>{try{const s=await te.getGroups();he(s.data)}catch(s){console.error("Failed to fetch groups:",s)}},[]),b=l.useCallback(async()=>{try{const s=await o.getTags();de(s.data)}catch(s){console.error("Failed to fetch tags:",s)}},[]),G=l.useCallback(async()=>{var s,t;try{if(K(!0),m){const i=await te.getAssetsByGroup({group_id:m,status:N||void 0});H(i.data),k("");return}const a={};N&&(a.status=N),p.length>0&&(a.tag_ids=p.join(","));const r=p.length>0?await o.getAssetsByTags(a):await o.getAssets(a);H(r.data),k("")}catch(a){k(((t=(s=a.response)==null?void 0:s.data)==null?void 0:t.error)||"Failed to fetch assets")}finally{K(!1)}},[N,p,m]);l.useEffect(()=>{b(),ee()},[b,ee]),l.useEffect(()=>{G()},[G]);const ge=async s=>{var t,a;try{const r=await o.getAsset(s);D(r.data),L(!0)}catch(r){k(((a=(t=r.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to fetch asset details")}},je=async()=>{var s,t,a;if(!f.trim()){d.error("Tag name is required");return}try{const r={name:f.trim(),color:g,category:O,description:B.trim()||void 0};await o.createTag(r),d.success("Tag created successfully"),S(!1),w(),b()}catch(r){const i=r,n=typeof((s=i.response)==null?void 0:s.data)=="string"?i.response.data:((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to create tag";d.error(n)}},be=async()=>{var s,t,a;if(!W||!f.trim()){d.error("Tag name is required");return}try{await o.updateTag(W.id,{name:f.trim(),color:g,category:O,description:B.trim()||void 0}),d.success("Tag updated successfully"),_(!1),F(null),w(),b()}catch(r){const i=r,n=typeof((s=i.response)==null?void 0:s.data)=="string"?i.response.data:((a=(t=i.response)==null?void 0:t.data)==null?void 0:a.error)||"Failed to update tag";d.error(n)}},Ne=async s=>{var t,a,r;if(confirm("Are you sure you want to delete this tag? It will be removed from all assets."))try{await o.deleteTag(s),d.success("Tag deleted successfully"),T(i=>i.filter(n=>n!==s)),b()}catch(i){const n=i,h=typeof((t=n.response)==null?void 0:t.data)=="string"?n.response.data:((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to delete tag";d.error(h)}},ve=async s=>{var t,a,r;if(E)try{const i=await o.addTagsToAsset(E,{tag_ids:s});d.success("Tags added successfully"),j(!1),v(null),G(),c&&c.asset.id===E&&D(i.data)}catch(i){const n=i,h=typeof((t=n.response)==null?void 0:t.data)=="string"?n.response.data:((r=(a=n.response)==null?void 0:a.data)==null?void 0:r.error)||"Failed to add tags";d.error(h)}},we=async(s,t)=>{var a,r,i;try{const n=await o.removeTagFromAsset(s,t);d.success("Tag removed from asset"),G(),b(),c&&c.asset.id===s&&D(n.data)}catch(n){const h=n,Ae=typeof((a=h.response)==null?void 0:a.data)=="string"?h.response.data:((i=(r=h.response)==null?void 0:r.data)==null?void 0:i.error)||"Failed to remove tag";d.error(Ae)}},w=()=>{P(""),$(X[0]),z("custom"),R("")},ye=s=>{F(s),P(s.name),$(s.color),z(s.category),R(s.description||""),_(!0)},ke=s=>{T(t=>t.includes(s)?t.filter(a=>a!==s):[...t,s])},Te=()=>{T([])},Ce=s=>{m!==s&&T([]),Z(t=>t===s?null:s)},Se=()=>{Z(null)},se=re.filter(s=>{const t=V.toLowerCase();return s.ip_address.includes(t)||s.hostname&&s.hostname.toLowerCase().includes(t)||s.os_family&&s.os_family.toLowerCase().includes(t)});return e.jsx(_e,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[e.jsx(I,{className:"h-8 w-8 mr-3 text-primary"}),"Asset Inventory"]}),e.jsx("p",{className:"mt-2 text-slate-400",children:"Track and manage discovered network assets across scans"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(x,{variant:"secondary",onClick:()=>ue(!0),className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Manage Groups"]}),e.jsxs(x,{onClick:()=>C(!0),className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4"}),"Manage Tags"]})]})]}),Q&&e.jsx("div",{className:"bg-severity-critical/20 border border-severity-critical/50 text-severity-critical px-4 py-3 rounded-lg",children:Q}),Y.length>0&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"Filter by Group"]}),m&&e.jsx("button",{onClick:Se,className:"text-xs text-slate-400 hover:text-white",children:"Clear filter"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Y.map(({group:s,asset_count:t})=>e.jsxs("button",{onClick:()=>Ce(s.id),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${m===s.id?"ring-2 ring-white ring-offset-2 ring-offset-dark-surface":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:`${s.color}20`,color:s.color,borderColor:s.color},children:[e.jsx(q,{className:"h-3 w-3",style:{color:s.color}}),s.name,e.jsxs("span",{className:"text-xs opacity-70",children:["(",t,")"]})]},s.id))})]}),u.length>0&&!m&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Filter by Tags"]}),p.length>0&&e.jsx("button",{onClick:Te,className:"text-xs text-slate-400 hover:text-white",children:"Clear filters"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(({tag:s,asset_count:t})=>e.jsxs("button",{onClick:()=>ke(s.id),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${p.includes(s.id)?"ring-2 ring-white ring-offset-2 ring-offset-dark-surface":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:`${s.color}20`,color:s.color,borderColor:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsxs("span",{className:"text-xs opacity-70",children:["(",t,")"]})]},s.id))})]}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Fe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by IP, hostname, or OS...",value:V,onChange:s=>ce(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-slate-400"}),e.jsxs("select",{value:N,onChange:s=>ie(s.target.value),className:"px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),le?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-dark-border",children:[e.jsx("thead",{className:"bg-dark-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Asset"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tags"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Operating System"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-dark-surface divide-y divide-dark-border",children:se.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center text-slate-400",children:[e.jsx(I,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No assets found"}),e.jsx("p",{className:"text-sm mt-2",children:"Run a scan to discover network assets"})]})}):se.map(s=>e.jsxs("tr",{className:"hover:bg-dark-hover cursor-pointer",onClick:()=>ge(s.id),children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(I,{className:"h-5 w-5 text-primary mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:s.ip_address}),s.hostname&&e.jsx("div",{className:"text-sm text-slate-400",children:s.hostname})]})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:t=>{t.stopPropagation(),v(s.id),j(!0)},className:"text-slate-400 hover:text-primary",title:"Add tags",children:e.jsx(J,{className:"h-4 w-4"})}),e.jsx("button",{onClick:t=>{t.stopPropagation(),fe(s.id),pe(!0)},className:"text-slate-400 hover:text-primary",title:"Add to group",children:e.jsx(Ge,{className:"h-4 w-4"})})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:s.os_family||"Unknown"}),s.os_version&&e.jsx("div",{className:"text-sm text-slate-400",children:s.os_version})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),new Date(s.last_seen).toLocaleDateString()]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx("button",{className:"text-primary hover:text-primary-light",children:e.jsx(De,{className:"h-5 w-5"})})})]},s.id))})]})}),ne&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:c.asset.ip_address}),c.asset.hostname&&e.jsx("p",{className:"text-slate-400 mt-1",children:c.asset.hostname})]}),e.jsx("button",{onClick:()=>L(!1),className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Tags"]}),e.jsxs("button",{onClick:()=>{v(c.asset.id),j(!0)},className:"text-sm text-primary hover:text-primary-light flex items-center gap-1",children:[e.jsx(J,{className:"h-4 w-4"}),"Add Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.asset_tags.length===0?e.jsx("p",{className:"text-slate-400 text-sm",children:"No tags assigned"}):c.asset_tags.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${s.color}20`,color:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsx("button",{onClick:()=>we(c.asset.id,s.id),className:"ml-1 hover:opacity-70",children:e.jsx(y,{className:"h-3 w-3"})})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Operating System"}),e.jsxs("p",{className:"text-white",children:[c.asset.os_family||"Unknown",c.asset.os_version&&` ${c.asset.os_version}`]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"MAC Address"}),e.jsx("p",{className:"text-white",children:c.asset.mac_address||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"First Seen"}),e.jsx("p",{className:"text-white",children:new Date(c.asset.first_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Last Seen"}),e.jsx("p",{className:"text-white",children:new Date(c.asset.last_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Scan Count"}),e.jsxs("p",{className:"text-white flex items-center gap-1",children:[e.jsx(Le,{className:"h-4 w-4"}),c.asset.scan_count]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${c.asset.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:c.asset.status})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Open Ports"}),e.jsx("div",{className:"bg-dark-bg rounded-lg p-4",children:c.ports.length===0?e.jsx("p",{className:"text-slate-400",children:"No ports recorded"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:c.ports.map(s=>e.jsx("div",{className:"bg-dark-surface rounded p-3 border border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:[s.port,"/",s.protocol]}),s.service_name&&e.jsx("p",{className:"text-sm text-slate-400",children:s.service_name}),s.service_version&&e.jsx("p",{className:"text-xs text-slate-500",children:s.service_version})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.current_state==="open"?"bg-port-open/20 text-port-open":"bg-dark-border text-slate-300"}`,children:s.current_state})]})},s.id))})})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(x,{variant:"secondary",onClick:()=>L(!1),children:"Close"})})]})]})}),oe&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(M,{className:"h-6 w-6"}),"Manage Asset Tags"]}),e.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs(x,{onClick:()=>{w(),S(!0)},className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-4 w-4"}),"Create Tag"]})}),u.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No tags created yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first tag to organize assets"})]}):e.jsx("div",{className:"space-y-3",children:ae.map(({value:s,label:t})=>{const a=u.filter(r=>r.tag.category===s);return a.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:t}),e.jsx("div",{className:"space-y-2",children:a.map(({tag:r,asset_count:i})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:r.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:r.name}),r.description&&e.jsx("p",{className:"text-sm text-slate-400",children:r.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[i," asset",i!==1?"s":""]}),e.jsx("button",{onClick:()=>ye(r),className:"text-slate-400 hover:text-white",children:e.jsx(Pe,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Ne(r.id),className:"text-slate-400 hover:text-severity-critical",children:e.jsx($e,{className:"h-4 w-4"})})]})]},r.id))})]},s)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(x,{variant:"secondary",onClick:()=>C(!1),children:"Close"})})]})]})}),(xe||A)&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:A?"Edit Tag":"Create New Tag"}),e.jsx("button",{onClick:()=>{S(!1),_(!1),F(null),w()},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tag Name *"}),e.jsx("input",{type:"text",value:f,onChange:s=>P(s.target.value),placeholder:"e.g., Production, Critical, Finance",className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),e.jsx("select",{value:O,onChange:s=>z(s.target.value),className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:ae.map(({value:s,label:t})=>e.jsx("option",{value:s,children:t},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:X.map(s=>e.jsx("button",{onClick:()=>$(s),className:`w-8 h-8 rounded-full border-2 ${g===s?"border-white":"border-transparent"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:B,onChange:s=>R(s.target.value),placeholder:"Brief description of this tag...",rows:2,className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Preview"}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${g}20`,color:g},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:g}}),f||"Tag Name"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(x,{variant:"secondary",onClick:()=>{S(!1),_(!1),F(null),w()},children:"Cancel"}),e.jsx(x,{onClick:A?be:je,children:A?"Save Changes":"Create Tag"})]})]})]})}),me&&E&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Add Tags to Asset"]}),e.jsx("button",{onClick:()=>{j(!1),v(null)},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:u.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(U,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No tags available"}),e.jsx(x,{className:"mt-4",onClick:()=>{j(!1),C(!0)},children:"Create Tags"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Select tags to add to this asset:"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:u.map(({tag:s})=>{const a=((c==null?void 0:c.asset_tags)||[]).some(r=>r.id===s.id);return e.jsxs("button",{onClick:()=>!a&&ve([s.id]),disabled:a,className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${a?"bg-dark-bg border-dark-border opacity-50 cursor-not-allowed":"bg-dark-bg border-dark-border hover:border-primary"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-white",children:s.name})]}),a&&e.jsx("span",{className:"text-xs text-slate-400",children:"Already added"})]},s.id)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(x,{variant:"secondary",onClick:()=>{j(!1),v(null)},children:"Close"})})]})})]})})]})})};export{Xe as default};
