import{j as e}from"./vendor-state-CmPn7D-C.js";import{r as s,u as f,L as y}from"./vendor-react-Da1CiaFS.js";import{$ as u}from"./index-1jRzuKaK.js";import"./vendor-ui-Co93spXs.js";import"./vendor-charts-D04Aj3Lx.js";function k(){const[a,x]=s.useState(""),[o,g]=s.useState(""),[l,i]=s.useState(""),[n,c]=s.useState(!1),r=f();s.useEffect(()=>{u.isAuthenticated()&&r("/portal/dashboard")},[r]);const p=async t=>{var d,m;t.preventDefault(),i(""),c(!0);try{await u.login({email:a,password:o}),r("/portal/dashboard")}catch(h){i(((m=(d=h.response)==null?void 0:d.data)==null?void 0:m.error)||"Login failed. Please check your credentials.")}finally{c(!1)}};return e.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 px-4 py-12 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"w-full max-w-md space-y-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-center text-3xl font-bold tracking-tight text-white",children:"Customer Portal"}),e.jsx("h2",{className:"mt-2 text-center text-lg text-gray-400",children:"Sign in to access your security data"})]}),e.jsxs("div",{className:"rounded-xl bg-gray-800 p-8 shadow-2xl",children:[e.jsxs("form",{className:"space-y-6",onSubmit:p,children:[l&&e.jsx("div",{className:"rounded-lg bg-red-900/50 p-4 text-sm text-red-200",children:l}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:a,onChange:t=>x(t.target.value),className:"mt-1 block w-full rounded-lg border-0 bg-gray-700 px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your email"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:o,onChange:t=>g(t.target.value),className:"mt-1 block w-full rounded-lg border-0 bg-gray-700 px-4 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter your password"})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"text-sm",children:e.jsx(y,{to:"/portal/forgot-password",className:"font-medium text-blue-400 hover:text-blue-300",children:"Forgot your password?"})})}),e.jsx("button",{type:"submit",disabled:n,className:"flex w-full justify-center rounded-lg bg-blue-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800 disabled:cursor-not-allowed disabled:opacity-50",children:n?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign in"})]}),e.jsx("div",{className:"mt-6 text-center text-sm text-gray-400",children:e.jsxs("p",{children:["Need an account?"," ",e.jsx("span",{className:"text-gray-300",children:"Contact your security provider for portal access."})]})})]}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"Powered by HeroForge Security Platform"})]})})}export{k as PortalLogin,k as default};
