const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminPage-CJpMoMXm.js","assets/vendor-state-DNqmiQl8.js","assets/vendor-react-CGkJ0Xct.js","assets/vendor-ui-tNk-6tcv.js","assets/vendor-charts-DvNHdErC.js","assets/SettingsPage-BjTiYld9.js","assets/AssetsPage-DZ5tPZDI.js","assets/WebAppScanPage-Dd1jXUsd.js","assets/DnsToolsPage-DZcCwh6W.js","assets/CompliancePage-B6_a-0nB.js","assets/RemediationPage-7OHWAnlL.js","assets/ManualAssessmentPage-B58l4NJ8.js","assets/AssessmentDetailPage-B3fEWLid.js"])))=>i.map(i=>d[i]);
var su=Object.defineProperty;var iu=(e,r,n)=>r in e?su(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var xt=(e,r,n)=>iu(e,typeof r!="symbol"?r+"":r,n);import{c as Bo,j as o}from"./vendor-state-DNqmiQl8.js";import{b as ls,g as Vo,r as z,u as Go,d as au,L as Rt,R as Yo,a as rt,e as ou,B as lu,f as cu,h as We,N as Bn}from"./vendor-react-CGkJ0Xct.js";import{B as Q,L as cs,C as Xo,S as De,K as uu,U as Ko,a as Jo,b as Zo,d as Pt,G as Zr,N as Vn,e as du,f as yi,g as Qo,h as fu,i as hu,j as el,Z as Ps,H as pu,F as mu,T as tl,k as gu,R as xu,W as us,l as ds,m as rl,E as yu,n as vu,o as br,p as nl,q as bu,r as vi,s as tt,A as dt,t as bi,u as fs,v as Bs,w as sl,x as dr,y as nn,z as il,D as wu,I as _u,J as fr,M as ju,O as Lt,X as hr,P as Nu,Q as hs,V as Tn,Y as et,_ as Su,$ as ku,a0 as Cu,a1 as Ou,a2 as Pu,a3 as Yi,a4 as Eu,a5 as Ru,a6 as Du,a7 as Au,a8 as Mn,a9 as Tu,aa as Mu,ab as zu,ac as al,ad as Xi,ae as Ki,af as Lu,ag as Ji,ah as $u,ai as Fu}from"./vendor-ui-tNk-6tcv.js";import{i as Iu,a as Zi,b as Hu,c as Qi,d as qu,e as Uu,f as Wu,o as Bu,s as Vu,m as ea,g as ta,P as M,R as Gt,h as Gu,j as Yu,C as ol,T as Yt,L as ll,B as cl,k as or,X as lr,Y as cr,l as ul,n as Vs,p as Gs,A as Xu,q as vn,r as It}from"./vendor-charts-DvNHdErC.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var bn={},ra;function Ku(){if(ra)return bn;ra=1;var e=ls();return bn.createRoot=e.createRoot,bn.hydrateRoot=e.hydrateRoot,bn}var Ju=Ku();const Zu=Vo(Ju),Qu="modulepreload",ed=function(e){return"/"+e},na={},Et=function(r,n,s){let i=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(n.map(d=>{if(d=ed(d),d in na)return;na[d]=!0;const h=d.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const x=document.createElement("link");if(x.rel=h?"stylesheet":Qu,h||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),h)return new Promise((b,w)=>{x.addEventListener("load",b),x.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return r().catch(a)})},td={};function rd(e,r){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const l=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const sn=e=>r=>{try{const n=e(r);return n instanceof Promise?n:{then(s){return sn(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return sn(s)(n)}}}},nd=(e,r)=>(n,s,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,m)=>({...m,...v}),...r},l=!1;const c=new Set,u=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},s,i);const h=sn(a.serialize),f=()=>{const v=a.partialize({...s()});let m;const p=h({state:v,version:a.version}).then(_=>d.setItem(a.name,_)).catch(_=>{m=_});if(m)throw m;return p},x=i.setState;i.setState=(v,m)=>{x(v,m),f()};const b=e((...v)=>{n(...v),f()},s,i);let w;const S=()=>{var v;if(!d)return;l=!1,c.forEach(p=>p(s()));const m=((v=a.onRehydrateStorage)==null?void 0:v.call(a,s()))||void 0;return sn(d.getItem.bind(d))(a.name).then(p=>{if(p)return a.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return a.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var _;return w=a.merge(p,(_=s())!=null?_:b),n(w,!0),f()}).then(()=>{m==null||m(w,void 0),l=!0,u.forEach(p=>p(w))}).catch(p=>{m==null||m(void 0,p)})};return i.persist={setOptions:v=>{a={...a,...v},v.getStorage&&(d=v.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>S(),hasHydrated:()=>l,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},S(),w||b},sd=(e,r)=>(n,s,i)=>{let a={storage:rd(()=>localStorage),partialize:S=>S,version:0,merge:(S,v)=>({...v,...S}),...r},l=!1;const c=new Set,u=new Set;let d=a.storage;if(!d)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...S)},s,i);const h=()=>{const S=a.partialize({...s()});return d.setItem(a.name,{state:S,version:a.version})},f=i.setState;i.setState=(S,v)=>{f(S,v),h()};const x=e((...S)=>{n(...S),h()},s,i);i.getInitialState=()=>x;let b;const w=()=>{var S,v;if(!d)return;l=!1,c.forEach(p=>{var _;return p((_=s())!=null?_:x)});const m=((v=a.onRehydrateStorage)==null?void 0:v.call(a,(S=s())!=null?S:x))||void 0;return sn(d.getItem.bind(d))(a.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==a.version){if(a.migrate)return[!0,a.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var _;const[g,y]=p;if(b=a.merge(y,(_=s())!=null?_:x),n(b,!0),g)return h()}).then(()=>{m==null||m(b,void 0),b=s(),l=!0,u.forEach(p=>p(b))}).catch(p=>{m==null||m(void 0,p)})};return i.persist={setOptions:S=>{a={...a,...S},S.storage&&(d=S.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:S=>(c.add(S),()=>{c.delete(S)}),onFinishHydration:S=>(u.add(S),()=>{u.delete(S)})},a.skipHydration||w(),b||x},id=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((td?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),nd(e,r)):sd(e,r),ad=id,pr=Bo()(ad((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,setUser:n=>e({user:n,isAuthenticated:!!n}),setToken:n=>{e({token:n}),n?localStorage.setItem("token",n):localStorage.removeItem("token")},login:(n,s)=>{e({user:n,token:s,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("token",s)},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")},setLoading:n=>e({isLoading:n}),isAdmin:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1},hasRole:n=>{var s,i;return((i=(s=r().user)==null?void 0:s.roles)==null?void 0:i.includes(n))??!1},canManageUsers:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1},canManageScans:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.some(i=>["admin","auditor"].includes(i)))??!1},canViewAuditLogs:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.some(i=>["admin","auditor"].includes(i)))??!1},canManageSettings:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})}));function dl(e,r){return function(){return e.apply(r,arguments)}}const{toString:od}=Object.prototype,{getPrototypeOf:wi}=Object,{iterator:ps,toStringTag:fl}=Symbol,ms=(e=>r=>{const n=od.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nt=e=>(e=e.toLowerCase(),r=>ms(r)===e),gs=e=>r=>typeof r===e,{isArray:wr}=Array,mr=gs("undefined");function dn(e){return e!==null&&!mr(e)&&e.constructor!==null&&!mr(e.constructor)&&He(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hl=nt("ArrayBuffer");function ld(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&hl(e.buffer),r}const cd=gs("string"),He=gs("function"),pl=gs("number"),fn=e=>e!==null&&typeof e=="object",ud=e=>e===!0||e===!1,zn=e=>{if(ms(e)!=="object")return!1;const r=wi(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(fl in e)&&!(ps in e)},dd=e=>{if(!fn(e)||dn(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},fd=nt("Date"),hd=nt("File"),pd=nt("Blob"),md=nt("FileList"),gd=e=>fn(e)&&He(e.pipe),xd=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||He(e.append)&&((r=ms(e))==="formdata"||r==="object"&&He(e.toString)&&e.toString()==="[object FormData]"))},yd=nt("URLSearchParams"),[vd,bd,wd,_d]=["ReadableStream","Request","Response","Headers"].map(nt),jd=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hn(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),wr(e))for(s=0,i=e.length;s<i;s++)r.call(null,e[s],s,e);else{if(dn(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let c;for(s=0;s<l;s++)c=a[s],r.call(null,e[c],c,e)}}function ml(e,r){if(dn(e))return null;r=r.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],r===i.toLowerCase())return i;return null}const Xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gl=e=>!mr(e)&&e!==Xt;function Ys(){const{caseless:e,skipUndefined:r}=gl(this)&&this||{},n={},s=(i,a)=>{const l=e&&ml(n,a)||a;zn(n[l])&&zn(i)?n[l]=Ys(n[l],i):zn(i)?n[l]=Ys({},i):wr(i)?n[l]=i.slice():(!r||!mr(i))&&(n[l]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&hn(arguments[i],s);return n}const Nd=(e,r,n,{allOwnKeys:s}={})=>(hn(r,(i,a)=>{n&&He(i)?e[a]=dl(i,n):e[a]=i},{allOwnKeys:s}),e),Sd=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),kd=(e,r,n,s)=>{e.prototype=Object.create(r.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},Cd=(e,r,n,s)=>{let i,a,l;const c={};if(r=r||{},e==null)return r;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!s||s(l,e,r))&&!c[l]&&(r[l]=e[l],c[l]=!0);e=n!==!1&&wi(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},Od=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const s=e.indexOf(r,n);return s!==-1&&s===n},Pd=e=>{if(!e)return null;if(wr(e))return e;let r=e.length;if(!pl(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},Ed=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&wi(Uint8Array)),Rd=(e,r)=>{const s=(e&&e[ps]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;r.call(e,a[0],a[1])}},Dd=(e,r)=>{let n;const s=[];for(;(n=e.exec(r))!==null;)s.push(n);return s},Ad=nt("HTMLFormElement"),Td=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),sa=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),Md=nt("RegExp"),xl=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),s={};hn(n,(i,a)=>{let l;(l=r(i,a,e))!==!1&&(s[a]=l||i)}),Object.defineProperties(e,s)},zd=e=>{xl(e,(r,n)=>{if(He(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(He(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ld=(e,r)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return wr(e)?s(e):s(String(e).split(r)),n},$d=()=>{},Fd=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function Id(e){return!!(e&&He(e.append)&&e[fl]==="FormData"&&e[ps])}const Hd=e=>{const r=new Array(10),n=(s,i)=>{if(fn(s)){if(r.indexOf(s)>=0)return;if(dn(s))return s;if(!("toJSON"in s)){r[i]=s;const a=wr(s)?[]:{};return hn(s,(l,c)=>{const u=n(l,i+1);!mr(u)&&(a[c]=u)}),r[i]=void 0,a}}return s};return n(e,0)},qd=nt("AsyncFunction"),Ud=e=>e&&(fn(e)||He(e))&&He(e.then)&&He(e.catch),yl=((e,r)=>e?setImmediate:r?((n,s)=>(Xt.addEventListener("message",({source:i,data:a})=>{i===Xt&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),Xt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",He(Xt.postMessage)),Wd=typeof queueMicrotask<"u"?queueMicrotask.bind(Xt):typeof process<"u"&&process.nextTick||yl,Bd=e=>e!=null&&He(e[ps]),q={isArray:wr,isArrayBuffer:hl,isBuffer:dn,isFormData:xd,isArrayBufferView:ld,isString:cd,isNumber:pl,isBoolean:ud,isObject:fn,isPlainObject:zn,isEmptyObject:dd,isReadableStream:vd,isRequest:bd,isResponse:wd,isHeaders:_d,isUndefined:mr,isDate:fd,isFile:hd,isBlob:pd,isRegExp:Md,isFunction:He,isStream:gd,isURLSearchParams:yd,isTypedArray:Ed,isFileList:md,forEach:hn,merge:Ys,extend:Nd,trim:jd,stripBOM:Sd,inherits:kd,toFlatObject:Cd,kindOf:ms,kindOfTest:nt,endsWith:Od,toArray:Pd,forEachEntry:Rd,matchAll:Dd,isHTMLForm:Ad,hasOwnProperty:sa,hasOwnProp:sa,reduceDescriptors:xl,freezeMethods:zd,toObjectSet:Ld,toCamelCase:Td,noop:$d,toFiniteNumber:Fd,findKey:ml,global:Xt,isContextDefined:gl,isSpecCompliantForm:Id,toJSONObject:Hd,isAsyncFn:qd,isThenable:Ud,setImmediate:yl,asap:Wd,isIterable:Bd};function ae(e,r,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const vl=ae.prototype,bl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bl[e]={value:e}});Object.defineProperties(ae,bl);Object.defineProperty(vl,"isAxiosError",{value:!0});ae.from=(e,r,n,s,i,a)=>{const l=Object.create(vl);q.toFlatObject(e,l,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return ae.call(l,c,u,n,s,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",a&&Object.assign(l,a),l};const Vd=null;function Xs(e){return q.isPlainObject(e)||q.isArray(e)}function wl(e){return q.endsWith(e,"[]")?e.slice(0,-2):e}function ia(e,r,n){return e?e.concat(r).map(function(i,a){return i=wl(i),!n&&a?"["+i+"]":i}).join(n?".":""):r}function Gd(e){return q.isArray(e)&&!e.some(Xs)}const Yd=q.toFlatObject(q,{},null,function(r){return/^is[A-Z]/.test(r)});function xs(e,r,n){if(!q.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,v){return!q.isUndefined(v[S])});const s=n.metaTokens,i=n.visitor||h,a=n.dots,l=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(r);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(q.isDate(w))return w.toISOString();if(q.isBoolean(w))return w.toString();if(!u&&q.isBlob(w))throw new ae("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(w)||q.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function h(w,S,v){let m=w;if(w&&!v&&typeof w=="object"){if(q.endsWith(S,"{}"))S=s?S:S.slice(0,-2),w=JSON.stringify(w);else if(q.isArray(w)&&Gd(w)||(q.isFileList(w)||q.endsWith(S,"[]"))&&(m=q.toArray(w)))return S=wl(S),m.forEach(function(_,g){!(q.isUndefined(_)||_===null)&&r.append(l===!0?ia([S],g,a):l===null?S:S+"[]",d(_))}),!1}return Xs(w)?!0:(r.append(ia(v,S,a),d(w)),!1)}const f=[],x=Object.assign(Yd,{defaultVisitor:h,convertValue:d,isVisitable:Xs});function b(w,S){if(!q.isUndefined(w)){if(f.indexOf(w)!==-1)throw Error("Circular reference detected in "+S.join("."));f.push(w),q.forEach(w,function(m,p){(!(q.isUndefined(m)||m===null)&&i.call(r,m,q.isString(p)?p.trim():p,S,x))===!0&&b(m,S?S.concat(p):[p])}),f.pop()}}if(!q.isObject(e))throw new TypeError("data must be an object");return b(e),r}function aa(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function _i(e,r){this._pairs=[],e&&xs(e,this,r)}const _l=_i.prototype;_l.append=function(r,n){this._pairs.push([r,n])};_l.toString=function(r){const n=r?function(s){return r.call(this,s,aa)}:aa;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Xd(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jl(e,r,n){if(!r)return e;const s=n&&n.encode||Xd;q.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(r,n):a=q.isURLSearchParams(r)?r.toString():new _i(r,n).toString(s),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class oa{constructor(){this.handlers=[]}use(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){q.forEach(this.handlers,function(s){s!==null&&r(s)})}}const Nl={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Kd=typeof URLSearchParams<"u"?URLSearchParams:_i,Jd=typeof FormData<"u"?FormData:null,Zd=typeof Blob<"u"?Blob:null,Qd={isBrowser:!0,classes:{URLSearchParams:Kd,FormData:Jd,Blob:Zd},protocols:["http","https","file","blob","url","data"]},ji=typeof window<"u"&&typeof document<"u",Ks=typeof navigator=="object"&&navigator||void 0,ef=ji&&(!Ks||["ReactNative","NativeScript","NS"].indexOf(Ks.product)<0),tf=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rf=ji&&window.location.href||"http://localhost",nf=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ji,hasStandardBrowserEnv:ef,hasStandardBrowserWebWorkerEnv:tf,navigator:Ks,origin:rf},Symbol.toStringTag,{value:"Module"})),ze={...nf,...Qd};function sf(e,r){return xs(e,new ze.classes.URLSearchParams,{visitor:function(n,s,i,a){return ze.isNode&&q.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...r})}function af(e){return q.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function of(e){const r={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],r[a]=e[a];return r}function Sl(e){function r(n,s,i,a){let l=n[a++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=a>=n.length;return l=!l&&q.isArray(i)?i.length:l,u?(q.hasOwnProp(i,l)?i[l]=[i[l],s]:i[l]=s,!c):((!i[l]||!q.isObject(i[l]))&&(i[l]=[]),r(n,s,i[l],a)&&q.isArray(i[l])&&(i[l]=of(i[l])),!c)}if(q.isFormData(e)&&q.isFunction(e.entries)){const n={};return q.forEachEntry(e,(s,i)=>{r(af(s),i,n,0)}),n}return null}function lf(e,r,n){if(q.isString(e))try{return(r||JSON.parse)(e),q.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const pn={transitional:Nl,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=q.isObject(r);if(a&&q.isHTMLForm(r)&&(r=new FormData(r)),q.isFormData(r))return i?JSON.stringify(Sl(r)):r;if(q.isArrayBuffer(r)||q.isBuffer(r)||q.isStream(r)||q.isFile(r)||q.isBlob(r)||q.isReadableStream(r))return r;if(q.isArrayBufferView(r))return r.buffer;if(q.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return sf(r,this.formSerializer).toString();if((c=q.isFileList(r))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return xs(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),lf(r)):r}],transformResponse:[function(r){const n=this.transitional||pn.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(r)||q.isReadableStream(r))return r;if(r&&q.isString(r)&&(s&&!this.responseType||i)){const l=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(r,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?ae.from(c,ae.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ze.classes.FormData,Blob:ze.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],e=>{pn.headers[e]={}});const cf=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uf=e=>{const r={};let n,s,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),n=l.substring(0,i).trim().toLowerCase(),s=l.substring(i+1).trim(),!(!n||r[n]&&cf[n])&&(n==="set-cookie"?r[n]?r[n].push(s):r[n]=[s]:r[n]=r[n]?r[n]+", "+s:s)}),r},la=Symbol("internals");function Nr(e){return e&&String(e).trim().toLowerCase()}function Ln(e){return e===!1||e==null?e:q.isArray(e)?e.map(Ln):String(e)}function df(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)r[s[1]]=s[2];return r}const ff=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Es(e,r,n,s,i){if(q.isFunction(s))return s.call(this,r,n);if(i&&(r=n),!!q.isString(r)){if(q.isString(s))return r.indexOf(s)!==-1;if(q.isRegExp(s))return s.test(r)}}function hf(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,s)=>n.toUpperCase()+s)}function pf(e,r){const n=q.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,l){return this[s].call(this,r,i,a,l)},configurable:!0})})}let qe=class{constructor(r){r&&this.set(r)}set(r,n,s){const i=this;function a(c,u,d){const h=Nr(u);if(!h)throw new Error("header name must be a non-empty string");const f=q.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||u]=Ln(c))}const l=(c,u)=>q.forEach(c,(d,h)=>a(d,h,u));if(q.isPlainObject(r)||r instanceof this.constructor)l(r,n);else if(q.isString(r)&&(r=r.trim())&&!ff(r))l(uf(r),n);else if(q.isObject(r)&&q.isIterable(r)){let c={},u,d;for(const h of r){if(!q.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[d=h[0]]=(u=c[d])?q.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}l(c,n)}else r!=null&&a(n,r,s);return this}get(r,n){if(r=Nr(r),r){const s=q.findKey(this,r);if(s){const i=this[s];if(!n)return i;if(n===!0)return df(i);if(q.isFunction(n))return n.call(this,i,s);if(q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=Nr(r),r){const s=q.findKey(this,r);return!!(s&&this[s]!==void 0&&(!n||Es(this,this[s],s,n)))}return!1}delete(r,n){const s=this;let i=!1;function a(l){if(l=Nr(l),l){const c=q.findKey(s,l);c&&(!n||Es(s,s[c],c,n))&&(delete s[c],i=!0)}}return q.isArray(r)?r.forEach(a):a(r),i}clear(r){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!r||Es(this,this[a],a,r,!0))&&(delete this[a],i=!0)}return i}normalize(r){const n=this,s={};return q.forEach(this,(i,a)=>{const l=q.findKey(s,a);if(l){n[l]=Ln(i),delete n[a];return}const c=r?hf(a):String(a).trim();c!==a&&delete n[a],n[c]=Ln(i),s[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return q.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=r&&q.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const s=new this(r);return n.forEach(i=>s.set(i)),s}static accessor(r){const s=(this[la]=this[la]={accessors:{}}).accessors,i=this.prototype;function a(l){const c=Nr(l);s[c]||(pf(i,l),s[c]=!0)}return q.isArray(r)?r.forEach(a):a(r),this}};qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(qe.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(s){this[n]=s}}});q.freezeMethods(qe);function Rs(e,r){const n=this||pn,s=r||n,i=qe.from(s.headers);let a=s.data;return q.forEach(e,function(c){a=c.call(n,a,i.normalize(),r?r.status:void 0)}),i.normalize(),a}function kl(e){return!!(e&&e.__CANCEL__)}function _r(e,r,n){ae.call(this,e??"canceled",ae.ERR_CANCELED,r,n),this.name="CanceledError"}q.inherits(_r,ae,{__CANCEL__:!0});function Cl(e,r,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(new ae("Request failed with status code "+n.status,[ae.ERR_BAD_REQUEST,ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mf(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function gf(e,r){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,l;return r=r!==void 0?r:1e3,function(u){const d=Date.now(),h=s[a];l||(l=d),n[i]=u,s[i]=d;let f=a,x=0;for(;f!==i;)x+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-l<r)return;const b=h&&d-h;return b?Math.round(x*1e3/b):void 0}}function xf(e,r){let n=0,s=1e3/r,i,a;const l=(d,h=Date.now())=>{n=h,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=s?l(d,h):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},s-f)))},()=>i&&l(i)]}const Gn=(e,r,n=3)=>{let s=0;const i=gf(50,250);return xf(a=>{const l=a.loaded,c=a.lengthComputable?a.total:void 0,u=l-s,d=i(u),h=l<=c;s=l;const f={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&h?(c-l)/d:void 0,event:a,lengthComputable:c!=null,[r?"download":"upload"]:!0};e(f)},n)},ca=(e,r)=>{const n=e!=null;return[s=>r[0]({lengthComputable:n,total:e,loaded:s}),r[1]]},ua=e=>(...r)=>q.asap(()=>e(...r)),yf=ze.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,ze.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(ze.origin),ze.navigator&&/(msie|trident)/i.test(ze.navigator.userAgent)):()=>!0,vf=ze.hasStandardBrowserEnv?{write(e,r,n,s,i,a,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(r)}`];q.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),q.isString(s)&&c.push(`path=${s}`),q.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),q.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function bf(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function wf(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function Ol(e,r,n){let s=!bf(r);return e&&(s||n==!1)?wf(e,r):r}const da=e=>e instanceof qe?{...e}:e;function er(e,r){r=r||{};const n={};function s(d,h,f,x){return q.isPlainObject(d)&&q.isPlainObject(h)?q.merge.call({caseless:x},d,h):q.isPlainObject(h)?q.merge({},h):q.isArray(h)?h.slice():h}function i(d,h,f,x){if(q.isUndefined(h)){if(!q.isUndefined(d))return s(void 0,d,f,x)}else return s(d,h,f,x)}function a(d,h){if(!q.isUndefined(h))return s(void 0,h)}function l(d,h){if(q.isUndefined(h)){if(!q.isUndefined(d))return s(void 0,d)}else return s(void 0,h)}function c(d,h,f){if(f in r)return s(d,h);if(f in e)return s(void 0,d)}const u={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(d,h,f)=>i(da(d),da(h),f,!0)};return q.forEach(Object.keys({...e,...r}),function(h){const f=u[h]||i,x=f(e[h],r[h],h);q.isUndefined(x)&&f!==c||(n[h]=x)}),n}const Pl=e=>{const r=er({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:c}=r;if(r.headers=l=qe.from(l),r.url=jl(Ol(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),q.isFormData(n)){if(ze.hasStandardBrowserEnv||ze.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(q.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([h,f])=>{d.includes(h.toLowerCase())&&l.set(h,f)})}}if(ze.hasStandardBrowserEnv&&(s&&q.isFunction(s)&&(s=s(r)),s||s!==!1&&yf(r.url))){const u=i&&a&&vf.read(a);u&&l.set(i,u)}return r},_f=typeof XMLHttpRequest<"u",jf=_f&&function(e){return new Promise(function(n,s){const i=Pl(e);let a=i.data;const l=qe.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=i,h,f,x,b,w;function S(){b&&b(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function m(){if(!v)return;const _=qe.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),y={data:!c||c==="text"||c==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:_,config:e,request:v};Cl(function(j){n(j),S()},function(j){s(j),S()},y),v=null}"onloadend"in v?v.onloadend=m:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(m)},v.onabort=function(){v&&(s(new ae("Request aborted",ae.ECONNABORTED,e,v)),v=null)},v.onerror=function(g){const y=g&&g.message?g.message:"Network Error",N=new ae(y,ae.ERR_NETWORK,e,v);N.event=g||null,s(N),v=null},v.ontimeout=function(){let g=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const y=i.transitional||Nl;i.timeoutErrorMessage&&(g=i.timeoutErrorMessage),s(new ae(g,y.clarifyTimeoutError?ae.ETIMEDOUT:ae.ECONNABORTED,e,v)),v=null},a===void 0&&l.setContentType(null),"setRequestHeader"in v&&q.forEach(l.toJSON(),function(g,y){v.setRequestHeader(y,g)}),q.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),c&&c!=="json"&&(v.responseType=i.responseType),d&&([x,w]=Gn(d,!0),v.addEventListener("progress",x)),u&&v.upload&&([f,b]=Gn(u),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(h=_=>{v&&(s(!_||_.type?new _r(null,e,v):_),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const p=mf(i.url);if(p&&ze.protocols.indexOf(p)===-1){s(new ae("Unsupported protocol "+p+":",ae.ERR_BAD_REQUEST,e));return}v.send(a||null)})},Nf=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let s=new AbortController,i;const a=function(d){if(!i){i=!0,c();const h=d instanceof Error?d:this.reason;s.abort(h instanceof ae?h:new _r(h instanceof Error?h.message:h))}};let l=r&&setTimeout(()=>{l=null,a(new ae(`timeout ${r} of ms exceeded`,ae.ETIMEDOUT))},r);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=s;return u.unsubscribe=()=>q.asap(c),u}},Sf=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let s=0,i;for(;s<n;)i=s+r,yield e.slice(s,i),s=i},kf=async function*(e,r){for await(const n of Cf(e))yield*Sf(n,r)},Cf=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:s}=await r.read();if(n)break;yield s}}finally{await r.cancel()}},fa=(e,r,n,s)=>{const i=kf(e,r);let a=0,l,c=u=>{l||(l=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:d,value:h}=await i.next();if(d){c(),u.close();return}let f=h.byteLength;if(n){let x=a+=f;n(x)}u.enqueue(new Uint8Array(h))}catch(d){throw c(d),d}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},ha=64*1024,{isFunction:wn}=q,Of=(({Request:e,Response:r})=>({Request:e,Response:r}))(q.global),{ReadableStream:pa,TextEncoder:ma}=q.global,ga=(e,...r)=>{try{return!!e(...r)}catch{return!1}},Pf=e=>{e=q.merge.call({skipUndefined:!0},Of,e);const{fetch:r,Request:n,Response:s}=e,i=r?wn(r):typeof fetch=="function",a=wn(n),l=wn(s);if(!i)return!1;const c=i&&wn(pa),u=i&&(typeof ma=="function"?(w=>S=>w.encode(S))(new ma):async w=>new Uint8Array(await new n(w).arrayBuffer())),d=a&&c&&ga(()=>{let w=!1;const S=new n(ze.origin,{body:new pa,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!S}),h=l&&c&&ga(()=>q.isReadableStream(new s("").body)),f={stream:h&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!f[w]&&(f[w]=(S,v)=>{let m=S&&S[w];if(m)return m.call(S);throw new ae(`Response type '${w}' is not supported`,ae.ERR_NOT_SUPPORT,v)})});const x=async w=>{if(w==null)return 0;if(q.isBlob(w))return w.size;if(q.isSpecCompliantForm(w))return(await new n(ze.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(q.isArrayBufferView(w)||q.isArrayBuffer(w))return w.byteLength;if(q.isURLSearchParams(w)&&(w=w+""),q.isString(w))return(await u(w)).byteLength},b=async(w,S)=>{const v=q.toFiniteNumber(w.getContentLength());return v??x(S)};return async w=>{let{url:S,method:v,data:m,signal:p,cancelToken:_,timeout:g,onDownloadProgress:y,onUploadProgress:N,responseType:j,headers:k,withCredentials:C="same-origin",fetchOptions:O}=Pl(w),E=r||fetch;j=j?(j+"").toLowerCase():"text";let R=Nf([p,_&&_.toAbortSignal()],g),$=null;const P=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let T;try{if(N&&d&&v!=="get"&&v!=="head"&&(T=await b(k,m))!==0){let J=new n(S,{method:"POST",body:m,duplex:"half"}),K;if(q.isFormData(m)&&(K=J.headers.get("content-type"))&&k.setContentType(K),J.body){const[ie,se]=ca(T,Gn(ua(N)));m=fa(J.body,ha,ie,se)}}q.isString(C)||(C=C?"include":"omit");const D=a&&"credentials"in n.prototype,I={...O,signal:R,method:v.toUpperCase(),headers:k.normalize().toJSON(),body:m,duplex:"half",credentials:D?C:void 0};$=a&&new n(S,I);let H=await(a?E($,O):E(S,I));const V=h&&(j==="stream"||j==="response");if(h&&(y||V&&P)){const J={};["status","statusText","headers"].forEach(ge=>{J[ge]=H[ge]});const K=q.toFiniteNumber(H.headers.get("content-length")),[ie,se]=y&&ca(K,Gn(ua(y),!0))||[];H=new s(fa(H.body,ha,ie,()=>{se&&se(),P&&P()}),J)}j=j||"text";let Y=await f[q.findKey(f,j)||"text"](H,w);return!V&&P&&P(),await new Promise((J,K)=>{Cl(J,K,{data:Y,headers:qe.from(H.headers),status:H.status,statusText:H.statusText,config:w,request:$})})}catch(D){throw P&&P(),D&&D.name==="TypeError"&&/Load failed|fetch/i.test(D.message)?Object.assign(new ae("Network Error",ae.ERR_NETWORK,w,$),{cause:D.cause||D}):ae.from(D,D&&D.code,w,$)}}},Ef=new Map,El=e=>{let r=e&&e.env||{};const{fetch:n,Request:s,Response:i}=r,a=[s,i,n];let l=a.length,c=l,u,d,h=Ef;for(;c--;)u=a[c],d=h.get(u),d===void 0&&h.set(u,d=c?new Map:Pf(r)),h=d;return d};El();const Ni={http:Vd,xhr:jf,fetch:{get:El}};q.forEach(Ni,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const xa=e=>`- ${e}`,Rf=e=>q.isFunction(e)||e===null||e===!1;function Df(e,r){e=q.isArray(e)?e:[e];const{length:n}=e;let s,i;const a={};for(let l=0;l<n;l++){s=e[l];let c;if(i=s,!Rf(s)&&(i=Ni[(c=String(s)).toLowerCase()],i===void 0))throw new ae(`Unknown adapter '${c}'`);if(i&&(q.isFunction(i)||(i=i.get(r))))break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?l.length>1?`since :
`+l.map(xa).join(`
`):" "+xa(l[0]):"as no adapter specified";throw new ae("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const Rl={getAdapter:Df,adapters:Ni};function Ds(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new _r(null,e)}function ya(e){return Ds(e),e.headers=qe.from(e.headers),e.data=Rs.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rl.getAdapter(e.adapter||pn.adapter,e)(e).then(function(s){return Ds(e),s.data=Rs.call(e,e.transformResponse,s),s.headers=qe.from(s.headers),s},function(s){return kl(s)||(Ds(e),s&&s.response&&(s.response.data=Rs.call(e,e.transformResponse,s.response),s.response.headers=qe.from(s.response.headers))),Promise.reject(s)})}const Dl="1.13.2",ys={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{ys[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});const va={};ys.transitional=function(r,n,s){function i(a,l){return"[Axios v"+Dl+"] Transitional option '"+a+"'"+l+(s?". "+s:"")}return(a,l,c)=>{if(r===!1)throw new ae(i(l," has been removed"+(n?" in "+n:"")),ae.ERR_DEPRECATED);return n&&!va[l]&&(va[l]=!0,console.warn(i(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(a,l,c):!0}};ys.spelling=function(r){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function Af(e,r,n){if(typeof e!="object")throw new ae("options must be an object",ae.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],l=r[a];if(l){const c=e[a],u=c===void 0||l(c,a,e);if(u!==!0)throw new ae("option "+a+" must be "+u,ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ae("Unknown option "+a,ae.ERR_BAD_OPTION)}}const $n={assertOptions:Af,validators:ys},it=$n.validators;let Jt=class{constructor(r){this.defaults=r||{},this.interceptors={request:new oa,response:new oa}}async request(r,n){try{return await this._request(r,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=er(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&$n.assertOptions(s,{silentJSONParsing:it.transitional(it.boolean),forcedJSONParsing:it.transitional(it.boolean),clarifyTimeoutError:it.transitional(it.boolean)},!1),i!=null&&(q.isFunction(i)?n.paramsSerializer={serialize:i}:$n.assertOptions(i,{encode:it.function,serialize:it.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$n.assertOptions(n,{baseUrl:it.spelling("baseURL"),withXsrfToken:it.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=a&&q.merge(a.common,a[n.method]);a&&q.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=qe.concat(l,a);const c=[];let u=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(u=u&&S.synchronous,c.unshift(S.fulfilled,S.rejected))});const d=[];this.interceptors.response.forEach(function(S){d.push(S.fulfilled,S.rejected)});let h,f=0,x;if(!u){const w=[ya.bind(this),void 0];for(w.unshift(...c),w.push(...d),x=w.length,h=Promise.resolve(n);f<x;)h=h.then(w[f++],w[f++]);return h}x=c.length;let b=n;for(;f<x;){const w=c[f++],S=c[f++];try{b=w(b)}catch(v){S.call(this,v);break}}try{h=ya.call(this,b)}catch(w){return Promise.reject(w)}for(f=0,x=d.length;f<x;)h=h.then(d[f++],d[f++]);return h}getUri(r){r=er(this.defaults,r);const n=Ol(r.baseURL,r.url,r.allowAbsoluteUrls);return jl(n,r.params,r.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(r){Jt.prototype[r]=function(n,s){return this.request(er(s||{},{method:r,url:n,data:(s||{}).data}))}});q.forEach(["post","put","patch"],function(r){function n(s){return function(a,l,c){return this.request(er(c||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}Jt.prototype[r]=n(),Jt.prototype[r+"Form"]=n(!0)});let Tf=class Al{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(c=>{s.subscribe(c),a=c}).then(i);return l.cancel=function(){s.unsubscribe(a)},l},r(function(a,l,c){s.reason||(s.reason=new _r(a,l,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=s=>{r.abort(s)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new Al(function(i){r=i}),cancel:r}}};function Mf(e){return function(n){return e.apply(null,n)}}function zf(e){return q.isObject(e)&&e.isAxiosError===!0}const Js={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Js).forEach(([e,r])=>{Js[r]=e});function Tl(e){const r=new Jt(e),n=dl(Jt.prototype.request,r);return q.extend(n,Jt.prototype,r,{allOwnKeys:!0}),q.extend(n,r,null,{allOwnKeys:!0}),n.create=function(i){return Tl(er(e,i))},n}const Oe=Tl(pn);Oe.Axios=Jt;Oe.CanceledError=_r;Oe.CancelToken=Tf;Oe.isCancel=kl;Oe.VERSION=Dl;Oe.toFormData=xs;Oe.AxiosError=ae;Oe.Cancel=Oe.CanceledError;Oe.all=function(r){return Promise.all(r)};Oe.spread=Mf;Oe.isAxiosError=zf;Oe.mergeConfig=er;Oe.AxiosHeaders=qe;Oe.formToJSON=e=>Sl(q.isHTMLForm(e)?new FormData(e):e);Oe.getAdapter=Rl.getAdapter;Oe.HttpStatusCode=Js;Oe.default=Oe;const{Axios:o_,AxiosError:l_,CanceledError:c_,isCancel:u_,CancelToken:d_,VERSION:f_,all:h_,Cancel:p_,isAxiosError:m_,spread:g_,toFormData:x_,AxiosHeaders:y_,HttpStatusCode:v_,formToJSON:b_,getAdapter:w_,mergeConfig:__}=Oe,U=Oe.create({baseURL:"/api"});U.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e});const Zs={register:e=>U.post("/auth/register",e),login:e=>U.post("/auth/login",e),me:()=>U.get("/auth/me"),updateProfile:e=>U.put("/auth/profile",e),changePassword:e=>U.put("/auth/password",e)},Lf={setup:()=>U.post("/auth/mfa/setup"),verifySetup:e=>U.post("/auth/mfa/verify-setup",e),disable:e=>U.delete("/auth/mfa",{data:e}),regenerateRecoveryCodes:e=>U.post("/auth/mfa/recovery-codes",e),verify:e=>U.post("/auth/mfa/verify",e)},Zt={create:e=>U.post("/scans",e),getAll:()=>U.get("/scans"),getById:e=>U.get(`/scans/${e}`),getResults:e=>U.get(`/scans/${e}/results`),delete:e=>U.delete(`/scans/${e}`),getPresets:()=>U.get("/scan-presets"),bulkDelete:e=>U.post("/scans/bulk-delete",{scan_ids:e}),bulkExport:(e,r,n)=>U.post("/scans/bulk-export",{scan_ids:e,format:r,...n},{responseType:"blob"})},j_={getUsers:()=>U.get("/admin/users"),getUser:e=>U.get(`/admin/users/${e}`),updateUser:(e,r)=>U.patch(`/admin/users/${e}`,r),deleteUser:e=>U.delete(`/admin/users/${e}`),assignRole:(e,r)=>U.post(`/admin/users/${e}/roles`,{role_id:r}),removeRole:(e,r)=>U.delete(`/admin/users/${e}/roles/${r}`),unlockUser:e=>U.post(`/admin/users/${e}/unlock`),getRoles:()=>U.get("/admin/roles"),getAllScans:()=>U.get("/admin/scans"),deleteScan:e=>U.delete(`/admin/scans/${e}`),getAuditLogs:(e=100,r=0)=>U.get(`/admin/audit-logs?limit=${e}&offset=${r}`),getSettings:()=>U.get("/admin/settings"),updateSetting:(e,r)=>U.patch(`/admin/settings/${e}`,{value:r})},Qr={create:e=>U.post("/reports",e),getAll:e=>{const r=e?`?scan_id=${e}`:"";return U.get(`/reports${r}`)},getById:e=>U.get(`/reports/${e}`),download:async e=>await U.get(`/reports/${e}/download`,{responseType:"blob"}),delete:e=>U.delete(`/reports/${e}`),getTemplates:()=>U.get("/reports/templates")},$f={getAll:()=>U.get("/target-groups"),getById:e=>U.get(`/target-groups/${e}`),create:e=>U.post("/target-groups",e),update:(e,r)=>U.put(`/target-groups/${e}`,r),delete:e=>U.delete(`/target-groups/${e}`)},N_={getAll:()=>U.get("/scheduled-scans"),getById:e=>U.get(`/scheduled-scans/${e}`),create:e=>U.post("/scheduled-scans",e),update:(e,r)=>U.put(`/scheduled-scans/${e}`,r),delete:e=>U.delete(`/scheduled-scans/${e}`)},S_={getSettings:()=>U.get("/notifications/settings"),updateSettings:e=>U.put("/notifications/settings",e),testSlack:()=>U.post("/notifications/test-slack"),testTeams:()=>U.post("/notifications/test-teams"),testEmail:()=>U.post("/notifications/test-email"),checkSmtpStatus:()=>U.get("/notifications/smtp-status")},k_={getAll:()=>U.get("/api-keys"),create:e=>U.post("/api-keys",e),update:(e,r)=>U.patch(`/api-keys/${e}`,r),delete:e=>U.delete(`/api-keys/${e}`)},C_={compare:(e,r)=>U.post("/scans/compare",{scan_id_1:e,scan_id_2:r})},Ff={getAll:()=>U.get("/templates"),getById:e=>U.get(`/templates/${e}`),create:e=>U.post("/templates",e),update:(e,r)=>U.put(`/templates/${e}`,r),delete:e=>U.delete(`/templates/${e}`),createScan:(e,r)=>U.post(`/templates/${e}/scan`,{name:r})},Sr={getSummary:(e=30)=>U.get(`/analytics/summary?days=${e}`),getHosts:(e=30)=>U.get(`/analytics/hosts?days=${e}`),getVulnerabilities:(e=30)=>U.get(`/analytics/vulnerabilities?days=${e}`),getServices:(e=10)=>U.get(`/analytics/services?limit=${e}`),getFrequency:(e=30)=>U.get(`/analytics/frequency?days=${e}`)},O_={list:e=>{const r=new URLSearchParams;return e.scan_id&&r.append("scan_id",e.scan_id),e.status&&r.append("status",e.status),e.severity&&r.append("severity",e.severity),U.get(`/vulnerabilities?${r.toString()}`)},get:e=>U.get(`/vulnerabilities/${e}`),update:(e,r)=>U.put(`/vulnerabilities/${e}`,r),addComment:(e,r)=>U.post(`/vulnerabilities/${e}/comments`,{comment:r}),bulkUpdate:e=>U.post("/vulnerabilities/bulk-update",e),bulkExport:(e,r)=>U.post("/vulnerabilities/bulk-export",{vulnerability_ids:e,format:r},{responseType:"blob"}),getStats:e=>{const r=e?`?scan_id=${e}`:"";return U.get(`/vulnerabilities/stats${r}`)},getTimeline:e=>U.get(`/vulnerabilities/${e}/timeline`),markForVerification:(e,r)=>U.post(`/vulnerabilities/${e}/verify`,r),bulkAssign:e=>U.post("/vulnerabilities/bulk-assign",e)},_n={getFrameworks:()=>U.get("/compliance/frameworks"),getFramework:e=>U.get(`/compliance/frameworks/${e}`),getFrameworkControls:e=>U.get(`/compliance/frameworks/${e}/controls`),analyzeScan:(e,r)=>U.post(`/scans/${e}/compliance`,r),getScanCompliance:e=>U.get(`/scans/${e}/compliance`),generateReport:(e,r)=>U.post(`/scans/${e}/compliance/report`,r),downloadReport:e=>U.get(`/compliance/reports/${e}/download`,{responseType:"blob"})},P_={getSettings:()=>U.get("/integrations/jira/settings"),updateSettings:e=>U.post("/integrations/jira/settings",e),testConnection:()=>U.post("/integrations/jira/test"),listProjects:()=>U.get("/integrations/jira/projects"),listIssueTypes:()=>U.get("/integrations/jira/issue-types"),createTicket:(e,r)=>U.post(`/vulnerabilities/${e}/create-ticket`,r||{})},E_={performRecon:e=>U.post("/dns/recon",{domain:e.domain,include_subdomains:e.includeSubdomains,custom_wordlist:e.customWordlist,timeout_secs:e.timeoutSecs}),listResults:()=>U.get("/dns/recon"),getResult:e=>U.get(`/dns/recon/${e}`),deleteResult:e=>U.delete(`/dns/recon/${e}`),getWordlist:()=>U.get("/dns/wordlist")},If={getSettings:()=>U.get("/integrations/siem/settings"),createSettings:e=>U.post("/integrations/siem/settings",e),updateSettings:(e,r)=>U.put(`/integrations/siem/settings/${e}`,r),deleteSettings:e=>U.delete(`/integrations/siem/settings/${e}`),testConnection:e=>U.post(`/integrations/siem/settings/${e}/test`),exportScan:e=>U.post(`/integrations/siem/export/${e}`)},R_={startScan:e=>U.post("/webapp/scan",e),getScan:e=>U.get(`/webapp/scan/${e}`)},D_={getAll:e=>{const r=e?`?framework_id=${e}`:"";return U.get(`/compliance/rubrics${r}`)},getById:e=>U.get(`/compliance/rubrics/${e}`),create:e=>U.post("/compliance/rubrics",e),update:(e,r)=>U.put(`/compliance/rubrics/${e}`,r),delete:e=>U.delete(`/compliance/rubrics/${e}`),getByFramework:e=>U.get(`/compliance/frameworks/${e}/rubrics`)},A_={getAll:(e,r)=>{const n=new URLSearchParams;e&&n.append("framework_id",e),r&&n.append("status",r);const s=n.toString();return U.get(`/compliance/assessments${s?`?${s}`:""}`)},getById:e=>U.get(`/compliance/assessments/${e}`),create:e=>U.post("/compliance/assessments",e),update:(e,r)=>U.put(`/compliance/assessments/${e}`,r),delete:e=>U.delete(`/compliance/assessments/${e}`),submit:e=>U.post(`/compliance/assessments/${e}/submit`),approve:e=>U.post(`/compliance/assessments/${e}/approve`),reject:(e,r)=>U.post(`/compliance/assessments/${e}/reject`,{notes:r})},T_={getAll:e=>U.get(`/compliance/assessments/${e}/evidence`),upload:(e,r)=>U.post(`/compliance/assessments/${e}/evidence`,r,{headers:{"Content-Type":"multipart/form-data"}}),addLink:(e,r,n,s)=>U.post(`/compliance/assessments/${e}/evidence/link`,{title:r,url:n,description:s}),delete:e=>U.delete(`/compliance/evidence/${e}`),download:async e=>(await U.get(`/compliance/evidence/${e}/download`,{responseType:"blob"})).data},M_={getAll:()=>U.get("/compliance/campaigns"),getById:e=>U.get(`/compliance/campaigns/${e}`),create:e=>U.post("/compliance/campaigns",e),update:(e,r)=>U.put(`/compliance/campaigns/${e}`,r),delete:e=>U.delete(`/compliance/campaigns/${e}`),getProgress:e=>U.get(`/compliance/campaigns/${e}/progress`)},Hf={getConfigs:()=>U.get("/vpn/configs"),uploadConfig:e=>U.post("/vpn/configs",e),updateConfig:(e,r)=>U.put(`/vpn/configs/${e}`,r),deleteConfig:e=>U.delete(`/vpn/configs/${e}`),testConfig:e=>U.post(`/vpn/configs/${e}/test`),getStatus:()=>U.get("/vpn/status"),connect:e=>U.post("/vpn/connect",e),disconnect:()=>U.post("/vpn/disconnect")},Si=()=>{const{user:e,token:r,isAuthenticated:n,isLoading:s,login:i,logout:a,setLoading:l,setUser:c}=pr();z.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&!e){l(!0);try{const x=await Zs.me();c(x.data)}catch(x){console.error("Failed to verify token:",x),a()}finally{l(!1)}}})()},[]);const u=z.useCallback(async(h,f)=>{var x,b;l(!0);try{const w=await Zs.login({username:h,password:f}),{token:S,user:v}=w.data;return i(v,S),Q.success("Login successful!"),!0}catch(w){const S=((b=(x=w.response)==null?void 0:x.data)==null?void 0:b.error)||"Login failed. Please check your credentials.";return Q.error(S),!1}finally{l(!1)}},[i,l]),d=z.useCallback(()=>{a(),Q.info("Logged out successfully")},[a]);return{user:e,token:r,isAuthenticated:n,isLoading:s,login:u,logout:d}},Ee=({variant:e="primary",size:r="md",loading:n=!1,loadingText:s,disabled:i,className:a="",children:l,"aria-label":c,...u})=>{const d="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-primary text-white hover:bg-primary-dark active:bg-blue-700",secondary:"bg-dark-surface text-slate-100 hover:bg-dark-hover border border-dark-border",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",ghost:"text-slate-300 hover:bg-dark-surface hover:text-slate-100"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return o.jsxs("button",{className:`${d} ${h[e]} ${f[r]} ${a}`,disabled:i||n,"aria-busy":n,"aria-disabled":i||n,"aria-label":n&&s?s:c,...u,children:[n&&o.jsx(cs,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),o.jsx("span",{"aria-live":n?"polite":void 0,children:n&&s?s:l})]})},qf=({content:e,children:r,position:n="top",delay:s=200,maxWidth:i=250})=>{const[a,l]=z.useState(!1),[c,u]=z.useState({x:0,y:0}),d=z.useRef(null),h=z.useRef(null),f=z.useRef(),x=()=>{f.current=setTimeout(()=>{l(!0)},s)},b=()=>{f.current&&clearTimeout(f.current),l(!1)};z.useEffect(()=>{if(a&&d.current&&h.current){const S=d.current.getBoundingClientRect(),v=h.current.getBoundingClientRect(),m=8;let p=0,_=0;switch(n){case"top":p=S.left+S.width/2-v.width/2,_=S.top-v.height-m;break;case"bottom":p=S.left+S.width/2-v.width/2,_=S.bottom+m;break;case"left":p=S.left-v.width-m,_=S.top+S.height/2-v.height/2;break;case"right":p=S.right+m,_=S.top+S.height/2-v.height/2;break}const g=10;p=Math.max(g,Math.min(p,window.innerWidth-v.width-g)),_=Math.max(g,Math.min(_,window.innerHeight-v.height-g)),u({x:p,y:_})}},[a,n]),z.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const w={top:"after:top-full after:left-1/2 after:-translate-x-1/2 after:border-t-dark-surface",bottom:"after:bottom-full after:left-1/2 after:-translate-x-1/2 after:border-b-dark-surface",left:"after:left-full after:top-1/2 after:-translate-y-1/2 after:border-l-dark-surface",right:"after:right-full after:top-1/2 after:-translate-y-1/2 after:border-r-dark-surface"};return o.jsxs(o.Fragment,{children:[o.jsx("div",{ref:d,onMouseEnter:x,onMouseLeave:b,onFocus:x,onBlur:b,className:"inline-flex",children:r}),a&&o.jsx("div",{ref:h,role:"tooltip",className:`
            fixed z-[200] px-3 py-2 text-sm text-slate-100 bg-dark-surface
            border border-dark-border rounded-lg shadow-xl
            animate-fade-in pointer-events-none
            ${w[n]}
          `,style:{left:c.x,top:c.y,maxWidth:i},children:e})]})},Me=({label:e,error:r,icon:n,helpText:s,hint:i,className:a="",id:l,...c})=>{const u=z.useId(),d=l||u,h=`${d}-error`,f=`${d}-hint`,x=[r?h:null,i?f:null].filter(Boolean).join(" ")||void 0;return o.jsxs("div",{className:"w-full",children:[e&&o.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[o.jsxs("label",{htmlFor:d,className:"block text-sm font-medium text-slate-300",children:[e,c.required&&o.jsx("span",{className:"text-red-400 ml-0.5","aria-hidden":"true",children:"*"})]}),s&&o.jsx(qf,{content:s,position:"top",children:o.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-300 transition-colors","aria-label":`Help for ${e}`,children:o.jsx(Xo,{className:"h-3.5 w-3.5"})})})]}),i&&o.jsx("p",{id:f,className:"text-xs text-slate-500 mb-1.5",children:i}),o.jsxs("div",{className:"relative",children:[n&&o.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none","aria-hidden":"true",children:n}),o.jsx("input",{id:d,className:`
            w-full px-3 py-2 bg-dark-surface border rounded-lg text-slate-100
            placeholder-slate-500 transition-colors focus-ring
            ${n?"pl-10":""}
            ${r?"border-red-500":"border-dark-border hover:border-dark-hover focus:border-primary"}
            ${a}
          `,"aria-invalid":r?"true":void 0,"aria-describedby":x,...c})]}),r&&o.jsx("p",{id:h,className:"mt-1 text-sm text-red-500",role:"alert",children:r})]})},Uf=()=>{const[e,r]=z.useState(""),[n,s]=z.useState(""),[i,a]=z.useState(!1),[l,c]=z.useState(""),[u,d]=z.useState(""),[h,f]=z.useState(!1),{isLoading:x}=Si(),[b,w]=z.useState(!1),S=Go(),{login:v}=pr(),m=async g=>{var y,N;if(g.preventDefault(),!(!e||!n)){w(!0);try{const k=(await Zs.login({username:e,password:n})).data;k.mfa_required&&k.mfa_token?(a(!0),c(k.mfa_token),Q.info("Please enter your two-factor authentication code")):(v(k.user,k.token),Q.success("Login successful!"),S("/dashboard"))}catch(j){const k=((N=(y=j.response)==null?void 0:y.data)==null?void 0:N.error)||"Login failed. Please check your credentials.";Q.error(k)}finally{w(!1)}}},p=async g=>{var y,N;if(g.preventDefault(),!u||(h?u.length===0:u.length!==6)){Q.error(h?"Please enter a recovery code":"Please enter a valid 6-digit code");return}w(!0);try{const j=await Lf.verify({mfa_token:l,...h?{recovery_code:u}:{totp_code:u}}),{token:k,user:C}=j.data;v(C,k),Q.success("Login successful!"),S("/dashboard")}catch(j){Q.error(((N=(y=j.response)==null?void 0:y.data)==null?void 0:N.error)||"Invalid authentication code")}finally{w(!1)}},_=()=>{a(!1),c(""),d(""),f(!1)};return i?o.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:o.jsx(De,{className:"h-6 w-6 text-primary"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Two-Factor Authentication"}),o.jsx("p",{className:"text-sm text-slate-400",children:h?"Enter one of your recovery codes":"Enter the 6-digit code from your authenticator app"})]}),o.jsxs("form",{onSubmit:p,className:"space-y-4",children:[o.jsx(Me,{type:"text",placeholder:h?"Recovery Code":"000000",value:u,onChange:g=>{d(h?g.target.value:g.target.value.replace(/\D/g,"").slice(0,6))},icon:h?o.jsx(uu,{className:"h-5 w-5"}):o.jsx(De,{className:"h-5 w-5"}),className:h?"":"text-center tracking-widest font-mono",maxLength:h?void 0:6,required:!0,autoFocus:!0,autoComplete:"one-time-code"}),o.jsx("div",{className:"flex items-center justify-center",children:o.jsx("button",{type:"button",onClick:()=>{f(!h),d("")},className:"text-sm text-primary hover:text-primary-dark transition-colors",children:h?"Use authenticator code instead":"Use recovery code instead"})}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(Ee,{type:"button",variant:"secondary",size:"lg",onClick:_,className:"flex-1",children:"Back"}),o.jsx(Ee,{type:"submit",variant:"primary",size:"lg",loading:b,disabled:b,className:"flex-1",children:"Verify"})]})]})]}):o.jsxs("form",{onSubmit:m,className:"space-y-4 w-full max-w-md",children:[o.jsx(Me,{type:"text",placeholder:"Username",value:e,onChange:g=>r(g.target.value),icon:o.jsx(Ko,{className:"h-5 w-5"}),required:!0,autoComplete:"username"}),o.jsx(Me,{type:"password",placeholder:"Password",value:n,onChange:g=>s(g.target.value),icon:o.jsx(Jo,{className:"h-5 w-5"}),required:!0,autoComplete:"current-password"}),o.jsx(Ee,{type:"submit",variant:"primary",size:"lg",loading:b||x,disabled:b||x,className:"w-full",children:"Sign In"})]})},Wf=()=>{const{isAuthenticated:e}=Si(),r=Go();return z.useEffect(()=>{e&&r("/dashboard")},[e,r]),o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-bg via-slate-900 to-slate-800 p-4",children:o.jsxs("div",{className:"w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8 animate-fadeIn",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-lg mb-4",children:o.jsx(De,{className:"h-10 w-10 text-white"})}),o.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"HeroForge"}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Network Triage & Reconnaissance"})]}),o.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl p-8 animate-fadeIn",children:[o.jsx("h2",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Sign In"}),o.jsx(Uf,{})]}),o.jsx("div",{className:"text-center mt-6 text-slate-500 text-sm",children:o.jsx("p",{children:"Authorized personnel only"})})]})})},Bf=()=>{const{user:e,logout:r}=Si(),n=pr(i=>i.isAdmin),s=au();return o.jsx("header",{className:"bg-dark-surface border-b border-dark-border shadow-lg",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex items-center justify-between h-16",children:[o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-lg",children:o.jsx(De,{className:"h-6 w-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold text-white",children:"HeroForge"}),o.jsx("p",{className:"text-xs text-slate-400",children:"Network Triage Dashboard"})]})]}),e&&o.jsxs("nav",{className:"flex items-center space-x-1",children:[o.jsxs(Rt,{to:"/dashboard",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/dashboard")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Zo,{className:"h-4 w-4"}),"Dashboard"]}),o.jsxs(Rt,{to:"/assets",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/assets")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Pt,{className:"h-4 w-4"}),"Assets"]}),o.jsxs(Rt,{to:"/webapp-scan",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/webapp-scan")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Zr,{className:"h-4 w-4"}),"Web Scan"]}),o.jsxs(Rt,{to:"/dns-tools",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/dns-tools")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Vn,{className:"h-4 w-4"}),"DNS Tools"]}),o.jsxs(Rt,{to:"/compliance",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/compliance"?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(du,{className:"h-4 w-4"}),"Compliance"]}),o.jsxs(Rt,{to:"/manual-assessments",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/manual-assessments")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(yi,{className:"h-4 w-4"}),"Assessments"]}),o.jsxs(Rt,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/settings")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Qo,{className:"h-4 w-4"}),"Settings"]}),n()&&o.jsxs(Rt,{to:"/admin",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/admin")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(fu,{className:"h-4 w-4"}),"Admin Console"]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[e&&o.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ko,{className:"h-5 w-5 text-slate-400"}),o.jsx("span",{className:"text-slate-300",children:e.username})]}),e.roles&&e.roles.length>0&&o.jsx("div",{className:"flex gap-1",children:e.roles.map(i=>o.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded border bg-slate-500/20 text-slate-300 border-slate-500/30 capitalize",children:i},i))})]}),o.jsxs(Ee,{variant:"ghost",size:"sm",onClick:r,className:"text-slate-400 hover:text-white",children:[o.jsx(hu,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},Vf=({children:e})=>o.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[o.jsx(Bf,{}),o.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e})]}),ar=({label:e,checked:r,onChange:n,className:s=""})=>o.jsxs("label",{className:`inline-flex items-center cursor-pointer ${s}`,children:[o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"checkbox",checked:r,onChange:i=>n(i.target.checked),className:"sr-only"}),o.jsx("div",{className:`
            w-5 h-5 border-2 rounded transition-all
            ${r?"bg-primary border-primary":"bg-dark-surface border-dark-border hover:border-primary"}
          `,children:r&&o.jsx(el,{className:"h-full w-full text-white p-0.5"})})]}),e&&o.jsx("span",{className:"ml-2 text-sm text-slate-300",children:e})]}),ce=({children:e,variant:r="default",className:n="",onClick:s})=>{const i="bg-dark-surface border border-dark-border rounded-lg p-4 shadow-lg",a={default:"",interactive:"cursor-pointer hover:border-primary hover:shadow-xl transition-all duration-200"};return o.jsx("div",{className:`${i} ${a[r]} ${n}`,onClick:s,children:e})},ft=Bo(e=>({scans:[],activeScan:null,results:new Map,liveUpdates:new Map,setScans:r=>e({scans:r}),addScan:r=>e(n=>({scans:[r,...n.scans]})),setActiveScan:r=>e({activeScan:r}),updateScanStatus:(r,n)=>e(s=>{var a;const i=n;return{scans:s.scans.map(l=>l.id===r?{...l,status:i}:l),activeScan:((a=s.activeScan)==null?void 0:a.id)===r?{...s.activeScan,status:i}:s.activeScan}}),setResults:(r,n)=>e(s=>{const i=new Map(s.results);return i.set(r,n),{results:i}}),addHostToResults:(r,n)=>e(s=>{const i=new Map(s.results),a=i.get(r)||[],l=a.findIndex(c=>c.target.ip===n.target.ip);return l>=0?a[l]=n:a.push(n),i.set(r,a),{results:i}}),updateHostInResults:(r,n,s)=>e(i=>{const a=new Map(i.results),c=(a.get(r)||[]).map(u=>u.target.ip===n?{...u,...s}:u);return a.set(r,c),{results:a}}),addLiveUpdate:(r,n)=>e(s=>{const i=new Map(s.liveUpdates),a=i.get(r)||[];return a.push(n),i.set(r,a),{liveUpdates:i}}),clearLiveUpdates:r=>e(n=>{const s=new Map(n.liveUpdates);return s.delete(r),{liveUpdates:s}})})),Gf=[{id:"tcp_connect",label:"TCP Connect",description:"Standard TCP scan (most reliable)"},{id:"udp",label:"UDP Only",description:"UDP port scanning (requires root)"},{id:"comprehensive",label:"Comprehensive",description:"TCP + UDP scanning (thorough)"},{id:"syn",label:"SYN Stealth",description:"Half-open TCP scan (requires root)"}],Yf=[{id:"http",label:"HTTP",category:"Web"},{id:"https",label:"HTTPS",category:"Web"},{id:"dns",label:"DNS",category:"Network"},{id:"smb",label:"SMB",category:"Network"},{id:"ftp",label:"FTP",category:"Network"},{id:"ssh",label:"SSH",category:"Network"},{id:"smtp",label:"SMTP",category:"Network"},{id:"ldap",label:"LDAP",category:"Network"},{id:"rdp",label:"RDP",category:"Remote"},{id:"vnc",label:"VNC",category:"Remote"},{id:"telnet",label:"Telnet",category:"Remote"},{id:"snmp",label:"SNMP",category:"Network"},{id:"mysql",label:"MySQL",category:"Database"},{id:"postgresql",label:"PostgreSQL",category:"Database"},{id:"mongodb",label:"MongoDB",category:"Database"},{id:"redis",label:"Redis",category:"Database"},{id:"elasticsearch",label:"Elasticsearch",category:"Database"}],Xf=()=>{const[e,r]=z.useState(""),[n,s]=z.useState(""),[i,a]=z.useState(""),[l,c]=z.useState(1),[u,d]=z.useState(1e3),[h,f]=z.useState(100),[x,b]=z.useState("tcp_connect"),[w,S]=z.useState(53),[v,m]=z.useState(500),[p,_]=z.useState(2),[g,y]=z.useState(!0),[N,j]=z.useState(!0),[k,C]=z.useState(!1),[O,E]=z.useState(!1),[R,$]=z.useState("light"),[P,T]=z.useState([]),[D,I]=z.useState(!1),[H,V]=z.useState([]),[Y,J]=z.useState(!1),[K,ie]=z.useState(""),[se,ge]=z.useState(""),[le,me]=z.useState([]),[X,ee]=z.useState(null),[ue,de]=z.useState([]),[fe,we]=z.useState(""),{addScan:ke}=ft(),Pe=x==="udp"||x==="comprehensive";z.useEffect(()=>{A(),L(),F()},[]);const A=async()=>{try{const W=await $f.getAll();V(W.data)}catch(W){console.error("Failed to load target groups:",W)}},L=async()=>{try{const W=await Zt.getPresets();me(W.data)}catch(W){console.error("Failed to load scan presets:",W)}},F=async()=>{try{const W=await Hf.getConfigs();de(W.data);const pe=W.data.find($e=>$e.is_default);pe&&we(pe.id)}catch(W){console.error("Failed to load VPN configs:",W)}},B=W=>{const pe=JSON.parse(W.targets||"[]");a(pe.join(", "))},Z=W=>{ee(W.id),W.id==="webapp"?(c(80),d(8443)):(c(W.port_range[0]),d(W.port_range[1])),f(W.threads),b(W.scan_type),y(W.enable_os_detection),j(W.enable_service_detection),C(W.enable_vuln_scan),E(W.enable_enumeration),W.enum_depth&&$(W.enum_depth),W.udp_port_range&&(S(W.udp_port_range[0]),m(W.udp_port_range[1])),W.udp_retries&&_(W.udp_retries),W.enum_services?T(W.enum_services):T([]),Q.success(`Applied "${W.name}" preset`)},re=W=>{switch(W){case"Zap":return Ps;case"Radar":return vu;case"Globe":return Zr;case"EyeOff":return yu;default:return Ps}},ne=W=>{const pe=W.trim(),$e=/^(\d{1,3}\.){3}\d{1,3}$/,mt=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,gt=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/,Ht=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/;return $e.test(pe)||mt.test(pe)||gt.test(pe)||Ht.test(pe)},oe=W=>W.split(/[,\n]/).map(pe=>pe.trim()).filter(pe=>pe.length>0),_e=W=>{const pe=oe(W);return pe.length===0?!1:pe.every(ne)},Re=async W=>{var $e,mt;if(W.preventDefault(),!e.trim()){Q.error("Please enter a scan name");return}if(!i.trim()){Q.error("Please enter a target");return}if(!_e(i)){Q.error("Invalid target format. Use IP (192.168.1.1), CIDR (192.168.1.0/24), range, or hostname. Separate multiple targets with commas.");return}if(l<1||u>65535||l>u){Q.error("Invalid port range");return}const pe=oe(i);I(!0);try{const gt=await Zt.create({name:e.trim(),targets:pe,port_range:[l,u],threads:h,scan_type:x,udp_port_range:Pe?[w,v]:void 0,udp_retries:Pe?p:void 0,enable_os_detection:g,enable_service_detection:N,enable_vuln_scan:k,enable_enumeration:O,enum_depth:O?R:void 0,enum_services:O&&P.length>0?P:void 0,vpn_config_id:fe||void 0});if(ke(gt.data),Q.success("Scan started successfully!"),Y&&K.trim())try{await Ff.create({name:K.trim(),description:se.trim()||void 0,config:{targets:pe,port_range:[l,u],threads:h,scan_type:x,udp_port_range:Pe?[w,v]:void 0,udp_retries:Pe?p:void 0,enable_os_detection:g,enable_service_detection:N,enable_vuln_scan:k,enable_enumeration:O,enum_depth:O?R:void 0,enum_services:O&&P.length>0?P:void 0}}),Q.success("Template saved!")}catch(Ht){console.error("Failed to save template:",Ht),Q.warning("Scan started but template save failed")}r(""),a(""),s(""),c(1),d(1e3),f(100),b("tcp_connect"),S(53),m(500),_(2),E(!1),$("light"),T([]),J(!1),ie(""),ge("")}catch(gt){const Ht=((mt=($e=gt.response)==null?void 0:$e.data)==null?void 0:mt.error)||"Failed to start scan";Q.error(Ht)}finally{I(!1)}},Le=W=>{T(pe=>pe.includes(W)?pe.filter($e=>$e!==W):[...pe,W])};return o.jsxs(ce,{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Scan"}),o.jsxs("form",{onSubmit:Re,className:"space-y-4",children:[le.length>0&&o.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ps,{className:"h-5 w-5 text-yellow-400"}),o.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Quick Presets"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:le.map(W=>{const pe=re(W.icon);return o.jsxs("button",{type:"button",onClick:()=>Z(W),className:`px-3 py-3 text-sm rounded-lg border transition-all text-left ${X===W.id?"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 border-yellow-500 text-white shadow-lg":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500 hover:bg-dark-surface/50"}`,children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[o.jsx(pe,{className:`h-4 w-4 ${X===W.id?"text-yellow-400":"text-slate-500"}`}),o.jsx("div",{className:"font-medium",children:W.name})]}),o.jsx("div",{className:"text-xs opacity-70 line-clamp-2",children:W.description})]},W.id)})}),o.jsx("p",{className:"text-xs text-slate-500 italic",children:"Select a preset to auto-configure scan settings, or customize manually below."})]}),o.jsx(Me,{label:"Scan Name",type:"text",placeholder:"Production Network Scan",value:e,onChange:W=>r(W.target.value),required:!0}),o.jsx(Me,{label:"Customer Tag (Optional)",type:"text",placeholder:"ACME Corp",value:n,onChange:W=>s(W.target.value),icon:o.jsx(pu,{className:"h-5 w-5"})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-1",children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Target"}),H.length>0&&o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mu,{className:"h-3 w-3 text-slate-500"}),o.jsx("span",{className:"text-xs text-slate-500",children:"Use group:"}),H.slice(0,3).map(W=>o.jsx("button",{type:"button",onClick:()=>B(W),className:"px-2 py-0.5 text-xs rounded border border-dark-border text-slate-400 hover:text-white hover:border-primary transition-colors",style:{borderLeftColor:W.color,borderLeftWidth:3},children:W.name},W.id)),H.length>3&&o.jsxs("span",{className:"text-xs text-slate-500",children:["+",H.length-3]})]})]}),o.jsx(Me,{type:"text",placeholder:"192.168.1.0/24, 10.0.0.1-10.0.0.100, or hostname",value:i,onChange:W=>a(W.target.value),icon:o.jsx(tl,{className:"h-5 w-5"}),required:!0})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Me,{label:"Start Port",type:"number",min:1,max:65535,value:l,onChange:W=>{c(Number(W.target.value)),ee(null)}}),o.jsx(Me,{label:"End Port",type:"number",min:1,max:65535,value:u,onChange:W=>{d(Number(W.target.value)),ee(null)}})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Threads: ",h]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(gu,{className:"h-5 w-5 text-slate-400"}),o.jsx("input",{type:"range",min:1,max:100,value:h,onChange:W=>{f(Number(W.target.value)),ee(null)},className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]}),o.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xu,{className:"h-5 w-5 text-primary"}),o.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Type"})]}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Gf.map(W=>o.jsxs("button",{type:"button",onClick:()=>{b(W.id),ee(null)},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${x===W.id?"bg-primary/20 border-primary text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[o.jsx("div",{className:"font-medium",children:W.label}),o.jsx("div",{className:"text-xs opacity-70",children:W.description})]},W.id))}),Pe&&o.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(us,{className:"h-4 w-4 text-cyan-400"}),o.jsx("p",{className:"text-sm font-medium text-slate-400",children:"UDP Options"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(Me,{label:"UDP Start Port",type:"number",min:1,max:65535,value:w,onChange:W=>S(Number(W.target.value))}),o.jsx(Me,{label:"UDP End Port",type:"number",min:1,max:65535,value:v,onChange:W=>m(Number(W.target.value))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["UDP Retries: ",p]}),o.jsx("input",{type:"range",min:1,max:5,value:p,onChange:W=>_(Number(W.target.value)),className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]})]}),ue.length>0&&o.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(De,{className:"h-5 w-5 text-green-400"}),o.jsx("p",{className:"text-sm font-medium text-slate-300",children:"VPN Connection"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Route scan through VPN (optional)"}),o.jsxs("select",{value:fe,onChange:W=>we(W.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[o.jsx("option",{value:"",children:"No VPN - Direct connection"}),ue.map(W=>o.jsxs("option",{value:W.id,children:[W.name," (",W.vpn_type.toUpperCase(),")",W.is_default?" (Default)":""]},W.id))]}),o.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"VPN connects before scan and disconnects when complete. Configure VPNs in Settings."})]})]}),o.jsxs("div",{className:"space-y-2 border-t border-dark-border pt-4",children:[o.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Scan Options"}),o.jsx(ar,{label:"Enable OS Detection",checked:g,onChange:y}),o.jsx(ar,{label:"Enable Service Detection",checked:N,onChange:j}),o.jsx(ar,{label:"Enable Vulnerability Scanning",checked:k,onChange:C})]}),o.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(ds,{className:"h-5 w-5 text-cyan-400"}),o.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Service Enumeration"})]}),o.jsx(ar,{label:"Enable Deep Service Enumeration",checked:O,onChange:E}),O&&o.jsxs("div",{className:"ml-4 space-y-4 animate-fadeIn",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Enumeration Depth"}),o.jsxs("select",{value:R,onChange:W=>$(W.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[o.jsx("option",{value:"passive",children:"Passive - Banner analysis only"}),o.jsx("option",{value:"light",children:"Light - Common checks (default)"}),o.jsx("option",{value:"aggressive",children:"Aggressive - Full enumeration"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Services to Enumerate (leave empty for all detected)"}),o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Yf.map(W=>o.jsx("button",{type:"button",onClick:()=>Le(W.id),className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${P.includes(W.id)?"bg-cyan-600 border-cyan-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:W.label},W.id))}),P.length>0&&o.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",P.join(", ")]})]})]})]}),o.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(rl,{className:"h-5 w-5 text-purple-400"}),o.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Save Configuration"})]}),o.jsx(ar,{label:"Save this scan configuration as a template",checked:Y,onChange:J}),Y&&o.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[o.jsx(Me,{label:"Template Name",type:"text",placeholder:"Production Network Scan Template",value:K,onChange:W=>ie(W.target.value)}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Template Description (Optional)"}),o.jsx("textarea",{value:se,onChange:W=>ge(W.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2,placeholder:"Quick template for scanning production servers"})]})]})]}),o.jsx(Ee,{type:"submit",variant:"primary",size:"lg",loading:D,className:"w-full",children:"Start Scan"})]})]})},Ve=({children:e,variant:r="status",type:n="pending",className:s=""})=>{const i="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a={pending:"bg-status-pending/20 text-status-pending border border-status-pending/30",running:"bg-status-running/20 text-status-running border border-status-running/30",completed:"bg-status-completed/20 text-status-completed border border-status-completed/30",failed:"bg-status-failed/20 text-status-failed border border-status-failed/30"},u=(r==="status"?a:{critical:"bg-severity-critical/20 text-severity-critical border border-severity-critical/30",high:"bg-severity-high/20 text-severity-high border border-severity-high/30",medium:"bg-severity-medium/20 text-severity-medium border border-severity-medium/30",low:"bg-severity-low/20 text-severity-low border border-severity-low/30"})[n]||a.pending;return o.jsx("span",{className:`${i} ${u} ${s}`,children:e})};function be(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function $t(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Ml=6048e5,Kf=864e5,jn=43200,ba=1440;let Jf={};function mn(){return Jf}function an(e,r){var c,u,d,h;const n=mn(),s=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=be(e),a=i.getDay(),l=(a<s?7:0)+a-s;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Yn(e){return an(e,{weekStartsOn:1})}function zl(e){const r=be(e),n=r.getFullYear(),s=$t(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Yn(s),a=$t(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=Yn(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function wa(e){const r=be(e);return r.setHours(0,0,0,0),r}function Xn(e){const r=be(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function Zf(e,r){const n=wa(e),s=wa(r),i=+n-Xn(n),a=+s-Xn(s);return Math.round((i-a)/Kf)}function Qf(e){const r=zl(e),n=$t(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Yn(n)}function Fn(e,r){const n=be(e),s=be(r),i=n.getTime()-s.getTime();return i<0?-1:i>0?1:i}function eh(e){return $t(e,Date.now())}function th(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rh(e){if(!th(e)&&typeof e!="number")return!1;const r=be(e);return!isNaN(Number(r))}function nh(e,r){const n=be(e),s=be(r),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function sh(e){return r=>{const n=Math.trunc,s=n(r);return s===0?0:s}}function ih(e,r){return+be(e)-+be(r)}function ah(e){const r=be(e);return r.setHours(23,59,59,999),r}function oh(e){const r=be(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function lh(e){const r=be(e);return+ah(r)==+oh(r)}function ch(e,r){const n=be(e),s=be(r),i=Fn(n,s),a=Math.abs(nh(n,s));let l;if(a<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let c=Fn(n,s)===-i;lh(be(e))&&a===1&&Fn(e,s)===1&&(c=!1),l=i*(a-Number(c))}return l===0?0:l}function uh(e,r,n){const s=ih(e,r)/1e3;return sh()(s)}function dh(e){const r=be(e),n=$t(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const fh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hh=(e,r,n)=>{let s;const i=fh[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function As(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ph={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xh={date:As({formats:ph,defaultWidth:"full"}),time:As({formats:mh,defaultWidth:"full"}),dateTime:As({formats:gh,defaultWidth:"full"})},yh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vh=(e,r,n,s)=>yh[e];function kr(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):l;i=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(r):r;return i[a]}}const bh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_h={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Nh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kh=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ch={ordinalNumber:kh,era:kr({values:bh,defaultWidth:"wide"}),quarter:kr({values:wh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:kr({values:_h,defaultWidth:"wide"}),day:kr({values:jh,defaultWidth:"wide"}),dayPeriod:kr({values:Nh,defaultWidth:"wide",formattingValues:Sh,defaultFormattingWidth:"wide"})};function Cr(e){return(r,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=r.match(i);if(!a)return null;const l=a[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?Ph(c,f=>f.test(l)):Oh(c,f=>f.test(l));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=r.slice(l.length);return{value:d,rest:h}}}function Oh(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function Ph(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function Eh(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const i=s[0],a=r.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const c=r.slice(i.length);return{value:l,rest:c}}}const Rh=/^(\d+)(th|st|nd|rd)?/i,Dh=/\d+/i,Ah={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Th={any:[/^b/i,/^(a|c)/i]},Mh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zh={any:[/1/i,/2/i,/3/i,/4/i]},Lh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$h={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ih={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},qh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Uh={ordinalNumber:Eh({matchPattern:Rh,parsePattern:Dh,valueCallback:e=>parseInt(e,10)}),era:Cr({matchPatterns:Ah,defaultMatchWidth:"wide",parsePatterns:Th,defaultParseWidth:"any"}),quarter:Cr({matchPatterns:Mh,defaultMatchWidth:"wide",parsePatterns:zh,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Cr({matchPatterns:Lh,defaultMatchWidth:"wide",parsePatterns:$h,defaultParseWidth:"any"}),day:Cr({matchPatterns:Fh,defaultMatchWidth:"wide",parsePatterns:Ih,defaultParseWidth:"any"}),dayPeriod:Cr({matchPatterns:Hh,defaultMatchWidth:"any",parsePatterns:qh,defaultParseWidth:"any"})},Ll={code:"en-US",formatDistance:hh,formatLong:xh,formatRelative:vh,localize:Ch,match:Uh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Wh(e){const r=be(e);return Zf(r,dh(r))+1}function Bh(e){const r=be(e),n=+Yn(r)-+Qf(r);return Math.round(n/Ml)+1}function $l(e,r){var h,f,x,b;const n=be(e),s=n.getFullYear(),i=mn(),a=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(x=i.locale)==null?void 0:x.options)==null?void 0:b.firstWeekContainsDate)??1,l=$t(e,0);l.setFullYear(s+1,0,a),l.setHours(0,0,0,0);const c=an(l,r),u=$t(e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const d=an(u,r);return n.getTime()>=c.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function Vh(e,r){var c,u,d,h;const n=mn(),s=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=$l(e,r),a=$t(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),an(a,r)}function Gh(e,r){const n=be(e),s=+an(n,r)-+Vh(n,r);return Math.round(s/Ml)+1}function ye(e,r){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return n+s}const Dt={y(e,r){const n=e.getFullYear(),s=n>0?n:1-n;return ye(r==="yy"?s%100:s,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):ye(n+1,2)},d(e,r){return ye(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return ye(e.getHours()%12||12,r.length)},H(e,r){return ye(e.getHours(),r.length)},m(e,r){return ye(e.getMinutes(),r.length)},s(e,r){return ye(e.getSeconds(),r.length)},S(e,r){const n=r.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return ye(i,r.length)}},nr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_a={G:function(e,r,n){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Dt.y(e,r)},Y:function(e,r,n,s){const i=$l(e,s),a=i>0?i:1-i;if(r==="YY"){const l=a%100;return ye(l,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):ye(a,r.length)},R:function(e,r){const n=zl(e);return ye(n,r.length)},u:function(e,r){const n=e.getFullYear();return ye(n,r.length)},Q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return ye(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return ye(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){const s=e.getMonth();switch(r){case"M":case"MM":return Dt.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return ye(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){const i=Gh(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):ye(i,r.length)},I:function(e,r,n){const s=Bh(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):ye(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Dt.d(e,r)},D:function(e,r,n){const s=Wh(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):ye(s,r.length)},E:function(e,r,n){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return ye(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return ye(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){const s=e.getDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return ye(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){const i=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){const s=e.getHours();let i;switch(s===12?i=nr.noon:s===0?i=nr.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){const s=e.getHours();let i;switch(s>=17?i=nr.evening:s>=12?i=nr.afternoon:s>=4?i=nr.morning:i=nr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Dt.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Dt.H(e,r)},K:function(e,r,n){const s=e.getHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):ye(s,r.length)},k:function(e,r,n){let s=e.getHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):ye(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Dt.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Dt.s(e,r)},S:function(e,r){return Dt.S(e,r)},X:function(e,r,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Na(s);case"XXXX":case"XX":return Bt(s);case"XXXXX":case"XXX":default:return Bt(s,":")}},x:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"x":return Na(s);case"xxxx":case"xx":return Bt(s);case"xxxxx":case"xxx":default:return Bt(s,":")}},O:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+ja(s,":");case"OOOO":default:return"GMT"+Bt(s,":")}},z:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+ja(s,":");case"zzzz":default:return"GMT"+Bt(s,":")}},t:function(e,r,n){const s=Math.trunc(e.getTime()/1e3);return ye(s,r.length)},T:function(e,r,n){const s=e.getTime();return ye(s,r.length)}};function ja(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+r+ye(a,2)}function Na(e,r){return e%60===0?(e>0?"-":"+")+ye(Math.abs(e)/60,2):Bt(e,r)}function Bt(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),i=ye(Math.trunc(s/60),2),a=ye(s%60,2);return n+i+r+a}const Sa=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Fl=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Yh=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Sa(e,r);let a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Sa(s,r)).replace("{{time}}",Fl(i,r))},Xh={p:Fl,P:Yh},Kh=/^D+$/,Jh=/^Y+$/,Zh=["D","DD","YY","YYYY"];function Qh(e){return Kh.test(e)}function ep(e){return Jh.test(e)}function tp(e,r,n){const s=rp(e,r,n);if(console.warn(s),Zh.includes(e))throw new RangeError(s)}function rp(e,r,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const np=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,sp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ip=/^'([^]*?)'?$/,ap=/''/g,op=/[a-zA-Z]/;function Kt(e,r,n){var h,f,x,b;const s=mn(),i=s.locale??Ll,a=s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,l=s.weekStartsOn??((b=(x=s.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??0,c=be(e);if(!rh(c))throw new RangeError("Invalid time value");let u=r.match(sp).map(w=>{const S=w[0];if(S==="p"||S==="P"){const v=Xh[S];return v(w,i.formatLong)}return w}).join("").match(np).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const S=w[0];if(S==="'")return{isToken:!1,value:lp(w)};if(_a[S])return{isToken:!0,value:w};if(S.match(op))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const d={firstWeekContainsDate:a,weekStartsOn:l,locale:i};return u.map(w=>{if(!w.isToken)return w.value;const S=w.value;(ep(S)||Qh(S))&&tp(S,r,String(e));const v=_a[S[0]];return v(c,S,i.localize,d)}).join("")}function lp(e){const r=e.match(ip);return r?r[1].replace(ap,"'"):e}function cp(e,r,n){const s=mn(),i=(n==null?void 0:n.locale)??s.locale??Ll,a=2520,l=Fn(e,r);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:l});let u,d;l>0?(u=be(r),d=be(e)):(u=be(e),d=be(r));const h=uh(d,u),f=(Xn(d)-Xn(u))/1e3,x=Math.round((h-f)/60);let b;if(x<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,c):h<10?i.formatDistance("lessThanXSeconds",10,c):h<20?i.formatDistance("lessThanXSeconds",20,c):h<40?i.formatDistance("halfAMinute",0,c):h<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):x===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",x,c);if(x<45)return i.formatDistance("xMinutes",x,c);if(x<90)return i.formatDistance("aboutXHours",1,c);if(x<ba){const w=Math.round(x/60);return i.formatDistance("aboutXHours",w,c)}else{if(x<a)return i.formatDistance("xDays",1,c);if(x<jn){const w=Math.round(x/ba);return i.formatDistance("xDays",w,c)}else if(x<jn*2)return b=Math.round(x/jn),i.formatDistance("aboutXMonths",b,c)}if(b=ch(d,u),b<12){const w=Math.round(x/jn);return i.formatDistance("xMonths",w,c)}else{const w=b%12,S=Math.trunc(b/12);return w<3?i.formatDistance("aboutXYears",S,c):w<9?i.formatDistance("overXYears",S,c):i.formatDistance("almostXYears",S+1,c)}}function ki(e,r){return cp(e,eh(e),r)}const up=({scan:e,isActive:r,onClick:n})=>{const s=JSON.parse(e.targets),i=e.status,a=()=>({pending:"Pending",running:"Running",completed:"Completed",failed:"Failed"})[e.status]||e.status;return o.jsxs("div",{onClick:n,className:`
        p-4 border rounded-lg cursor-pointer transition-all duration-200
        ${r?"bg-primary/10 border-primary shadow-lg":"bg-dark-surface border-dark-border hover:border-primary/50 hover:shadow-md"}
      `,children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h4",{className:"text-white font-semibold truncate flex-1",children:e.name}),o.jsxs(Ve,{variant:"status",type:i,children:[i==="running"&&o.jsx("span",{className:"inline-block w-2 h-2 bg-primary rounded-full animate-pulse-dot mr-1"}),a()]})]}),o.jsxs("div",{className:"space-y-1 text-sm",children:[o.jsxs("div",{className:"flex items-center text-slate-400",children:[o.jsx(tl,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"font-mono text-xs",children:s[0]})]}),o.jsxs("div",{className:"flex items-center text-slate-500",children:[o.jsx(br,{className:"h-4 w-4 mr-2"}),o.jsx("span",{children:Kt(new Date(e.created_at),"MMM d, yyyy HH:mm")})]})]})]})},Ft=({size:e="md",className:r=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return o.jsx(cs,{className:`${n[e]} animate-spin text-primary ${r}`})},dp=({selectedIds:e,onSelectionChange:r})=>{const{scans:n,activeScan:s,setScans:i,setActiveScan:a}=ft(),[l,c]=z.useState(!0),[u,d]=z.useState(""),[h,f]=z.useState("all");z.useEffect(()=>{x()},[]);const x=async()=>{try{const v=await Zt.getAll();i(v.data)}catch{Q.error("Failed to load scans")}finally{c(!1)}},b=n.filter(v=>{const m=v.name.toLowerCase().includes(u.toLowerCase())||v.targets.toLowerCase().includes(u.toLowerCase()),p=h==="all"||v.status===h;return m&&p}),w=v=>{r&&(v.target.checked?r(new Set(b.map(m=>m.id))):r(new Set))},S=(v,m)=>{if(!r||!e)return;const p=new Set(e);m?p.add(v):p.delete(v),r(p)};return l?o.jsx(ce,{children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ft,{})})}):o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-xl font-semibold text-white",children:"Scan History"}),o.jsxs("span",{className:"text-sm text-slate-400",children:[n.length," scans",e&&e.size>0&&` (${e.size} selected)`]})]}),o.jsx(Me,{type:"text",placeholder:"Search by name, target, or customer...",value:u,onChange:v=>d(v.target.value),icon:o.jsx(ds,{className:"h-5 w-5"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[o.jsx(nl,{className:"h-4 w-4 text-slate-400"}),o.jsx("span",{className:"text-slate-400",children:"Filter:"}),o.jsxs("select",{value:h,onChange:v=>f(v.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[o.jsx("option",{value:"all",children:"All"}),o.jsx("option",{value:"pending",children:"Pending"}),o.jsx("option",{value:"running",children:"Running"}),o.jsx("option",{value:"completed",children:"Completed"}),o.jsx("option",{value:"failed",children:"Failed"})]})]}),r&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"select-all",checked:(e==null?void 0:e.size)===b.length&&b.length>0,onChange:w,className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary"}),o.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-400 cursor-pointer",children:"Select All"})]})]}),o.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:b.length===0?o.jsx("div",{className:"text-center py-8 text-slate-500",children:u||h!=="all"?"No scans match your filters":"No scans yet. Create your first scan above."}):b.map(v=>o.jsxs("div",{className:"flex items-center space-x-2",children:[r&&o.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.has(v.id))||!1,onChange:m=>S(v.id,m.target.checked),className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary flex-shrink-0"}),o.jsx("div",{className:"flex-1",children:o.jsx(up,{scan:v,isActive:(s==null?void 0:s.id)===v.id,onClick:()=>a(v)})})]},v.id))})]})})},Or=[{name:"host_discovery",label:"Host Discovery",progressStart:0,progressEnd:20},{name:"port_scanning",label:"Port Scanning",progressStart:20,progressEnd:40},{name:"service_detection",label:"Service Detection",progressStart:40,progressEnd:60},{name:"enumeration",label:"Enumeration",progressStart:60,progressEnd:75},{name:"os_fingerprinting",label:"OS Fingerprinting",progressStart:75,progressEnd:85},{name:"vulnerability_scanning",label:"Vulnerability Scanning",progressStart:85,progressEnd:100}],fp=({currentPhase:e,progress:r=0,isComplete:n=!1})=>{var c;const s=u=>u.toLowerCase().replace(/\s+/g,"_"),a=(()=>{if(n)return Or.length;if(!e)return-1;const u=s(e);return Or.findIndex(d=>d.name===u||s(d.label)===u)})(),l=u=>n||u<a?"completed":u===a?"active":"pending";return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-dark-border"}),o.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${n?100:a/Or.length*100}%`}}),o.jsx("div",{className:"relative grid grid-cols-6 gap-2",children:Or.map((u,d)=>{const h=l(d);return o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:`
                    relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300
                    ${h==="completed"?"bg-green-500 border-green-500 shadow-lg shadow-green-500/50":h==="active"?"bg-primary border-primary shadow-lg shadow-primary/50 animate-pulse-glow":"bg-dark-surface border-dark-border"}
                  `,children:h==="completed"?o.jsx(el,{className:"h-6 w-6 text-white"}):h==="active"?o.jsx(cs,{className:"h-6 w-6 text-white animate-spin"}):o.jsx(bu,{className:"h-6 w-6 text-slate-600"})}),o.jsxs("div",{className:"mt-3 text-center",children:[o.jsx("p",{className:`text-xs font-medium transition-colors ${h==="completed"?"text-green-500":h==="active"?"text-primary":"text-slate-500"}`,children:u.label}),h==="active"&&o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"In Progress..."}),h==="completed"&&o.jsx("p",{className:"text-xs text-green-500/70 mt-1",children:"Complete"})]})]},u.name)})})]}),o.jsxs("div",{className:"space-y-2 pt-4 border-t border-dark-border",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-slate-400",children:n?o.jsx("span",{className:"text-green-500 font-medium",children:"Scan Complete"}):e?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-primary font-medium",children:((c=Or[a])==null?void 0:c.label)||e})," in progress..."]}):o.jsx("span",{className:"text-slate-500",children:"Initializing..."})}),o.jsxs("span",{className:"text-white font-semibold tabular-nums",children:[Math.round(r),"%"]})]}),o.jsx("div",{className:"relative h-3 bg-dark-surface rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary via-primary-light to-primary transition-all duration-500 ease-out",style:{width:`${n?100:r}%`},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})})})]})]})},Pr=({value:e,duration:r=500})=>{const[n,s]=z.useState(0);return z.useEffect(()=>{if(n===e)return;const i=n,a=e-i,l=Date.now(),c=()=>{const u=Date.now()-l,d=Math.min(u/r,1),h=1-Math.pow(1-d,3),f=Math.round(i+a*h);s(f),d<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,r]),o.jsx("span",{className:"tabular-nums",children:n.toLocaleString()})},hp=({hostsFound:e,portsOpen:r,servicesDetected:n,vulnerabilitiesFound:s,criticalVulns:i=0,highVulns:a=0,mediumVulns:l=0,lowVulns:c=0})=>{const u=[{label:"Hosts Found",value:e,icon:Pt,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},{label:"Open Ports",value:r,icon:us,color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30"},{label:"Services Detected",value:n,icon:vi,color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30"},{label:"Vulnerabilities",value:s,icon:tt,color:s>0?"text-red-400":"text-slate-500",bgColor:s>0?"bg-red-500/10":"bg-slate-500/10",borderColor:s>0?"border-red-500/30":"border-slate-500/30"}],d=h=>{switch(h){case"critical":return"bg-severity-critical text-white";case"high":return"bg-severity-high text-white";case"medium":return"bg-severity-medium text-white";case"low":return"bg-severity-low text-white";default:return"bg-slate-600 text-white"}};return o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(h=>{const f=h.icon;return o.jsxs("div",{className:`relative overflow-hidden rounded-lg border ${h.borderColor} ${h.bgColor} p-4 transition-all duration-300 hover:scale-105`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx(f,{className:`h-5 w-5 ${h.color}`}),h.value>0&&o.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-current animate-pulse-dot"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsx("p",{className:"text-2xl font-bold text-white",children:o.jsx(Pr,{value:h.value})}),o.jsx("p",{className:"text-xs text-slate-400 font-medium",children:h.label})]}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"})]},h.label)})}),s>0&&o.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(De,{className:"h-4 w-4 text-red-400"}),o.jsx("h4",{className:"text-sm font-semibold text-white",children:"Vulnerability Breakdown"})]}),o.jsxs("div",{className:"flex flex-wrap gap-2",children:[i>0&&o.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("critical")}`,children:[o.jsx("span",{className:"font-bold",children:o.jsx(Pr,{value:i})})," Critical"]}),a>0&&o.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("high")}`,children:[o.jsx("span",{className:"font-bold",children:o.jsx(Pr,{value:a})})," High"]}),l>0&&o.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("medium")}`,children:[o.jsx("span",{className:"font-bold",children:o.jsx(Pr,{value:l})})," Medium"]}),c>0&&o.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("low")}`,children:[o.jsx("span",{className:"font-bold",children:o.jsx(Pr,{value:c})})," Low"]})]})]})]})};class pp{constructor(r,n){xt(this,"ws",null);xt(this,"scanId");xt(this,"token");xt(this,"reconnectAttempts",0);xt(this,"maxReconnectAttempts",10);xt(this,"reconnectDelay",1e3);xt(this,"messageHandlers",[]);xt(this,"statusHandlers",[]);this.scanId=r,this.token=n||localStorage.getItem("token")||""}connect(){if(!this.token){console.error("WebSocket connection failed: No authentication token available"),this.updateStatus("failed");return}const r=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.hostname,s=window.location.port||(r==="wss:"?"443":"80"),i=`${r}//${n}:${s}/api/ws/scans/${this.scanId}?token=${encodeURIComponent(this.token)}`;this.updateStatus("connecting");try{this.ws=new WebSocket(i),this.ws.onopen=()=>{console.log(`WebSocket connected for scan: ${this.scanId}`),this.reconnectAttempts=0,this.reconnectDelay=1e3,this.updateStatus("connected")},this.ws.onmessage=a=>{try{const l=JSON.parse(a.data);this.messageHandlers.forEach(c=>c(l))}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onerror=a=>{console.error("WebSocket error:",a)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.updateStatus("disconnected"),this.attemptReconnect()}}catch(a){console.error("Failed to create WebSocket:",a),this.updateStatus("failed")}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnection attempts reached"),this.updateStatus("failed");return}this.reconnectAttempts++;const r=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),8e3);console.log(`Reconnecting in ${r}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect()},r)}onMessage(r){this.messageHandlers.push(r)}onStatusChange(r){this.statusHandlers.push(r)}updateStatus(r){this.statusHandlers.forEach(n=>n(r))}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.messageHandlers=[],this.statusHandlers=[]}reconnect(){this.disconnect(),this.reconnectAttempts=0,this.connect()}}const mp=e=>{const[r,n]=z.useState("disconnected"),[s,i]=z.useState(null),a=z.useRef(null),{updateScanStatus:l,addHostToResults:c,updateHostInResults:u,results:d}=ft();z.useEffect(()=>{if(!e)return;const x=new pp(e);return a.current=x,x.onStatusChange(b=>{n(b),i(b==="failed"?"Failed to connect to WebSocket":null)}),x.onMessage(b=>{h(e,b)}),x.connect(),()=>{x.disconnect(),a.current=null}},[e]);const h=(x,b)=>{switch(console.log("WebSocket message:",b),b.type){case"scanStarted":l(x,"running"),Q.info("Scan started");break;case"phaseStarted":break;case"hostDiscovered":const w={target:{ip:b.ip,hostname:b.hostname||null},is_alive:!0,os_guess:null,ports:[],vulnerabilities:[],scan_duration:{secs:0,nanos:0}};c(x,w);break;case"portFound":const v=(d.get(x)||[]).find(y=>y.target.ip===b.ip);if(v){const y={port:b.port,protocol:b.protocol==="TCP"?"TCP":"UDP",state:b.state,service:null},N=[...v.ports,y];u(x,b.ip,{ports:N})}break;case"serviceDetected":const p=(d.get(x)||[]).find(y=>y.target.ip===b.ip);if(p){const y=p.ports.map(N=>N.port===b.port?{...N,service:{name:b.service_name,version:b.version||null,banner:null,cpe:null,ssl_info:null}}:N);u(x,b.ip,{ports:y})}break;case"vulnerabilityFound":const g=(d.get(x)||[]).find(y=>y.target.ip===b.ip);if(g){const y={cve_id:b.cve_id||null,title:b.title,severity:b.severity,description:"",affected_service:null},N=[...g.vulnerabilities,y];u(x,b.ip,{vulnerabilities:N}),b.severity==="Critical"?Q.error(` CRITICAL vulnerability found on ${b.ip}: ${b.title}`,{autoClose:8e3}):b.severity==="High"&&Q.warning(` HIGH severity vulnerability found on ${b.ip}: ${b.title}`,{autoClose:6e3})}break;case"scanCompleted":l(x,"completed"),Q.success(`Scan completed! Found ${b.total_hosts} hosts`);break;case"error":l(x,"failed"),Q.error(`Scan error: ${b.message}`);break;default:console.log("Unknown message type:",b.type)}};return{status:r,error:s,reconnect:()=>{a.current&&a.current.reconnect()}}},gp=({scanId:e})=>{const{status:r,error:n,reconnect:s}=mp(e),{liveUpdates:i,scans:a}=ft(),[l,c]=z.useState(!0),u=z.useMemo(()=>a.find(g=>g.id===e),[a,e]),{currentPhase:d,progress:h,isComplete:f,metrics:x,currentActivity:b,estimatedTime:w}=z.useMemo(()=>{var Y,J,K,ie,se,ge;if(!e)return{currentPhase:void 0,progress:0,isComplete:!1,metrics:{hostsFound:0,portsOpen:0,servicesDetected:0,vulnerabilitiesFound:0,criticalVulns:0,highVulns:0,mediumVulns:0,lowVulns:0},currentActivity:"",estimatedTime:null};const g=i.get(e)||[],y=(u==null?void 0:u.status)==="completed",N=g.filter(le=>le.type==="phaseStarted"),j=N.length>0?N[N.length-1]:null,k=g.filter(le=>le.type==="scanProgress"),C=k.length>0?k[k.length-1]:null,O=g.filter(le=>le.type==="hostDiscovered"),E=g.filter(le=>le.type==="portFound"),R=g.filter(le=>le.type==="serviceDetected"),$=g.filter(le=>le.type==="vulnerabilityFound"),P=$.filter(le=>{var me;return((me=le.data)==null?void 0:me.severity)==="Critical"}).length,T=$.filter(le=>{var me;return((me=le.data)==null?void 0:me.severity)==="High"}).length,D=$.filter(le=>{var me;return((me=le.data)==null?void 0:me.severity)==="Medium"}).length,I=$.filter(le=>{var me;return((me=le.data)==null?void 0:me.severity)==="Low"}).length,H=((Y=C==null?void 0:C.data)==null?void 0:Y.message)||((J=j==null?void 0:j.data)==null?void 0:J.phase)||"";let V=null;if(!y&&C&&((K=C.data)==null?void 0:K.progress)>0){const le=C.data.progress,me=g.find(X=>X.type==="scanStarted");if(me){const X=new Date(me.timestamp).getTime(),ue=(Date.now()-X)/1e3,de=ue/le*100;V=Math.max(0,de-ue)}}return{currentPhase:(ie=j==null?void 0:j.data)==null?void 0:ie.phase,progress:((se=C==null?void 0:C.data)==null?void 0:se.progress)||((ge=j==null?void 0:j.data)==null?void 0:ge.progress)||0,isComplete:y,metrics:{hostsFound:O.length,portsOpen:E.length,servicesDetected:R.length,vulnerabilitiesFound:$.length,criticalVulns:P,highVulns:T,mediumVulns:D,lowVulns:I},currentActivity:H,estimatedTime:V}},[e,i,u]),S=g=>g===null?"Calculating...":g<60?`~${Math.round(g)}s remaining`:g<3600?`~${Math.round(g/60)}m remaining`:`~${Math.round(g/3600)}h ${Math.round(g%3600/60)}m remaining`;if(!e)return o.jsx(ce,{children:o.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a scan to view real-time progress"})});const v=()=>{switch(r){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"disconnected":case"failed":return"text-red-500";default:return"text-slate-500"}},m=()=>r==="connected"?o.jsx(us,{className:"h-5 w-5"}):o.jsx(Bs,{className:"h-5 w-5"}),p=()=>{switch(r){case"connected":return"Connected - Receiving live updates";case"connecting":return"Connecting to scan...";case"disconnected":return"Disconnected";case"failed":return"Connection failed";default:return"Unknown"}},_=(u==null?void 0:u.status)==="running"||(u==null?void 0:u.status)==="completed";return o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[o.jsx(dt,{className:"h-5 w-5 mr-2"}),"Real-Time Scan Progress"]}),o.jsxs(Ve,{variant:"status",type:r==="connected"?"running":"pending",children:[r==="connected"&&o.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse-dot mr-1"}),"Live"]})]}),o.jsx("button",{onClick:()=>c(!l),className:"p-2 hover:bg-dark-hover rounded-lg transition-colors",children:l?o.jsx(bi,{className:"h-5 w-5 text-slate-400"}):o.jsx(fs,{className:"h-5 w-5 text-slate-400"})})]}),o.jsxs("div",{className:`flex items-center space-x-2 ${v()}`,children:[m(),o.jsx("span",{className:"text-sm",children:p()})]}),n&&o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[o.jsx("p",{className:"text-red-500 text-sm",children:n}),o.jsx("button",{onClick:s,className:"mt-2 text-xs text-red-400 hover:text-red-300 underline",children:"Try reconnecting"})]}),l&&o.jsxs(o.Fragment,{children:[_&&!f&&b&&o.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-3 space-y-2",children:[o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx(dt,{className:"h-4 w-4 text-primary mt-0.5 animate-pulse"}),o.jsx("div",{className:"flex-1 min-w-0",children:o.jsx("p",{className:"text-sm text-slate-300",children:b})})]}),w!==null&&o.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[o.jsx(br,{className:"h-3 w-3"}),o.jsx("span",{children:S(w)})]})]}),_&&o.jsx(hp,{hostsFound:x.hostsFound,portsOpen:x.portsOpen,servicesDetected:x.servicesDetected,vulnerabilitiesFound:x.vulnerabilitiesFound,criticalVulns:x.criticalVulns,highVulns:x.highVulns,mediumVulns:x.mediumVulns,lowVulns:x.lowVulns}),_&&o.jsx("div",{className:"border-t border-dark-border pt-4",children:o.jsx(fp,{currentPhase:d,progress:h,isComplete:f})}),r==="connected"&&!_&&o.jsxs("div",{className:"border-t border-dark-border pt-4 text-sm text-slate-400",children:[o.jsx("p",{children:"Listening for scan events:"}),o.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[o.jsx("li",{children:" Host discoveries"}),o.jsx("li",{children:" Open ports"}),o.jsx("li",{children:" Service detections"}),o.jsx("li",{children:" Vulnerability findings"})]})]})]})]})})},xp=({onScanSelect:e})=>{const{scans:r,liveUpdates:n,activeScan:s}=ft(),i=z.useMemo(()=>r.filter(d=>d.status==="running"),[r]),a=z.useMemo(()=>{const d=new Map;return i.forEach(h=>{var w;const x=(n.get(h.id)||[]).filter(S=>S.type==="scanProgress"||S.type==="phaseStarted"),b=x.length>0?x[x.length-1]:null;d.set(h.id,((w=b==null?void 0:b.data)==null?void 0:w.progress)||0)}),d},[i,n]),l=z.useMemo(()=>{let d=0,h=0,f=0;i.forEach(b=>{const w=n.get(b.id)||[];d+=a.get(b.id)||0,h+=w.filter(S=>S.type==="hostDiscovered").length,f+=w.filter(S=>S.type==="vulnerabilityFound").length});const x=i.length>0?d/i.length:0;return{totalScans:i.length,avgProgress:x,totalHosts:h,totalVulns:f}},[i,n,a]),c=d=>{switch(d){case"running":return o.jsx(cs,{className:"h-4 w-4 text-primary animate-spin"});case"completed":return o.jsx(nn,{className:"h-4 w-4 text-green-500"});case"failed":return o.jsx(dr,{className:"h-4 w-4 text-red-500"});default:return o.jsx(dt,{className:"h-4 w-4 text-slate-400"})}},u=d=>{if(!d.started_at)return"";const h=new Date(d.started_at).getTime(),f=d.completed_at?new Date(d.completed_at).getTime():Date.now(),x=Math.floor((f-h)/1e3);return x<60?`${x}s`:x<3600?`${Math.floor(x/60)}m`:`${Math.floor(x/3600)}h ${Math.floor(x%3600/60)}m`};return i.length===0?null:o.jsx(ce,{children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dt,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Scans"}),o.jsxs(Ve,{variant:"status",type:"running",children:[l.totalScans," Running"]})]})}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 pb-3 border-b border-dark-border",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(l.avgProgress),"%"]}),o.jsx("p",{className:"text-xs text-slate-400",children:"Avg Progress"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-blue-400",children:l.totalHosts}),o.jsx("p",{className:"text-xs text-slate-400",children:"Total Hosts"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-2xl font-bold text-red-400",children:l.totalVulns}),o.jsx("p",{className:"text-xs text-slate-400",children:"Total Vulns"})]})]}),o.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar",children:i.map(d=>{const h=a.get(d.id)||0,f=(s==null?void 0:s.id)===d.id;return o.jsxs("div",{onClick:()=>e==null?void 0:e(d.id),className:`
                  group relative p-3 rounded-lg border transition-all cursor-pointer
                  ${f?"bg-primary/10 border-primary":"bg-dark-surface border-dark-border hover:border-primary/50 hover:bg-dark-hover"}
                `,children:[o.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-lg transition-all duration-300",style:{width:`${h}%`}}),o.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c(d.status),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-white truncate",children:d.name}),o.jsx("p",{className:"text-xs text-slate-400 truncate",children:d.targets})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-sm font-semibold text-primary tabular-nums",children:[Math.round(h),"%"]}),o.jsx("p",{className:"text-xs text-slate-500",children:u(d)})]}),o.jsx(sl,{className:`h-4 w-4 text-slate-400 transition-transform ${f?"text-primary":"group-hover:translate-x-1"}`})]})]}),o.jsx("div",{className:"relative mt-2 h-1 bg-dark-bg rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${h}%`}})})]},d.id)})})]})})},yp=({scanId:e,maxItems:r=50})=>{const{liveUpdates:n}=ft(),[s,i]=z.useState(!1),a=z.useRef(null),[l,c]=z.useState(!0),u=e?n.get(e)||[]:[],h=(s?u.filter(w=>{var S,v;return w.type==="vulnerabilityFound"&&(((S=w.data)==null?void 0:S.severity)==="Critical"||((v=w.data)==null?void 0:v.severity)==="High")}):u).slice(-r);z.useEffect(()=>{l&&a.current&&a.current.scrollIntoView({behavior:"smooth"})},[h.length,l]);const f=w=>{switch(w){case"hostDiscovered":return o.jsx(Pt,{className:"h-4 w-4 text-blue-400"});case"portFound":return o.jsx(us,{className:"h-4 w-4 text-green-400"});case"serviceDetected":return o.jsx(vi,{className:"h-4 w-4 text-purple-400"});case"vulnerabilityFound":return o.jsx(tt,{className:"h-4 w-4 text-red-400"});case"phaseStarted":return o.jsx(dt,{className:"h-4 w-4 text-primary"});case"scanStarted":case"scanCompleted":return o.jsx(De,{className:"h-4 w-4 text-green-400"});case"vpnConnecting":return o.jsx(Zr,{className:"h-4 w-4 text-yellow-400 animate-pulse"});case"vpnConnected":return o.jsx(Zr,{className:"h-4 w-4 text-green-400"});case"vpnDisconnecting":return o.jsx(Bs,{className:"h-4 w-4 text-yellow-400"});case"vpnDisconnected":return o.jsx(Bs,{className:"h-4 w-4 text-slate-400"});case"vpnError":return o.jsx(Zr,{className:"h-4 w-4 text-red-400"});default:return o.jsx(dt,{className:"h-4 w-4 text-slate-400"})}},x=w=>{var S,v,m,p,_,g,y,N,j,k,C,O,E,R,$,P,T,D,I,H,V,Y,J,K;switch(w.type){case"hostDiscovered":return o.jsxs(o.Fragment,{children:["Discovered host ",o.jsx("code",{className:"text-primary font-mono",children:(S=w.data)==null?void 0:S.ip}),((v=w.data)==null?void 0:v.hostname)&&` (${w.data.hostname})`]});case"portFound":return o.jsxs(o.Fragment,{children:["Found open port"," ",o.jsxs("code",{className:"text-green-400 font-mono",children:[(m=w.data)==null?void 0:m.port,"/",(p=w.data)==null?void 0:p.protocol]})," ","on ",o.jsx("code",{className:"text-primary font-mono",children:(_=w.data)==null?void 0:_.ip})]});case"serviceDetected":return o.jsxs(o.Fragment,{children:["Detected service ",o.jsx("code",{className:"text-purple-400",children:(g=w.data)==null?void 0:g.service_name})," on"," ",o.jsx("code",{className:"text-primary font-mono",children:(y=w.data)==null?void 0:y.ip}),":",(N=w.data)==null?void 0:N.port]});case"vulnerabilityFound":return o.jsxs(o.Fragment,{children:["Found"," ",o.jsx(Ve,{variant:"severity",type:((k=(j=w.data)==null?void 0:j.severity)==null?void 0:k.toLowerCase())||"low",children:(C=w.data)==null?void 0:C.severity})," ","vulnerability on ",o.jsx("code",{className:"text-primary font-mono",children:(O=w.data)==null?void 0:O.ip}),":"," ",o.jsx("span",{className:"text-white",children:(E=w.data)==null?void 0:E.title})]});case"phaseStarted":return o.jsxs(o.Fragment,{children:["Started phase: ",o.jsx("span",{className:"text-primary font-medium",children:(R=w.data)==null?void 0:R.phase})]});case"scanStarted":return o.jsx("span",{className:"text-green-400 font-medium",children:"Scan started"});case"scanCompleted":return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-green-400 font-medium",children:"Scan completed"})," - Found"," ",(($=w.data)==null?void 0:$.total_hosts)||0," hosts in ",((P=w.data)==null?void 0:P.duration)||0,"s"]});case"error":return o.jsxs("span",{className:"text-red-400",children:["Error: ",(T=w.data)==null?void 0:T.message]});case"vpnConnecting":return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-yellow-400",children:"Connecting to VPN:"})," ",o.jsx("span",{className:"text-white",children:(D=w.data)==null?void 0:D.config_name})]});case"vpnConnected":return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-green-400 font-medium",children:"VPN connected"})," - ",(I=w.data)==null?void 0:I.config_name,((H=w.data)==null?void 0:H.assigned_ip)&&o.jsxs(o.Fragment,{children:[" (IP: ",o.jsx("code",{className:"text-primary font-mono",children:w.data.assigned_ip}),")"]})]});case"vpnDisconnecting":return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-yellow-400",children:"Disconnecting from VPN:"})," ",o.jsx("span",{className:"text-white",children:(V=w.data)==null?void 0:V.config_name})]});case"vpnDisconnected":return o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-slate-400",children:"VPN disconnected:"})," ",o.jsx("span",{className:"text-white",children:(Y=w.data)==null?void 0:Y.config_name})]});case"vpnError":return o.jsxs(o.Fragment,{children:[o.jsxs("span",{className:"text-red-400",children:["VPN Error (",(J=w.data)==null?void 0:J.config_name,"):"]})," ",(K=w.data)==null?void 0:K.message]});default:return o.jsx("span",{className:"text-slate-400",children:w.type})}},b=w=>{var S;if(w.type==="vulnerabilityFound")switch((S=w.data)==null?void 0:S.severity){case"Critical":return"border-l-severity-critical bg-severity-critical/5";case"High":return"border-l-severity-high bg-severity-high/5";case"Medium":return"border-l-severity-medium bg-severity-medium/5";default:return"border-l-severity-low bg-severity-low/5"}return w.type==="vpnConnecting"||w.type==="vpnDisconnecting"?"border-l-yellow-500 bg-yellow-500/5":w.type==="vpnConnected"?"border-l-green-500 bg-green-500/5":w.type==="vpnError"?"border-l-red-500 bg-red-500/5":"border-l-slate-600 bg-dark-bg"};return e?o.jsxs(ce,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(dt,{className:"h-5 w-5 text-primary"}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"}),o.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," events)"]})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${s?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-dark-surface text-slate-400 border border-dark-border hover:border-primary"}`,children:[o.jsx(nl,{className:"h-3 w-3"}),s?"Critical/High Only":"All Events"]}),o.jsx("button",{onClick:()=>c(!l),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l?"bg-primary text-white":"bg-dark-surface text-slate-400 border border-dark-border"}`,children:"Auto-scroll"})]})]}),o.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[h.length===0?o.jsx("div",{className:"text-center py-8 text-slate-500",children:s?"No critical/high severity findings yet":"Waiting for scan events..."}):h.map((w,S)=>o.jsx("div",{className:`border-l-4 rounded-r-lg p-3 transition-all hover:bg-dark-surface/50 ${b(w)}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-0.5",children:f(w.type)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm text-slate-300",children:x(w)}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:Kt(new Date(w.timestamp),"HH:mm:ss.SSS")})]})]})},S)),o.jsx("div",{ref:a})]})]}):o.jsx(ce,{children:o.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a running scan to view live activity"})})},vp={Critical:10,High:7,Medium:4,Low:1};function Ts(e){let r=0;const n=e.vulnerabilities.reduce((a,l)=>a+vp[l.severity],0),s=e.ports.filter(a=>a.state==="Open").length,i=Math.min(s*2,30);return r=n+i,Math.min(Math.round(r),100)}function bp(e){return e>=70?"Critical":e>=50?"High":e>=25?"Medium":"Low"}function Il(e){const r={Critical:0,High:0,Medium:0,Low:0};return e.forEach(n=>{n.vulnerabilities.forEach(s=>{r[s.severity]++})}),r}function wp(e){const r=new Map;return e.forEach(n=>{n.ports.filter(s=>s.state==="Open").forEach(s=>{var a;const i=r.get(s.port);i?i.count++:r.set(s.port,{count:1,service:((a=s.service)==null?void 0:a.name)||`Port ${s.port}`})})}),Array.from(r.entries()).map(([n,s])=>({port:n,...s})).sort((n,s)=>s.count-n.count).slice(0,10)}function _p(e){const r=e.length,n=e.reduce((l,c)=>l+c.ports.filter(u=>u.state==="Open").length,0),s=Il(e),i=Object.values(s).reduce((l,c)=>l+c,0),a=s.Critical;return{totalHosts:r,totalPorts:n,totalVulnerabilities:i,criticalVulnerabilities:a,vulnerabilities:s}}function Hl(e){switch(e.toLowerCase()){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":case"info":case"informational":return"low";default:return"low"}}const jp=({vulnerability:e,compact:r=!1})=>{const[n,s]=z.useState(!1),i=()=>{e.cve_id&&(navigator.clipboard.writeText(e.cve_id),Q.success("CVE ID copied to clipboard"))},a=c=>`https://nvd.nist.gov/vuln/detail/${c}`,l=c=>{switch(c){case"Critical":return"border-severity-critical bg-severity-critical/10";case"High":return"border-severity-high bg-severity-high/10";case"Medium":return"border-severity-medium bg-severity-medium/10";case"Low":return"border-severity-low bg-severity-low/10";default:return"border-slate-600 bg-slate-600/10"}};return o.jsx("div",{className:`border-l-4 rounded-lg p-4 ${l(e.severity)}`,children:o.jsx("div",{className:"flex items-start justify-between gap-3",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(De,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),o.jsx("h4",{className:"text-white font-semibold text-sm truncate",children:e.title})]}),o.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.cve_id&&o.jsxs("div",{className:"flex items-center gap-1 bg-dark-surface px-2 py-1 rounded",children:[o.jsx("code",{className:"text-xs text-primary font-mono",children:e.cve_id}),o.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors",title:"Copy CVE ID",children:o.jsx(il,{className:"h-3 w-3"})}),o.jsx("a",{href:a(e.cve_id),target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",title:"View on NVD",children:o.jsx(wu,{className:"h-3 w-3"})})]}),o.jsx(Ve,{variant:"severity",type:Hl(e.severity),children:e.severity}),e.affected_service&&o.jsxs("span",{className:"text-xs text-slate-400",children:["Affects: ",o.jsx("span",{className:"text-slate-300 font-mono",children:e.affected_service})]})]}),!r&&e.description&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:`text-sm text-slate-300 mt-2 ${n?"":"line-clamp-2"}`,children:e.description}),e.description.length>100&&o.jsx("button",{onClick:()=>s(!n),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:n?o.jsxs(o.Fragment,{children:["Show less ",o.jsx(bi,{className:"h-3 w-3"})]}):o.jsxs(o.Fragment,{children:["Show more ",o.jsx(fs,{className:"h-3 w-3"})]})})]})]})})})},Np=({banner:e,service:r})=>{const[n,s]=z.useState(!1),i=()=>{navigator.clipboard.writeText(e),Q.success("Service banner copied to clipboard")},a=e.length>100,l=n||!a?e:e.substring(0,100)+"...";return o.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 mt-2",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(_u,{className:"h-4 w-4 text-green-400"}),o.jsxs("span",{className:"text-xs font-semibold text-slate-300",children:["Service Banner ",r&&`(${r})`]})]}),o.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors p-1 rounded hover:bg-dark-surface",title:"Copy banner",children:o.jsx(il,{className:"h-3 w-3"})})]}),o.jsx("pre",{className:"bg-slate-900 rounded p-2 overflow-x-auto",children:o.jsx("code",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:l})}),a&&o.jsx("button",{onClick:()=>s(!n),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:n?o.jsxs(o.Fragment,{children:["Show less ",o.jsx(bi,{className:"h-3 w-3"})]}):o.jsxs(o.Fragment,{children:["Show full banner ",o.jsx(fs,{className:"h-3 w-3"})]})})]})},Sp=({sslInfo:e,port:r})=>{const s=e.cert_expired||e.hostname_mismatch?"critical":e.weak_protocols.length>0||e.weak_ciphers.length>0||e.self_signed?"warning":!e.hsts_enabled&&r===443?"info":"good",i=()=>e.cert_expired?"text-red-400":e.days_until_expiry?e.days_until_expiry<30?"text-yellow-400":e.days_until_expiry<90?"text-blue-400":"text-green-400":"text-slate-400";return o.jsxs("div",{className:"mt-3 space-y-3 border-t border-dark-border pt-3",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Jo,{className:"h-4 w-4 text-primary"}),o.jsx("span",{className:"text-sm font-semibold text-white",children:"SSL/TLS Certificate"}),s==="critical"&&o.jsx(Ve,{variant:"severity",type:"critical",children:"Critical Issues"}),s==="warning"&&o.jsx(Ve,{variant:"severity",type:"high",children:"Security Issues"}),s==="good"&&o.jsx(Ve,{variant:"severity",type:"low",children:"Secure"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.cert_valid&&!e.cert_expired?o.jsx(nn,{className:"h-3 w-3 text-green-500"}):o.jsx(dr,{className:"h-3 w-3 text-red-500"}),o.jsx("span",{className:"font-medium text-slate-300",children:"Certificate Status"})]}),o.jsx("div",{className:e.cert_expired?"text-red-400":"text-green-400",children:e.cert_expired?"Expired":"Valid"})]}),o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(br,{className:"h-3 w-3 text-slate-400"}),o.jsx("span",{className:"font-medium text-slate-300",children:"Expires In"})]}),o.jsx("div",{className:i(),children:e.days_until_expiry!==null?e.cert_expired?`${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`:"Unknown"})]}),o.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(Pt,{className:"h-3 w-3 text-slate-400"}),o.jsx("span",{className:"font-medium text-slate-300",children:"Subject"})]}),o.jsx("div",{className:"text-slate-400 truncate",title:e.subject,children:e.subject})]}),o.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[o.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[o.jsx(De,{className:"h-3 w-3 text-slate-400"}),o.jsx("span",{className:"font-medium text-slate-300",children:"Issuer"})]}),o.jsx("div",{className:"text-slate-400 truncate",title:e.issuer,children:e.issuer})]}),o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsx("span",{className:"font-medium text-slate-300",children:"Valid From"}),o.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_from).toLocaleDateString()})]}),o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsx("span",{className:"font-medium text-slate-300",children:"Valid Until"}),o.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(e.self_signed||e.hostname_mismatch||e.weak_protocols.length>0||e.weak_ciphers.length>0||!e.hsts_enabled||e.chain_issues.length>0)&&o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-yellow-400",children:[o.jsx(tt,{className:"h-4 w-4"}),"Security Findings"]}),e.self_signed&&o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-yellow-400 font-medium",children:"Self-Signed Certificate"}),o.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate is not from a trusted Certificate Authority"})]}),e.hostname_mismatch&&o.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-red-400 font-medium",children:"Hostname Mismatch"}),o.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate does not match the hostname"})]}),e.weak_protocols.length>0&&o.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-red-400 font-medium",children:"Weak Protocols"}),o.jsx("div",{className:"text-slate-400 mt-1",children:e.weak_protocols.join(", ")})]}),e.weak_ciphers.length>0&&o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-yellow-400 font-medium",children:"Weak Ciphers"}),o.jsx("div",{className:"text-slate-400 mt-1 max-h-16 overflow-y-auto",children:e.weak_ciphers.join(", ")})]}),!e.hsts_enabled&&r===443&&o.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-blue-400 font-medium",children:"HSTS Not Enabled"}),o.jsx("div",{className:"text-slate-400 mt-1",children:"HTTP Strict Transport Security header not detected"})]}),e.chain_issues.length>0&&o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[o.jsx("div",{className:"text-yellow-400 font-medium",children:"Certificate Chain Issues"}),o.jsx("div",{className:"text-slate-400 mt-1",children:e.chain_issues.join(", ")})]})]}),e.protocols.length>0&&o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"Supported Protocols"}),o.jsx("div",{className:"flex flex-wrap gap-1",children:e.protocols.map(a=>o.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${e.weak_protocols.includes(a)?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:a},a))})]}),e.hsts_enabled&&o.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[o.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"HSTS"}),o.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[o.jsx(nn,{className:"h-3 w-3 text-green-500"}),o.jsx("span",{className:"text-green-400",children:"Enabled"}),e.hsts_max_age&&o.jsxs("span",{className:"text-slate-400",children:["(max-age: ",e.hsts_max_age.toLocaleString(),"s)"]})]})]})]})},kp=({hosts:e,scanName:r="scan",disabled:n=!1})=>{const[s,i]=z.useState(!1),a=()=>{const h={scan:r,exportedAt:new Date().toISOString(),totalHosts:e.length,hosts:e.map(f=>({ip:f.target.ip,hostname:f.target.hostname,isAlive:f.is_alive,osGuess:f.os_guess,ports:f.ports.map(x=>({port:x.port,protocol:x.protocol,state:x.state,service:x.service})),vulnerabilities:f.vulnerabilities}))};u(JSON.stringify(h,null,2),`${r}_${Kt(new Date,"yyyy-MM-dd_HHmmss")}.json`,"application/json"),Q.success("Exported as JSON")},l=()=>{let h=`IP,Hostname,Alive,OS,Ports,Vulnerabilities,Critical,High,Medium,Low
`;e.forEach(f=>{var w;const x=f.ports.filter(S=>S.state==="Open").map(S=>S.port).join(";"),b={Critical:f.vulnerabilities.filter(S=>S.severity==="Critical").length,High:f.vulnerabilities.filter(S=>S.severity==="High").length,Medium:f.vulnerabilities.filter(S=>S.severity==="Medium").length,Low:f.vulnerabilities.filter(S=>S.severity==="Low").length};h+=`"${f.target.ip}",`,h+=`"${f.target.hostname||""}",`,h+=`${f.is_alive},`,h+=`"${((w=f.os_guess)==null?void 0:w.os_family)||""}",`,h+=`"${x}",`,h+=`${f.vulnerabilities.length},`,h+=`${b.Critical},`,h+=`${b.High},`,h+=`${b.Medium},`,h+=`${b.Low}
`}),u(h,`${r}_${Kt(new Date,"yyyy-MM-dd_HHmmss")}.csv`,"text/csv"),Q.success("Exported as CSV")},c=()=>{const h=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HeroForge Scan Report - ${r}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      padding: 2rem;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: #3b82f6; margin-bottom: 0.5rem; }
    .meta { color: #94a3b8; margin-bottom: 2rem; }
    .summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
    }
    .card h3 { color: #cbd5e1; font-size: 0.875rem; margin-bottom: 0.5rem; }
    .card .value { font-size: 2rem; font-weight: bold; }
    .host {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .host-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #334155;
    }
    .host-ip { font-family: monospace; font-size: 1.25rem; color: #3b82f6; }
    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-critical { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
    .badge-high { background: rgba(249, 115, 22, 0.2); color: #f97316; }
    .badge-medium { background: rgba(234, 179, 8, 0.2); color: #eab308; }
    .badge-low { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .section { margin-top: 1rem; }
    .section h4 { color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.875rem; }
    .ports { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; }
    .port {
      background: #0f172a;
      padding: 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.875rem;
    }
    .vuln {
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #ef4444;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    .vuln-title { color: #fff; font-weight: 600; margin-bottom: 0.25rem; }
    .vuln-cve { color: #3b82f6; font-family: monospace; font-size: 0.875rem; }
    @media print {
      body { background: white; color: black; }
      .card, .host { border-color: #ccc; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1> HeroForge Scan Report</h1>
    <p class="meta">
      Scan: ${r} |
      Generated: ${Kt(new Date,"PPpp")} |
      Hosts: ${e.length}
    </p>

    <div class="summary">
      <div class="card">
        <h3>Total Hosts</h3>
        <div class="value" style="color: #3b82f6;">${e.length}</div>
      </div>
      <div class="card">
        <h3>Open Ports</h3>
        <div class="value" style="color: #22c55e;">
          ${e.reduce((f,x)=>f+x.ports.filter(b=>b.state==="Open").length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Total Vulnerabilities</h3>
        <div class="value" style="color: #eab308;">
          ${e.reduce((f,x)=>f+x.vulnerabilities.length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Critical Findings</h3>
        <div class="value" style="color: #ef4444;">
          ${e.reduce((f,x)=>f+x.vulnerabilities.filter(b=>b.severity==="Critical").length,0)}
        </div>
      </div>
    </div>

    <h2 style="color: #cbd5e1; margin-bottom: 1rem;">Discovered Hosts</h2>
    ${e.map(f=>`
      <div class="host">
        <div class="host-header">
          <div>
            <div class="host-ip">${f.target.ip}</div>
            ${f.target.hostname?`<div style="color: #94a3b8; font-size: 0.875rem;">${f.target.hostname}</div>`:""}
          </div>
          <div>
            ${f.vulnerabilities.length>0?`<span class="badge badge-critical">${f.vulnerabilities.length} vulnerabilities</span>`:""}
          </div>
        </div>

        ${f.os_guess?`
          <div class="section">
            <h4>OS Detection</h4>
            <p style="color: #94a3b8; font-size: 0.875rem;">
              ${f.os_guess.os_family} ${f.os_guess.os_version||""} (${f.os_guess.confidence}% confidence)
            </p>
          </div>
        `:""}

        ${f.ports.filter(x=>x.state==="Open").length>0?`
          <div class="section">
            <h4>Open Ports (${f.ports.filter(x=>x.state==="Open").length})</h4>
            <div class="ports">
              ${f.ports.filter(x=>x.state==="Open").map(x=>`
                <div class="port">
                  <strong>${x.port}/${x.protocol}</strong><br>
                  ${x.service?`<span style="color: #94a3b8;">${x.service.name} ${x.service.version||""}</span>`:""}
                </div>
              `).join("")}
            </div>
          </div>
        `:""}

        ${f.vulnerabilities.length>0?`
          <div class="section">
            <h4>Vulnerabilities (${f.vulnerabilities.length})</h4>
            ${f.vulnerabilities.map(x=>`
              <div class="vuln">
                <div class="vuln-title">${x.title}</div>
                ${x.cve_id?`<div class="vuln-cve">${x.cve_id}</div>`:""}
                <span class="badge badge-${x.severity.toLowerCase()}">${x.severity}</span>
              </div>
            `).join("")}
          </div>
        `:""}
      </div>
    `).join("")}

    <footer style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #334155; text-align: center; color: #64748b;">
      <p>Generated by HeroForge - Network Reconnaissance Tool</p>
      <p style="font-size: 0.875rem;">For authorized security testing only</p>
    </footer>
  </div>
</body>
</html>`;u(h,`${r}_${Kt(new Date,"yyyy-MM-dd_HHmmss")}.html`,"text/html"),Q.success("Exported as HTML report")},u=(h,f,x)=>{const b=new Blob([h],{type:x}),w=URL.createObjectURL(b),S=document.createElement("a");S.href=w,S.download=f,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(w)},d=h=>{if(i(!1),e.length===0){Q.error("No results to export");return}switch(h){case"json":a();break;case"csv":l();break;case"html":c();break}};return o.jsxs("div",{className:"relative",children:[o.jsxs(Ee,{onClick:()=>i(!s),disabled:n||e.length===0,variant:"secondary",children:[o.jsx(fr,{className:"h-4 w-4 mr-2"}),"Export Results"]}),s&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),o.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-20 overflow-hidden",children:o.jsxs("div",{className:"p-2",children:[o.jsxs("button",{onClick:()=>d("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[o.jsx(ju,{className:"h-4 w-4 text-blue-400"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"JSON"}),o.jsx("div",{className:"text-xs text-slate-500",children:"Full data export"})]})]}),o.jsxs("button",{onClick:()=>d("csv"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[o.jsx(Lt,{className:"h-4 w-4 text-green-400"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"CSV"}),o.jsx("div",{className:"text-xs text-slate-500",children:"Spreadsheet format"})]})]}),o.jsxs("button",{onClick:()=>d("html"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[o.jsx(vi,{className:"h-4 w-4 text-purple-400"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-medium",children:"HTML"}),o.jsx("div",{className:"text-xs text-slate-500",children:"Printable report"})]})]})]})})]})]})},Cp={tableOfContents:"Table of Contents",executiveSummary:"Executive Summary",riskOverview:"Risk Overview",hostInventory:"Host Inventory",portAnalysis:"Port Analysis",vulnerabilityFindings:"Vulnerability Findings",serviceEnumeration:"Service Enumeration",remediationRecommendations:"Remediation Recommendations",appendix:"Appendix"},Op=({scanId:e,scanName:r,onClose:n,onReportCreated:s})=>{const[i,a]=z.useState([]),[l,c]=z.useState(!0),[u,d]=z.useState(!1),[h,f]=z.useState(!1),[x,b]=z.useState(`${r} Report`),[w,S]=z.useState(""),[v,m]=z.useState("pdf"),[p,_]=z.useState("technical"),[g,y]=z.useState([]),[N,j]=z.useState({include_charts:!0,company_name:"",assessor_name:"",classification:"Confidential"});z.useEffect(()=>{k()},[]),z.useEffect(()=>{const R=i.find($=>$.id===p);R&&y(R.default_sections)},[p,i]);const k=async()=>{try{const R=await Qr.getTemplates();a(R.data);const $=R.data.find(P=>P.id==="technical");$&&y($.default_sections)}catch{Q.error("Failed to load report templates")}finally{c(!1)}},C=R=>{y($=>$.includes(R)?$.filter(P=>P!==R):[...$,R])},O=async()=>{var R,$;if(!x.trim()){Q.error("Please enter a report name");return}if(g.length===0){Q.error("Please select at least one section");return}d(!0);try{const P={scan_id:e,name:x.trim(),description:w.trim()||void 0,format:v,template_id:p,sections:g,options:N};await Qr.create(P),Q.success("Report generation started"),s==null||s(),n()}catch(P){const T=(($=(R=P.response)==null?void 0:R.data)==null?void 0:$.error)||"Failed to create report";Q.error(T)}finally{d(!1)}},E=i.find(R=>R.id===p);return l?o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:o.jsx(ce,{className:"w-full max-w-2xl mx-4",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ft,{})})})}):o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:o.jsxs(ce,{className:"w-full max-w-2xl my-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Lt,{className:"h-6 w-6 text-primary"}),o.jsx("h2",{className:"text-xl font-semibold text-white",children:"Generate Report"})]}),o.jsx("button",{onClick:n,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",children:o.jsx(hr,{className:"h-5 w-5 text-slate-400"})})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Name"}),o.jsx(Me,{type:"text",value:x,onChange:R=>b(R.target.value),placeholder:"Enter report name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description (optional)"}),o.jsx("textarea",{value:w,onChange:R=>S(R.target.value),placeholder:"Brief description of the report",className:"w-full bg-dark-surface border border-dark-border rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Template"}),o.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map(R=>o.jsxs("button",{onClick:()=>_(R.id),className:`p-4 rounded-lg border text-left transition-all ${p===R.id?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[o.jsx("p",{className:"font-medium text-white",children:R.name}),o.jsx("p",{className:"text-xs text-slate-400 mt-1",children:R.description})]},R.id))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Format"}),o.jsx("div",{className:"flex gap-3",children:E==null?void 0:E.supports_formats.map(R=>o.jsxs("button",{onClick:()=>m(R),className:`px-6 py-3 rounded-lg border font-medium transition-all flex items-center gap-2 ${v===R?"border-primary bg-primary/10 text-primary":"border-dark-border text-slate-400 hover:border-primary/50"}`,children:[o.jsx(fr,{className:"h-4 w-4"}),R.toUpperCase()]},R))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Included Sections"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Cp).map(([R,$])=>o.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${g.includes($)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[o.jsx("input",{type:"checkbox",checked:g.includes($),onChange:()=>C($),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),o.jsx("span",{className:"text-sm text-white",children:$})]},R))})]}),o.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[o.jsx(Qo,{className:"h-4 w-4"}),h?"Hide":"Show"," Advanced Options"]}),h&&o.jsxs("div",{className:"space-y-4 p-4 bg-dark-surface rounded-lg border border-dark-border",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Company Name"}),o.jsx(Me,{type:"text",value:N.company_name||"",onChange:R=>j({...N,company_name:R.target.value}),placeholder:"Your Company"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Assessor Name"}),o.jsx(Me,{type:"text",value:N.assessor_name||"",onChange:R=>j({...N,assessor_name:R.target.value}),placeholder:"Security Analyst"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Classification"}),o.jsxs("select",{value:N.classification||"",onChange:R=>j({...N,classification:R.target.value}),className:"w-full bg-dark-bg border border-dark-border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[o.jsx("option",{value:"",children:"None"}),o.jsx("option",{value:"Public",children:"Public"}),o.jsx("option",{value:"Internal",children:"Internal"}),o.jsx("option",{value:"Confidential",children:"Confidential"}),o.jsx("option",{value:"Restricted",children:"Restricted"})]})]}),o.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:N.include_charts,onChange:R=>j({...N,include_charts:R.target.checked}),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),o.jsx("span",{className:"text-sm text-white",children:"Include visual charts"})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-border",children:[o.jsx(Ee,{variant:"ghost",onClick:n,children:"Cancel"}),o.jsx(Ee,{onClick:O,disabled:u,children:u?o.jsxs(o.Fragment,{children:[o.jsx(Ft,{size:"sm",className:"mr-2"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})},Pp=({isOpen:e,onClose:r,onConfirm:n,title:s,message:i,confirmLabel:a="Confirm",cancelLabel:l="Cancel",variant:c="danger",itemCount:u,loading:d=!1})=>{const h=z.useRef(null),f=z.useRef(null);if(z.useEffect(()=>{var S;if(e){f.current=document.activeElement,(S=h.current)==null||S.focus();const v=m=>{var p;if(m.key==="Escape"&&r(),m.key==="Tab"){const _=(p=h.current)==null?void 0:p.querySelectorAll('button:not([disabled]), [tabindex]:not([tabindex="-1"])');if(_&&_.length>0){const g=_[0],y=_[_.length-1];m.shiftKey&&document.activeElement===g?(m.preventDefault(),y.focus()):!m.shiftKey&&document.activeElement===y&&(m.preventDefault(),g.focus())}}};return document.addEventListener("keydown",v),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",v),document.body.style.overflow="",f.current instanceof HTMLElement&&f.current.focus()}}},[e,r]),!e)return null;const x={danger:o.jsx(hs,{className:"h-6 w-6 text-red-400"}),warning:o.jsx(tt,{className:"h-6 w-6 text-yellow-400"}),info:o.jsx(Nu,{className:"h-6 w-6 text-blue-400"})},b={danger:"danger",warning:"primary",info:"primary"},w={danger:"bg-red-500/10",warning:"bg-yellow-500/10",info:"bg-blue-500/10"};return o.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100]",onClick:S=>{S.target===S.currentTarget&&r()},role:"presentation",children:o.jsxs("div",{ref:h,role:"alertdialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",tabIndex:-1,className:"bg-dark-card border border-dark-border rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl animate-scale-in focus:outline-none",children:[o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:`p-3 rounded-full ${w[c]}`,children:x[c]}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{id:"dialog-title",className:"text-lg font-semibold text-white",children:s}),o.jsx("p",{id:"dialog-description",className:"text-slate-400 mt-2",children:i}),u!==void 0&&u>0&&o.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["This will affect ",o.jsx("span",{className:"font-medium text-slate-300",children:u})," item",u!==1?"s":"","."]}),c==="danger"&&o.jsxs("p",{className:"text-sm text-red-400/80 mt-2 flex items-center gap-1",children:[o.jsx(tt,{className:"h-3.5 w-3.5"}),"This action cannot be undone."]})]}),o.jsx("button",{onClick:r,disabled:d,className:"text-slate-500 hover:text-slate-300 transition-colors p-1 rounded hover:bg-dark-hover disabled:opacity-50","aria-label":"Close dialog",children:o.jsx(hr,{className:"h-5 w-5"})})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[o.jsx(Ee,{variant:"secondary",onClick:r,disabled:d,children:l}),o.jsx(Ee,{variant:b[c],onClick:n,loading:d,children:a})]})]})})},Ep=({scanId:e,onGenerateNew:r})=>{const[n,s]=z.useState([]),[i,a]=z.useState(!0),[l,c]=z.useState(null),[u,d]=z.useState(null),[h,f]=z.useState(null);z.useEffect(()=>{x();const p=setInterval(()=>{n.filter(g=>g.status==="pending"||g.status==="generating").length>0&&x()},5e3);return()=>clearInterval(p)},[e]);const x=async()=>{try{const p=await Qr.getAll(e);s(p.data)}catch{Q.error("Failed to load reports")}finally{a(!1)}},b=async p=>{if(p.status!=="completed"){Q.warning("Report is not ready for download");return}c(p.id);try{const _=await Qr.download(p.id),g=new Blob([_.data],{type:_.headers["content-type"]}),y=window.URL.createObjectURL(g),N=document.createElement("a");N.href=y,N.download=`${p.name.replace(/\s+/g,"_")}.${p.format}`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(y),document.body.removeChild(N),Q.success("Report downloaded")}catch{Q.error("Failed to download report")}finally{c(null)}},w=async()=>{if(h){d(h.id);try{await Qr.delete(h.id),s(p=>p.filter(_=>_.id!==h.id)),Q.success(`Report "${h.name}" deleted`),f(null)}catch{Q.error("Failed to delete report")}finally{d(null)}}},S=p=>{switch(p){case"completed":return o.jsx(nn,{className:"h-4 w-4 text-green-500"});case"failed":return o.jsx(dr,{className:"h-4 w-4 text-red-500"});case"generating":return o.jsx(et,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return o.jsx(br,{className:"h-4 w-4 text-slate-400"})}},v=p=>{switch(p){case"completed":return"completed";case"generating":return"running";case"failed":return"failed";default:return"pending"}},m=p=>p?p<1024?`${p} B`:p<1024*1024?`${(p/1024).toFixed(1)} KB`:`${(p/(1024*1024)).toFixed(1)} MB`:"-";return i?o.jsx(ce,{children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ft,{})})}):n.length===0?o.jsx(ce,{children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Lt,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),o.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Reports Yet"}),o.jsx("p",{className:"text-slate-400 mb-4",children:"Generate a professional report from your scan results."}),r&&o.jsxs(Ee,{onClick:r,children:[o.jsx(Lt,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})}):o.jsxs(ce,{children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[o.jsx(Lt,{className:"h-5 w-5 text-primary"}),"Reports"]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:x,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",title:"Refresh",children:o.jsx(Tn,{className:"h-4 w-4 text-slate-400"})}),r&&o.jsxs(Ee,{size:"sm",onClick:r,children:[o.jsx(Lt,{className:"h-4 w-4 mr-1"}),"New Report"]})]})]}),o.jsx("div",{className:"space-y-3",children:n.map(p=>o.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-surface rounded-lg border border-dark-border hover:border-primary/30 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"p-2 bg-dark-bg rounded-lg",children:S(p.status)}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:p.name}),o.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 mt-1",children:[o.jsx("span",{className:"uppercase font-mono",children:p.format}),o.jsx("span",{children:"|"}),o.jsx("span",{children:p.template_id}),o.jsx("span",{children:"|"}),o.jsx("span",{children:Kt(new Date(p.created_at),"MMM d, yyyy HH:mm")}),p.file_size&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"|"}),o.jsx("span",{children:m(p.file_size)})]})]}),p.error_message&&o.jsx("p",{className:"text-sm text-red-400 mt-1",children:p.error_message})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Ve,{variant:"status",type:v(p.status),children:p.status}),o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx("button",{onClick:()=>b(p),disabled:p.status!=="completed"||l===p.id,className:`p-2 rounded-lg transition-colors ${p.status==="completed"?"hover:bg-dark-bg text-slate-400 hover:text-white":"text-slate-600 cursor-not-allowed"}`,title:"Download",children:l===p.id?o.jsx(et,{className:"h-4 w-4 animate-spin"}):o.jsx(fr,{className:"h-4 w-4"})}),o.jsx("button",{onClick:()=>f(p),disabled:u===p.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-dark-bg transition-colors",title:"Delete","aria-label":`Delete report ${p.name}`,children:u===p.id?o.jsx(et,{className:"h-4 w-4 animate-spin"}):o.jsx(hs,{className:"h-4 w-4"})})]})]})]},p.id))}),o.jsx(Pp,{isOpen:!!h,onClose:()=>f(null),onConfirm:w,title:"Delete Report",message:`Are you sure you want to delete the report "${h==null?void 0:h.name}"?`,confirmLabel:"Delete Report",variant:"danger",loading:!!u})]})},Rp=({scanId:e,scanName:r,onClose:n})=>{const[s,i]=z.useState([]),[a,l]=z.useState(new Set),[c,u]=z.useState(!1),[d,h]=z.useState(!1),[f,x]=z.useState(null),[b,w]=z.useState(null),[S,v]=z.useState(!1),[m,p]=z.useState("pdf");z.useEffect(()=>{_()},[]);const _=async()=>{u(!0);try{const C=await _n.getFrameworks();i(C.data.frameworks),l(new Set(["pci_dss","nist_800_53","owasp_top10"]))}catch{Q.error("Failed to load compliance frameworks")}finally{u(!1)}},g=async()=>{var C,O;if(a.size===0){Q.warning("Please select at least one framework");return}h(!0);try{const E=await _n.analyzeScan(e,{frameworks:Array.from(a)});x(E.data),Q.success("Compliance analysis completed")}catch(E){Q.error(((O=(C=E.response)==null?void 0:C.data)==null?void 0:O.error)||"Analysis failed")}finally{h(!1)}},y=C=>{const O=new Set(a);O.has(C)?O.delete(C):O.add(C),l(O)},N=C=>C>=80?"text-green-400":C>=60?"text-yellow-400":C>=40?"text-orange-400":"text-red-400",j=C=>C>=80?"completed":C>=60?"running":"failed",k=async()=>{var C,O;if(f){v(!0);try{const E=f.summary.frameworks.map(I=>String(I.framework).toLowerCase().replace(/_/g,"_")),R=await _n.generateReport(e,{frameworks:E,format:m,include_evidence:!0}),$=await _n.downloadReport(R.data.report_id),P=new Blob([$.data],{type:m==="pdf"?"application/pdf":m==="html"?"text/html":"application/json"}),T=window.URL.createObjectURL(P),D=document.createElement("a");D.href=T,D.download=`compliance_report_${e}.${m}`,document.body.appendChild(D),D.click(),document.body.removeChild(D),window.URL.revokeObjectURL(T),Q.success(`${m.toUpperCase()} report generated and downloaded successfully`)}catch(E){Q.error(((O=(C=E.response)==null?void 0:C.data)==null?void 0:O.error)||"Failed to generate report")}finally{v(!1)}}};return c?o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:o.jsx(ce,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ft,{})})})}):o.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:o.jsxs(ce,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(De,{className:"h-6 w-6 text-primary"}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Compliance Analysis"}),o.jsxs("p",{className:"text-sm text-slate-400",children:["Scan: ",r]})]})]}),o.jsx("button",{onClick:n,className:"text-slate-400 hover:text-white transition-colors",children:o.jsx(dr,{className:"h-6 w-6"})})]}),f?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"mb-6 p-4 bg-dark-bg rounded-lg border border-dark-border",children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsxs("p",{className:`text-3xl font-bold ${N(f.summary.overall_score)}`,children:[f.summary.overall_score.toFixed(0),"%"]}),o.jsx("p",{className:"text-sm text-slate-400",children:"Overall Score"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-white",children:f.summary.total_findings}),o.jsx("p",{className:"text-sm text-slate-400",children:"Total Findings"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-red-400",children:f.summary.critical_findings+f.summary.high_findings}),o.jsx("p",{className:"text-sm text-slate-400",children:"Critical/High"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:f.summary.medium_findings+f.summary.low_findings}),o.jsx("p",{className:"text-sm text-slate-400",children:"Medium/Low"})]})]})}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-white",children:"Framework Results"}),f.summary.frameworks.map(C=>o.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[o.jsxs("div",{onClick:()=>w(b===C.framework?null:C.framework),className:"flex items-center justify-between p-4 bg-dark-surface cursor-pointer hover:bg-dark-hover transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[b===C.framework?o.jsx(fs,{className:"h-5 w-5 text-slate-400"}):o.jsx(sl,{className:"h-5 w-5 text-slate-400"}),o.jsx("span",{className:"font-medium text-white",children:C.framework})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(Su,{className:"h-4 w-4 text-green-400"}),o.jsx("span",{className:"text-green-400",children:C.compliant})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(dr,{className:"h-4 w-4 text-red-400"}),o.jsx("span",{className:"text-red-400",children:C.non_compliant})]}),o.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[o.jsx(tt,{className:"h-4 w-4 text-yellow-400"}),o.jsx("span",{className:"text-yellow-400",children:C.partially_compliant})]}),o.jsxs(Ve,{variant:"status",type:j(C.compliance_score),children:[C.compliance_score.toFixed(0),"%"]})]})]}),b===C.framework&&o.jsxs("div",{className:"p-4 bg-dark-bg border-t border-dark-border",children:[o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4 text-sm",children:[o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Total Controls"}),o.jsx("p",{className:"text-xl font-bold text-white",children:C.total_controls})]}),o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Compliant"}),o.jsx("p",{className:"text-xl font-bold text-green-400",children:C.compliant})]}),o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Non-Compliant"}),o.jsx("p",{className:"text-xl font-bold text-red-400",children:C.non_compliant})]}),o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Partially Compliant"}),o.jsx("p",{className:"text-xl font-bold text-yellow-400",children:C.partially_compliant})]}),o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Not Applicable"}),o.jsx("p",{className:"text-xl font-bold text-slate-400",children:C.not_applicable})]}),o.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[o.jsx("p",{className:"text-slate-400",children:"Not Assessed"}),o.jsx("p",{className:"text-xl font-bold text-slate-500",children:C.not_assessed})]})]}),C.by_category&&C.by_category.length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"By Category"}),o.jsx("div",{className:"space-y-2",children:C.by_category.map(O=>o.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-surface rounded",children:[o.jsx("span",{className:"text-sm text-white",children:O.category}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("span",{className:"text-xs text-slate-400",children:[O.compliant,"/",O.total," compliant"]}),o.jsx("div",{className:"w-24 bg-dark-border rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${O.percentage>=80?"bg-green-500":O.percentage>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${O.percentage}%`}})}),o.jsxs("span",{className:"text-xs text-slate-300 w-12 text-right",children:[O.percentage.toFixed(0),"%"]})]})]},O.category))})]})]})]},C.framework))]}),o.jsxs("div",{className:"mt-6 pt-4 border-t border-dark-border",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Generate Compliance Report"}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex gap-2",children:["pdf","html","json"].map(C=>o.jsx("button",{onClick:()=>p(C),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m===C?"bg-primary text-white":"bg-dark-surface text-slate-400 hover:bg-dark-hover"}`,children:C.toUpperCase()},C))}),o.jsx(Ee,{onClick:k,disabled:S,className:"ml-auto",children:S?o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 animate-spin mr-2"}),"Generating..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ku,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]}),o.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[o.jsxs(Ee,{variant:"secondary",onClick:()=>x(null),children:[o.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Run New Analysis"]}),o.jsx(Ee,{onClick:n,children:"Close"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Compliance Frameworks"}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(C=>o.jsx("div",{onClick:()=>y(C.id),className:`p-4 rounded-lg border cursor-pointer transition-all ${a.has(C.id)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(ar,{checked:a.has(C.id),onChange:()=>y(C.id)}),o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"font-medium text-white",children:C.name}),o.jsxs(Ve,{variant:"status",type:"running",children:["v",C.version]})]}),o.jsx("p",{className:"text-sm text-slate-400 mt-1",children:C.description}),o.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[o.jsxs("span",{children:[C.control_count," controls"]}),o.jsxs("span",{children:[C.automated_percentage.toFixed(0),"% automated"]})]})]})]})},C.id))})]}),o.jsxs("div",{className:"flex justify-end gap-3",children:[o.jsx(Ee,{variant:"secondary",onClick:n,children:"Cancel"}),o.jsx(Ee,{onClick:g,disabled:d||a.size===0,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Tn,{className:"h-4 w-4 animate-spin mr-2"}),"Analyzing..."]}):o.jsxs(o.Fragment,{children:[o.jsx(yi,{className:"h-4 w-4 mr-2"}),"Run Analysis"]})})]})]})]})})};function Dp(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function Ap(e,r,n){return r=Hp(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function ka(e,r){return zp(e)||Dp(e,r)||ql(e,r)||Fp()}function Tp(e){return Mp(e)||Lp(e)||ql(e)||$p()}function Mp(e){if(Array.isArray(e))return Qs(e)}function zp(e){if(Array.isArray(e))return e}function Lp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ql(e,r){if(e){if(typeof e=="string")return Qs(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Qs(e,r)}}function Qs(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function $p(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ip(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Hp(e){var r=Ip(e,"string");return typeof r=="symbol"?r:String(r)}var qp=function(r,n){var s=new Set(n);return Object.assign.apply(Object,[{}].concat(Tp(Object.entries(r).filter(function(i){var a=ka(i,1),l=a[0];return!s.has(l)}).map(function(i){var a=ka(i,2),l=a[0],c=a[1];return Ap({},l,c)}))))};function ei(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Up(e){if(Array.isArray(e))return e}function Wp(e){if(Array.isArray(e))return ei(e)}function Bp(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Vp(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function Gp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yp(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xp(e,r){return Up(e)||Vp(e,r)||Ul(e,r)||Gp()}function Ca(e){return Wp(e)||Bp(e)||Ul(e)||Yp()}function Ul(e,r){if(e){if(typeof e=="string")return ei(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ei(e,r):void 0}}function Kp(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.wrapperElementType,s=n===void 0?"div":n,i=r.nodeMapper,a=i===void 0?function(h){return h}:i,l=r.methodNames,c=l===void 0?[]:l,u=r.initPropNames,d=u===void 0?[]:u;return z.forwardRef(function(h,f){var x=z.useRef(),b=z.useMemo(function(){var v=Object.fromEntries(d.filter(function(m){return h.hasOwnProperty(m)}).map(function(m){return[m,h[m]]}));return e(v)},[]);Oa(function(){b(a(x.current))},z.useLayoutEffect),Oa(function(){return b._destructor instanceof Function?b._destructor:void 0});var w=z.useCallback(function(v){for(var m=arguments.length,p=new Array(m>1?m-1:0),_=1;_<m;_++)p[_-1]=arguments[_];return b[v]instanceof Function?b[v].apply(b,p):void 0},[b]),S=z.useRef({});return Object.keys(qp(h,[].concat(Ca(c),Ca(d)))).filter(function(v){return S.current[v]!==h[v]}).forEach(function(v){return w(v,h[v])}),S.current=h,z.useImperativeHandle(f,function(){return Object.fromEntries(c.map(function(v){return[v,function(){for(var m=arguments.length,p=new Array(m),_=0;_<m;_++)p[_]=arguments[_];return w.apply(void 0,[v].concat(p))}]}))},[w]),Yo.createElement(s,{ref:x})})}function Oa(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:z.useEffect,n=z.useRef(),s=z.useRef(!1),i=z.useRef(!1),a=z.useState(0),l=Xp(a,2);l[0];var c=l[1];s.current&&(i.current=!0),r(function(){return s.current||(n.current=e(),s.current=!0),c(function(u){return u+1}),function(){i.current&&n.current&&n.current()}},[])}var ti="http://www.w3.org/1999/xhtml";const Pa={svg:"http://www.w3.org/2000/svg",xhtml:ti,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vs(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pa.hasOwnProperty(r)?{space:Pa[r],local:e}:e}function Jp(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===ti&&r.documentElement.namespaceURI===ti?r.createElement(e):r.createElementNS(n,e)}}function Zp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Wl(e){var r=vs(e);return(r.local?Zp:Jp)(r)}function Qp(){}function Ci(e){return e==null?Qp:function(){return this.querySelector(e)}}function em(e){typeof e!="function"&&(e=Ci(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],l=a.length,c=s[i]=new Array(l),u,d,h=0;h<l;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d);return new Ge(s,this._parents)}function tm(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rm(){return[]}function Bl(e){return e==null?rm:function(){return this.querySelectorAll(e)}}function nm(e){return function(){return tm(e.apply(this,arguments))}}function sm(e){typeof e=="function"?e=nm(e):e=Bl(e);for(var r=this._groups,n=r.length,s=[],i=[],a=0;a<n;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)(u=l[d])&&(s.push(e.call(u,u.__data__,d,l)),i.push(u));return new Ge(s,i)}function Vl(e){return function(){return this.matches(e)}}function Gl(e){return function(r){return r.matches(e)}}var im=Array.prototype.find;function am(e){return function(){return im.call(this.children,e)}}function om(){return this.firstElementChild}function lm(e){return this.select(e==null?om:am(typeof e=="function"?e:Gl(e)))}var cm=Array.prototype.filter;function um(){return Array.from(this.children)}function dm(e){return function(){return cm.call(this.children,e)}}function fm(e){return this.selectAll(e==null?um:dm(typeof e=="function"?e:Gl(e)))}function hm(e){typeof e!="function"&&(e=Vl(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],l=a.length,c=s[i]=[],u,d=0;d<l;++d)(u=a[d])&&e.call(u,u.__data__,d,a)&&c.push(u);return new Ge(s,this._parents)}function Yl(e){return new Array(e.length)}function pm(){return new Ge(this._enter||this._groups.map(Yl),this._parents)}function Kn(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}Kn.prototype={constructor:Kn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function mm(e){return function(){return e}}function gm(e,r,n,s,i,a){for(var l=0,c,u=r.length,d=a.length;l<d;++l)(c=r[l])?(c.__data__=a[l],s[l]=c):n[l]=new Kn(e,a[l]);for(;l<u;++l)(c=r[l])&&(i[l]=c)}function xm(e,r,n,s,i,a,l){var c,u,d=new Map,h=r.length,f=a.length,x=new Array(h),b;for(c=0;c<h;++c)(u=r[c])&&(x[c]=b=l.call(u,u.__data__,c,r)+"",d.has(b)?i[c]=u:d.set(b,u));for(c=0;c<f;++c)b=l.call(e,a[c],c,a)+"",(u=d.get(b))?(s[c]=u,u.__data__=a[c],d.delete(b)):n[c]=new Kn(e,a[c]);for(c=0;c<h;++c)(u=r[c])&&d.get(x[c])===u&&(i[c]=u)}function ym(e){return e.__data__}function vm(e,r){if(!arguments.length)return Array.from(this,ym);var n=r?xm:gm,s=this._parents,i=this._groups;typeof e!="function"&&(e=mm(e));for(var a=i.length,l=new Array(a),c=new Array(a),u=new Array(a),d=0;d<a;++d){var h=s[d],f=i[d],x=f.length,b=bm(e.call(h,h&&h.__data__,d,s)),w=b.length,S=c[d]=new Array(w),v=l[d]=new Array(w),m=u[d]=new Array(x);n(h,f,S,v,m,b,r);for(var p=0,_=0,g,y;p<w;++p)if(g=S[p]){for(p>=_&&(_=p+1);!(y=v[_])&&++_<w;);g._next=y||null}}return l=new Ge(l,s),l._enter=c,l._exit=u,l}function bm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wm(){return new Ge(this._exit||this._groups.map(Yl),this._parents)}function _m(e,r,n){var s=this.enter(),i=this,a=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(i=r(i),i&&(i=i.selection())),n==null?a.remove():n(a),s&&i?s.merge(i).order():i}function jm(e){for(var r=e.selection?e.selection():e,n=this._groups,s=r._groups,i=n.length,a=s.length,l=Math.min(i,a),c=new Array(i),u=0;u<l;++u)for(var d=n[u],h=s[u],f=d.length,x=c[u]=new Array(f),b,w=0;w<f;++w)(b=d[w]||h[w])&&(x[w]=b);for(;u<i;++u)c[u]=n[u];return new Ge(c,this._parents)}function Nm(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var s=e[r],i=s.length-1,a=s[i],l;--i>=0;)(l=s[i])&&(a&&l.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(l,a),a=l);return this}function Sm(e){e||(e=km);function r(f,x){return f&&x?e(f.__data__,x.__data__):!f-!x}for(var n=this._groups,s=n.length,i=new Array(s),a=0;a<s;++a){for(var l=n[a],c=l.length,u=i[a]=new Array(c),d,h=0;h<c;++h)(d=l[h])&&(u[h]=d);u.sort(r)}return new Ge(i,this._parents).order()}function km(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Cm(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Om(){return Array.from(this)}function Pm(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],i=0,a=s.length;i<a;++i){var l=s[i];if(l)return l}return null}function Em(){let e=0;for(const r of this)++e;return e}function Rm(){return!this.node()}function Dm(e){for(var r=this._groups,n=0,s=r.length;n<s;++n)for(var i=r[n],a=0,l=i.length,c;a<l;++a)(c=i[a])&&e.call(c,c.__data__,a,i);return this}function Am(e){return function(){this.removeAttribute(e)}}function Tm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mm(e,r){return function(){this.setAttribute(e,r)}}function zm(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function Lm(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function $m(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Fm(e,r){var n=vs(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((r==null?n.local?Tm:Am:typeof r=="function"?n.local?$m:Lm:n.local?zm:Mm)(n,r))}function Xl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Im(e){return function(){this.style.removeProperty(e)}}function Hm(e,r,n){return function(){this.style.setProperty(e,r,n)}}function qm(e,r,n){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function Um(e,r,n){return arguments.length>1?this.each((r==null?Im:typeof r=="function"?qm:Hm)(e,r,n??"")):gr(this.node(),e)}function gr(e,r){return e.style.getPropertyValue(r)||Xl(e).getComputedStyle(e,null).getPropertyValue(r)}function Wm(e){return function(){delete this[e]}}function Bm(e,r){return function(){this[e]=r}}function Vm(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Gm(e,r){return arguments.length>1?this.each((r==null?Wm:typeof r=="function"?Vm:Bm)(e,r)):this.node()[e]}function Kl(e){return e.trim().split(/^|\s+/)}function Oi(e){return e.classList||new Jl(e)}function Jl(e){this._node=e,this._names=Kl(e.getAttribute("class")||"")}Jl.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zl(e,r){for(var n=Oi(e),s=-1,i=r.length;++s<i;)n.add(r[s])}function Ql(e,r){for(var n=Oi(e),s=-1,i=r.length;++s<i;)n.remove(r[s])}function Ym(e){return function(){Zl(this,e)}}function Xm(e){return function(){Ql(this,e)}}function Km(e,r){return function(){(r.apply(this,arguments)?Zl:Ql)(this,e)}}function Jm(e,r){var n=Kl(e+"");if(arguments.length<2){for(var s=Oi(this.node()),i=-1,a=n.length;++i<a;)if(!s.contains(n[i]))return!1;return!0}return this.each((typeof r=="function"?Km:r?Ym:Xm)(n,r))}function Zm(){this.textContent=""}function Qm(e){return function(){this.textContent=e}}function eg(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function tg(e){return arguments.length?this.each(e==null?Zm:(typeof e=="function"?eg:Qm)(e)):this.node().textContent}function rg(){this.innerHTML=""}function ng(e){return function(){this.innerHTML=e}}function sg(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function ig(e){return arguments.length?this.each(e==null?rg:(typeof e=="function"?sg:ng)(e)):this.node().innerHTML}function ag(){this.nextSibling&&this.parentNode.appendChild(this)}function og(){return this.each(ag)}function lg(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cg(){return this.each(lg)}function ug(e){var r=typeof e=="function"?e:Wl(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function dg(){return null}function fg(e,r){var n=typeof e=="function"?e:Wl(e),s=r==null?dg:typeof r=="function"?r:Ci(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function hg(){var e=this.parentNode;e&&e.removeChild(this)}function pg(){return this.each(hg)}function mg(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function gg(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function xg(e){return this.select(e?gg:mg)}function yg(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vg(e){return function(r){e.call(this,r,this.__data__)}}function bg(e){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");return s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),{type:r,name:n}})}function wg(e){return function(){var r=this.__on;if(r){for(var n=0,s=-1,i=r.length,a;n<i;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++s]=a;++s?r.length=s:delete this.__on}}}function _g(e,r,n){return function(){var s=this.__on,i,a=vg(r);if(s){for(var l=0,c=s.length;l<c;++l)if((i=s[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=r;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:r,listener:a,options:n},s?s.push(i):this.__on=[i]}}function jg(e,r,n){var s=bg(e+""),i,a=s.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,d=c.length,h;u<d;++u)for(i=0,h=c[u];i<a;++i)if((l=s[i]).type===h.type&&l.name===h.name)return h.value}return}for(c=r?_g:wg,i=0;i<a;++i)this.each(c(s[i],r,n));return this}function ec(e,r,n){var s=Xl(e),i=s.CustomEvent;typeof i=="function"?i=new i(r,n):(i=s.document.createEvent("Event"),n?(i.initEvent(r,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(r,!1,!1)),e.dispatchEvent(i)}function Ng(e,r){return function(){return ec(this,e,r)}}function Sg(e,r){return function(){return ec(this,e,r.apply(this,arguments))}}function kg(e,r){return this.each((typeof r=="function"?Sg:Ng)(e,r))}function*Cg(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],i=0,a=s.length,l;i<a;++i)(l=s[i])&&(yield l)}var tc=[null];function Ge(e,r){this._groups=e,this._parents=r}function gn(){return new Ge([[document.documentElement]],tc)}function Og(){return this}Ge.prototype=gn.prototype={constructor:Ge,select:em,selectAll:sm,selectChild:lm,selectChildren:fm,filter:hm,data:vm,enter:pm,exit:wm,join:_m,merge:jm,selection:Og,order:Nm,sort:Sm,call:Cm,nodes:Om,node:Pm,size:Em,empty:Rm,each:Dm,attr:Fm,style:Um,property:Gm,classed:Jm,text:tg,html:ig,raise:og,lower:cg,append:ug,insert:fg,remove:pg,clone:xg,datum:yg,on:jg,dispatch:kg,[Symbol.iterator]:Cg};function Ke(e){return typeof e=="string"?new Ge([[document.querySelector(e)]],[document.documentElement]):new Ge([[e]],tc)}function Pg(e){let r;for(;r=e.sourceEvent;)e=r;return e}function ct(e,r){if(e=Pg(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var i=r.getBoundingClientRect();return[e.clientX-i.left-r.clientLeft,e.clientY-i.top-r.clientTop]}}return[e.pageX,e.pageY]}var Eg={value:()=>{}};function xn(){for(var e=0,r=arguments.length,n={},s;e<r;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new In(n)}function In(e){this._=e}function Rg(e,r){return e.trim().split(/^|\s+/).map(function(n){var s="",i=n.indexOf(".");if(i>=0&&(s=n.slice(i+1),n=n.slice(0,i)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}In.prototype=xn.prototype={constructor:In,on:function(e,r){var n=this._,s=Rg(e+"",n),i,a=-1,l=s.length;if(arguments.length<2){for(;++a<l;)if((i=(e=s[a]).type)&&(i=Dg(n[i],e.name)))return i;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<l;)if(i=(e=s[a]).type)n[i]=Ea(n[i],e.name,r);else if(r==null)for(i in n)n[i]=Ea(n[i],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new In(e)},call:function(e,r){if((i=arguments.length-2)>0)for(var n=new Array(i),s=0,i,a;s<i;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],s=0,i=a.length;s<i;++s)a[s].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],i=0,a=s.length;i<a;++i)s[i].value.apply(r,n)}};function Dg(e,r){for(var n=0,s=e.length,i;n<s;++n)if((i=e[n]).name===r)return i.value}function Ea(e,r,n){for(var s=0,i=e.length;s<i;++s)if(e[s].name===r){e[s]=Eg,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:r,value:n}),e}const Ag={passive:!1},on={capture:!0,passive:!1};function Ms(e){e.stopImmediatePropagation()}function ur(e){e.preventDefault(),e.stopImmediatePropagation()}function rc(e){var r=e.document.documentElement,n=Ke(e).on("dragstart.drag",ur,on);"onselectstart"in r?n.on("selectstart.drag",ur,on):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function nc(e,r){var n=e.document.documentElement,s=Ke(e).on("dragstart.drag",null);r&&(s.on("click.drag",ur,on),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Nn=e=>()=>e;function ri(e,{sourceEvent:r,subject:n,target:s,identifier:i,active:a,x:l,y:c,dx:u,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}ri.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function Tg(e){return!e.ctrlKey&&!e.button}function Mg(){return this.parentNode}function zg(e,r){return r??{x:e.x,y:e.y}}function Lg(){return navigator.maxTouchPoints||"ontouchstart"in this}function $g(){var e=Tg,r=Mg,n=zg,s=Lg,i={},a=xn("start","drag","end"),l=0,c,u,d,h,f=0;function x(g){g.on("mousedown.drag",b).filter(s).on("touchstart.drag",v).on("touchmove.drag",m,Ag).on("touchend.drag touchcancel.drag",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function b(g,y){if(!(h||!e.call(this,g,y))){var N=_(this,r.call(this,g,y),g,y,"mouse");N&&(Ke(g.view).on("mousemove.drag",w,on).on("mouseup.drag",S,on),rc(g.view),Ms(g),d=!1,c=g.clientX,u=g.clientY,N("start",g))}}function w(g){if(ur(g),!d){var y=g.clientX-c,N=g.clientY-u;d=y*y+N*N>f}i.mouse("drag",g)}function S(g){Ke(g.view).on("mousemove.drag mouseup.drag",null),nc(g.view,d),ur(g),i.mouse("end",g)}function v(g,y){if(e.call(this,g,y)){var N=g.changedTouches,j=r.call(this,g,y),k=N.length,C,O;for(C=0;C<k;++C)(O=_(this,j,g,y,N[C].identifier,N[C]))&&(Ms(g),O("start",g,N[C]))}}function m(g){var y=g.changedTouches,N=y.length,j,k;for(j=0;j<N;++j)(k=i[y[j].identifier])&&(ur(g),k("drag",g,y[j]))}function p(g){var y=g.changedTouches,N=y.length,j,k;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),j=0;j<N;++j)(k=i[y[j].identifier])&&(Ms(g),k("end",g,y[j]))}function _(g,y,N,j,k,C){var O=a.copy(),E=ct(C||N,y),R,$,P;if((P=n.call(g,new ri("beforestart",{sourceEvent:N,target:x,identifier:k,active:l,x:E[0],y:E[1],dx:0,dy:0,dispatch:O}),j))!=null)return R=P.x-E[0]||0,$=P.y-E[1]||0,function T(D,I,H){var V=E,Y;switch(D){case"start":i[k]=T,Y=l++;break;case"end":delete i[k],--l;case"drag":E=ct(H||I,y),Y=l;break}O.call(D,g,new ri(D,{sourceEvent:I,subject:P,target:x,identifier:k,active:Y,x:E[0]+R,y:E[1]+$,dx:E[0]-V[0],dy:E[1]-V[1],dispatch:O}),j)}}return x.filter=function(g){return arguments.length?(e=typeof g=="function"?g:Nn(!!g),x):e},x.container=function(g){return arguments.length?(r=typeof g=="function"?g:Nn(g),x):r},x.subject=function(g){return arguments.length?(n=typeof g=="function"?g:Nn(g),x):n},x.touchable=function(g){return arguments.length?(s=typeof g=="function"?g:Nn(!!g),x):s},x.on=function(){var g=a.on.apply(a,arguments);return g===a?x:g},x.clickDistance=function(g){return arguments.length?(f=(g=+g)*g,x):Math.sqrt(f)},x}var xr=0,Gr=0,Er=0,sc=1e3,Jn,Yr,Zn=0,tr=0,bs=0,ln=typeof performance=="object"&&performance.now?performance:Date,ic=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Pi(){return tr||(ic(Fg),tr=ln.now()+bs)}function Fg(){tr=0}function Qn(){this._call=this._time=this._next=null}Qn.prototype=Ei.prototype={constructor:Qn,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Pi():+n)+(r==null?0:+r),!this._next&&Yr!==this&&(Yr?Yr._next=this:Jn=this,Yr=this),this._call=e,this._time=n,ni()},stop:function(){this._call&&(this._call=null,this._time=1/0,ni())}};function Ei(e,r,n){var s=new Qn;return s.restart(e,r,n),s}function Ig(){Pi(),++xr;for(var e=Jn,r;e;)(r=tr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--xr}function Ra(){tr=(Zn=ln.now())+bs,xr=Gr=0;try{Ig()}finally{xr=0,qg(),tr=0}}function Hg(){var e=ln.now(),r=e-Zn;r>sc&&(bs-=r,Zn=e)}function qg(){for(var e,r=Jn,n,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:Jn=n);Yr=e,ni(s)}function ni(e){if(!xr){Gr&&(Gr=clearTimeout(Gr));var r=e-tr;r>24?(e<1/0&&(Gr=setTimeout(Ra,e-ln.now()-bs)),Er&&(Er=clearInterval(Er))):(Er||(Zn=ln.now(),Er=setInterval(Hg,sc)),xr=1,ic(Ra))}}function Da(e,r,n){var s=new Qn;return r=r==null?0:+r,s.restart(i=>{s.stop(),e(i+r)},r,n),s}var Ug=xn("start","end","cancel","interrupt"),Wg=[],ac=0,Aa=1,si=2,Hn=3,Ta=4,ii=5,qn=6;function ws(e,r,n,s,i,a){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;Bg(e,n,{name:r,index:s,group:i,on:Ug,tween:Wg,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ac})}function Ri(e,r){var n=st(e,r);if(n.state>ac)throw new Error("too late; already scheduled");return n}function pt(e,r){var n=st(e,r);if(n.state>Hn)throw new Error("too late; already running");return n}function st(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function Bg(e,r,n){var s=e.__transition,i;s[r]=n,n.timer=Ei(a,0,n.time);function a(d){n.state=Aa,n.timer.restart(l,n.delay,n.time),n.delay<=d&&l(d-n.delay)}function l(d){var h,f,x,b;if(n.state!==Aa)return u();for(h in s)if(b=s[h],b.name===n.name){if(b.state===Hn)return Da(l);b.state===Ta?(b.state=qn,b.timer.stop(),b.on.call("interrupt",e,e.__data__,b.index,b.group),delete s[h]):+h<r&&(b.state=qn,b.timer.stop(),b.on.call("cancel",e,e.__data__,b.index,b.group),delete s[h])}if(Da(function(){n.state===Hn&&(n.state=Ta,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=si,n.on.call("start",e,e.__data__,n.index,n.group),n.state===si){for(n.state=Hn,i=new Array(x=n.tween.length),h=0,f=-1;h<x;++h)(b=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=b);i.length=f+1}}function c(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=ii,1),f=-1,x=i.length;++f<x;)i[f].call(e,h);n.state===ii&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=qn,n.timer.stop(),delete s[r];for(var d in s)return;delete e.__transition}}function Un(e,r){var n=e.__transition,s,i,a=!0,l;if(n){r=r==null?null:r+"";for(l in n){if((s=n[l]).name!==r){a=!1;continue}i=s.state>si&&s.state<ii,s.state=qn,s.timer.stop(),s.on.call(i?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[l]}a&&delete e.__transition}}function Vg(e){return this.each(function(){Un(this,e)})}function Gg(e,r){var n,s;return function(){var i=pt(this,e),a=i.tween;if(a!==n){s=n=a;for(var l=0,c=s.length;l<c;++l)if(s[l].name===r){s=s.slice(),s.splice(l,1);break}}i.tween=s}}function Yg(e,r,n){var s,i;if(typeof n!="function")throw new Error;return function(){var a=pt(this,e),l=a.tween;if(l!==s){i=(s=l).slice();for(var c={name:r,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===r){i[u]=c;break}u===d&&i.push(c)}a.tween=i}}function Xg(e,r){var n=this._id;if(e+="",arguments.length<2){for(var s=st(this.node(),n).tween,i=0,a=s.length,l;i<a;++i)if((l=s[i]).name===e)return l.value;return null}return this.each((r==null?Gg:Yg)(n,e,r))}function Di(e,r,n){var s=e._id;return e.each(function(){var i=pt(this,s);(i.value||(i.value={}))[r]=n.apply(this,arguments)}),function(i){return st(i,s).value[r]}}function oc(e,r){var n;return(typeof r=="number"?Iu:r instanceof Qi?Zi:(n=Qi(r))?(r=n,Zi):Hu)(e,r)}function Kg(e){return function(){this.removeAttribute(e)}}function Jg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zg(e,r,n){var s,i=n+"",a;return function(){var l=this.getAttribute(e);return l===i?null:l===s?a:a=r(s=l,n)}}function Qg(e,r,n){var s,i=n+"",a;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===s?a:a=r(s=l,n)}}function ex(e,r,n){var s,i,a;return function(){var l,c=n(this),u;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),u=c+"",l===u?null:l===s&&u===i?a:(i=u,a=r(s=l,c)))}}function tx(e,r,n){var s,i,a;return function(){var l,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),u=c+"",l===u?null:l===s&&u===i?a:(i=u,a=r(s=l,c)))}}function rx(e,r){var n=vs(e),s=n==="transform"?qu:oc;return this.attrTween(e,typeof r=="function"?(n.local?tx:ex)(n,s,Di(this,"attr."+e,r)):r==null?(n.local?Jg:Kg)(n):(n.local?Qg:Zg)(n,s,r))}function nx(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function sx(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function ix(e,r){var n,s;function i(){var a=r.apply(this,arguments);return a!==s&&(n=(s=a)&&sx(e,a)),n}return i._value=r,i}function ax(e,r){var n,s;function i(){var a=r.apply(this,arguments);return a!==s&&(n=(s=a)&&nx(e,a)),n}return i._value=r,i}function ox(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var s=vs(e);return this.tween(n,(s.local?ix:ax)(s,r))}function lx(e,r){return function(){Ri(this,e).delay=+r.apply(this,arguments)}}function cx(e,r){return r=+r,function(){Ri(this,e).delay=r}}function ux(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?lx:cx)(r,e)):st(this.node(),r).delay}function dx(e,r){return function(){pt(this,e).duration=+r.apply(this,arguments)}}function fx(e,r){return r=+r,function(){pt(this,e).duration=r}}function hx(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?dx:fx)(r,e)):st(this.node(),r).duration}function px(e,r){if(typeof r!="function")throw new Error;return function(){pt(this,e).ease=r}}function mx(e){var r=this._id;return arguments.length?this.each(px(r,e)):st(this.node(),r).ease}function gx(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;pt(this,e).ease=n}}function xx(e){if(typeof e!="function")throw new Error;return this.each(gx(this._id,e))}function yx(e){typeof e!="function"&&(e=Vl(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],l=a.length,c=s[i]=[],u,d=0;d<l;++d)(u=a[d])&&e.call(u,u.__data__,d,a)&&c.push(u);return new Ot(s,this._parents,this._name,this._id)}function vx(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,s=r.length,i=n.length,a=Math.min(s,i),l=new Array(s),c=0;c<a;++c)for(var u=r[c],d=n[c],h=u.length,f=l[c]=new Array(h),x,b=0;b<h;++b)(x=u[b]||d[b])&&(f[b]=x);for(;c<s;++c)l[c]=r[c];return new Ot(l,this._parents,this._name,this._id)}function bx(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function wx(e,r,n){var s,i,a=bx(r)?Ri:pt;return function(){var l=a(this,e),c=l.on;c!==s&&(i=(s=c).copy()).on(r,n),l.on=i}}function _x(e,r){var n=this._id;return arguments.length<2?st(this.node(),n).on.on(e):this.each(wx(n,e,r))}function jx(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function Nx(){return this.on("end.remove",jx(this._id))}function Sx(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Ci(e));for(var s=this._groups,i=s.length,a=new Array(i),l=0;l<i;++l)for(var c=s[l],u=c.length,d=a[l]=new Array(u),h,f,x=0;x<u;++x)(h=c[x])&&(f=e.call(h,h.__data__,x,c))&&("__data__"in h&&(f.__data__=h.__data__),d[x]=f,ws(d[x],r,n,x,d,st(h,n)));return new Ot(a,this._parents,r,n)}function kx(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Bl(e));for(var s=this._groups,i=s.length,a=[],l=[],c=0;c<i;++c)for(var u=s[c],d=u.length,h,f=0;f<d;++f)if(h=u[f]){for(var x=e.call(h,h.__data__,f,u),b,w=st(h,n),S=0,v=x.length;S<v;++S)(b=x[S])&&ws(b,r,n,S,x,w);a.push(x),l.push(h)}return new Ot(a,l,r,n)}var Cx=gn.prototype.constructor;function Ox(){return new Cx(this._groups,this._parents)}function Px(e,r){var n,s,i;return function(){var a=gr(this,e),l=(this.style.removeProperty(e),gr(this,e));return a===l?null:a===n&&l===s?i:i=r(n=a,s=l)}}function lc(e){return function(){this.style.removeProperty(e)}}function Ex(e,r,n){var s,i=n+"",a;return function(){var l=gr(this,e);return l===i?null:l===s?a:a=r(s=l,n)}}function Rx(e,r,n){var s,i,a;return function(){var l=gr(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),gr(this,e))),l===u?null:l===s&&u===i?a:(i=u,a=r(s=l,c))}}function Dx(e,r){var n,s,i,a="style."+r,l="end."+a,c;return function(){var u=pt(this,e),d=u.on,h=u.value[a]==null?c||(c=lc(r)):void 0;(d!==n||i!==h)&&(s=(n=d).copy()).on(l,i=h),u.on=s}}function Ax(e,r,n){var s=(e+="")=="transform"?Uu:oc;return r==null?this.styleTween(e,Px(e,s)).on("end.style."+e,lc(e)):typeof r=="function"?this.styleTween(e,Rx(e,s,Di(this,"style."+e,r))).each(Dx(this._id,e)):this.styleTween(e,Ex(e,s,r),n).on("end.style."+e,null)}function Tx(e,r,n){return function(s){this.style.setProperty(e,r.call(this,s),n)}}function Mx(e,r,n){var s,i;function a(){var l=r.apply(this,arguments);return l!==i&&(s=(i=l)&&Tx(e,l,n)),s}return a._value=r,a}function zx(e,r,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,Mx(e,r,n??""))}function Lx(e){return function(){this.textContent=e}}function $x(e){return function(){var r=e(this);this.textContent=r??""}}function Fx(e){return this.tween("text",typeof e=="function"?$x(Di(this,"text",e)):Lx(e==null?"":e+""))}function Ix(e){return function(r){this.textContent=e.call(this,r)}}function Hx(e){var r,n;function s(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&Ix(i)),r}return s._value=e,s}function qx(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Hx(e))}function Ux(){for(var e=this._name,r=this._id,n=cc(),s=this._groups,i=s.length,a=0;a<i;++a)for(var l=s[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){var h=st(u,r);ws(u,e,n,d,l,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new Ot(s,this._parents,e,n)}function Wx(){var e,r,n=this,s=n._id,i=n.size();return new Promise(function(a,l){var c={value:l},u={value:function(){--i===0&&a()}};n.each(function(){var d=pt(this,s),h=d.on;h!==e&&(r=(e=h).copy(),r._.cancel.push(c),r._.interrupt.push(c),r._.end.push(u)),d.on=r}),i===0&&a()})}var Bx=0;function Ot(e,r,n,s){this._groups=e,this._parents=r,this._name=n,this._id=s}function cc(){return++Bx}var yt=gn.prototype;Ot.prototype={constructor:Ot,select:Sx,selectAll:kx,selectChild:yt.selectChild,selectChildren:yt.selectChildren,filter:yx,merge:vx,selection:Ox,transition:Ux,call:yt.call,nodes:yt.nodes,node:yt.node,size:yt.size,empty:yt.empty,each:yt.each,on:_x,attr:rx,attrTween:ox,style:Ax,styleTween:zx,text:Fx,textTween:qx,remove:Nx,tween:Xg,delay:ux,duration:hx,ease:mx,easeVarying:xx,end:Wx,[Symbol.iterator]:yt[Symbol.iterator]};function Vx(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gx={time:null,delay:0,duration:250,ease:Vx};function Yx(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function Xx(e){var r,n;e instanceof Ot?(r=e._id,e=e._name):(r=cc(),(n=Gx).time=Pi(),e=e==null?null:e+"");for(var s=this._groups,i=s.length,a=0;a<i;++a)for(var l=s[a],c=l.length,u,d=0;d<c;++d)(u=l[d])&&ws(u,e,r,d,l,n||Yx(u,r));return new Ot(s,this._parents,e,r)}gn.prototype.interrupt=Vg;gn.prototype.transition=Xx;const Sn=e=>()=>e;function Kx(e,{sourceEvent:r,target:n,transform:s,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:i}})}function St(e,r,n){this.k=e,this.x=r,this.y=n}St.prototype={constructor:St,scale:function(e){return e===1?this:new St(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new St(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ai=new St(1,0,0);lt.prototype=St.prototype;function lt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ai;return e.__zoom}function zs(e){e.stopImmediatePropagation()}function Rr(e){e.preventDefault(),e.stopImmediatePropagation()}function Jx(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Zx(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Ma(){return this.__zoom||Ai}function Qx(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function ey(){return navigator.maxTouchPoints||"ontouchstart"in this}function ty(e,r,n){var s=e.invertX(r[0][0])-n[0][0],i=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],l=e.invertY(r[1][1])-n[1][1];return e.translate(i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i),l>a?(a+l)/2:Math.min(0,a)||Math.max(0,l))}function ry(){var e=Jx,r=Zx,n=ty,s=Qx,i=ey,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Wu,d=xn("start","zoom","end"),h,f,x,b=500,w=150,S=0,v=10;function m(P){P.property("__zoom",Ma).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",O).filter(i).on("touchstart.zoom",E).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",$).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(P,T,D,I){var H=P.selection?P.selection():P;H.property("__zoom",Ma),P!==H?y(P,T,D,I):H.interrupt().each(function(){N(this,arguments).event(I).start().zoom(null,typeof T=="function"?T.apply(this,arguments):T).end()})},m.scaleBy=function(P,T,D,I){m.scaleTo(P,function(){var H=this.__zoom.k,V=typeof T=="function"?T.apply(this,arguments):T;return H*V},D,I)},m.scaleTo=function(P,T,D,I){m.transform(P,function(){var H=r.apply(this,arguments),V=this.__zoom,Y=D==null?g(H):typeof D=="function"?D.apply(this,arguments):D,J=V.invert(Y),K=typeof T=="function"?T.apply(this,arguments):T;return n(_(p(V,K),Y,J),H,l)},D,I)},m.translateBy=function(P,T,D,I){m.transform(P,function(){return n(this.__zoom.translate(typeof T=="function"?T.apply(this,arguments):T,typeof D=="function"?D.apply(this,arguments):D),r.apply(this,arguments),l)},null,I)},m.translateTo=function(P,T,D,I,H){m.transform(P,function(){var V=r.apply(this,arguments),Y=this.__zoom,J=I==null?g(V):typeof I=="function"?I.apply(this,arguments):I;return n(Ai.translate(J[0],J[1]).scale(Y.k).translate(typeof T=="function"?-T.apply(this,arguments):-T,typeof D=="function"?-D.apply(this,arguments):-D),V,l)},I,H)};function p(P,T){return T=Math.max(a[0],Math.min(a[1],T)),T===P.k?P:new St(T,P.x,P.y)}function _(P,T,D){var I=T[0]-D[0]*P.k,H=T[1]-D[1]*P.k;return I===P.x&&H===P.y?P:new St(P.k,I,H)}function g(P){return[(+P[0][0]+ +P[1][0])/2,(+P[0][1]+ +P[1][1])/2]}function y(P,T,D,I){P.on("start.zoom",function(){N(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(I).end()}).tween("zoom",function(){var H=this,V=arguments,Y=N(H,V).event(I),J=r.apply(H,V),K=D==null?g(J):typeof D=="function"?D.apply(H,V):D,ie=Math.max(J[1][0]-J[0][0],J[1][1]-J[0][1]),se=H.__zoom,ge=typeof T=="function"?T.apply(H,V):T,le=u(se.invert(K).concat(ie/se.k),ge.invert(K).concat(ie/ge.k));return function(me){if(me===1)me=ge;else{var X=le(me),ee=ie/X[2];me=new St(ee,K[0]-X[0]*ee,K[1]-X[1]*ee)}Y.zoom(null,me)}})}function N(P,T,D){return!D&&P.__zooming||new j(P,T)}function j(P,T){this.that=P,this.args=T,this.active=0,this.sourceEvent=null,this.extent=r.apply(P,T),this.taps=0}j.prototype={event:function(P){return P&&(this.sourceEvent=P),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(P,T){return this.mouse&&P!=="mouse"&&(this.mouse[1]=T.invert(this.mouse[0])),this.touch0&&P!=="touch"&&(this.touch0[1]=T.invert(this.touch0[0])),this.touch1&&P!=="touch"&&(this.touch1[1]=T.invert(this.touch1[0])),this.that.__zoom=T,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(P){var T=Ke(this.that).datum();d.call(P,this.that,new Kx(P,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:d}),T)}};function k(P,...T){if(!e.apply(this,arguments))return;var D=N(this,T).event(P),I=this.__zoom,H=Math.max(a[0],Math.min(a[1],I.k*Math.pow(2,s.apply(this,arguments)))),V=ct(P);if(D.wheel)(D.mouse[0][0]!==V[0]||D.mouse[0][1]!==V[1])&&(D.mouse[1]=I.invert(D.mouse[0]=V)),clearTimeout(D.wheel);else{if(I.k===H)return;D.mouse=[V,I.invert(V)],Un(this),D.start()}Rr(P),D.wheel=setTimeout(Y,w),D.zoom("mouse",n(_(p(I,H),D.mouse[0],D.mouse[1]),D.extent,l));function Y(){D.wheel=null,D.end()}}function C(P,...T){if(x||!e.apply(this,arguments))return;var D=P.currentTarget,I=N(this,T,!0).event(P),H=Ke(P.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",ie,!0),V=ct(P,D),Y=P.clientX,J=P.clientY;rc(P.view),zs(P),I.mouse=[V,this.__zoom.invert(V)],Un(this),I.start();function K(se){if(Rr(se),!I.moved){var ge=se.clientX-Y,le=se.clientY-J;I.moved=ge*ge+le*le>S}I.event(se).zoom("mouse",n(_(I.that.__zoom,I.mouse[0]=ct(se,D),I.mouse[1]),I.extent,l))}function ie(se){H.on("mousemove.zoom mouseup.zoom",null),nc(se.view,I.moved),Rr(se),I.event(se).end()}}function O(P,...T){if(e.apply(this,arguments)){var D=this.__zoom,I=ct(P.changedTouches?P.changedTouches[0]:P,this),H=D.invert(I),V=D.k*(P.shiftKey?.5:2),Y=n(_(p(D,V),I,H),r.apply(this,T),l);Rr(P),c>0?Ke(this).transition().duration(c).call(y,Y,I,P):Ke(this).call(m.transform,Y,I,P)}}function E(P,...T){if(e.apply(this,arguments)){var D=P.touches,I=D.length,H=N(this,T,P.changedTouches.length===I).event(P),V,Y,J,K;for(zs(P),Y=0;Y<I;++Y)J=D[Y],K=ct(J,this),K=[K,this.__zoom.invert(K),J.identifier],H.touch0?!H.touch1&&H.touch0[2]!==K[2]&&(H.touch1=K,H.taps=0):(H.touch0=K,V=!0,H.taps=1+!!h);h&&(h=clearTimeout(h)),V&&(H.taps<2&&(f=K[0],h=setTimeout(function(){h=null},b)),Un(this),H.start())}}function R(P,...T){if(this.__zooming){var D=N(this,T).event(P),I=P.changedTouches,H=I.length,V,Y,J,K;for(Rr(P),V=0;V<H;++V)Y=I[V],J=ct(Y,this),D.touch0&&D.touch0[2]===Y.identifier?D.touch0[0]=J:D.touch1&&D.touch1[2]===Y.identifier&&(D.touch1[0]=J);if(Y=D.that.__zoom,D.touch1){var ie=D.touch0[0],se=D.touch0[1],ge=D.touch1[0],le=D.touch1[1],me=(me=ge[0]-ie[0])*me+(me=ge[1]-ie[1])*me,X=(X=le[0]-se[0])*X+(X=le[1]-se[1])*X;Y=p(Y,Math.sqrt(me/X)),J=[(ie[0]+ge[0])/2,(ie[1]+ge[1])/2],K=[(se[0]+le[0])/2,(se[1]+le[1])/2]}else if(D.touch0)J=D.touch0[0],K=D.touch0[1];else return;D.zoom("touch",n(_(Y,J,K),D.extent,l))}}function $(P,...T){if(this.__zooming){var D=N(this,T).event(P),I=P.changedTouches,H=I.length,V,Y;for(zs(P),x&&clearTimeout(x),x=setTimeout(function(){x=null},b),V=0;V<H;++V)Y=I[V],D.touch0&&D.touch0[2]===Y.identifier?delete D.touch0:D.touch1&&D.touch1[2]===Y.identifier&&delete D.touch1;if(D.touch1&&!D.touch0&&(D.touch0=D.touch1,delete D.touch1),D.touch0)D.touch0[1]=this.__zoom.invert(D.touch0[0]);else if(D.end(),D.taps===2&&(Y=ct(Y,this),Math.hypot(f[0]-Y[0],f[1]-Y[1])<v)){var J=Ke(this).on("dblclick.zoom");J&&J.apply(this,arguments)}}}return m.wheelDelta=function(P){return arguments.length?(s=typeof P=="function"?P:Sn(+P),m):s},m.filter=function(P){return arguments.length?(e=typeof P=="function"?P:Sn(!!P),m):e},m.touchable=function(P){return arguments.length?(i=typeof P=="function"?P:Sn(!!P),m):i},m.extent=function(P){return arguments.length?(r=typeof P=="function"?P:Sn([[+P[0][0],+P[0][1]],[+P[1][0],+P[1][1]]]),m):r},m.scaleExtent=function(P){return arguments.length?(a[0]=+P[0],a[1]=+P[1],m):[a[0],a[1]]},m.translateExtent=function(P){return arguments.length?(l[0][0]=+P[0][0],l[1][0]=+P[1][0],l[0][1]=+P[0][1],l[1][1]=+P[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(P){return arguments.length?(n=P,m):n},m.duration=function(P){return arguments.length?(c=+P,m):c},m.interpolate=function(P){return arguments.length?(u=P,m):u},m.on=function(){var P=d.on.apply(d,arguments);return P===d?m:P},m.clickDistance=function(P){return arguments.length?(S=(P=+P)*P,m):Math.sqrt(S)},m.tapDistance=function(P){return arguments.length?(v=+P,m):v},m}var ny=typeof global=="object"&&global&&global.Object===Object&&global,sy=typeof self=="object"&&self&&self.Object===Object&&self,uc=ny||sy||Function("return this")(),es=uc.Symbol,dc=Object.prototype,iy=dc.hasOwnProperty,ay=dc.toString,Dr=es?es.toStringTag:void 0;function oy(e){var r=iy.call(e,Dr),n=e[Dr];try{e[Dr]=void 0;var s=!0}catch{}var i=ay.call(e);return s&&(r?e[Dr]=n:delete e[Dr]),i}var ly=Object.prototype,cy=ly.toString;function uy(e){return cy.call(e)}var dy="[object Null]",fy="[object Undefined]",za=es?es.toStringTag:void 0;function hy(e){return e==null?e===void 0?fy:dy:za&&za in Object(e)?oy(e):uy(e)}function py(e){return e!=null&&typeof e=="object"}var my="[object Symbol]";function gy(e){return typeof e=="symbol"||py(e)&&hy(e)==my}var xy=/\s/;function yy(e){for(var r=e.length;r--&&xy.test(e.charAt(r)););return r}var vy=/^\s+/;function by(e){return e&&e.slice(0,yy(e)+1).replace(vy,"")}function ts(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var La=NaN,wy=/^[-+]0x[0-9a-f]+$/i,_y=/^0b[01]+$/i,jy=/^0o[0-7]+$/i,Ny=parseInt;function $a(e){if(typeof e=="number")return e;if(gy(e))return La;if(ts(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=ts(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=by(e);var n=_y.test(e);return n||jy.test(e)?Ny(e.slice(2),n?2:8):wy.test(e)?La:+e}var Ls=function(){return uc.Date.now()},Sy="Expected a function",ky=Math.max,Cy=Math.min;function fc(e,r,n){var s,i,a,l,c,u,d=0,h=!1,f=!1,x=!0;if(typeof e!="function")throw new TypeError(Sy);r=$a(r)||0,ts(n)&&(h=!!n.leading,f="maxWait"in n,a=f?ky($a(n.maxWait)||0,r):a,x="trailing"in n?!!n.trailing:x);function b(N){var j=s,k=i;return s=i=void 0,d=N,l=e.apply(k,j),l}function w(N){return d=N,c=setTimeout(m,r),h?b(N):l}function S(N){var j=N-u,k=N-d,C=r-j;return f?Cy(C,a-k):C}function v(N){var j=N-u,k=N-d;return u===void 0||j>=r||j<0||f&&k>=a}function m(){var N=Ls();if(v(N))return p(N);c=setTimeout(m,S(N))}function p(N){return c=void 0,x&&s?b(N):(s=i=void 0,l)}function _(){c!==void 0&&clearTimeout(c),d=0,s=u=i=c=void 0}function g(){return c===void 0?l:p(Ls())}function y(){var N=Ls(),j=v(N);if(s=arguments,i=this,u=N,j){if(c===void 0)return w(u);if(f)return clearTimeout(c),c=setTimeout(m,r),b(u)}return c===void 0&&(c=setTimeout(m,r)),l}return y.cancel=_,y.flush=g,y}var Oy="Expected a function";function Py(e,r,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(Oy);return ts(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),fc(e,r,{leading:s,maxWait:r,trailing:i})}var Qt=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var r=1.70158;return e===1?1:e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return e===0?0:--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}}),Bounce:Object.freeze({In:function(e){return 1-Qt.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?Qt.Bounce.In(e*2)*.5:Qt.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(r){return Math.pow(r,e)},Out:function(r){return 1-Math.pow(1-r,e)},InOut:function(r){return r<.5?Math.pow(r*2,e)/2:(1-Math.pow(2-r*2,e))/2+.5}}}}),Xr=function(){return performance.now()},hc=(function(){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,r)}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];for(var i=0,a=n;i<a.length;i++){var l=a[i];(r=l._group)===null||r===void 0||r.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var s=0,i=r;s<i.length;s++){var a=i[s];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(r){return!r.isPlaying()})},e.prototype.update=function(r,n){r===void 0&&(r=Xr()),n===void 0&&(n=!0);var s=Object.keys(this._tweens);if(s.length!==0)for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<s.length;i++){var a=this._tweens[s[i]],l=!n;a&&a.update(r,l)===!1&&!n&&this.remove(a)}s=Object.keys(this._tweensAddedDuringUpdate)}},e})(),ai={Linear:function(e,r){var n=e.length-1,s=n*r,i=Math.floor(s),a=ai.Utils.Linear;return r<0?a(e[0],e[1],s):r>1?a(e[n],e[n-1],n-s):a(e[i],e[i+1>n?n:i+1],s-i)},Utils:{Linear:function(e,r,n){return(r-e)*n+e}}},pc=(function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e})(),oi=new hc,Fa=(function(){function e(r,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Qt.Linear.None,this._interpolationFunction=ai.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=pc.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=r,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=oi,oi.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(r,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=r,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(r){return r===void 0&&(r=1e3),this._duration=r<0?0:r,this},e.prototype.dynamic=function(r){return r===void 0&&(r=!1),this._isDynamic=r,this},e.prototype.start=function(r,n){if(r===void 0&&(r=Xr()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var a in this._valuesEnd)i[a]=this._valuesEnd[a];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(r){return this.start(r,!0)},e.prototype._setupProperties=function(r,n,s,i,a){for(var l in s){var c=r[l],u=Array.isArray(c),d=u?"array":typeof c,h=!u&&Array.isArray(s[l]);if(!(d==="undefined"||d==="function")){if(h){var f=s[l];if(f.length===0)continue;for(var x=[c],b=0,w=f.length;b<w;b+=1){var S=this._handleRelativeValue(c,f[b]);if(isNaN(S)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}x.push(S)}h&&(s[l]=x)}if((d==="object"||u)&&c&&!h){n[l]=u?[]:{};var v=c;for(var m in v)n[l][m]=v[m];i[l]=u?[]:{};var f=s[l];if(!this._isDynamic){var p={};for(var m in f)p[m]=f[m];s[l]=f=p}this._setupProperties(v,n[l],f,i[l],a)}else(typeof n[l]>"u"||a)&&(n[l]=c),u||(n[l]*=1),h?i[l]=s[l].slice().reverse():i[l]=n[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(r){return r===void 0&&(r=Xr()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this)},e.prototype.resume=function(r){return r===void 0&&(r=Xr()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return r?(r.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var r;return(r=this._group)===null||r===void 0||r.remove(this),this},e.prototype.delay=function(r){return r===void 0&&(r=0),this._delayTime=r,this},e.prototype.repeat=function(r){return r===void 0&&(r=0),this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return r===void 0&&(r=!1),this._yoyo=r,this},e.prototype.easing=function(r){return r===void 0&&(r=Qt.Linear.None),this._easingFunction=r,this},e.prototype.interpolation=function(r){return r===void 0&&(r=ai.Linear),this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onEveryStart=function(r){return this._onEveryStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){var s=this,i;if(r===void 0&&(r=Xr()),n===void 0&&(n=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(r,!0);else return!1;if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=r-this._startTime,c=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),u=this._duration+this._repeat*c,d=function(){if(s._duration===0||l>u)return 1;var S=Math.trunc(l/c),v=l-S*c,m=Math.min(v/s._duration,1);return m===0&&l===s._duration?1:m},h=d(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||l>=this._duration)if(this._repeat>0){var x=Math.min(Math.trunc((l-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=x);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*x,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var b=0,w=this._chainedTweens.length;b<w;b++)this._chainedTweens[b].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,s,i){for(var a in s)if(n[a]!==void 0){var l=n[a]||0,c=s[a],u=Array.isArray(r[a]),d=Array.isArray(c),h=!u&&d;h?r[a]=this._interpolationFunction(c,i):typeof c=="object"&&c?this._updateProperties(r[a],l,c,i):(c=this._handleRelativeValue(l,c),typeof c=="number"&&(r[a]=l+(c-l)*i))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],s=this._valuesEnd[r];typeof s=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(s):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e.autoStartOnUpdate=!1,e})();pc.nextId;var ht=oi;ht.getAll.bind(ht);ht.removeAll.bind(ht);ht.add.bind(ht);ht.remove.bind(ht);ht.update.bind(ht);function Ia(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Ey(e){if(Array.isArray(e))return e}function Ry(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dy(e,r,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function Ay(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function Ty(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function My(e,r){return Ey(e)||Ay(e,r)||zy(e,r)||Ty()}function zy(e,r){if(e){if(typeof e=="string")return Ia(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ia(e,r):void 0}}var Ly=Dy(function e(r,n){var s=n.default,i=s===void 0?null:s,a=n.triggerUpdate,l=a===void 0?!0:a,c=n.onChange,u=c===void 0?function(d,h){}:c;Ry(this,e),this.name=r,this.defaultVal=i,this.triggerUpdate=l,this.onChange=u});function Ti(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,s=e.props,i=s===void 0?{}:s,a=e.methods,l=a===void 0?{}:a,c=e.aliases,u=c===void 0?{}:c,d=e.init,h=d===void 0?function(){}:d,f=e.update,x=f===void 0?function(){}:f,b=Object.keys(i).map(function(w){return new Ly(w,i[w])});return function w(){for(var S=arguments.length,v=new Array(S),m=0;m<S;m++)v[m]=arguments[m];var p=!!(this instanceof w&&this.constructor),_=p?v.shift():void 0,g=v[0],y=g===void 0?{}:g,N=Object.assign({},n instanceof Function?n(y):n,{initialised:!1}),j={};function k(E){return C(E,y),O(),k}var C=function(R,$){h.call(k,R,N,$),N.initialised=!0},O=fc(function(){N.initialised&&(x.call(k,N,j),j={})},1);return b.forEach(function(E){k[E.name]=R(E);function R($){var P=$.name,T=$.triggerUpdate,D=T===void 0?!1:T,I=$.onChange,H=I===void 0?function(J,K){}:I,V=$.defaultVal,Y=V===void 0?null:V;return function(J){var K=N[P];if(!arguments.length)return K;var ie=J===void 0?Y:J;return N[P]=ie,H.call(k,ie,N,K),!j.hasOwnProperty(P)&&(j[P]=K),D&&O(),k}}}),Object.keys(l).forEach(function(E){k[E]=function(){for(var R,$=arguments.length,P=new Array($),T=0;T<$;T++)P[T]=arguments[T];return(R=l[E]).call.apply(R,[k,N].concat(P))}}),Object.entries(u).forEach(function(E){var R=My(E,2),$=R[0],P=R[1];return k[$]=k[P]}),k.resetProps=function(){return b.forEach(function(E){k[E.name](E.defaultVal)}),k},k.resetProps(),N._rerender=O,p&&_&&k(_),k}}var xe=(function(e){return typeof e=="function"?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}});function rs(e){"@babel/helpers - typeof";return rs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rs(e)}var $y=/^\s+/,Fy=/\s+$/;function te(e,r){if(e=e||"",r=r||{},e instanceof te)return e;if(!(this instanceof te))return new te(e,r);var n=Iy(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}te.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),n,s,i,a,l,c;return n=r.r/255,s=r.g/255,i=r.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),s<=.03928?l=s/12.92:l=Math.pow((s+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*l+.0722*c},setAlpha:function(r){return this._a=mc(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=qa(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=qa(this._r,this._g,this._b),n=Math.round(r.h*360),s=Math.round(r.s*100),i=Math.round(r.v*100);return this._a==1?"hsv("+n+", "+s+"%, "+i+"%)":"hsva("+n+", "+s+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var r=Ha(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=Ha(this._r,this._g,this._b),n=Math.round(r.h*360),s=Math.round(r.s*100),i=Math.round(r.l*100);return this._a==1?"hsl("+n+", "+s+"%, "+i+"%)":"hsla("+n+", "+s+"%, "+i+"%, "+this._roundA+")"},toHex:function(r){return Ua(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return Wy(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ne(this._r,255)*100)+"%",g:Math.round(Ne(this._g,255)*100)+"%",b:Math.round(Ne(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ne(this._r,255)*100)+"%, "+Math.round(Ne(this._g,255)*100)+"%, "+Math.round(Ne(this._b,255)*100)+"%)":"rgba("+Math.round(Ne(this._r,255)*100)+"%, "+Math.round(Ne(this._g,255)*100)+"%, "+Math.round(Ne(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:r0[Ua(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var n="#"+Wa(this._r,this._g,this._b,this._a),s=n,i=this._gradientType?"GradientType = 1, ":"";if(r){var a=te(r);s="#"+Wa(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+s+")"},toString:function(r){var n=!!r;r=r||this._format;var s=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return a?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(s=this.toRgbString()),r==="prgb"&&(s=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(s=this.toHexString()),r==="hex3"&&(s=this.toHexString(!0)),r==="hex4"&&(s=this.toHex8String(!0)),r==="hex8"&&(s=this.toHex8String()),r==="name"&&(s=this.toName()),r==="hsl"&&(s=this.toHslString()),r==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},clone:function(){return te(this.toString())},_applyModification:function(r,n){var s=r.apply(null,[this].concat([].slice.call(n)));return this._r=s._r,this._g=s._g,this._b=s._b,this.setAlpha(s._a),this},lighten:function(){return this._applyModification(Yy,arguments)},brighten:function(){return this._applyModification(Xy,arguments)},darken:function(){return this._applyModification(Ky,arguments)},desaturate:function(){return this._applyModification(By,arguments)},saturate:function(){return this._applyModification(Vy,arguments)},greyscale:function(){return this._applyModification(Gy,arguments)},spin:function(){return this._applyModification(Jy,arguments)},_applyCombination:function(r,n){return r.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(e0,arguments)},complement:function(){return this._applyCombination(Zy,arguments)},monochromatic:function(){return this._applyCombination(t0,arguments)},splitcomplement:function(){return this._applyCombination(Qy,arguments)},triad:function(){return this._applyCombination(Ba,[3])},tetrad:function(){return this._applyCombination(Ba,[4])}};te.fromRatio=function(e,r){if(rs(e)=="object"){var n={};for(var s in e)e.hasOwnProperty(s)&&(s==="a"?n[s]=e[s]:n[s]=Kr(e[s]));e=n}return te(e,r)};function Iy(e){var r={r:0,g:0,b:0},n=1,s=null,i=null,a=null,l=!1,c=!1;return typeof e=="string"&&(e=a0(e)),rs(e)=="object"&&(vt(e.r)&&vt(e.g)&&vt(e.b)?(r=Hy(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):vt(e.h)&&vt(e.s)&&vt(e.v)?(s=Kr(e.s),i=Kr(e.v),r=Uy(e.h,s,i),l=!0,c="hsv"):vt(e.h)&&vt(e.s)&&vt(e.l)&&(s=Kr(e.s),a=Kr(e.l),r=qy(e.h,s,a),l=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=mc(n),{ok:l,format:e.format||c,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function Hy(e,r,n){return{r:Ne(e,255)*255,g:Ne(r,255)*255,b:Ne(n,255)*255}}function Ha(e,r,n){e=Ne(e,255),r=Ne(r,255),n=Ne(n,255);var s=Math.max(e,r,n),i=Math.min(e,r,n),a,l,c=(s+i)/2;if(s==i)a=l=0;else{var u=s-i;switch(l=c>.5?u/(2-s-i):u/(s+i),s){case e:a=(r-n)/u+(r<n?6:0);break;case r:a=(n-e)/u+2;break;case n:a=(e-r)/u+4;break}a/=6}return{h:a,s:l,l:c}}function qy(e,r,n){var s,i,a;e=Ne(e,360),r=Ne(r,100),n=Ne(n,100);function l(d,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(h-d)*6*f:f<1/2?h:f<2/3?d+(h-d)*(2/3-f)*6:d}if(r===0)s=i=a=n;else{var c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;s=l(u,c,e+1/3),i=l(u,c,e),a=l(u,c,e-1/3)}return{r:s*255,g:i*255,b:a*255}}function qa(e,r,n){e=Ne(e,255),r=Ne(r,255),n=Ne(n,255);var s=Math.max(e,r,n),i=Math.min(e,r,n),a,l,c=s,u=s-i;if(l=s===0?0:u/s,s==i)a=0;else{switch(s){case e:a=(r-n)/u+(r<n?6:0);break;case r:a=(n-e)/u+2;break;case n:a=(e-r)/u+4;break}a/=6}return{h:a,s:l,v:c}}function Uy(e,r,n){e=Ne(e,360)*6,r=Ne(r,100),n=Ne(n,100);var s=Math.floor(e),i=e-s,a=n*(1-r),l=n*(1-i*r),c=n*(1-(1-i)*r),u=s%6,d=[n,l,a,a,c,n][u],h=[c,n,n,l,a,a][u],f=[a,a,c,n,n,l][u];return{r:d*255,g:h*255,b:f*255}}function Ua(e,r,n,s){var i=[Qe(Math.round(e).toString(16)),Qe(Math.round(r).toString(16)),Qe(Math.round(n).toString(16))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Wy(e,r,n,s,i){var a=[Qe(Math.round(e).toString(16)),Qe(Math.round(r).toString(16)),Qe(Math.round(n).toString(16)),Qe(gc(s))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Wa(e,r,n,s){var i=[Qe(gc(s)),Qe(Math.round(e).toString(16)),Qe(Math.round(r).toString(16)),Qe(Math.round(n).toString(16))];return i.join("")}te.equals=function(e,r){return!e||!r?!1:te(e).toRgbString()==te(r).toRgbString()};te.random=function(){return te.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function By(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.s-=r/100,n.s=_s(n.s),te(n)}function Vy(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.s+=r/100,n.s=_s(n.s),te(n)}function Gy(e){return te(e).desaturate(100)}function Yy(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.l+=r/100,n.l=_s(n.l),te(n)}function Xy(e,r){r=r===0?0:r||10;var n=te(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),te(n)}function Ky(e,r){r=r===0?0:r||10;var n=te(e).toHsl();return n.l-=r/100,n.l=_s(n.l),te(n)}function Jy(e,r){var n=te(e).toHsl(),s=(n.h+r)%360;return n.h=s<0?360+s:s,te(n)}function Zy(e){var r=te(e).toHsl();return r.h=(r.h+180)%360,te(r)}function Ba(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var n=te(e).toHsl(),s=[te(e)],i=360/r,a=1;a<r;a++)s.push(te({h:(n.h+a*i)%360,s:n.s,l:n.l}));return s}function Qy(e){var r=te(e).toHsl(),n=r.h;return[te(e),te({h:(n+72)%360,s:r.s,l:r.l}),te({h:(n+216)%360,s:r.s,l:r.l})]}function e0(e,r,n){r=r||6,n=n||30;var s=te(e).toHsl(),i=360/n,a=[te(e)];for(s.h=(s.h-(i*r>>1)+720)%360;--r;)s.h=(s.h+i)%360,a.push(te(s));return a}function t0(e,r){r=r||6;for(var n=te(e).toHsv(),s=n.h,i=n.s,a=n.v,l=[],c=1/r;r--;)l.push(te({h:s,s:i,v:a})),a=(a+c)%1;return l}te.mix=function(e,r,n){n=n===0?0:n||50;var s=te(e).toRgb(),i=te(r).toRgb(),a=n/100,l={r:(i.r-s.r)*a+s.r,g:(i.g-s.g)*a+s.g,b:(i.b-s.b)*a+s.b,a:(i.a-s.a)*a+s.a};return te(l)};te.readability=function(e,r){var n=te(e),s=te(r);return(Math.max(n.getLuminance(),s.getLuminance())+.05)/(Math.min(n.getLuminance(),s.getLuminance())+.05)};te.isReadable=function(e,r,n){var s=te.readability(e,r),i,a;switch(a=!1,i=o0(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7;break}return a};te.mostReadable=function(e,r,n){var s=null,i=0,a,l,c,u;n=n||{},l=n.includeFallbackColors,c=n.level,u=n.size;for(var d=0;d<r.length;d++)a=te.readability(e,r[d]),a>i&&(i=a,s=te(r[d]));return te.isReadable(e,s,{level:c,size:u})||!l?s:(n.includeFallbackColors=!1,te.mostReadable(e,["#fff","#000"],n))};var li=te.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},r0=te.hexNames=n0(li);function n0(e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);return r}function mc(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ne(e,r){s0(e)&&(e="100%");var n=i0(e);return e=Math.min(r,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function _s(e){return Math.min(1,Math.max(0,e))}function Be(e){return parseInt(e,16)}function s0(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function i0(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Qe(e){return e.length==1?"0"+e:""+e}function Kr(e){return e<=1&&(e=e*100+"%"),e}function gc(e){return Math.round(parseFloat(e)*255).toString(16)}function Va(e){return Be(e)/255}var Ze=(function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",n="(?:"+r+")|(?:"+e+")",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function vt(e){return!!Ze.CSS_UNIT.exec(e)}function a0(e){e=e.replace($y,"").replace(Fy,"").toLowerCase();var r=!1;if(li[e])e=li[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Ze.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=Ze.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Ze.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=Ze.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Ze.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=Ze.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Ze.hex8.exec(e))?{r:Be(n[1]),g:Be(n[2]),b:Be(n[3]),a:Va(n[4]),format:r?"name":"hex8"}:(n=Ze.hex6.exec(e))?{r:Be(n[1]),g:Be(n[2]),b:Be(n[3]),format:r?"name":"hex"}:(n=Ze.hex4.exec(e))?{r:Be(n[1]+""+n[1]),g:Be(n[2]+""+n[2]),b:Be(n[3]+""+n[3]),a:Va(n[4]+""+n[4]),format:r?"name":"hex8"}:(n=Ze.hex3.exec(e))?{r:Be(n[1]+""+n[1]),g:Be(n[2]+""+n[2]),b:Be(n[3]+""+n[3]),format:r?"name":"hex"}:!1}function o0(e){var r,n;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:r,size:n}}function ci(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function l0(e){if(Array.isArray(e))return ci(e)}function xc(e,r,n){if(typeof e=="function"?e===r:e.has(r))return arguments.length<3?r:n;throw new TypeError("Private element is not present on this object")}function c0(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function u0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ye(e,r){return e.get(xc(e,r))}function Ga(e,r,n){c0(e,r),r.set(e,n)}function Ya(e,r,n){return e.set(xc(e,r),n),n}function d0(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,x0(s.key),s)}}function f0(e,r,n){return r&&d0(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function h0(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p0(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(e){return l0(e)||h0(e)||y0(e)||p0()}function g0(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function x0(e){var r=g0(e,"string");return typeof r=="symbol"?r:r+""}function y0(e,r){if(e){if(typeof e=="string")return ci(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ci(e,r):void 0}}var v0=123,b0=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},yc=function(r,n,s){return(r<<16)+(n<<8)+s},w0=function(r){var n=te(r).toRgb(),s=n.r,i=n.g,a=n.b;return yc(s,i,a)},Xa=function(r,n){return r*v0%Math.pow(2,n)},Ut=new WeakMap,bt=new WeakMap,_0=(function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;u0(this,e),Ga(this,Ut,void 0),Ga(this,bt,void 0),Ya(bt,this,r),this.reset()}return f0(e,[{key:"reset",value:function(){Ya(Ut,this,["__reserved for background__"])}},{key:"register",value:function(n){if(Ye(Ut,this).length>=Math.pow(2,24-Ye(bt,this)))return null;var s=Ye(Ut,this).length,i=Xa(s,Ye(bt,this)),a=b0(s+(i<<24-Ye(bt,this)));return Ye(Ut,this).push(n),a}},{key:"lookup",value:function(n){if(!n)return null;var s=typeof n=="string"?w0(n):yc.apply(void 0,m0(n));if(!s)return null;var i=s&Math.pow(2,24-Ye(bt,this))-1,a=s>>24-Ye(bt,this)&Math.pow(2,Ye(bt,this))-1;return Xa(i,Ye(bt,this))!==a||i>=Ye(Ut,this).length?null:Ye(Ut,this)[i]}}])})(),yn,Se,vc,bc,Vt,Ka,wc,_c,jc,Mi,ui,di,cn={},Nc=[],j0=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,js=Array.isArray;function ut(e,r){for(var n in r)e[n]=r[n];return e}function zi(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function N0(e,r,n){var s,i,a,l={};for(a in r)a=="key"?s=r[a]:a=="ref"?i=r[a]:l[a]=r[a];if(arguments.length>2&&(l.children=arguments.length>3?yn.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)l[a]===void 0&&(l[a]=e.defaultProps[a]);return en(e,l,s,i,null)}function en(e,r,n,s,i){var a={type:e,props:r,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++vc,__i:-1,__u:0};return i==null&&Se.vnode!=null&&Se.vnode(a),a}function Ns(e){return e.children}function Wn(e,r){this.props=e,this.context=r}function yr(e,r){if(r==null)return e.__?yr(e.__,e.__i+1):null;for(var n;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?yr(e):null}function Sc(e){var r,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Sc(e)}}function Ja(e){(!e.__d&&(e.__d=!0)&&Vt.push(e)&&!ns.__r++||Ka!=Se.debounceRendering)&&((Ka=Se.debounceRendering)||wc)(ns)}function ns(){for(var e,r,n,s,i,a,l,c=1;Vt.length;)Vt.length>c&&Vt.sort(_c),e=Vt.shift(),c=Vt.length,e.__d&&(n=void 0,s=void 0,i=(s=(r=e).__v).__e,a=[],l=[],r.__P&&((n=ut({},s)).__v=s.__v+1,Se.vnode&&Se.vnode(n),Li(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[i]:null,a,i??yr(s),!!(32&s.__u),l),n.__v=s.__v,n.__.__k[n.__i]=n,Oc(a,n,l),s.__e=s.__=null,n.__e!=i&&Sc(n)));ns.__r=0}function kc(e,r,n,s,i,a,l,c,u,d,h){var f,x,b,w,S,v,m,p=s&&s.__k||Nc,_=r.length;for(u=S0(n,r,p,u,_),f=0;f<_;f++)(b=n.__k[f])!=null&&(x=b.__i==-1?cn:p[b.__i]||cn,b.__i=f,v=Li(e,b,x,i,a,l,c,u,d,h),w=b.__e,b.ref&&x.ref!=b.ref&&(x.ref&&$i(x.ref,null,b),h.push(b.ref,b.__c||w,b)),S==null&&w!=null&&(S=w),(m=!!(4&b.__u))||x.__k===b.__k?u=Cc(b,u,e,m):typeof b.type=="function"&&v!==void 0?u=v:w&&(u=w.nextSibling),b.__u&=-7);return n.__e=S,u}function S0(e,r,n,s,i){var a,l,c,u,d,h=n.length,f=h,x=0;for(e.__k=new Array(i),a=0;a<i;a++)(l=r[a])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=e.__k[a]=en(null,l,null,null,null):js(l)?l=e.__k[a]=en(Ns,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=e.__k[a]=en(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[a]=l,u=a+x,l.__=e,l.__b=e.__b+1,(d=l.__i=k0(l,n,u,f))!=-1&&(f--,(c=n[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(i>h?x--:i<h&&x++),typeof l.type!="function"&&(l.__u|=4)):d!=u&&(d==u-1?x--:d==u+1?x++:(d>u?x--:x++,l.__u|=4))):e.__k[a]=null;if(f)for(a=0;a<h;a++)(c=n[a])!=null&&(2&c.__u)==0&&(c.__e==s&&(s=yr(c)),Ec(c,c));return s}function Cc(e,r,n,s){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,r=Cc(i[a],r,n,s));return r}e.__e!=r&&(s&&(r&&e.type&&!r.parentNode&&(r=yr(e)),n.insertBefore(e.__e,r||null)),r=e.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function k0(e,r,n,s){var i,a,l,c=e.key,u=e.type,d=r[n],h=d!=null&&(2&d.__u)==0;if(d===null&&c==null||h&&c==d.key&&u==d.type)return n;if(s>(h?1:0)){for(i=n-1,a=n+1;i>=0||a<r.length;)if((d=r[l=i>=0?i--:a++])!=null&&(2&d.__u)==0&&c==d.key&&u==d.type)return l}return-1}function Za(e,r,n){r[0]=="-"?e.setProperty(r,n??""):e[r]=n==null?"":typeof n!="number"||j0.test(r)?n:n+"px"}function kn(e,r,n,s,i){var a,l;e:if(r=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(r in s)n&&r in n||Za(e.style,r,"");if(n)for(r in n)s&&n[r]==s[r]||Za(e.style,r,n[r])}else if(r[0]=="o"&&r[1]=="n")a=r!=(r=r.replace(jc,"$1")),l=r.toLowerCase(),r=l in e||r=="onFocusOut"||r=="onFocusIn"?l.slice(2):r.slice(2),e.l||(e.l={}),e.l[r+a]=n,n?s?n.u=s.u:(n.u=Mi,e.addEventListener(r,a?di:ui,a)):e.removeEventListener(r,a?di:ui,a);else{if(i=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in e)try{e[r]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&r[4]!="-"?e.removeAttribute(r):e.setAttribute(r,r=="popover"&&n==1?"":n))}}function Qa(e){return function(r){if(this.l){var n=this.l[r.type+e];if(r.t==null)r.t=Mi++;else if(r.t<n.u)return;return n(Se.event?Se.event(r):r)}}}function Li(e,r,n,s,i,a,l,c,u,d){var h,f,x,b,w,S,v,m,p,_,g,y,N,j,k,C,O,E=r.type;if(r.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[c=r.__e=n.__e]),(h=Se.__b)&&h(r);e:if(typeof E=="function")try{if(m=r.props,p="prototype"in E&&E.prototype.render,_=(h=E.contextType)&&s[h.__c],g=h?_?_.props.value:h.__:s,n.__c?v=(f=r.__c=n.__c).__=f.__E:(p?r.__c=f=new E(m,g):(r.__c=f=new Wn(m,g),f.constructor=E,f.render=O0),_&&_.sub(f),f.state||(f.state={}),f.__n=s,x=f.__d=!0,f.__h=[],f._sb=[]),p&&f.__s==null&&(f.__s=f.state),p&&E.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ut({},f.__s)),ut(f.__s,E.getDerivedStateFromProps(m,f.__s))),b=f.props,w=f.state,f.__v=r,x)p&&E.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),p&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(p&&E.getDerivedStateFromProps==null&&m!==b&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,g),r.__v==n.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,g)===!1){for(r.__v!=n.__v&&(f.props=m,f.state=f.__s,f.__d=!1),r.__e=n.__e,r.__k=n.__k,r.__k.some(function(R){R&&(R.__=r)}),y=0;y<f._sb.length;y++)f.__h.push(f._sb[y]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,g),p&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(b,w,S)})}if(f.context=g,f.props=m,f.__P=e,f.__e=!1,N=Se.__r,j=0,p){for(f.state=f.__s,f.__d=!1,N&&N(r),h=f.render(f.props,f.state,f.context),k=0;k<f._sb.length;k++)f.__h.push(f._sb[k]);f._sb=[]}else do f.__d=!1,N&&N(r),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++j<25);f.state=f.__s,f.getChildContext!=null&&(s=ut(ut({},s),f.getChildContext())),p&&!x&&f.getSnapshotBeforeUpdate!=null&&(S=f.getSnapshotBeforeUpdate(b,w)),C=h,h!=null&&h.type===Ns&&h.key==null&&(C=Pc(h.props.children)),c=kc(e,js(C)?C:[C],r,n,s,i,a,l,c,u,d),f.base=r.__e,r.__u&=-161,f.__h.length&&l.push(f),v&&(f.__E=f.__=null)}catch(R){if(r.__v=null,u||a!=null)if(R.then){for(r.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,r.__e=c}else{for(O=a.length;O--;)zi(a[O]);fi(r)}else r.__e=n.__e,r.__k=n.__k,R.then||fi(r);Se.__e(R,r,n)}else a==null&&r.__v==n.__v?(r.__k=n.__k,r.__e=n.__e):c=r.__e=C0(n.__e,r,n,s,i,a,l,u,d);return(h=Se.diffed)&&h(r),128&r.__u?void 0:c}function fi(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(fi)}function Oc(e,r,n){for(var s=0;s<n.length;s++)$i(n[s],n[++s],n[++s]);Se.__c&&Se.__c(r,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){Se.__e(a,i.__v)}})}function Pc(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:js(e)?e.map(Pc):ut({},e)}function C0(e,r,n,s,i,a,l,c,u){var d,h,f,x,b,w,S,v=n.props||cn,m=r.props,p=r.type;if(p=="svg"?i="http://www.w3.org/2000/svg":p=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((b=a[d])&&"setAttribute"in b==!!p&&(p?b.localName==p:b.nodeType==3)){e=b,a[d]=null;break}}if(e==null){if(p==null)return document.createTextNode(m);e=document.createElementNS(i,p,m.is&&m),c&&(Se.__m&&Se.__m(r,a),c=!1),a=null}if(p==null)v===m||c&&e.data==m||(e.data=m);else{if(a=a&&yn.call(e.childNodes),!c&&a!=null)for(v={},d=0;d<e.attributes.length;d++)v[(b=e.attributes[d]).name]=b.value;for(d in v)if(b=v[d],d!="children"){if(d=="dangerouslySetInnerHTML")f=b;else if(!(d in m)){if(d=="value"&&"defaultValue"in m||d=="checked"&&"defaultChecked"in m)continue;kn(e,d,null,b,i)}}for(d in m)b=m[d],d=="children"?x=b:d=="dangerouslySetInnerHTML"?h=b:d=="value"?w=b:d=="checked"?S=b:c&&typeof b!="function"||v[d]===b||kn(e,d,b,v[d],i);if(h)c||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),r.__k=[];else if(f&&(e.innerHTML=""),kc(r.type=="template"?e.content:e,js(x)?x:[x],r,n,s,p=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,l,a?a[0]:n.__k&&yr(n,0),c,u),a!=null)for(d=a.length;d--;)zi(a[d]);c||(d="value",p=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[d]||p=="progress"&&!w||p=="option"&&w!=v[d])&&kn(e,d,w,v[d],i),d="checked",S!=null&&S!=e[d]&&kn(e,d,S,v[d],i))}return e}function $i(e,r,n){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&r==null||(e.__u=e(r))}else e.current=r}catch(i){Se.__e(i,n)}}function Ec(e,r,n){var s,i;if(Se.unmount&&Se.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||$i(s,null,r)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){Se.__e(a,r)}s.base=s.__P=null}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&Ec(s[i],r,n||typeof e.type!="function");n||zi(e.__e),e.__c=e.__=e.__e=void 0}function O0(e,r,n){return this.constructor(e,n)}function P0(e,r,n){var s,i,a,l;r==document&&(r=document.documentElement),Se.__&&Se.__(e,r),i=(s=!1)?null:r.__k,a=[],l=[],Li(r,e=r.__k=N0(Ns,null,[e]),i||cn,cn,r.namespaceURI,i?null:r.firstChild?yn.call(r.childNodes):null,a,i?i.__e:r.firstChild,s,l),Oc(a,e,l)}function Rc(e,r,n){var s,i,a,l,c=ut({},e.props);for(a in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),r)a=="key"?s=r[a]:a=="ref"?i=r[a]:c[a]=r[a]===void 0&&l!=null?l[a]:r[a];return arguments.length>2&&(c.children=arguments.length>3?yn.call(arguments,2):n),en(e.type,c,s||e.key,i||e.ref,null)}yn=Nc.slice,Se={__e:function(e,r,n,s){for(var i,a,l;r=r.__;)if((i=r.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},vc=0,bc=function(e){return e!=null&&e.constructor==null},Wn.prototype.setState=function(e,r){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ut({},this.state),typeof e=="function"&&(e=e(ut({},n),this.props)),e&&ut(n,e),e!=null&&this.__v&&(r&&this._sb.push(r),Ja(this))},Wn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Ja(this))},Wn.prototype.render=Ns,Vt=[],wc=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_c=function(e,r){return e.__v.__b-r.__v.__b},ns.__r=0,jc=/(PointerCapture)$|Capture$/i,Mi=0,ui=Qa(!1),di=Qa(!0);function eo(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function E0(e){if(Array.isArray(e))return e}function R0(e,r,n){return(r=L0(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function D0(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function A0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function to(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function T0(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?to(Object(n),!0).forEach(function(s){R0(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function M0(e,r){return E0(e)||D0(e,r)||$0(e,r)||A0()}function z0(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function L0(e){var r=z0(e,"string");return typeof r=="symbol"?r:r+""}function ss(e){"@babel/helpers - typeof";return ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ss(e)}function $0(e,r){if(e){if(typeof e=="string")return eo(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eo(e,r):void 0}}var hi=function(r){if(ss(r)!=="object")return r;var n=Rc(r);if(n.props){var s;n.props=T0({},n.props),n!=null&&(s=n.props)!==null&&s!==void 0&&s.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(hi):hi(n.props.children))}return n},F0=function(r){return bc(Rc(r))},I0=function(r,n){delete n.__k,P0(hi(r),n)};function H0(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var q0=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;H0(q0);var U0=Ti({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.style,a=i===void 0?{}:i,l=!!r&&ss(r)==="object"&&!!r.node&&typeof r.node=="function",c=Ke(l?r.node():r);c.style("position")==="static"&&c.style("position","relative"),n.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(d){var h=M0(d,2),f=h[0],x=h[1];return n.tooltipEl.style(f,x)}),n.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,c.on("mousemove.".concat(u),function(d){n.mouseInside=!0;var h=ct(d),f=c.node(),x=f.offsetWidth,b=f.offsetHeight,w=[n.offsetX===null||n.offsetX===void 0?"-".concat(h[0]/x*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?b>130&&b-h[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(w.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(u),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(u),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(r){r.tooltipEl.style("display",r.content&&r.mouseInside?"inline":"none"),r.content?r.content instanceof HTMLElement?(r.tooltipEl.text(""),r.tooltipEl.append(function(){return r.content})):typeof r.content=="string"?r.tooltipEl.html(r.content):F0(r.content)?(r.tooltipEl.text(""),I0(r.content,r.tooltipEl.node())):(r.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",r.content,r.content.toString())):r.tooltipEl.text("")}});function W0(e,r,n){var s,i=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var l,c=s.length,u,d=0,h=0,f=0;for(l=0;l<c;++l)u=s[l],d+=u.x||0,h+=u.y||0,f+=u.z||0;for(d=(d/c-e)*i,h=(h/c-r)*i,f=(f/c-n)*i,l=0;l<c;++l)u=s[l],d&&(u.x-=d),h&&(u.y-=h),f&&(u.z-=f)}return a.initialize=function(l){s=l},a.x=function(l){return arguments.length?(e=+l,a):e},a.y=function(l){return arguments.length?(r=+l,a):r},a.z=function(l){return arguments.length?(n=+l,a):n},a.strength=function(l){return arguments.length?(i=+l,a):i},a}function B0(e){const r=+this._x.call(null,e);return Dc(this.cover(r),r,e)}function Dc(e,r,n){if(isNaN(r))return e;var s,i=e._root,a={data:n},l=e._x0,c=e._x1,u,d,h,f,x;if(!i)return e._root=a,e;for(;i.length;)if((h=r>=(u=(l+c)/2))?l=u:c=u,s=i,!(i=i[f=+h]))return s[f]=a,e;if(d=+e._x.call(null,i.data),r===d)return a.next=i,s?s[f]=a:e._root=a,e;do s=s?s[f]=new Array(2):e._root=new Array(2),(h=r>=(u=(l+c)/2))?l=u:c=u;while((f=+h)==(x=+(d>=u)));return s[x]=i,s[f]=a,e}function V0(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r);let s=1/0,i=-1/0;for(let a=0,l;a<r;++a)isNaN(l=+this._x.call(null,e[a]))||(n[a]=l,l<s&&(s=l),l>i&&(i=l));if(s>i)return this;this.cover(s).cover(i);for(let a=0;a<r;++a)Dc(this,n[a],e[a]);return this}function G0(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var s=n-r||1,i=this._root,a,l;r>e||e>=n;)switch(l=+(e<r),a=new Array(2),a[l]=i,i=a,s*=2,l){case 0:n=r+s;break;case 1:r=n-s;break}this._root&&this._root.length&&(this._root=i)}return this._x0=r,this._x1=n,this}function Y0(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function X0(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Ct(e,r,n){this.node=e,this.x0=r,this.x1=n}function K0(e,r){var n,s=this._x0,i,a,l=this._x1,c=[],u=this._root,d,h;for(u&&c.push(new Ct(u,s,l)),r==null?r=1/0:(s=e-r,l=e+r);d=c.pop();)if(!(!(u=d.node)||(i=d.x0)>l||(a=d.x1)<s))if(u.length){var f=(i+a)/2;c.push(new Ct(u[1],f,a),new Ct(u[0],i,f)),(h=+(e>=f))&&(d=c[c.length-1],c[c.length-1]=c[c.length-1-h],c[c.length-1-h]=d)}else{var x=Math.abs(e-+this._x.call(null,u.data));x<r&&(r=x,s=e-x,l=e+x,n=u.data)}return n}function J0(e){if(isNaN(u=+this._x.call(null,e)))return this;var r,n=this._root,s,i,a,l=this._x0,c=this._x1,u,d,h,f,x;if(!n)return this;if(n.length)for(;;){if((h=u>=(d=(l+c)/2))?l=d:c=d,r=n,!(n=n[f=+h]))return this;if(!n.length)break;r[f+1&1]&&(s=r,x=f)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[f]=a:delete r[f],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(s?s[x]=n:this._root=n),this):(this._root=a,this)}function Z0(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function Q0(){return this._root}function ev(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function tv(e){var r=[],n,s=this._root,i,a,l;for(s&&r.push(new Ct(s,this._x0,this._x1));n=r.pop();)if(!e(s=n.node,a=n.x0,l=n.x1)&&s.length){var c=(a+l)/2;(i=s[1])&&r.push(new Ct(i,c,l)),(i=s[0])&&r.push(new Ct(i,a,c))}return this}function rv(e){var r=[],n=[],s;for(this._root&&r.push(new Ct(this._root,this._x0,this._x1));s=r.pop();){var i=s.node;if(i.length){var a,l=s.x0,c=s.x1,u=(l+c)/2;(a=i[0])&&r.push(new Ct(a,l,u)),(a=i[1])&&r.push(new Ct(a,u,c))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.x1);return this}function nv(e){return e[0]}function sv(e){return arguments.length?(this._x=e,this):this._x}function Ac(e,r){var n=new Fi(r??nv,NaN,NaN);return e==null?n:n.addAll(e)}function Fi(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function ro(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Ue=Ac.prototype=Fi.prototype;Ue.copy=function(){var e=new Fi(this._x,this._x0,this._x1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=ro(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var i=0;i<2;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(2)}):r.target[i]=ro(s));return e};Ue.add=B0;Ue.addAll=V0;Ue.cover=G0;Ue.data=Y0;Ue.extent=X0;Ue.find=K0;Ue.remove=J0;Ue.removeAll=Z0;Ue.root=Q0;Ue.size=ev;Ue.visit=tv;Ue.visitAfter=rv;Ue.x=sv;function iv(e){const r=+this._x.call(null,e),n=+this._y.call(null,e);return Tc(this.cover(r,n),r,n,e)}function Tc(e,r,n,s){if(isNaN(r)||isNaN(n))return e;var i,a=e._root,l={data:s},c=e._x0,u=e._y0,d=e._x1,h=e._y1,f,x,b,w,S,v,m,p;if(!a)return e._root=l,e;for(;a.length;)if((S=r>=(f=(c+d)/2))?c=f:d=f,(v=n>=(x=(u+h)/2))?u=x:h=x,i=a,!(a=a[m=v<<1|S]))return i[m]=l,e;if(b=+e._x.call(null,a.data),w=+e._y.call(null,a.data),r===b&&n===w)return l.next=a,i?i[m]=l:e._root=l,e;do i=i?i[m]=new Array(4):e._root=new Array(4),(S=r>=(f=(c+d)/2))?c=f:d=f,(v=n>=(x=(u+h)/2))?u=x:h=x;while((m=v<<1|S)===(p=(w>=x)<<1|b>=f));return i[p]=a,i[m]=l,e}function av(e){var r,n,s=e.length,i,a,l=new Array(s),c=new Array(s),u=1/0,d=1/0,h=-1/0,f=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(l[n]=i,c[n]=a,i<u&&(u=i),i>h&&(h=i),a<d&&(d=a),a>f&&(f=a));if(u>h||d>f)return this;for(this.cover(u,d).cover(h,f),n=0;n<s;++n)Tc(this,l[n],c[n],e[n]);return this}function ov(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,s=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(s=Math.floor(r))+1;else{for(var l=i-n||1,c=this._root,u,d;n>e||e>=i||s>r||r>=a;)switch(d=(r<s)<<1|e<n,u=new Array(4),u[d]=c,c=u,l*=2,d){case 0:i=n+l,a=s+l;break;case 1:n=i-l,a=s+l;break;case 2:i=n+l,s=a-l;break;case 3:n=i-l,s=a-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=s,this._x1=i,this._y1=a,this}function lv(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function cv(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Fe(e,r,n,s,i){this.node=e,this.x0=r,this.y0=n,this.x1=s,this.y1=i}function uv(e,r,n){var s,i=this._x0,a=this._y0,l,c,u,d,h=this._x1,f=this._y1,x=[],b=this._root,w,S;for(b&&x.push(new Fe(b,i,a,h,f)),n==null?n=1/0:(i=e-n,a=r-n,h=e+n,f=r+n,n*=n);w=x.pop();)if(!(!(b=w.node)||(l=w.x0)>h||(c=w.y0)>f||(u=w.x1)<i||(d=w.y1)<a))if(b.length){var v=(l+u)/2,m=(c+d)/2;x.push(new Fe(b[3],v,m,u,d),new Fe(b[2],l,m,v,d),new Fe(b[1],v,c,u,m),new Fe(b[0],l,c,v,m)),(S=(r>=m)<<1|e>=v)&&(w=x[x.length-1],x[x.length-1]=x[x.length-1-S],x[x.length-1-S]=w)}else{var p=e-+this._x.call(null,b.data),_=r-+this._y.call(null,b.data),g=p*p+_*_;if(g<n){var y=Math.sqrt(n=g);i=e-y,a=r-y,h=e+y,f=r+y,s=b.data}}return s}function dv(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var r,n=this._root,s,i,a,l=this._x0,c=this._y0,u=this._x1,d=this._y1,h,f,x,b,w,S,v,m;if(!n)return this;if(n.length)for(;;){if((w=h>=(x=(l+u)/2))?l=x:u=x,(S=f>=(b=(c+d)/2))?c=b:d=b,r=n,!(n=n[v=S<<1|w]))return this;if(!n.length)break;(r[v+1&3]||r[v+2&3]||r[v+3&3])&&(s=r,m=v)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[v]=a:delete r[v],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(s?s[m]=n:this._root=n),this):(this._root=a,this)}function fv(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function hv(){return this._root}function pv(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function mv(e){var r=[],n,s=this._root,i,a,l,c,u;for(s&&r.push(new Fe(s,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(s=n.node,a=n.x0,l=n.y0,c=n.x1,u=n.y1)&&s.length){var d=(a+c)/2,h=(l+u)/2;(i=s[3])&&r.push(new Fe(i,d,h,c,u)),(i=s[2])&&r.push(new Fe(i,a,h,d,u)),(i=s[1])&&r.push(new Fe(i,d,l,c,h)),(i=s[0])&&r.push(new Fe(i,a,l,d,h))}return this}function gv(e){var r=[],n=[],s;for(this._root&&r.push(new Fe(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var i=s.node;if(i.length){var a,l=s.x0,c=s.y0,u=s.x1,d=s.y1,h=(l+u)/2,f=(c+d)/2;(a=i[0])&&r.push(new Fe(a,l,c,h,f)),(a=i[1])&&r.push(new Fe(a,h,c,u,f)),(a=i[2])&&r.push(new Fe(a,l,f,h,d)),(a=i[3])&&r.push(new Fe(a,h,f,u,d))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function xv(e){return e[0]}function yv(e){return arguments.length?(this._x=e,this):this._x}function vv(e){return e[1]}function bv(e){return arguments.length?(this._y=e,this):this._y}function Mc(e,r,n){var s=new Ii(r??xv,n??vv,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Ii(e,r,n,s,i,a){this._x=e,this._y=r,this._x0=n,this._y0=s,this._x1=i,this._y1=a,this._root=void 0}function no(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Ie=Mc.prototype=Ii.prototype;Ie.copy=function(){var e=new Ii(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=no(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var i=0;i<4;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(4)}):r.target[i]=no(s));return e};Ie.add=iv;Ie.addAll=av;Ie.cover=ov;Ie.data=lv;Ie.extent=cv;Ie.find=uv;Ie.remove=dv;Ie.removeAll=fv;Ie.root=hv;Ie.size=pv;Ie.visit=mv;Ie.visitAfter=gv;Ie.x=yv;Ie.y=bv;function wv(e){const r=+this._x.call(null,e),n=+this._y.call(null,e),s=+this._z.call(null,e);return zc(this.cover(r,n,s),r,n,s,e)}function zc(e,r,n,s,i){if(isNaN(r)||isNaN(n)||isNaN(s))return e;var a,l=e._root,c={data:i},u=e._x0,d=e._y0,h=e._z0,f=e._x1,x=e._y1,b=e._z1,w,S,v,m,p,_,g,y,N,j,k;if(!l)return e._root=c,e;for(;l.length;)if((g=r>=(w=(u+f)/2))?u=w:f=w,(y=n>=(S=(d+x)/2))?d=S:x=S,(N=s>=(v=(h+b)/2))?h=v:b=v,a=l,!(l=l[j=N<<2|y<<1|g]))return a[j]=c,e;if(m=+e._x.call(null,l.data),p=+e._y.call(null,l.data),_=+e._z.call(null,l.data),r===m&&n===p&&s===_)return c.next=l,a?a[j]=c:e._root=c,e;do a=a?a[j]=new Array(8):e._root=new Array(8),(g=r>=(w=(u+f)/2))?u=w:f=w,(y=n>=(S=(d+x)/2))?d=S:x=S,(N=s>=(v=(h+b)/2))?h=v:b=v;while((j=N<<2|y<<1|g)===(k=(_>=v)<<2|(p>=S)<<1|m>=w));return a[k]=l,a[j]=c,e}function _v(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r),s=new Float64Array(r),i=new Float64Array(r);let a=1/0,l=1/0,c=1/0,u=-1/0,d=-1/0,h=-1/0;for(let f=0,x,b,w,S;f<r;++f)isNaN(b=+this._x.call(null,x=e[f]))||isNaN(w=+this._y.call(null,x))||isNaN(S=+this._z.call(null,x))||(n[f]=b,s[f]=w,i[f]=S,b<a&&(a=b),b>u&&(u=b),w<l&&(l=w),w>d&&(d=w),S<c&&(c=S),S>h&&(h=S));if(a>u||l>d||c>h)return this;this.cover(a,l,c).cover(u,d,h);for(let f=0;f<r;++f)zc(this,n[f],s[f],i[f],e[f]);return this}function jv(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var s=this._x0,i=this._y0,a=this._z0,l=this._x1,c=this._y1,u=this._z1;if(isNaN(s))l=(s=Math.floor(e))+1,c=(i=Math.floor(r))+1,u=(a=Math.floor(n))+1;else{for(var d=l-s||1,h=this._root,f,x;s>e||e>=l||i>r||r>=c||a>n||n>=u;)switch(x=(n<a)<<2|(r<i)<<1|e<s,f=new Array(8),f[x]=h,h=f,d*=2,x){case 0:l=s+d,c=i+d,u=a+d;break;case 1:s=l-d,c=i+d,u=a+d;break;case 2:l=s+d,i=c-d,u=a+d;break;case 3:s=l-d,i=c-d,u=a+d;break;case 4:l=s+d,c=i+d,a=u-d;break;case 5:s=l-d,c=i+d,a=u-d;break;case 6:l=s+d,i=c-d,a=u-d;break;case 7:s=l-d,i=c-d,a=u-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=s,this._y0=i,this._z0=a,this._x1=l,this._y1=c,this._z1=u,this}function Nv(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function Sv(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ve(e,r,n,s,i,a,l){this.node=e,this.x0=r,this.y0=n,this.z0=s,this.x1=i,this.y1=a,this.z1=l}function kv(e,r,n,s){var i,a=this._x0,l=this._y0,c=this._z0,u,d,h,f,x,b,w=this._x1,S=this._y1,v=this._z1,m=[],p=this._root,_,g;for(p&&m.push(new ve(p,a,l,c,w,S,v)),s==null?s=1/0:(a=e-s,l=r-s,c=n-s,w=e+s,S=r+s,v=n+s,s*=s);_=m.pop();)if(!(!(p=_.node)||(u=_.x0)>w||(d=_.y0)>S||(h=_.z0)>v||(f=_.x1)<a||(x=_.y1)<l||(b=_.z1)<c))if(p.length){var y=(u+f)/2,N=(d+x)/2,j=(h+b)/2;m.push(new ve(p[7],y,N,j,f,x,b),new ve(p[6],u,N,j,y,x,b),new ve(p[5],y,d,j,f,N,b),new ve(p[4],u,d,j,y,N,b),new ve(p[3],y,N,h,f,x,j),new ve(p[2],u,N,h,y,x,j),new ve(p[1],y,d,h,f,N,j),new ve(p[0],u,d,h,y,N,j)),(g=(n>=j)<<2|(r>=N)<<1|e>=y)&&(_=m[m.length-1],m[m.length-1]=m[m.length-1-g],m[m.length-1-g]=_)}else{var k=e-+this._x.call(null,p.data),C=r-+this._y.call(null,p.data),O=n-+this._z.call(null,p.data),E=k*k+C*C+O*O;if(E<s){var R=Math.sqrt(s=E);a=e-R,l=r-R,c=n-R,w=e+R,S=r+R,v=n+R,i=p.data}}return i}const Cv=(e,r,n,s,i,a)=>Math.sqrt((e-s)**2+(r-i)**2+(n-a)**2);function Ov(e,r,n,s){const i=[],a=e-s,l=r-s,c=n-s,u=e+s,d=r+s,h=n+s;return this.visit((f,x,b,w,S,v,m)=>{if(!f.length)do{const p=f.data;Cv(e,r,n,this._x(p),this._y(p),this._z(p))<=s&&i.push(p)}while(f=f.next);return x>u||b>d||w>h||S<a||v<l||m<c}),i}function Pv(e){if(isNaN(x=+this._x.call(null,e))||isNaN(b=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var r,n=this._root,s,i,a,l=this._x0,c=this._y0,u=this._z0,d=this._x1,h=this._y1,f=this._z1,x,b,w,S,v,m,p,_,g,y,N;if(!n)return this;if(n.length)for(;;){if((p=x>=(S=(l+d)/2))?l=S:d=S,(_=b>=(v=(c+h)/2))?c=v:h=v,(g=w>=(m=(u+f)/2))?u=m:f=m,r=n,!(n=n[y=g<<2|_<<1|p]))return this;if(!n.length)break;(r[y+1&7]||r[y+2&7]||r[y+3&7]||r[y+4&7]||r[y+5&7]||r[y+6&7]||r[y+7&7])&&(s=r,N=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[y]=a:delete r[y],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(s?s[N]=n:this._root=n),this):(this._root=a,this)}function Ev(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function Rv(){return this._root}function Dv(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Av(e){var r=[],n,s=this._root,i,a,l,c,u,d,h;for(s&&r.push(new ve(s,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(s=n.node,a=n.x0,l=n.y0,c=n.z0,u=n.x1,d=n.y1,h=n.z1)&&s.length){var f=(a+u)/2,x=(l+d)/2,b=(c+h)/2;(i=s[7])&&r.push(new ve(i,f,x,b,u,d,h)),(i=s[6])&&r.push(new ve(i,a,x,b,f,d,h)),(i=s[5])&&r.push(new ve(i,f,l,b,u,x,h)),(i=s[4])&&r.push(new ve(i,a,l,b,f,x,h)),(i=s[3])&&r.push(new ve(i,f,x,c,u,d,b)),(i=s[2])&&r.push(new ve(i,a,x,c,f,d,b)),(i=s[1])&&r.push(new ve(i,f,l,c,u,x,b)),(i=s[0])&&r.push(new ve(i,a,l,c,f,x,b))}return this}function Tv(e){var r=[],n=[],s;for(this._root&&r.push(new ve(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));s=r.pop();){var i=s.node;if(i.length){var a,l=s.x0,c=s.y0,u=s.z0,d=s.x1,h=s.y1,f=s.z1,x=(l+d)/2,b=(c+h)/2,w=(u+f)/2;(a=i[0])&&r.push(new ve(a,l,c,u,x,b,w)),(a=i[1])&&r.push(new ve(a,x,c,u,d,b,w)),(a=i[2])&&r.push(new ve(a,l,b,u,x,h,w)),(a=i[3])&&r.push(new ve(a,x,b,u,d,h,w)),(a=i[4])&&r.push(new ve(a,l,c,w,x,b,f)),(a=i[5])&&r.push(new ve(a,x,c,w,d,b,f)),(a=i[6])&&r.push(new ve(a,l,b,w,x,h,f)),(a=i[7])&&r.push(new ve(a,x,b,w,d,h,f))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.y0,s.z0,s.x1,s.y1,s.z1);return this}function Mv(e){return e[0]}function zv(e){return arguments.length?(this._x=e,this):this._x}function Lv(e){return e[1]}function $v(e){return arguments.length?(this._y=e,this):this._y}function Fv(e){return e[2]}function Iv(e){return arguments.length?(this._z=e,this):this._z}function Lc(e,r,n,s){var i=new Hi(r??Mv,n??Lv,s??Fv,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Hi(e,r,n,s,i,a,l,c,u){this._x=e,this._y=r,this._z=n,this._x0=s,this._y0=i,this._z0=a,this._x1=l,this._y1=c,this._z1=u,this._root=void 0}function so(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Ae=Lc.prototype=Hi.prototype;Ae.copy=function(){var e=new Hi(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=so(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var i=0;i<8;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(8)}):r.target[i]=so(s));return e};Ae.add=wv;Ae.addAll=_v;Ae.cover=jv;Ae.data=Nv;Ae.extent=Sv;Ae.find=kv;Ae.findAllWithinRadius=Ov;Ae.remove=Pv;Ae.removeAll=Ev;Ae.root=Rv;Ae.size=Dv;Ae.visit=Av;Ae.visitAfter=Tv;Ae.x=zv;Ae.y=$v;Ae.z=Iv;function kt(e){return function(){return e}}function Nt(e){return(e()-.5)*1e-6}function Hv(e){return e.index}function io(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function qv(e){var r=Hv,n=x,s,i=kt(30),a,l,c,u,d,h,f=1;e==null&&(e=[]);function x(m){return 1/Math.min(u[m.source.index],u[m.target.index])}function b(m){for(var p=0,_=e.length;p<f;++p)for(var g=0,y,N,j,k=0,C=0,O=0,E,R;g<_;++g)y=e[g],N=y.source,j=y.target,k=j.x+j.vx-N.x-N.vx||Nt(h),c>1&&(C=j.y+j.vy-N.y-N.vy||Nt(h)),c>2&&(O=j.z+j.vz-N.z-N.vz||Nt(h)),E=Math.sqrt(k*k+C*C+O*O),E=(E-a[g])/E*m*s[g],k*=E,C*=E,O*=E,j.vx-=k*(R=d[g]),c>1&&(j.vy-=C*R),c>2&&(j.vz-=O*R),N.vx+=k*(R=1-R),c>1&&(N.vy+=C*R),c>2&&(N.vz+=O*R)}function w(){if(l){var m,p=l.length,_=e.length,g=new Map(l.map((N,j)=>[r(N,j,l),N])),y;for(m=0,u=new Array(p);m<_;++m)y=e[m],y.index=m,typeof y.source!="object"&&(y.source=io(g,y.source)),typeof y.target!="object"&&(y.target=io(g,y.target)),u[y.source.index]=(u[y.source.index]||0)+1,u[y.target.index]=(u[y.target.index]||0)+1;for(m=0,d=new Array(_);m<_;++m)y=e[m],d[m]=u[y.source.index]/(u[y.source.index]+u[y.target.index]);s=new Array(_),S(),a=new Array(_),v()}}function S(){if(l)for(var m=0,p=e.length;m<p;++m)s[m]=+n(e[m],m,e)}function v(){if(l)for(var m=0,p=e.length;m<p;++m)a[m]=+i(e[m],m,e)}return b.initialize=function(m,...p){l=m,h=p.find(_=>typeof _=="function")||Math.random,c=p.find(_=>[1,2,3].includes(_))||2,w()},b.links=function(m){return arguments.length?(e=m,w(),b):e},b.id=function(m){return arguments.length?(r=m,b):r},b.iterations=function(m){return arguments.length?(f=+m,b):f},b.strength=function(m){return arguments.length?(n=typeof m=="function"?m:kt(+m),S(),b):n},b.distance=function(m){return arguments.length?(i=typeof m=="function"?m:kt(+m),v(),b):i},b}const Uv=1664525,Wv=1013904223,ao=4294967296;function Bv(){let e=1;return()=>(e=(Uv*e+Wv)%ao)/ao}var oo=3;function $s(e){return e.x}function lo(e){return e.y}function Vv(e){return e.z}var Gv=10,Yv=Math.PI*(3-Math.sqrt(5)),Xv=Math.PI*20/(9+Math.sqrt(221));function Kv(e,r){r=r||2;var n=Math.min(oo,Math.max(1,Math.round(r))),s,i=1,a=.001,l=1-Math.pow(a,1/300),c=0,u=.6,d=new Map,h=Ei(b),f=xn("tick","end"),x=Bv();e==null&&(e=[]);function b(){w(),f.call("tick",s),i<a&&(h.stop(),f.call("end",s))}function w(m){var p,_=e.length,g;m===void 0&&(m=1);for(var y=0;y<m;++y)for(i+=(c-i)*l,d.forEach(function(N){N(i)}),p=0;p<_;++p)g=e[p],g.fx==null?g.x+=g.vx*=u:(g.x=g.fx,g.vx=0),n>1&&(g.fy==null?g.y+=g.vy*=u:(g.y=g.fy,g.vy=0)),n>2&&(g.fz==null?g.z+=g.vz*=u:(g.z=g.fz,g.vz=0));return s}function S(){for(var m=0,p=e.length,_;m<p;++m){if(_=e[m],_.index=m,_.fx!=null&&(_.x=_.fx),_.fy!=null&&(_.y=_.fy),_.fz!=null&&(_.z=_.fz),isNaN(_.x)||n>1&&isNaN(_.y)||n>2&&isNaN(_.z)){var g=Gv*(n>2?Math.cbrt(.5+m):n>1?Math.sqrt(.5+m):m),y=m*Yv,N=m*Xv;n===1?_.x=g:n===2?(_.x=g*Math.cos(y),_.y=g*Math.sin(y)):(_.x=g*Math.sin(y)*Math.cos(N),_.y=g*Math.cos(y),_.z=g*Math.sin(y)*Math.sin(N))}(isNaN(_.vx)||n>1&&isNaN(_.vy)||n>2&&isNaN(_.vz))&&(_.vx=0,n>1&&(_.vy=0),n>2&&(_.vz=0))}}function v(m){return m.initialize&&m.initialize(e,x,n),m}return S(),s={tick:w,restart:function(){return h.restart(b),s},stop:function(){return h.stop(),s},numDimensions:function(m){return arguments.length?(n=Math.min(oo,Math.max(1,Math.round(m))),d.forEach(v),s):n},nodes:function(m){return arguments.length?(e=m,S(),d.forEach(v),s):e},alpha:function(m){return arguments.length?(i=+m,s):i},alphaMin:function(m){return arguments.length?(a=+m,s):a},alphaDecay:function(m){return arguments.length?(l=+m,s):+l},alphaTarget:function(m){return arguments.length?(c=+m,s):c},velocityDecay:function(m){return arguments.length?(u=1-m,s):1-u},randomSource:function(m){return arguments.length?(x=m,d.forEach(v),s):x},force:function(m,p){return arguments.length>1?(p==null?d.delete(m):d.set(m,v(p)),s):d.get(m)},find:function(){var m=Array.prototype.slice.call(arguments),p=m.shift()||0,_=(n>1?m.shift():null)||0,g=(n>2?m.shift():null)||0,y=m.shift()||1/0,N=0,j=e.length,k,C,O,E,R,$;for(y*=y,N=0;N<j;++N)R=e[N],k=p-R.x,C=_-(R.y||0),O=g-(R.z||0),E=k*k+C*C+O*O,E<y&&($=R,y=E);return $},on:function(m,p){return arguments.length>1?(f.on(m,p),s):f.on(m)}}}function Jv(){var e,r,n,s,i,a=kt(-30),l,c=1,u=1/0,d=.81;function h(w){var S,v=e.length,m=(r===1?Ac(e,$s):r===2?Mc(e,$s,lo):r===3?Lc(e,$s,lo,Vv):null).visitAfter(x);for(i=w,S=0;S<v;++S)n=e[S],m.visit(b)}function f(){if(e){var w,S=e.length,v;for(l=new Array(S),w=0;w<S;++w)v=e[w],l[v.index]=+a(v,w,e)}}function x(w){var S=0,v,m,p=0,_,g,y,N,j=w.length;if(j){for(_=g=y=N=0;N<j;++N)(v=w[N])&&(m=Math.abs(v.value))&&(S+=v.value,p+=m,_+=m*(v.x||0),g+=m*(v.y||0),y+=m*(v.z||0));S*=Math.sqrt(4/j),w.x=_/p,r>1&&(w.y=g/p),r>2&&(w.z=y/p)}else{v=w,v.x=v.data.x,r>1&&(v.y=v.data.y),r>2&&(v.z=v.data.z);do S+=l[v.data.index];while(v=v.next)}w.value=S}function b(w,S,v,m,p){if(!w.value)return!0;var _=[v,m,p][r-1],g=w.x-n.x,y=r>1?w.y-n.y:0,N=r>2?w.z-n.z:0,j=_-S,k=g*g+y*y+N*N;if(j*j/d<k)return k<u&&(g===0&&(g=Nt(s),k+=g*g),r>1&&y===0&&(y=Nt(s),k+=y*y),r>2&&N===0&&(N=Nt(s),k+=N*N),k<c&&(k=Math.sqrt(c*k)),n.vx+=g*w.value*i/k,r>1&&(n.vy+=y*w.value*i/k),r>2&&(n.vz+=N*w.value*i/k)),!0;if(w.length||k>=u)return;(w.data!==n||w.next)&&(g===0&&(g=Nt(s),k+=g*g),r>1&&y===0&&(y=Nt(s),k+=y*y),r>2&&N===0&&(N=Nt(s),k+=N*N),k<c&&(k=Math.sqrt(c*k)));do w.data!==n&&(j=l[w.data.index]*i/k,n.vx+=g*j,r>1&&(n.vy+=y*j),r>2&&(n.vz+=N*j));while(w=w.next)}return h.initialize=function(w,...S){e=w,s=S.find(v=>typeof v=="function")||Math.random,r=S.find(v=>[1,2,3].includes(v))||2,f()},h.strength=function(w){return arguments.length?(a=typeof w=="function"?w:kt(+w),f(),h):a},h.distanceMin=function(w){return arguments.length?(c=w*w,h):Math.sqrt(c)},h.distanceMax=function(w){return arguments.length?(u=w*w,h):Math.sqrt(u)},h.theta=function(w){return arguments.length?(d=w*w,h):Math.sqrt(d)},h}function Zv(e,r,n,s){var i,a,l=kt(.1),c,u;typeof e!="function"&&(e=kt(+e)),r==null&&(r=0),n==null&&(n=0),s==null&&(s=0);function d(f){for(var x=0,b=i.length;x<b;++x){var w=i[x],S=w.x-r||1e-6,v=(w.y||0)-n||1e-6,m=(w.z||0)-s||1e-6,p=Math.sqrt(S*S+v*v+m*m),_=(u[x]-p)*c[x]*f/p;w.vx+=S*_,a>1&&(w.vy+=v*_),a>2&&(w.vz+=m*_)}}function h(){if(i){var f,x=i.length;for(c=new Array(x),u=new Array(x),f=0;f<x;++f)u[f]=+e(i[f],f,i),c[f]=isNaN(u[f])?0:+l(i[f],f,i)}}return d.initialize=function(f,...x){i=f,a=x.find(b=>[1,2,3].includes(b))||2,h()},d.strength=function(f){return arguments.length?(l=typeof f=="function"?f:kt(+f),h(),d):l},d.radius=function(f){return arguments.length?(e=typeof f=="function"?f:kt(+f),h(),d):e},d.x=function(f){return arguments.length?(r=+f,d):r},d.y=function(f){return arguments.length?(n=+f,d):n},d.z=function(f){return arguments.length?(s=+f,d):s},d}const{abs:Ar,cos:wt,sin:sr,acos:Qv,atan2:Tr,sqrt:At,pow:Xe}=Math;function Mr(e){return e<0?-Xe(-e,1/3):Xe(e,1/3)}const $c=Math.PI,Cn=2*$c,Tt=$c/2,eb=1e-6,Fs=Number.MAX_SAFE_INTEGER||9007199254740991,Is=Number.MIN_SAFE_INTEGER||-9007199254740991,tb={x:0,y:0,z:0},G={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let s=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(s+=n.z*n.z),At(s)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const s=r.length-1;if(e===1)return r[s].t=1,r[s];const i=1-e;let a=r;if(s===0)return r[0].t=e,r[0];if(s===1){const c={x:i*a[0].x+e*a[1].x,y:i*a[0].y+e*a[1].y,t:e};return n&&(c.z=i*a[0].z+e*a[1].z),c}if(s<4){let c=i*i,u=e*e,d,h,f,x=0;s===2?(a=[a[0],a[1],a[2],tb],d=c,h=i*e*2,f=u):s===3&&(d=c*i,h=c*e*3,f=i*u*3,x=e*u);const b={x:d*a[0].x+h*a[1].x+f*a[2].x+x*a[3].x,y:d*a[0].y+h*a[1].y+f*a[2].y+x*a[3].y,t:e};return n&&(b.z=d*a[0].z+h*a[1].z+f*a[2].z+x*a[3].z),b}const l=JSON.parse(JSON.stringify(r));for(;l.length>1;){for(let c=0;c<l.length-1;c++)l[c]={x:l[c].x+(l[c+1].x-l[c].x)*e,y:l[c].y+(l[c+1].y-l[c].y)*e},typeof l[c].z<"u"&&(l[c].z=l[c].z+(l[c+1].z-l[c].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,r,n,s){const i=1-e,a=n,l=r;let c=a[0],u=a[1],d=a[2],h=a[3],f;if(c*=i,u*=e,l.length===2)return f=c+u,{x:(c*l[0].x+u*l[1].x)/f,y:(c*l[0].y+u*l[1].y)/f,z:s?(c*l[0].z+u*l[1].z)/f:!1,t:e};if(c*=i,u*=2*i,d*=e*e,l.length===3)return f=c+u+d,{x:(c*l[0].x+u*l[1].x+d*l[2].x)/f,y:(c*l[0].y+u*l[1].y+d*l[2].y)/f,z:s?(c*l[0].z+u*l[1].z+d*l[2].z)/f:!1,t:e};if(c*=i,u*=1.5*i,d*=3*i,h*=e*e*e,l.length===4)return f=c+u+d+h,{x:(c*l[0].x+u*l[1].x+d*l[2].x+h*l[3].x)/f,y:(c*l[0].y+u*l[1].y+d*l[2].y+h*l[3].y)/f,z:s?(c*l[0].z+u*l[1].z+d*l[2].z+h*l[3].z)/f:!1,t:e}},derive:function(e,r){const n=[];for(let s=e,i=s.length,a=i-1;i>1;i--,a--){const l=[];for(let c=0,u;c<a;c++)u={x:a*(s[c+1].x-s[c].x),y:a*(s[c+1].y-s[c].y)},r&&(u.z=a*(s[c+1].z-s[c].z)),l.push(u);n.push(l),s=l}return n},between:function(e,r,n){return r<=e&&e<=n||G.approximately(e,r)||G.approximately(e,n)},approximately:function(e,r,n){return Ar(e-r)<=(n||eb)},length:function(e){const n=G.Tvalues.length;let s=0;for(let i=0,a;i<n;i++)a=.5*G.Tvalues[i]+.5,s+=G.Cvalues[i]*G.arcfn(a,e);return .5*s},map:function(e,r,n,s,i){const a=n-r,l=i-s,c=e-r,u=c/a;return s+l*u},lerp:function(e,r,n){const s={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(s.z=r.z+e*(n.z-r.z)),s},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(G.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const s=r.x-e.x,i=r.y-e.y,a=n.x-e.x,l=n.y-e.y,c=s*l-i*a,u=s*a+i*l;return Tr(c,u)},round:function(e,r){const n=""+e,s=n.indexOf(".");return parseFloat(n.substring(0,s+1+r))},dist:function(e,r){const n=e.x-r.x,s=e.y-r.y;return At(n*n+s*s)},closest:function(e,r){let n=Xe(2,63),s,i;return e.forEach(function(a,l){i=G.dist(r,a),i<n&&(n=i,s=l)}),{mdist:n,mpos:s}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=Xe(e,r)+Xe(1-e,r),s=n-1;return Ar(s/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=Xe(1-e,r),s=Xe(e,r)+n;return n/s},lli8:function(e,r,n,s,i,a,l,c){const u=(e*s-r*n)*(i-l)-(e-n)*(i*c-a*l),d=(e*s-r*n)*(a-c)-(r-s)*(i*c-a*l),h=(e-n)*(a-c)-(r-s)*(i-l);return h==0?!1:{x:u/h,y:d/h}},lli4:function(e,r,n,s){const i=e.x,a=e.y,l=r.x,c=r.y,u=n.x,d=n.y,h=s.x,f=s.y;return G.lli8(i,a,l,c,u,d,h,f)},lli:function(e,r){return G.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new je(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=Fs,n=Fs,s=Is,i=Is;return e.forEach(function(a){const l=a.bbox();r>l.x.min&&(r=l.x.min),n>l.y.min&&(n=l.y.min),s<l.x.max&&(s=l.x.max),i<l.y.max&&(i=l.y.max)}),{x:{min:r,mid:(r+s)/2,max:s,size:s-r},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,r,n,s,i){if(!G.bboxoverlap(r,s))return[];const a=[],l=[e.startcap,e.forward,e.back,e.endcap],c=[n.startcap,n.forward,n.back,n.endcap];return l.forEach(function(u){u.virtual||c.forEach(function(d){if(d.virtual)return;const h=u.intersects(d,i);h.length>0&&(h.c1=u,h.c2=d,h.s1=e,h.s2=n,a.push(h))})}),a},makeshape:function(e,r,n){const s=r.points.length,i=e.points.length,a=G.makeline(r.points[s-1],e.points[0]),l=G.makeline(e.points[i-1],r.points[0]),c={startcap:a,forward:e,back:r,endcap:l,bbox:G.findbbox([a,e,r,l])};return c.intersections=function(u){return G.shapeintersections(c,c.bbox,u,u.bbox,n)},c},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let s=Fs,i=Is,a,l;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let c=0,u=n.length;c<u;c++)a=n[c],l=e.get(a),l[r]<s&&(s=l[r]),l[r]>i&&(i=l[r]);return{min:s,mid:(s+i)/2,max:i,size:i-s}},align:function(e,r){const n=r.p1.x,s=r.p1.y,i=-Tr(r.p2.y-s,r.p2.x-n),a=function(l){return{x:(l.x-n)*wt(i)-(l.y-s)*sr(i),y:(l.x-n)*sr(i)+(l.y-s)*wt(i)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,s=G.align(e,r),i=function(j){return 0<=j&&j<=1};if(n===2){const j=s[0].y,k=s[1].y,C=s[2].y,O=j-2*k+C;if(O!==0){const E=-At(k*k-j*C),R=-j+k,$=-(E+R)/O,P=-(-E+R)/O;return[$,P].filter(i)}else if(k!==C&&O===0)return[(2*k-C)/(2*k-2*C)].filter(i);return[]}const a=s[0].y,l=s[1].y,c=s[2].y,u=s[3].y;let d=-a+3*l-3*c+u,h=3*a-6*l+3*c,f=-3*a+3*l,x=a;if(G.approximately(d,0)){if(G.approximately(h,0))return G.approximately(f,0)?[]:[-x/f].filter(i);const j=At(f*f-4*h*x),k=2*h;return[(j-f)/k,(-f-j)/k].filter(i)}h/=d,f/=d,x/=d;const b=(3*f-h*h)/3,w=b/3,S=(2*h*h*h-9*h*f+27*x)/27,v=S/2,m=v*v+w*w*w;let p,_,g,y,N;if(m<0){const j=-b/3,k=j*j*j,C=At(k),O=-S/(2*C),E=O<-1?-1:O>1?1:O,R=Qv(E),$=Mr(C),P=2*$;return g=P*wt(R/3)-h/3,y=P*wt((R+Cn)/3)-h/3,N=P*wt((R+2*Cn)/3)-h/3,[g,y,N].filter(i)}else{if(m===0)return p=v<0?Mr(-v):-Mr(v),g=2*p-h/3,y=-p-h/3,[g,y].filter(i);{const j=At(m);return p=Mr(-v+j),_=Mr(v+j),[p-_-h/3].filter(i)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],s=e[2],i=r-2*n+s;if(i!==0){const a=-At(n*n-r*s),l=-r+n,c=-(a+l)/i,u=-(-a+l)/i;return[c,u]}else if(n!==s&&i===0)return[(2*n-s)/(2*(n-s))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,s,i){let a,l,c,u,d=0,h=0;const f=G.compute(e,r),x=G.compute(e,n),b=f.x*f.x+f.y*f.y;if(s?(a=At(Xe(f.y*x.z-x.y*f.z,2)+Xe(f.z*x.x-x.z*f.x,2)+Xe(f.x*x.y-x.x*f.y,2)),l=Xe(b+f.z*f.z,3/2)):(a=f.x*x.y-f.y*x.x,l=Xe(b,3/2)),a===0||l===0)return{k:0,r:0};if(d=a/l,h=l/a,!i){const w=G.curvature(e-.001,r,n,s,!0).k,S=G.curvature(e+.001,r,n,s,!0).k;u=(S-d+(d-w))/2,c=(Ar(S-d)+Ar(d-w))/2}return{k:d,r:h,dk:u,adk:c}},inflections:function(e){if(e.length<4)return[];const r=G.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,s=r[3].x*r[1].y,i=r[1].x*r[2].y,a=r[3].x*r[2].y,l=18*(-3*n+2*s+3*i-a),c=18*(3*n-s-3*i),u=18*(i-n);if(G.approximately(l,0)){if(!G.approximately(c,0)){let x=-u/c;if(0<=x&&x<=1)return[x]}return[]}const d=2*l;if(G.approximately(d,0))return[];const h=c*c-4*l*u;if(h<0)return[];const f=Math.sqrt(h);return[(f-c)/d,-(c+f)/d].filter(function(x){return 0<=x&&x<=1})},bboxoverlap:function(e,r){const n=["x","y"],s=n.length;for(let i=0,a,l,c,u;i<s;i++)if(a=n[i],l=e[a].mid,c=r[a].mid,u=(e[a].size+r[a].size)/2,Ar(l-c)>=u)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const s=e.bbox(),i=r.bbox(),a=1e5,l=n||.5;if(s.x.size+s.y.size<l&&i.x.size+i.y.size<l)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let c=e.split(.5),u=r.split(.5),d=[{left:c.left,right:u.left},{left:c.left,right:u.right},{left:c.right,right:u.right},{left:c.right,right:u.left}];d=d.filter(function(f){return G.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return d.length===0||(d.forEach(function(f){h=h.concat(G.pairiteration(f.left,f.right,l))}),h=h.filter(function(f,x){return h.indexOf(f)===x})),h},getccenter:function(e,r,n){const s=r.x-e.x,i=r.y-e.y,a=n.x-r.x,l=n.y-r.y,c=s*wt(Tt)-i*sr(Tt),u=s*sr(Tt)+i*wt(Tt),d=a*wt(Tt)-l*sr(Tt),h=a*sr(Tt)+l*wt(Tt),f=(e.x+r.x)/2,x=(e.y+r.y)/2,b=(r.x+n.x)/2,w=(r.y+n.y)/2,S=f+c,v=x+u,m=b+d,p=w+h,_=G.lli8(f,x,S,v,b,w,m,p),g=G.dist(_,e);let y=Tr(e.y-_.y,e.x-_.x),N=Tr(r.y-_.y,r.x-_.x),j=Tr(n.y-_.y,n.x-_.x),k;return y<j?((y>N||N>j)&&(y+=Cn),y>j&&(k=j,j=y,y=k)):j<N&&N<y?(k=j,j=y,y=k):j+=Cn,_.s=y,_.e=j,_.r=g,_},numberSort:function(e,r){return e-r}};class tn{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return G.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){const r=this.curves;for(var n=r[0].bbox(),s=1;s<r.length;s++)G.expandbox(n,r[s].bbox());return n}offset(r){const n=[];return this.curves.forEach(function(s){n.push(...s.offset(r))}),new tn(n)}}const{abs:zr,min:co,max:uo,cos:rb,sin:nb,acos:sb,sqrt:Lr}=Math,ib=Math.PI;class je{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),s=!1;if(typeof n[0]=="object"){s=n.length;const b=[];n.forEach(function(w){["x","y","z"].forEach(function(S){typeof w[S]<"u"&&b.push(w[S])})}),n=b}let i=!1;const a=n.length;if(s){if(s>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!i&&(a===9||a===12)||r&&r[0]&&typeof r[0].z<"u",c=this.points=[];for(let b=0,w=l?3:2;b<a;b+=w){var u={x:n[b],y:n[b+1]};l&&(u.z=n[b+2]),c.push(u)}const d=this.order=c.length-1,h=this.dims=["x","y"];l&&h.push("z"),this.dimlen=h.length;const f=G.align(c,{p1:c[0],p2:c[d]}),x=G.dist(c[0],c[d]);this._linear=f.reduce((b,w)=>b+zr(w.y),0)<x/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,s,i){if(typeof i>"u"&&(i=.5),i===0)return new je(n,n,s);if(i===1)return new je(r,n,n);const a=je.getABC(2,r,n,s,i);return new je(r,a.A,s)}static cubicFromPoints(r,n,s,i,a){typeof i>"u"&&(i=.5);const l=je.getABC(3,r,n,s,i);typeof a>"u"&&(a=G.dist(n,l.C));const c=a*(1-i)/i,u=G.dist(r,s),d=(s.x-r.x)/u,h=(s.y-r.y)/u,f=a*d,x=a*h,b=c*d,w=c*h,S={x:n.x-f,y:n.y-x},v={x:n.x+b,y:n.y+w},m=l.A,p={x:m.x+(S.x-m.x)/(1-i),y:m.y+(S.y-m.y)/(1-i)},_={x:m.x+(v.x-m.x)/i,y:m.y+(v.y-m.y)/i},g={x:r.x+(p.x-r.x)/i,y:r.y+(p.y-r.y)/i},y={x:s.x+(_.x-s.x)/(1-i),y:s.y+(_.y-s.y)/(1-i)};return new je(r,g,y,s)}static getUtils(){return G}getUtils(){return je.getUtils()}static get PolyBezier(){return tn}valueOf(){return this.toString()}toString(){return G.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const r=this.points,n=r[0].x,s=r[0].y,i=["M",n,s,this.order===2?"Q":"C"];for(let a=1,l=r.length;a<l;a++)i.push(r[a].x),i.push(r[a].y);return i.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){const r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=G.derive(this.points,this._3d),this.computedirection()}computedirection(){const r=this.points,n=G.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return G.length(this.derivative.bind(this))}static getABC(r=2,n,s,i,a=.5){const l=G.projectionratio(a,r),c=1-l,u={x:l*n.x+c*i.x,y:l*n.y+c*i.y},d=G.abcratio(a,r);return{A:{x:s.x+(s.x-u.x)/d,y:s.y+(s.y-u.y)/d},B:s,C:u,S:n,E:i}}getABC(r,n){n=n||this.get(r);let s=this.points[0],i=this.points[this.order];return je.getABC(this.order,s,n,i,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r+1)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,s,i;n<r;n++)i=n/(r-1),s=this.compute(i),s.t=i,this._lut.push(s);return this._lut}on(r,n){n=n||5;const s=this.getLUT(),i=[];for(let a=0,l,c=0;a<s.length;a++)l=s[a],G.dist(l,r)<n&&(i.push(l),c+=a/s.length);return i.length?t/=i.length:!1}project(r){const n=this.getLUT(),s=n.length-1,i=G.closest(n,r),a=i.mpos,l=(a-1)/s,c=(a+1)/s,u=.1/s;let d=i.mdist,h=l,f=h,x;d+=1;for(let b;h<c+u;h+=u)x=this.compute(h),b=G.dist(r,x),b<d&&(d=b,f=h);return f=f<0?0:f>1?1:f,x=this.compute(f),x.t=f,x.d=d,x}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?G.computeWithRatios(r,this.points,this.ratios,this._3d):G.compute(r,this.points,this._3d,this.ratios)}raise(){const r=this.points,n=[r[0]],s=r.length;for(let i=1,a,l;i<s;i++)a=r[i],l=r[i-1],n[i]={x:(s-i)/s*a.x+i/s*l.x,y:(s-i)/s*a.y+i/s*l.y};return n[s]=r[s-1],new je(n)}derivative(r){return G.compute(r,this.dpoints[0],this._3d)}dderivative(r){return G.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new je(G.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return G.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return G.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){const n=this.derivative(r),s=Lr(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/s,y:n.x/s}}__normal3(r){const n=this.derivative(r),s=this.derivative(r+.01),i=Lr(n.x*n.x+n.y*n.y+n.z*n.z),a=Lr(s.x*s.x+s.y*s.y+s.z*s.z);n.x/=i,n.y/=i,n.z/=i,s.x/=a,s.y/=a,s.z/=a;const l={x:s.y*n.z-s.z*n.y,y:s.z*n.x-s.x*n.z,z:s.x*n.y-s.y*n.x},c=Lr(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=c,l.y/=c,l.z/=c;const u=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:r,x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(r){let n=this.points,s=[],i=[],a=0;for(i[a++]=n[0],i[a++]=n[1],i[a++]=n[2],this.order===3&&(i[a++]=n[3]);n.length>1;){s=[];for(let l=0,c,u=n.length-1;l<u;l++)c=G.lerp(r,n[l],n[l+1]),i[a++]=c,s.push(c);n=s}return i}split(r,n){if(r===0&&n)return this.split(n).left;if(n===1)return this.split(r).right;const s=this.hull(r),i={left:this.order===2?new je([s[0],s[3],s[5]]):new je([s[0],s[4],s[7],s[9]]),right:this.order===2?new je([s[5],s[4],s[2]]):new je([s[9],s[8],s[6],s[3]]),span:s};return i.left._t1=G.map(0,0,1,this._t1,this._t2),i.left._t2=G.map(r,0,1,this._t1,this._t2),i.right._t1=G.map(r,0,1,this._t1,this._t2),i.right._t2=G.map(1,0,1,this._t1,this._t2),n?(n=G.map(n,r,1,0,1),i.right.split(n).left):i}extrema(){const r={};let n=[];return this.dims.forEach((function(s){let i=function(l){return l[s]},a=this.dpoints[0].map(i);r[s]=G.droots(a),this.order===3&&(a=this.dpoints[1].map(i),r[s]=r[s].concat(G.droots(a))),r[s]=r[s].filter(function(l){return l>=0&&l<=1}),n=n.concat(r[s].sort(G.numberSort))}).bind(this)),r.values=n.sort(G.numberSort).filter(function(s,i){return n.indexOf(s)===i}),r}bbox(){const r=this.extrema(),n={};return this.dims.forEach((function(s){n[s]=G.getminmax(this,s,r[s])}).bind(this)),n}overlaps(r){const n=this.bbox(),s=r.bbox();return G.bboxoverlap(n,s)}offset(r,n){if(typeof n<"u"){const s=this.get(r),i=this.normal(r),a={c:s,n:i,x:s.x+i.x*n,y:s.y+i.y*n};return this._3d&&(a.z=s.z+i.z*n),a}if(this._linear){const s=this.normal(0),i=this.points.map(function(a){const l={x:a.x+r*s.x,y:a.y+r*s.y};return a.z&&s.z&&(l.z=a.z+r*s.z),l});return[new je(i)]}return this.reduce().map(function(s){return s._linear?s.offset(r)[0]:s.scale(r)})}simple(){if(this.order===3){const i=G.angle(this.points[0],this.points[3],this.points[1]),a=G.angle(this.points[0],this.points[3],this.points[2]);if(i>0&&a<0||i<0&&a>0)return!1}const r=this.normal(0),n=this.normal(1);let s=r.x*n.x+r.y*n.y;return this._3d&&(s+=r.z*n.z),zr(sb(s))<ib/3}reduce(){let r,n=0,s=0,i=.01,a,l=[],c=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],r=1;r<u.length;r++)s=u[r],a=this.split(n,s),a._t1=n,a._t2=s,l.push(a),n=s;return l.forEach(function(d){for(n=0,s=0;s<=1;)for(s=n+i;s<=1+i;s+=i)if(a=d.split(n,s),!a.simple()){if(s-=i,zr(n-s)<i)return[];a=d.split(n,s),a._t1=G.map(n,0,1,d._t1,d._t2),a._t2=G.map(s,0,1,d._t1,d._t2),c.push(a),n=s;break}n<1&&(a=d.split(n,1),a._t1=G.map(n,0,1,d._t1,d._t2),a._t2=d._t2,c.push(a))}),c}translate(r,n,s){s=typeof s=="number"?s:n;const i=this.order;let a=this.points.map((l,c)=>(1-c/i)*n+c/i*s);return new je(this.points.map((l,c)=>({x:l.x+r.x*a[c],y:l.y+r.y*a[c]})))}scale(r){const n=this.order;let s=!1;if(typeof r=="function"&&(s=r),s&&n===2)return this.raise().scale(s);const i=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),s?s(0):r,s?s(1):r);const l=s?s(0):r,c=s?s(1):r,u=[this.offset(0,10),this.offset(1,10)],d=[],h=G.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const x=d[f*n]=G.copy(a[f*n]);x.x+=(f?c:l)*u[f].n.x,x.y+=(f?c:l)*u[f].n.y}),s?([0,1].forEach(function(f){if(!(n===2&&f)){var x=a[f+1],b={x:x.x-h.x,y:x.y-h.y},w=s?s((f+1)/n):r;s&&!i&&(w=-w);var S=Lr(b.x*b.x+b.y*b.y);b.x/=S,b.y/=S,d[f+1]={x:x.x+w*b.x,y:x.y+w*b.y}}}),new je(d)):([0,1].forEach(f=>{if(n===2&&f)return;const x=d[f*n],b=this.derivative(f),w={x:x.x+b.x,y:x.y+b.y};d[f+1]=G.lli4(x,w,h,a[f+1])}),new je(d))}outline(r,n,s,i){if(n=n===void 0?r:n,this._linear){const y=this.normal(0),N=this.points[0],j=this.points[this.points.length-1];let k,C,O;s===void 0&&(s=r,i=n),k={x:N.x+y.x*r,y:N.y+y.y*r},O={x:j.x+y.x*s,y:j.y+y.y*s},C={x:(k.x+O.x)/2,y:(k.y+O.y)/2};const E=[k,C,O];k={x:N.x-y.x*n,y:N.y-y.y*n},O={x:j.x-y.x*i,y:j.y-y.y*i},C={x:(k.x+O.x)/2,y:(k.y+O.y)/2};const R=[O,C,k],$=G.makeline(R[2],E[0]),P=G.makeline(E[2],R[0]),T=[$,new je(E),P,new je(R)];return new tn(T)}const a=this.reduce(),l=a.length,c=[];let u=[],d,h=0,f=this.length();const x=typeof s<"u"&&typeof i<"u";function b(y,N,j,k,C){return function(O){const E=k/j,R=(k+C)/j,$=N-y;return G.map(O,0,1,y+E*$,y+R*$)}}a.forEach(function(y){const N=y.length();x?(c.push(y.scale(b(r,s,f,h,N))),u.push(y.scale(b(-n,-i,f,h,N)))):(c.push(y.scale(r)),u.push(y.scale(-n))),h+=N}),u=u.map(function(y){return d=y.points,d[3]?y.points=[d[3],d[2],d[1],d[0]]:y.points=[d[2],d[1],d[0]],y}).reverse();const w=c[0].points[0],S=c[l-1].points[c[l-1].points.length-1],v=u[l-1].points[u[l-1].points.length-1],m=u[0].points[0],p=G.makeline(v,w),_=G.makeline(S,m),g=[p].concat(c).concat([_]).concat(u);return new tn(g)}outlineshapes(r,n,s){n=n||r;const i=this.outline(r,n).curves,a=[];for(let l=1,c=i.length;l<c/2;l++){const u=G.makeshape(i[l],i[c-l],s);u.startcap.virtual=l>1,u.endcap.virtual=l<c/2-1,a.push(u)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof je&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){const n=co(r.p1.x,r.p2.x),s=co(r.p1.y,r.p2.y),i=uo(r.p1.x,r.p2.x),a=uo(r.p1.y,r.p2.y);return G.roots(this.points,r).filter(l=>{var c=this.get(l);return G.between(c.x,n,i)&&G.between(c.y,s,a)})}selfintersects(r){const n=this.reduce(),s=n.length-2,i=[];for(let a=0,l,c,u;a<s;a++)c=n.slice(a,a+1),u=n.slice(a+2),l=this.curveintersects(c,u,r),i.push(...l);return i}curveintersects(r,n,s){const i=[];r.forEach(function(l){n.forEach(function(c){l.overlaps(c)&&i.push({left:l,right:c})})});let a=[];return i.forEach(function(l){const c=G.pairiteration(l.left,l.right,s);c.length>0&&(a=a.concat(c))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,s,i){const a=(i-s)/4,l=this.get(s+a),c=this.get(i-a),u=G.dist(r,n),d=G.dist(r,l),h=G.dist(r,c);return zr(d-u)+zr(h-u)}_iterate(r,n){let s=0,i=1,a;do{a=0,i=1;let l=this.get(s),c,u,d,h,f=!1,x=!1,b,w=i,S=1;do if(x=f,h=d,w=(s+i)/2,c=this.get(w),u=this.get(i),d=G.getccenter(l,c,u),d.interval={start:s,end:i},f=this._error(d,l,s,i)<=r,b=x&&!f,b||(S=i),f){if(i>=1){if(d.interval.end=S=1,h=d,i>1){let m={x:d.x+d.r*rb(d.e),y:d.y+d.r*nb(d.e)};d.e+=G.angle({x:d.x,y:d.y},m,this.get(1))}break}i=i+(i-s)/2}else i=w;while(!b&&a++<100);if(a>=100)break;h=h||d,n.push(h),s=S}while(i<1);return n}}function pi(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function ab(e){if(Array.isArray(e))return e}function ob(e){if(Array.isArray(e))return pi(e)}function lb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cb(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function ub(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function db(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fb(e,r){if(e==null)return{};var n,s,i=hb(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function hb(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.includes(s))continue;n[s]=e[s]}return n}function pb(e,r){return ab(e)||cb(e,r)||Fc(e,r)||ub()}function mb(e){return ob(e)||lb(e)||Fc(e)||db()}function gb(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function xb(e){var r=gb(e,"string");return typeof r=="symbol"?r:r+""}function Fc(e,r){if(e){if(typeof e=="string")return pi(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pi(e,r):void 0}}var yb=(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),a=e.reduce(function(c,u){var d=c,h=u;return i.forEach(function(f,x){var b=f.keyAccessor,w=f.isProp,S;if(w){var v=h,m=v[b],p=fb(v,[b].map(xb));S=m,h=p}else S=b(h,x);x+1<i.length?(d.hasOwnProperty(S)||(d[S]={}),d=d[S]):n?(d.hasOwnProperty(S)||(d[S]=[]),d[S].push(h)):d[S]=h}),c},{});n instanceof Function&&(function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===i.length?Object.keys(u).forEach(function(h){return u[h]=n(u[h])}):Object.values(u).forEach(function(h){return c(h,d+1)})})(a);var l=a;return s&&(l=[],(function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===i.length?l.push({keys:d,vals:u}):Object.entries(u).forEach(function(h){var f=pb(h,2),x=f[0],b=f[1];return c(b,[].concat(mb(d),[x]))})})(a),r instanceof Array&&r.length===0&&l.length===1&&(l[0].keys=[])),l});function vb(e){for(var r=e.length/6|0,n=new Array(r),s=0;s<r;)n[s]="#"+e.slice(s*6,++s*6);return n}const bb=vb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function wb(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var _b=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;wb(_b);function mi(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function jb(e){if(Array.isArray(e))return e}function Nb(e){if(Array.isArray(e))return mi(e)}function fo(e,r,n){if(Ic())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,r);var i=new(e.bind.apply(e,s));return i}function un(e,r,n){return(r=Eb(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Ic(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ic=function(){return!!e})()}function Sb(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kb(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,l,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(d)throw i}}return c}}function Cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ob(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ho(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ir(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ho(Object(n),!0).forEach(function(s){un(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ho(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rn(e,r){return jb(e)||kb(e,r)||Hc(e,r)||Cb()}function Je(e){return Nb(e)||Sb(e)||Hc(e)||Ob()}function Pb(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Eb(e){var r=Pb(e,"string");return typeof r=="symbol"?r:r+""}function gi(e){"@babel/helpers - typeof";return gi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gi(e)}function Hc(e,r){if(e){if(typeof e=="string")return mi(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mi(e,r):void 0}}var Rb=Bu(bb);function po(e,r,n){!r||typeof n!="string"||e.filter(function(s){return!s[n]}).forEach(function(s){s[n]=Rb(r(s))})}function Db(e,r){var n=e.nodes,s=e.links,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.nodeFilter,l=a===void 0?function(){return!0}:a,c=i.onLoopError,u=c===void 0?function(b){throw"Invalid DAG structure! Found cycle in node path: ".concat(b.join(" -> "),".")}:c,d={};n.forEach(function(b){return d[r(b)]={data:b,out:[],depth:-1,skip:!l(b)}}),s.forEach(function(b){var w=b.source,S=b.target,v=g(w),m=g(S);if(!d.hasOwnProperty(v))throw"Missing source node with id: ".concat(v);if(!d.hasOwnProperty(m))throw"Missing target node with id: ".concat(m);var p=d[v],_=d[m];p.out.push(_);function g(y){return gi(y)==="object"?r(y):y}});var h=[];x(Object.values(d));var f=Object.assign.apply(Object,[{}].concat(Je(Object.entries(d).filter(function(b){var w=rn(b,2),S=w[1];return!S.skip}).map(function(b){var w=rn(b,2),S=w[0],v=w[1];return un({},S,v.depth)}))));return f;function x(b){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,v=function(){var g=b[m];if(w.indexOf(g)!==-1){var y=[].concat(Je(w.slice(w.indexOf(g))),[g]).map(function(N){return r(N.data)});return h.some(function(N){return N.length===y.length&&N.every(function(j,k){return j===y[k]})})||(h.push(y),u(y)),1}S>g.depth&&(g.depth=S,x(g.out,[].concat(Je(w),[g]),S+(g.skip?0:1)))},m=0,p=b.length;m<p;m++)v()}}var Ab=2,Te=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},mo=function(r,n){if(!n.isShadow){var s=xe(n.linkDirectionalParticles);n.graphData.links.forEach(function(i){var a=Math.round(Math.abs(s(i)));a?i.__photons=Je(Array(a)).map(function(){return{}}):delete i.__photons})}},is=Ti({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1,mo(r,n)}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(s){return s.fx=s.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:Te},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:Te},nodeColor:{default:"color",triggerUpdate:!1,onChange:Te},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:Te},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Te},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:Te},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:Te},linkColor:{default:"color",triggerUpdate:!1,onChange:Te},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:Te},linkWidth:{default:1,triggerUpdate:!1,onChange:Te},linkCurvature:{default:0,triggerUpdate:!1,onChange:Te},linkCanvasObject:{triggerUpdate:!1,onChange:Te},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:Te},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:Te},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:Te},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:Te},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:mo},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,s){return s===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,s),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),i(),!r.isShadow&&a(),!r.isShadow&&l(),s(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function s(){var c=xe(r.nodeVisibility),u=xe(r.nodeVal),d=xe(r.nodeColor),h=xe(r.nodeCanvasObjectMode),f=r.ctx,x=r.isShadow/r.globalScale,b=r.graphData.nodes.filter(c);f.save(),b.forEach(function(w){var S=h(w);if(r.nodeCanvasObject&&(S==="before"||S==="replace")&&(r.nodeCanvasObject(w,f,r.globalScale),S==="replace")){f.restore();return}var v=Math.sqrt(Math.max(0,u(w)||1))*r.nodeRelSize+x;f.beginPath(),f.arc(w.x,w.y,v,0,2*Math.PI,!1),f.fillStyle=d(w)||"rgba(31, 120, 180, 0.92)",f.fill(),r.nodeCanvasObject&&S==="after"&&r.nodeCanvasObject(w,r.ctx,r.globalScale)}),f.restore()}function i(){var c=xe(r.linkVisibility),u=xe(r.linkColor),d=xe(r.linkWidth),h=xe(r.linkLineDash),f=xe(r.linkCurvature),x=xe(r.linkCanvasObjectMode),b=r.ctx,w=r.isShadow*2,S=r.graphData.links.filter(c);S.forEach(N);var v=[],m=[],p=S;if(r.linkCanvasObject){var _=[],g=[];S.forEach(function(j){return({before:v,after:m,replace:_}[x(j)]||g).push(j)}),p=[].concat(Je(v),m,g),v=v.concat(_)}b.save(),v.forEach(function(j){return r.linkCanvasObject(j,b,r.globalScale)}),b.restore();var y=yb(p,[u,d,h]);b.save(),Object.entries(y).forEach(function(j){var k=rn(j,2),C=k[0],O=k[1],E=!C||C==="undefined"?"rgba(0,0,0,0.15)":C;Object.entries(O).forEach(function(R){var $=rn(R,2),P=$[0],T=$[1],D=(P||1)/r.globalScale+w;Object.entries(T).forEach(function(I){var H=rn(I,2);H[0];var V=H[1],Y=h(V[0]);b.beginPath(),V.forEach(function(J){var K=J.source,ie=J.target;if(!(!K||!ie||!K.hasOwnProperty("x")||!ie.hasOwnProperty("x"))){b.moveTo(K.x,K.y);var se=J.__controlPoints;se?b[se.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(b,Je(se).concat([ie.x,ie.y])):b.lineTo(ie.x,ie.y)}}),b.strokeStyle=E,b.lineWidth=D,b.setLineDash(Y||[]),b.stroke()})})}),b.restore(),b.save(),m.forEach(function(j){return r.linkCanvasObject(j,b,r.globalScale)}),b.restore();function N(j){var k=f(j);if(!k){j.__controlPoints=null;return}var C=j.source,O=j.target;if(!(!C||!O||!C.hasOwnProperty("x")||!O.hasOwnProperty("x"))){var E=Math.sqrt(Math.pow(O.x-C.x,2)+Math.pow(O.y-C.y,2));if(E>0){var R=Math.atan2(O.y-C.y,O.x-C.x),$=E*k,P={x:(C.x+O.x)/2+$*Math.cos(R-Math.PI/2),y:(C.y+O.y)/2+$*Math.sin(R-Math.PI/2)};j.__controlPoints=[P.x,P.y]}else{var T=k*70;j.__controlPoints=[O.x,O.y-T,O.x+T,O.y]}}}}function a(){var c=1.6,u=.2,d=xe(r.linkDirectionalArrowLength),h=xe(r.linkDirectionalArrowRelPos),f=xe(r.linkVisibility),x=xe(r.linkDirectionalArrowColor||r.linkColor),b=xe(r.nodeVal),w=r.ctx;w.save(),r.graphData.links.filter(f).forEach(function(S){var v=d(S);if(!(!v||v<0)){var m=S.source,p=S.target;if(!(!m||!p||!m.hasOwnProperty("x")||!p.hasOwnProperty("x"))){var _=Math.sqrt(Math.max(0,b(m)||1))*r.nodeRelSize,g=Math.sqrt(Math.max(0,b(p)||1))*r.nodeRelSize,y=Math.min(1,Math.max(0,h(S))),N=x(S)||"rgba(0,0,0,0.28)",j=v/c/2,k=S.__controlPoints&&fo(je,[m.x,m.y].concat(Je(S.__controlPoints),[p.x,p.y])),C=k?function(D){return k.get(D)}:function(D){return{x:m.x+(p.x-m.x)*D||0,y:m.y+(p.y-m.y)*D||0}},O=k?k.length():Math.sqrt(Math.pow(p.x-m.x,2)+Math.pow(p.y-m.y,2)),E=_+v+(O-_-g-v)*y,R=C(E/O),$=C((E-v)/O),P=C((E-v*(1-u))/O),T=Math.atan2(R.y-$.y,R.x-$.x)-Math.PI/2;w.beginPath(),w.moveTo(R.x,R.y),w.lineTo($.x+j*Math.cos(T),$.y+j*Math.sin(T)),w.lineTo(P.x,P.y),w.lineTo($.x-j*Math.cos(T),$.y-j*Math.sin(T)),w.fillStyle=N,w.fill()}}}),w.restore()}function l(){var c=xe(r.linkDirectionalParticles),u=xe(r.linkDirectionalParticleSpeed),d=xe(r.linkDirectionalParticleOffset),h=xe(r.linkDirectionalParticleWidth),f=xe(r.linkVisibility),x=xe(r.linkDirectionalParticleColor||r.linkColor),b=r.ctx;b.save(),r.graphData.links.filter(f).forEach(function(w){var S=c(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var v=w.source,m=w.target;if(!(!v||!m||!v.hasOwnProperty("x")||!m.hasOwnProperty("x"))){var p=u(w),_=Math.abs(d(w)),g=w.__photons||[],y=Math.max(0,h(w)/2)/Math.sqrt(r.globalScale),N=x(w)||"rgba(0,0,0,0.28)";b.fillStyle=N;var j=w.__controlPoints?fo(je,[v.x,v.y].concat(Je(w.__controlPoints),[m.x,m.y])):null,k=0,C=!1;g.forEach(function(O){var E=!!O.__singleHop;if(O.hasOwnProperty("__progressRatio")||(O.__progressRatio=E?0:(k+_)/S),!E&&k++,O.__progressRatio+=p,O.__progressRatio>=1)if(!E)O.__progressRatio=O.__progressRatio%1;else{C=!0;return}var R=O.__progressRatio,$=j?j.get(R):{x:v.x+(m.x-v.x)*R||0,y:v.y+(m.y-v.y)*R||0};r.linkDirectionalParticleCanvasObject?r.linkDirectionalParticleCanvasObject($.x,$.y,w,b,r.globalScale):(b.beginPath(),b.arc($.x,$.y,y,0,2*Math.PI,!1),b.fill())}),C&&(w.__photons=w.__photons.filter(function(O){return!O.__singleHop||O.__progressRatio<=1}))}}}),b.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:Kv().force("link",qv()).force("charge",Jv()).force("center",W0()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r,n){r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&po(r.graphData.nodes,xe(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&po(r.graphData.links,xe(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(x){x.source=x[r.linkSource],x.target=x[r.linkTarget]}),r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var s=r.forceLayout.force("link");s&&s.id(function(x){return x[r.nodeId]}).links(r.graphData.links);var i=r.dagMode&&Db(r.graphData,function(x){return x[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),a=Math.max.apply(Math,Je(Object.values(i||[]))),l=r.dagLevelDistance||r.graphData.nodes.length/(a||1)*Ab*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["lr","rl"].includes(n.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(x){return delete x[c]})}if(["lr","rl","td","bu"].includes(r.dagMode)){var u=["rl","bu"].includes(r.dagMode),d=function(b){return(i[b[r.nodeId]]-a/2)*l*(u?-1:1)},h=["lr","rl"].includes(r.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(x){return x[h]=d(x)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?Zv(function(x){var b=i[x[r.nodeId]]||-1;return(r.dagMode==="radialin"?a-b:b)*l}).strength(function(x){return r.dagNodeFilter(x)?1:0}):null);for(var f=0;f<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);f++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function qc(e,r){var n=e instanceof Array?e:[e],s=new r;return s._destructor&&s._destructor(),{linkProp:function(a){return{default:s[a](),onChange:function(c,u){n.forEach(function(d){return u[d][a](c)})},triggerUpdate:!1}},linkMethod:function(a){return function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];var h=[];return n.forEach(function(f){var x=l[f],b=x[a].apply(x,u);b!==x&&h.push(b)}),h.length?h[0]:this}}}}var Tb=800,Mb=4,zb=5,Uc=qc("forceGraph",is),Lb=qc(["forceGraph","shadowGraph"],is),$b=Object.assign.apply(Object,Je(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return un({},e,Uc.linkProp(e))})).concat(Je(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return un({},e,Lb.linkProp(e))})))),Fb=Object.assign.apply(Object,Je(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return un({},e,Uc.linkMethod(e))})));function Hs(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var s=window.devicePixelRatio;r/=s,n/=s,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*s,a.height=e.height*s,!r&&!n&&a.getContext("2d").scale(s,s)});var i=lt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/i,(e.height-n)/2/i),e.needsRedraw=!0}}function Wc(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function go(e,r,n){e.save(),Wc(e),e.clearRect(0,0,r,n),e.restore()}var Ib=Ti({props:ir({width:{default:window.innerWidth,onChange:function(r,n){return Hs(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return Hs(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[r.nodes,r.links].every(function(i){return(i||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(s),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function s(i){var a=i.type,l=i.objs;l.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var u=n.colorTracker.lookup(c.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==c}).forEach(function(c){c.__indexColor=n.colorTracker.register({type:a,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(s,i,a){return r(s,s.__indexColor,i,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(s,i,a){return r(s,s.__indexColor,i,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},$b),aliases:{stopAnimation:"pauseAnimation"},methods:ir({graph2ScreenCoords:function(r,n,s){var i=lt(r.canvas);return{x:n*i.k+i.x,y:s*i.k+i.y}},screen2GraphCoords:function(r,n,s){var i=lt(r.canvas);return{x:(n-i.x)/i.k,y:(s-i.y)/i.k}},centerAt:function(r,n,s,i){if(!r.canvas)return null;if(n!==void 0||s!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},s!==void 0?{y:s}:{});return i?r.tweenGroup.add(new Fa(l()).to(a,i).easing(Qt.Quadratic.Out).onUpdate(c).start()):c(a),this}return l();function l(){var u=lt(r.canvas);return{x:(r.width/2-u.x)/u.k,y:(r.height/2-u.y)/u.k}}function c(u){var d=u.x,h=u.y;r.zoom.translateTo(r.zoom.__baseElem,d===void 0?l().x:d,h===void 0?l().y:h),r.needsRedraw=!0}},zoom:function(r,n,s){if(!r.canvas)return null;if(n!==void 0)return s?r.tweenGroup.add(new Fa({k:i()}).to({k:n},s).easing(Qt.Quadratic.Out).onUpdate(function(l){var c=l.k;return a(c)}).start()):a(n),this;return i();function i(){return lt(r.canvas).k}function a(l){r.zoom.scaleTo(r.zoom.__baseElem,l),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,a=new Array(i>3?i-3:0),l=3;l<i;l++)a[l-3]=arguments[l];var c=this.getGraphBbox.apply(this,a);if(c){var u={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(r.width-s*2)/(c.x[1]-c.x[0]),(r.height-s*2)/(c.y[1]-c.y[0])));this.centerAt(u.x,u.y,n),this.zoom(d,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},s=xe(r.nodeVal),i=function(c){return Math.sqrt(Math.max(0,s(c)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(l){return{x:l.x,y:l.y,r:i(l)}});return a.length?{x:[ea(a,function(l){return l.x-l.r}),ta(a,function(l){return l.x+l.r})],y:[ea(a,function(l){return l.y-l.r}),ta(a,function(l){return l.y+l.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},Fb),stateInit:function(){return{lastSetZoom:1,zoom:ry(),forceGraph:new is,shadowGraph:new is().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new _0,tweenGroup:new hc}},init:function(r,n){var s=this;r.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",r.appendChild(i),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),i.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),l=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},u=function(){var f=null,x=window.devicePixelRatio,b=c.x>0&&c.y>0?l.getImageData(c.x*x,c.y*x,1,1):null;return b&&(f=n.colorTracker.lookup(b.data)),f};Ke(n.canvas).call($g().subject(function(){if(!n.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,x=f.__initialDragPos,b=h,w=lt(n.canvas).k,S={x:x.x+(b.x-x.x)/w-f.x,y:x.y+(b.y-x.y)/w-f.y};["x","y"].forEach(function(v){return f["f".concat(v)]=f[v]=x[v]+(b[v]-x[v])/w}),!(!f.__dragged&&zb>=Math.sqrt(Vu(["x","y"].map(function(v){return Math.pow(h[v]-x[v],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,f.__dragged=!0,n.onNodeDrag(f,S))}).on("end",function(h){var f=h.subject,x=f.__initialDragPos,b={x:f.x-x.x,y:f.y-x.y};x.fx===void 0&&(f.fx=void 0),x.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,n.onNodeDragEnd(f,b))})),n.zoom(n.zoom.__baseElem=Ke(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(h.type!=="wheel"||xe(n.enableZoomInteraction)(h))&&(h.type==="wheel"||xe(n.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[a,l].forEach(function(x){Wc(x),x.translate(f.x,f.y),x.scale(f.k,f.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(ir(ir({},f),s.centerAt())),n.needsRedraw=!0}).on("end",function(h){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(ir(ir({},h.transform),s.centerAt()))}),Hs(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){lt(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=Mb/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new U0(i),["pointermove","pointerdown"].forEach(function(h){return i.addEventListener(h,function(f){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=f),!n.isPointerDragging&&f.type==="pointermove"&&n.onBackgroundClick&&(f.pressure>0||n.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(w){return Math.abs(w)>1}))&&(n.isPointerDragging=!0);var x=b(i);c.x=f.pageX-x.left,c.y=f.pageY-x.top;function b(w){var S=w.getBoundingClientRect(),v=window.pageXOffset||document.documentElement.scrollLeft,m=window.pageYOffset||document.documentElement.scrollTop;return{top:S.top+m,left:S.left+v}}},{passive:!0})}),i.addEventListener("pointerup",function(h){if(n.isPointerPressed){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var f=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var x=n["on".concat(n.hoverObj.type,"Click")];x&&x.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,f);if(h.button===2)if(n.hoverObj){var b=n["on".concat(n.hoverObj.type,"RightClick")];b&&b.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,f)})}},{passive:!0}),i.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(l);var d=Py(function(){go(l,n.width,n.height),n.shadowGraph.linkWidth(function(f){return xe(n.linkWidth)(f)+n.linkHoverPrecision});var h=lt(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},Tb);n.flushShadowCanvas=d.flush,(this._animationCycle=function h(){var f=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(_){return _.__photons&&_.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var x=n.isPointerDragging?null:u();if(x!==n.hoverObj){var b=n.hoverObj,w=b?b.type:null,S=x?x.type:null;if(w&&w!==S){var v=n["on".concat(w,"Hover")];v&&v(null,b.d)}if(S){var m=n["on".concat(S,"Hover")];m&&m(x.d,w===S?b.d:null)}n.tooltip.content(x&&xe(n["".concat(x.type.toLowerCase(),"Label")])(x.d)||null),n.canvas.classList[(x&&n["on".concat(S,"Click")]||!x&&n.onBackgroundClick)&&xe(n.showPointerCursor)(x==null?void 0:x.d)?"add":"remove"]("clickable"),n.hoverObj=x}f&&d()}if(f){go(a,n.width,n.height);var p=lt(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,p),n.forceGraph.globalScale(p).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,p)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(r){}});const Ss={width:M.number,height:M.number,graphData:M.shape({nodes:M.arrayOf(M.object).isRequired,links:M.arrayOf(M.object).isRequired}),backgroundColor:M.string,nodeRelSize:M.number,nodeId:M.string,nodeLabel:M.oneOfType([M.string,M.func]),nodeVal:M.oneOfType([M.number,M.string,M.func]),nodeVisibility:M.oneOfType([M.bool,M.string,M.func]),nodeColor:M.oneOfType([M.string,M.func]),nodeAutoColorBy:M.oneOfType([M.string,M.func]),onNodeHover:M.func,onNodeClick:M.func,linkSource:M.string,linkTarget:M.string,linkLabel:M.oneOfType([M.string,M.func]),linkVisibility:M.oneOfType([M.bool,M.string,M.func]),linkColor:M.oneOfType([M.string,M.func]),linkAutoColorBy:M.oneOfType([M.string,M.func]),linkWidth:M.oneOfType([M.number,M.string,M.func]),linkCurvature:M.oneOfType([M.number,M.string,M.func]),linkDirectionalArrowLength:M.oneOfType([M.number,M.string,M.func]),linkDirectionalArrowColor:M.oneOfType([M.string,M.func]),linkDirectionalArrowRelPos:M.oneOfType([M.number,M.string,M.func]),linkDirectionalParticles:M.oneOfType([M.number,M.string,M.func]),linkDirectionalParticleSpeed:M.oneOfType([M.number,M.string,M.func]),linkDirectionalParticleOffset:M.oneOfType([M.number,M.string,M.func]),linkDirectionalParticleWidth:M.oneOfType([M.number,M.string,M.func]),linkDirectionalParticleColor:M.oneOfType([M.string,M.func]),onLinkHover:M.func,onLinkClick:M.func,dagMode:M.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:M.number,dagNodeFilter:M.func,onDagError:M.func,d3AlphaMin:M.number,d3AlphaDecay:M.number,d3VelocityDecay:M.number,warmupTicks:M.number,cooldownTicks:M.number,cooldownTime:M.number,onEngineTick:M.func,onEngineStop:M.func,getGraphBbox:M.func},Bc={zoomToFit:M.func,onNodeRightClick:M.func,onNodeDrag:M.func,onNodeDragEnd:M.func,onLinkRightClick:M.func,linkHoverPrecision:M.number,onBackgroundClick:M.func,onBackgroundRightClick:M.func,showPointerCursor:M.oneOfType([M.bool,M.func]),enablePointerInteraction:M.bool,enableNodeDrag:M.bool},qi={showNavInfo:M.bool,nodeOpacity:M.number,nodeResolution:M.number,nodeThreeObject:M.oneOfType([M.object,M.string,M.func]),nodeThreeObjectExtend:M.oneOfType([M.bool,M.string,M.func]),nodePositionUpdate:M.func,linkOpacity:M.number,linkResolution:M.number,linkCurveRotation:M.oneOfType([M.number,M.string,M.func]),linkMaterial:M.oneOfType([M.object,M.string,M.func]),linkThreeObject:M.oneOfType([M.object,M.string,M.func]),linkThreeObjectExtend:M.oneOfType([M.bool,M.string,M.func]),linkPositionUpdate:M.func,linkDirectionalArrowResolution:M.number,linkDirectionalParticleResolution:M.number,linkDirectionalParticleThreeObject:M.oneOfType([M.object,M.string,M.func]),forceEngine:M.oneOf(["d3","ngraph"]),ngraphPhysics:M.object,numDimensions:M.oneOf([1,2,3])},Hb=Object.assign({},Ss,Bc,{linkLineDash:M.oneOfType([M.arrayOf(M.number),M.string,M.func]),nodeCanvasObjectMode:M.oneOfType([M.string,M.func]),nodeCanvasObject:M.func,nodePointerAreaPaint:M.func,linkCanvasObjectMode:M.oneOfType([M.string,M.func]),linkCanvasObject:M.func,linkPointerAreaPaint:M.func,linkDirectionalParticleCanvasObject:M.func,autoPauseRedraw:M.bool,minZoom:M.number,maxZoom:M.number,enableZoomInteraction:M.oneOfType([M.bool,M.func]),enablePanInteraction:M.oneOfType([M.bool,M.func]),onZoom:M.func,onZoomEnd:M.func,onRenderFramePre:M.func,onRenderFramePost:M.func});Object.assign({},Ss,Bc,qi,{enableNavigationControls:M.bool,controlType:M.oneOf(["trackball","orbit","fly"]),rendererConfig:M.object,extraRenderers:M.arrayOf(M.shape({render:M.func.isRequired}))});Object.assign({},Ss,qi,{nodeDesc:M.oneOfType([M.string,M.func]),linkDesc:M.oneOfType([M.string,M.func])});Object.assign({},Ss,qi,{markerAttrs:M.object,yOffset:M.number,glScale:M.number});const Ui=Kp(Ib,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Ui.displayName="ForceGraph2D";Ui.propTypes=Hb;const qb=({scanId:e})=>{const[r,n]=z.useState(null),[s,i]=z.useState(!0),[a,l]=z.useState(null),[c,u]=z.useState(null),[d,h]=z.useState(""),[f,x]=z.useState(!1),b=z.useRef(),w=z.useRef(null);z.useEffect(()=>{(async()=>{try{i(!0);const E=localStorage.getItem("token"),R=await fetch(`/api/scans/${e}/topology`,{headers:{Authorization:`Bearer ${E}`}});if(!R.ok)throw new Error("Failed to fetch topology data");const $=await R.json();n($)}catch(E){l(E instanceof Error?E.message:"Unknown error")}finally{i(!1)}})()},[e]);const S=O=>O.critical_vulns>0||O.risk_score>=75?"#ef4444":O.high_vulns>0||O.risk_score>=50?"#f97316":O.risk_score>=25?"#eab308":"#22c55e",v=O=>{const R=Math.min(O.open_ports_count/10,3),$=Math.min(O.vuln_count/5,3),P=O.is_gateway?3:0;return 5+R+$+P},m=O=>{switch(O){case"server":return o.jsx(Pt,{className:"w-4 h-4"});case"workstation":return o.jsx(Eu,{className:"w-4 h-4"});case"network":return o.jsx(Vn,{className:"w-4 h-4"});case"gateway":return o.jsx(Yi,{className:"w-4 h-4"});default:return o.jsx(Xo,{className:"w-4 h-4"})}},p=O=>{switch(O.relationship_type){case"gateway":return"#3b82f6";case"shared_service":return"#8b5cf6";case"same_subnet":return"#6b7280";default:return"#6b7280"}},_=z.useCallback(O=>{u(O)},[]),g=()=>{if(b.current){const O=b.current.zoom();b.current.zoom(O*1.3,400)}},y=()=>{if(b.current){const O=b.current.zoom();b.current.zoom(O/1.3,400)}},N=()=>{if(!r||!d)return;const O=r.nodes.find(E=>{var R;return E.ip.includes(d)||((R=E.hostname)==null?void 0:R.toLowerCase().includes(d.toLowerCase()))});if(O&&b.current){const E=O;b.current.centerAt(E.x,E.y,1e3),b.current.zoom(3,1e3),u(O)}},j=()=>{x(!f)};if(s)return o.jsx(ce,{className:"p-8",children:o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),o.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading network topology..."})]})});if(a)return o.jsx(ce,{className:"p-8",children:o.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:o.jsxs("p",{children:["Failed to load topology: ",a]})})});if(!r||r.nodes.length===0)return o.jsx(ce,{className:"p-8",children:o.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[o.jsx(Vn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No topology data available for this scan."})]})});const k={nodes:r.nodes.map(O=>({...O,color:S(O),size:v(O)})),links:r.edges.map(O=>({...O,color:p(O)}))},C=f?"fixed inset-0 z-50 bg-gray-900":"relative";return o.jsx("div",{ref:w,className:C,children:o.jsxs(ce,{className:f?"h-full rounded-none":"h-[600px]",children:[o.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2",children:[o.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[o.jsx("input",{type:"text",placeholder:"Search IP or hostname...",value:d,onChange:O=>h(O.target.value),onKeyPress:O=>O.key==="Enter"&&N(),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}),o.jsx("button",{onClick:N,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:o.jsx(ds,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[o.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom In",children:o.jsx(Cu,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),o.jsx("button",{onClick:y,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom Out",children:o.jsx(Ou,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),o.jsx("button",{onClick:j,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:f?"Exit Fullscreen":"Fullscreen",children:f?o.jsx(hr,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):o.jsx(Pu,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),o.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[o.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:"Legend"}),o.jsxs("div",{className:"space-y-2 text-xs",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Risk Level"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low (0-25)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium (25-50)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High (50-75)"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical (75+)"})]}),o.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[o.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Connections"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-0.5 bg-blue-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gateway"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-0.5 bg-purple-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shared Service"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-8 h-0.5 bg-gray-500"}),o.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Subnet"})]})]})]})]}),c&&o.jsxs("div",{className:"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[m(c.node_type),o.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.hostname||c.ip})]}),o.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:o.jsx(hr,{className:"w-4 h-4"})})]}),o.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"IP:"})," ",c.ip]}),c.os&&o.jsxs("div",{children:[o.jsx("strong",{children:"OS:"})," ",c.os]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Subnet:"})," ",c.subnet]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Open Ports:"})," ",c.open_ports_count]}),c.vuln_count>0&&o.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[o.jsxs("div",{children:[o.jsx("strong",{children:"Vulnerabilities:"})," ",c.vuln_count]}),c.critical_vulns>0&&o.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Critical: ",c.critical_vulns]}),c.high_vulns>0&&o.jsxs("div",{className:"text-orange-600 dark:text-orange-400",children:["High: ",c.high_vulns]}),o.jsxs("div",{children:[o.jsx("strong",{children:"Risk Score:"})," ",c.risk_score.toFixed(1)]})]}),c.is_gateway&&o.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:o.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs font-medium",children:[o.jsx(Yi,{className:"w-3 h-3 mr-1"}),"Gateway"]})})]})]}),o.jsxs("div",{className:"absolute bottom-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[o.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:["Subnets (",r.subnets.length,")"]}),o.jsx("div",{className:"space-y-1 text-xs max-h-32 overflow-y-auto",children:r.subnets.map(O=>o.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[o.jsx("span",{className:"font-mono",children:O.subnet}),o.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[O.host_count," ",O.host_count===1?"host":"hosts"]})]},O.subnet))})]}),o.jsx(Ui,{ref:b,graphData:k,nodeLabel:O=>`${O.hostname||O.ip}
${O.os||""}
Risk: ${O.risk_score.toFixed(1)}`,nodeColor:O=>O.color,nodeVal:O=>O.size,linkColor:O=>O.color,linkWidth:O=>O.strength*2,linkDirectionalParticles:O=>O.relationship_type==="gateway"?2:0,linkDirectionalParticleSpeed:.005,onNodeClick:_,nodeCanvasObject:(O,E,R)=>{const $=O.hostname||O.ip,P=12/R;E.font=`${P}px Sans-Serif`,E.beginPath(),E.arc(O.x,O.y,O.size,0,2*Math.PI,!1),E.fillStyle=O.color,E.fill(),O.is_gateway&&(E.strokeStyle="#3b82f6",E.lineWidth=2/R,E.stroke()),R>1.5&&(E.textAlign="center",E.textBaseline="middle",E.fillStyle="rgba(255, 255, 255, 0.9)",E.fillText($,O.x,O.y+O.size+P+2))},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTicks:100,onEngineStop:()=>{var O;return(O=b.current)==null?void 0:O.zoomToFit(400)}})]})})},Ub=()=>{const{activeScan:e,results:r}=ft(),[n,s]=z.useState(!1),[i,a]=z.useState(null),[l,c]=z.useState(""),[u,d]=z.useState("risk"),[h,f]=z.useState("all"),[x,b]=z.useState(!1),[w,S]=z.useState(!1),[v,m]=z.useState(!1),[p,_]=z.useState(0),[g,y]=z.useState("results"),[N,j]=z.useState(!1),k=e?r.get(e.id)||[]:[];z.useEffect(()=>{e&&e.status==="completed"&&k.length===0&&C()},[e]);const C=async()=>{if(e){s(!0);try{const T=await Zt.getResults(e.id);ft.getState().setResults(e.id,T.data)}catch{Q.error("Failed to load scan results")}finally{s(!1)}}},O=async()=>{var T,D,I;if(e){j(!0);try{const H=await If.exportScan(e.id);H.data.success?Q.success(`Exported ${H.data.events_count} events to ${H.data.exported_to} SIEM integration(s)`):Q.warning("Export completed with issues. Check SIEM settings."),H.data.errors&&H.data.errors.length>0&&H.data.errors.forEach(V=>{Q.error(`SIEM export error: ${V}`)})}catch(H){((T=H.response)==null?void 0:T.status)===404?Q.error("No SIEM integrations configured. Go to Settings > SIEM Integration to set up."):Q.error(((I=(D=H.response)==null?void 0:D.data)==null?void 0:I.error)||"Failed to export to SIEM")}finally{j(!1)}}},E=z.useMemo(()=>{let T=[...k];switch(l&&(T=T.filter(D=>{var I;return D.target.ip.includes(l)||((I=D.target.hostname)==null?void 0:I.toLowerCase().includes(l.toLowerCase()))})),h){case"with-vulns":T=T.filter(D=>D.vulnerabilities.length>0);break;case"critical":T=T.filter(D=>D.vulnerabilities.some(I=>I.severity==="Critical"));break;case"high":T=T.filter(D=>D.vulnerabilities.some(I=>I.severity==="Critical"||I.severity==="High"));break}return T.sort((D,I)=>{switch(u){case"risk":return Ts(I)-Ts(D);case"vulns":return I.vulnerabilities.length-D.vulnerabilities.length;case"ports":return I.ports.filter(H=>H.state==="Open").length-D.ports.filter(H=>H.state==="Open").length;case"ip":default:return D.target.ip.localeCompare(I.target.ip)}}),T},[k,l,u,h]);if(!e)return o.jsx(ce,{children:o.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a scan from the list to view results"})});if(n)return o.jsx(ce,{children:o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(Ft,{})})});if(k.length===0)return o.jsx(ce,{children:o.jsx("div",{className:"text-center py-12 text-slate-500",children:e.status==="running"?"Scan in progress... Results will appear here as hosts are discovered":e.status==="pending"?"Scan is pending...":e.status==="failed"?`Scan failed: ${e.error_message||"Unknown error"}`:"No results available"})});const R=k.filter(T=>T.is_alive).length,$=k.reduce((T,D)=>T+D.ports.filter(I=>I.state==="Open").length,0),P=k.reduce((T,D)=>T+D.vulnerabilities.length,0);return o.jsxs("div",{className:"space-y-4",children:[o.jsx(ce,{children:o.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx(Pt,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:R}),o.jsx("p",{className:"text-sm text-slate-400",children:"Alive Hosts"})]}),o.jsxs("div",{children:[o.jsx(De,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:$}),o.jsx("p",{className:"text-sm text-slate-400",children:"Open Ports"})]}),o.jsxs("div",{children:[o.jsx(tt,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),o.jsx("p",{className:"text-2xl font-bold text-white",children:P}),o.jsx("p",{className:"text-sm text-slate-400",children:"Vulnerabilities"})]})]})}),o.jsx(ce,{children:o.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[o.jsxs("button",{onClick:()=>y("results"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${g==="results"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Ru,{className:"h-4 w-4"}),"Results"]}),o.jsxs("button",{onClick:()=>y("topology"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${g==="topology"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Vn,{className:"h-4 w-4"}),"Topology"]})]})}),g==="topology"&&e&&o.jsx(qb,{scanId:e.id}),g==="results"&&o.jsxs(o.Fragment,{children:[o.jsx(ce,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1",children:o.jsx(Me,{type:"text",placeholder:"Search by IP or hostname...",value:l,onChange:T=>c(T.target.value),icon:o.jsx(ds,{className:"h-4 w-4"})})}),o.jsx(kp,{hosts:E,scanName:e==null?void 0:e.name,disabled:E.length===0}),o.jsxs("button",{onClick:()=>m(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-green-500 text-green-500 hover:bg-green-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(yi,{className:"h-4 w-4"}),"Compliance"]}),o.jsxs("button",{onClick:O,disabled:(e==null?void 0:e.status)!=="completed"||N,className:"px-4 py-2 rounded-lg border border-purple-500 text-purple-500 hover:bg-purple-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export scan results to configured SIEM integrations",children:[N?o.jsx(Ft,{}):o.jsx(Du,{className:"h-4 w-4"}),N?"Exporting...":"SIEM"]}),o.jsxs("button",{onClick:()=>S(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-primary text-primary hover:bg-primary/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(Lt,{className:"h-4 w-4"}),"Report"]}),o.jsxs("button",{onClick:()=>b(!x),className:`px-4 py-2 rounded-lg border transition-colors flex items-center gap-2 ${x?"bg-primary border-primary text-white":"border-dark-border text-slate-400 hover:border-primary hover:text-white"}`,children:[o.jsx(Au,{className:"h-4 w-4"}),"Filters"]})]}),x&&o.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-dark-border",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort by"}),o.jsxs("select",{value:u,onChange:T=>d(T.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[o.jsx("option",{value:"risk",children:"Risk Score (High to Low)"}),o.jsx("option",{value:"vulns",children:"Vulnerability Count"}),o.jsx("option",{value:"ports",children:"Port Count"}),o.jsx("option",{value:"ip",children:"IP Address"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Filter by"}),o.jsxs("select",{value:h,onChange:T=>f(T.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[o.jsx("option",{value:"all",children:"All Hosts"}),o.jsx("option",{value:"with-vulns",children:"With Vulnerabilities"}),o.jsx("option",{value:"high",children:"High/Critical Severity"}),o.jsx("option",{value:"critical",children:"Critical Only"})]})]})]}),o.jsxs("div",{className:"text-sm text-slate-400",children:["Showing ",E.length," of ",k.length," hosts"]})]})}),o.jsxs(ce,{children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Discovered Hosts"}),o.jsxs("div",{className:"space-y-3",children:[E.map(T=>{const D=Ts(T),I=bp(D);return o.jsxs("div",{className:`bg-dark-bg border rounded-lg p-4 cursor-pointer hover:border-primary/50 transition-all ${I==="Critical"?"border-severity-critical":I==="High"?"border-severity-high":"border-dark-border"}`,onClick:()=>a(i===T.target.ip?null:T.target.ip),children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white font-mono font-semibold",children:T.target.ip}),T.target.hostname&&o.jsx("p",{className:"text-sm text-slate-400",children:T.target.hostname})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs(Ve,{variant:"severity",type:Hl(I),children:["Risk: ",D]}),o.jsx(Ve,{variant:"status",type:T.is_alive?"completed":"failed",children:T.is_alive?"Alive":"Down"}),T.ports.filter(H=>H.state==="Open").length>0&&o.jsxs("span",{className:"text-sm text-slate-400",children:[T.ports.filter(H=>H.state==="Open").length," ports"]}),T.vulnerabilities.length>0&&o.jsxs("span",{className:"text-sm text-red-400",children:[T.vulnerabilities.length," vulns"]})]})]}),i===T.target.ip&&o.jsxs("div",{className:"mt-4 border-t border-dark-border pt-4 space-y-4",children:[T.os_guess&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-300 mb-1",children:"OS Detection"}),o.jsxs("p",{className:"text-sm text-slate-400",children:[T.os_guess.os_family," ",T.os_guess.os_version," (",T.os_guess.confidence,"% confidence)"]})]}),T.ports.filter(H=>H.state==="Open").length>0&&o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Open Ports"}),o.jsx("div",{className:"space-y-2",children:T.ports.filter(H=>H.state==="Open").map(H=>{var V,Y;return o.jsx("div",{children:o.jsxs("div",{className:"bg-dark-surface rounded p-3 text-sm",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("span",{className:"text-white font-mono font-semibold",children:[H.port,"/",H.protocol]}),H.service&&o.jsxs("span",{className:"text-slate-400",children:[H.service.name," ",H.service.version&&o.jsxs("span",{className:"text-slate-500",children:["v",H.service.version]})]})]}),((V=H.service)==null?void 0:V.banner)&&o.jsx(Np,{banner:H.service.banner,port:H.port,service:H.service.name}),((Y=H.service)==null?void 0:Y.ssl_info)&&o.jsx(Sp,{sslInfo:H.service.ssl_info,port:H.port})]})},H.port)})})]}),T.vulnerabilities.length>0&&o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm font-medium text-slate-300 mb-3",children:["Vulnerabilities (",T.vulnerabilities.length,")"]}),o.jsx("div",{className:"space-y-3",children:T.vulnerabilities.map((H,V)=>o.jsx(jp,{vulnerability:H},V))})]})]})]},T.target.ip)}),E.length===0&&o.jsx("div",{className:"text-center py-8 text-slate-400",children:"No hosts match the current filters"})]})]}),(e==null?void 0:e.status)==="completed"&&o.jsx(Ep,{scanId:e.id,onGenerateNew:()=>S(!0)},p)]}),w&&e&&o.jsx(Op,{scanId:e.id,scanName:e.name,onClose:()=>S(!1),onReportCreated:()=>_(T=>T+1)}),v&&e&&o.jsx(Rp,{scanId:e.id,scanName:e.name,onClose:()=>m(!1)})]})},On=({title:e,value:r,icon:n,color:s,subtitle:i})=>o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),o.jsx("p",{className:`text-3xl font-bold ${s} mb-1`,children:r}),i&&o.jsx("p",{className:"text-slate-500 text-xs",children:i})]}),o.jsx("div",{className:`${s.replace("text-","bg-")}/20 p-3 rounded-lg`,children:n})]})}),Wb=()=>{const{scans:e,results:r}=ft(),n=z.useMemo(()=>{const s=e.filter(a=>a.status==="completed"),i=Array.from(r.values()).flat();return{..._p(i),completedScans:s.length}},[e,r]);return o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[o.jsx(On,{title:"Completed Scans",value:n.completedScans,icon:o.jsx(dt,{className:"h-6 w-6 text-primary"}),color:"text-primary",subtitle:`${e.filter(s=>s.status==="running").length} running`}),o.jsx(On,{title:"Hosts Discovered",value:n.totalHosts,icon:o.jsx(Pt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400",subtitle:`${n.totalPorts} open ports`}),o.jsx(On,{title:"Total Vulnerabilities",value:n.totalVulnerabilities,icon:o.jsx(tt,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400",subtitle:"Across all scans"}),o.jsx(On,{title:"Critical Findings",value:n.criticalVulnerabilities,icon:o.jsx(De,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical",subtitle:"Requires immediate attention"})]})},Bb={Critical:"#ef4444",High:"#f97316",Medium:"#eab308",Low:"#3b82f6"},Vb=({hosts:e})=>{const r=z.useMemo(()=>{const s=Il(e);return Object.entries(s).filter(([i,a])=>a>0).map(([i,a])=>({name:i,value:a,color:Bb[i]}))},[e]),n=r.reduce((s,i)=>s+i.value,0);return n===0?o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Distribution"}),o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No vulnerabilities found"})})]}):o.jsxs(ce,{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Vulnerability Distribution",o.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",n," total)"]})]}),o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(Gu,{children:[o.jsx(Yu,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:i})=>`${s}: ${(i*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((s,i)=>o.jsx(ol,{fill:s.color},`cell-${i}`))}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:s=>[`${s} vulnerabilities`,"Count"]}),o.jsx(ll,{verticalAlign:"bottom",height:36,formatter:(s,i)=>o.jsxs("span",{style:{color:"#cbd5e1"},children:[s,": ",i.payload.value]})})]})})]})},Gb={21:"#f97316",22:"#22c55e",23:"#ef4444",25:"#3b82f6",53:"#8b5cf6",80:"#06b6d4",110:"#3b82f6",143:"#3b82f6",443:"#10b981",445:"#f59e0b",3306:"#ec4899",3389:"#ef4444",5432:"#3b82f6",8080:"#06b6d4"},Yb="#64748b",Xb=({hosts:e})=>{const r=z.useMemo(()=>wp(e).map(n=>({...n,displayName:`${n.port} (${n.service})`,color:Gb[n.port]||Yb})),[e]);return r.length===0?o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Port Distribution"}),o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No open ports found"})})]}):o.jsxs(ce,{className:"p-6",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Top Open Ports",o.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:"(Across all hosts)"})]}),o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(cl,{data:r,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(lr,{type:"number",stroke:"#cbd5e1"}),o.jsx(cr,{dataKey:"displayName",type:"category",width:90,stroke:"#cbd5e1",tick:{fontSize:12}}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:(n,s,i)=>[`${n} hosts`,i.payload.service],labelFormatter:n=>{var s;return`Port ${(s=r.find(i=>i.displayName===n))==null?void 0:s.port}`}}),o.jsx(ul,{dataKey:"count",radius:[0,4,4,0],children:r.map((n,s)=>o.jsx(ol,{fill:n.color},`cell-${s}`))})]})})]})},Pn=({title:e,value:r,subtitle:n,icon:s,color:i,trend:a})=>o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),o.jsx("p",{className:`text-3xl font-bold ${i} mb-1`,children:r}),n&&o.jsx("p",{className:"text-slate-500 text-xs",children:n}),a&&o.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${a.isPositive?"text-green-400":"text-red-400"}`,children:[o.jsx(Tu,{className:`h-3 w-3 ${!a.isPositive&&"rotate-180"}`}),o.jsxs("span",{children:[a.isPositive?"+":"",a.value,"%"]})]})]}),o.jsx("div",{className:`${i.replace("text-","bg-")}/20 p-3 rounded-lg`,children:s})]})}),Kb=()=>{const[e,r]=z.useState(30),[n,s]=z.useState(!0),[i,a]=z.useState(null),[l,c]=z.useState(null),[u,d]=z.useState([]),[h,f]=z.useState([]),[x,b]=z.useState([]),[w,S]=z.useState([]);z.useEffect(()=>{v()},[e]);const v=async()=>{var p,_;s(!0),a(null);try{const[g,y,N,j,k]=await Promise.all([Sr.getSummary(e),Sr.getHosts(e),Sr.getVulnerabilities(e),Sr.getServices(10),Sr.getFrequency(e)]);c(g.data),d(y.data),f(N.data),b(j.data),S(k.data)}catch(g){console.error("Failed to load analytics:",g),a(((_=(p=g.response)==null?void 0:p.data)==null?void 0:_.message)||"Failed to load analytics data")}finally{s(!1)}},m=p=>new Date(p).toLocaleDateString("en-US",{month:"short",day:"numeric"});return n?o.jsx("div",{className:"flex items-center justify-center h-96",children:o.jsx(Ft,{size:"lg"})}):i?o.jsx(ce,{className:"p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(tt,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Analytics"}),o.jsx("p",{className:"text-slate-400 mb-4",children:i}),o.jsx("button",{onClick:v,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors",children:"Retry"})]})}):l?o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Analytics Dashboard"}),o.jsx("p",{className:"text-slate-400",children:"Insights and trends from your security scans"})]}),o.jsxs("div",{className:"flex items-center gap-2 bg-dark-surface border border-dark-border rounded-lg p-1",children:[o.jsxs("button",{onClick:()=>r(7),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===7?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[o.jsx(Mn,{className:"h-4 w-4"}),"7 Days"]}),o.jsxs("button",{onClick:()=>r(30),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===30?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[o.jsx(Mn,{className:"h-4 w-4"}),"30 Days"]}),o.jsxs("button",{onClick:()=>r(90),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===90?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[o.jsx(Mn,{className:"h-4 w-4"}),"90 Days"]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsx(Pn,{title:"Total Scans",value:l.total_scans,subtitle:`${l.scans_this_week} this week`,icon:o.jsx(dt,{className:"h-6 w-6 text-primary"}),color:"text-primary"}),o.jsx(Pn,{title:"Hosts Discovered",value:l.total_hosts,subtitle:`${l.total_ports} open ports`,icon:o.jsx(Pt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),o.jsx(Pn,{title:"Total Vulnerabilities",value:l.total_vulnerabilities,subtitle:`${l.critical_vulns} critical`,icon:o.jsx(tt,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),o.jsx(Pn,{title:"Critical Findings",value:l.critical_vulns,subtitle:"Requires immediate attention",icon:o.jsx(De,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical"})]}),o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Severity Breakdown"}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),o.jsx(De,{className:"h-4 w-4 text-severity-critical"})]}),o.jsx("p",{className:"text-2xl font-bold text-severity-critical",children:l.critical_vulns})]}),o.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-slate-400",children:"High"}),o.jsx(De,{className:"h-4 w-4 text-severity-high"})]}),o.jsx("p",{className:"text-2xl font-bold text-severity-high",children:l.high_vulns})]}),o.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-slate-400",children:"Medium"}),o.jsx(De,{className:"h-4 w-4 text-severity-medium"})]}),o.jsx("p",{className:"text-2xl font-bold text-severity-medium",children:l.medium_vulns})]}),o.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm text-slate-400",children:"Low"}),o.jsx(De,{className:"h-4 w-4 text-severity-low"})]}),o.jsx("p",{className:"text-2xl font-bold text-severity-low",children:l.low_vulns})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hosts Discovered Over Time"}),u.length>0?o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(Vs,{data:u,children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(lr,{dataKey:"date",tickFormatter:m,stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(cr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:m}),o.jsx(Gs,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Hosts"})]})}):o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No data available"})})]}),o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Scan Frequency"}),w.length>0?o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(Vs,{data:w,children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(lr,{dataKey:"date",tickFormatter:m,stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(cr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:m}),o.jsx(Gs,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:4},activeDot:{r:6},name:"Scans"})]})}):o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No data available"})})]}),o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Trends by Severity"}),h.length>0?o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(Xu,{data:h,children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(lr,{dataKey:"date",tickFormatter:m,stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(cr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:m}),o.jsx(ll,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),o.jsx(vn,{type:"monotone",dataKey:"critical",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Critical"}),o.jsx(vn,{type:"monotone",dataKey:"high",stackId:"1",stroke:"#f97316",fill:"#f97316",fillOpacity:.6,name:"High"}),o.jsx(vn,{type:"monotone",dataKey:"medium",stackId:"1",stroke:"#eab308",fill:"#eab308",fillOpacity:.6,name:"Medium"}),o.jsx(vn,{type:"monotone",dataKey:"low",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Low"})]})}):o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No data available"})})]}),o.jsxs(ce,{className:"p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Services Discovered"}),x.length>0?o.jsx(Gt,{width:"100%",height:300,children:o.jsxs(cl,{data:x,layout:"vertical",children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(lr,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),o.jsx(cr,{dataKey:"service",type:"category",stroke:"#94a3b8",style:{fontSize:"12px"},width:100}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}}),o.jsx(ul,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Count"})]})}):o.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:o.jsx("p",{children:"No data available"})})]})]})]}):null};var qs={exports:{}},$r={},Jr={exports:{}},Jb=Jr.exports,xo;function Wi(){return xo||(xo=1,(function(e,r){(function(n,s){s(r)})(Jb,(function(n){function s(X){return function(ue,de,fe,we,ke,Pe,A){return X(ue,de,A)}}function i(X){return function(ue,de,fe,we){if(!ue||!de||typeof ue!="object"||typeof de!="object")return X(ue,de,fe,we);var ke=we.get(ue),Pe=we.get(de);if(ke&&Pe)return ke===de&&Pe===ue;we.set(ue,de),we.set(de,ue);var A=X(ue,de,fe,we);return we.delete(ue),we.delete(de),A}}function a(X,ee){var ue={};for(var de in X)ue[de]=X[de];for(var de in ee)ue[de]=ee[de];return ue}function l(X){return X.constructor===Object||X.constructor==null}function c(X){return typeof X.then=="function"}function u(X,ee){return X===ee||X!==X&&ee!==ee}var d="[object Arguments]",h="[object Boolean]",f="[object Date]",x="[object RegExp]",b="[object Map]",w="[object Number]",S="[object Object]",v="[object Set]",m="[object String]",p=Object.prototype.toString;function _(X){var ee=X.areArraysEqual,ue=X.areDatesEqual,de=X.areMapsEqual,fe=X.areObjectsEqual,we=X.areRegExpsEqual,ke=X.areSetsEqual,Pe=X.createIsNestedEqual,A=Pe(L);function L(F,B,Z){if(F===B)return!0;if(!F||!B||typeof F!="object"||typeof B!="object")return F!==F&&B!==B;if(l(F)&&l(B))return fe(F,B,A,Z);var re=Array.isArray(F),ne=Array.isArray(B);if(re||ne)return re===ne&&ee(F,B,A,Z);var oe=p.call(F);return oe!==p.call(B)?!1:oe===f?ue(F,B,A,Z):oe===x?we(F,B,A,Z):oe===b?de(F,B,A,Z):oe===v?ke(F,B,A,Z):oe===S||oe===d?c(F)||c(B)?!1:fe(F,B,A,Z):oe===h||oe===w||oe===m?u(F.valueOf(),B.valueOf()):!1}return L}function g(X,ee,ue,de){var fe=X.length;if(ee.length!==fe)return!1;for(;fe-- >0;)if(!ue(X[fe],ee[fe],fe,fe,X,ee,de))return!1;return!0}var y=i(g);function N(X,ee){return u(X.valueOf(),ee.valueOf())}function j(X,ee,ue,de){var fe=X.size===ee.size;if(!fe)return!1;if(!X.size)return!0;var we={},ke=0;return X.forEach(function(Pe,A){if(fe){var L=!1,F=0;ee.forEach(function(B,Z){!L&&!we[F]&&(L=ue(A,Z,ke,F,X,ee,de)&&ue(Pe,B,A,Z,X,ee,de))&&(we[F]=!0),F++}),ke++,fe=L}}),fe}var k=i(j),C="_owner",O=Object.prototype.hasOwnProperty;function E(X,ee,ue,de){var fe=Object.keys(X),we=fe.length;if(Object.keys(ee).length!==we)return!1;for(var ke;we-- >0;){if(ke=fe[we],ke===C){var Pe=!!X.$$typeof,A=!!ee.$$typeof;if((Pe||A)&&Pe!==A)return!1}if(!O.call(ee,ke)||!ue(X[ke],ee[ke],ke,ke,X,ee,de))return!1}return!0}var R=i(E);function $(X,ee){return X.source===ee.source&&X.flags===ee.flags}function P(X,ee,ue,de){var fe=X.size===ee.size;if(!fe)return!1;if(!X.size)return!0;var we={};return X.forEach(function(ke,Pe){if(fe){var A=!1,L=0;ee.forEach(function(F,B){!A&&!we[L]&&(A=ue(ke,F,Pe,B,X,ee,de))&&(we[L]=!0),L++}),fe=A}}),fe}var T=i(P),D=Object.freeze({areArraysEqual:g,areDatesEqual:N,areMapsEqual:j,areObjectsEqual:E,areRegExpsEqual:$,areSetsEqual:P,createIsNestedEqual:s}),I=Object.freeze({areArraysEqual:y,areDatesEqual:N,areMapsEqual:k,areObjectsEqual:R,areRegExpsEqual:$,areSetsEqual:T,createIsNestedEqual:s}),H=_(D);function V(X,ee){return H(X,ee,void 0)}var Y=_(a(D,{createIsNestedEqual:function(){return u}}));function J(X,ee){return Y(X,ee,void 0)}var K=_(I);function ie(X,ee){return K(X,ee,new WeakMap)}var se=_(a(I,{createIsNestedEqual:function(){return u}}));function ge(X,ee){return se(X,ee,new WeakMap)}function le(X){return _(a(D,X(D)))}function me(X){var ee=_(a(I,X(I)));return(function(ue,de,fe){return fe===void 0&&(fe=new WeakMap),ee(ue,de,fe)})}n.circularDeepEqual=ie,n.circularShallowEqual=ge,n.createCustomCircularEqual=me,n.createCustomEqual=le,n.deepEqual=V,n.sameValueZeroEqual=u,n.shallowEqual=J,Object.defineProperty(n,"__esModule",{value:!0})}))})(Jr,Jr.exports)),Jr.exports}var En={exports:{}},yo;function ks(){if(yo)return En.exports;yo=1;function e(n){var s,i,a="";if(typeof n=="string"||typeof n=="number")a+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(s=0;s<l;s++)n[s]&&(i=e(n[s]))&&(a&&(a+=" "),a+=i)}else for(i in n)n[i]&&(a&&(a+=" "),a+=i);return a}function r(){for(var n,s,i=0,a="",l=arguments.length;i<l;i++)(n=arguments[i])&&(s=e(n))&&(a&&(a+=" "),a+=s);return a}return En.exports=r,En.exports.clsx=r,En.exports}var he={},Us,vo;function Zb(){return vo||(vo=1,Us=function(r,n,s){return r===n?!0:r.className===n.className&&s(r.style,n.style)&&r.width===n.width&&r.autoSize===n.autoSize&&r.cols===n.cols&&r.draggableCancel===n.draggableCancel&&r.draggableHandle===n.draggableHandle&&s(r.verticalCompact,n.verticalCompact)&&s(r.compactType,n.compactType)&&s(r.layout,n.layout)&&s(r.margin,n.margin)&&s(r.containerPadding,n.containerPadding)&&r.rowHeight===n.rowHeight&&r.maxRows===n.maxRows&&r.isBounded===n.isBounded&&r.isDraggable===n.isDraggable&&r.isResizable===n.isResizable&&r.allowOverlap===n.allowOverlap&&r.preventCollision===n.preventCollision&&r.useCSSTransforms===n.useCSSTransforms&&r.transformScale===n.transformScale&&r.isDroppable===n.isDroppable&&s(r.resizeHandles,n.resizeHandles)&&s(r.resizeHandle,n.resizeHandle)&&r.onLayoutChange===n.onLayoutChange&&r.onDragStart===n.onDragStart&&r.onDrag===n.onDrag&&r.onDragStop===n.onDragStop&&r.onResizeStart===n.onResizeStart&&r.onResize===n.onResize&&r.onResizeStop===n.onResizeStop&&r.onDrop===n.onDrop&&s(r.droppingItem,n.droppingItem)&&s(r.innerRef,n.innerRef)}),Us}var bo;function jr(){if(bo)return he;bo=1,Object.defineProperty(he,"__esModule",{value:!0}),he.bottom=u,he.childrenEqual=b,he.cloneLayout=d,he.cloneLayoutItem=x,he.collides=S,he.compact=v,he.compactItem=_,he.compactType=we,he.correctBounds=g,he.fastPositionEqual=w,he.fastRGLPropsEqual=void 0,he.getAllCollisions=j,he.getFirstCollision=N,he.getLayoutItem=y,he.getStatics=k,he.modifyLayout=h,he.moveElement=C,he.moveElementAwayFromCollision=O,he.noop=void 0,he.perc=E,he.resizeItemInDirection=ge,he.setTopLeft=me,he.setTransform=le,he.sortLayoutItems=X,he.sortLayoutItemsByColRow=ue,he.sortLayoutItemsByRowCol=ee,he.synchronizeLayoutWithChildren=de,he.validateLayout=fe,he.withLayoutItem=f;var e=Wi(),r=n(rt());function n(A){return A&&A.__esModule?A:{default:A}}function s(A,L){var F=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);L&&(B=B.filter(function(Z){return Object.getOwnPropertyDescriptor(A,Z).enumerable})),F.push.apply(F,B)}return F}function i(A){for(var L=1;L<arguments.length;L++){var F=arguments[L]!=null?arguments[L]:{};L%2?s(Object(F),!0).forEach(function(B){a(A,B,F[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(F)):s(Object(F)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(F,B))})}return A}function a(A,L,F){return(L=l(L))in A?Object.defineProperty(A,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):A[L]=F,A}function l(A){var L=c(A,"string");return typeof L=="symbol"?L:L+""}function c(A,L){if(typeof A!="object"||!A)return A;var F=A[Symbol.toPrimitive];if(F!==void 0){var B=F.call(A,L);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(L==="string"?String:Number)(A)}function u(A){let L=0,F;for(let B=0,Z=A.length;B<Z;B++)F=A[B].y+A[B].h,F>L&&(L=F);return L}function d(A){const L=Array(A.length);for(let F=0,B=A.length;F<B;F++)L[F]=x(A[F]);return L}function h(A,L){const F=Array(A.length);for(let B=0,Z=A.length;B<Z;B++)L.i===A[B].i?F[B]=L:F[B]=A[B];return F}function f(A,L,F){let B=y(A,L);return B?(B=F(x(B)),A=h(A,B),[A,B]):[A,null]}function x(A){return{w:A.w,h:A.h,x:A.x,y:A.y,i:A.i,minW:A.minW,maxW:A.maxW,minH:A.minH,maxH:A.maxH,moved:!!A.moved,static:!!A.static,isDraggable:A.isDraggable,isResizable:A.isResizable,resizeHandles:A.resizeHandles,isBounded:A.isBounded}}function b(A,L){return(0,e.deepEqual)(r.default.Children.map(A,F=>F==null?void 0:F.key),r.default.Children.map(L,F=>F==null?void 0:F.key))&&(0,e.deepEqual)(r.default.Children.map(A,F=>F==null?void 0:F.props["data-grid"]),r.default.Children.map(L,F=>F==null?void 0:F.props["data-grid"]))}he.fastRGLPropsEqual=Zb();function w(A,L){return A.left===L.left&&A.top===L.top&&A.width===L.width&&A.height===L.height}function S(A,L){return!(A.i===L.i||A.x+A.w<=L.x||A.x>=L.x+L.w||A.y+A.h<=L.y||A.y>=L.y+L.h)}function v(A,L,F,B){const Z=k(A);let re=u(Z);const ne=X(A,L),oe=Array(A.length);for(let _e=0,Re=ne.length;_e<Re;_e++){let Le=x(ne[_e]);Le.static||(Le=_(Z,Le,L,F,ne,B,re),re=Math.max(re,Le.y+Le.h),Z.push(Le)),oe[A.indexOf(ne[_e])]=Le,Le.moved=!1}return oe}const m={x:"w",y:"h"};function p(A,L,F,B){const Z=m[B];L[B]+=1;const re=A.map(ne=>ne.i).indexOf(L.i);for(let ne=re+1;ne<A.length;ne++){const oe=A[ne];if(!oe.static){if(oe.y>L.y+L.h)break;S(L,oe)&&p(A,oe,F+L[Z],B)}}L[B]=F}function _(A,L,F,B,Z,re,ne){const oe=F==="vertical",_e=F==="horizontal";if(oe)for(typeof ne=="number"?L.y=Math.min(ne,L.y):L.y=Math.min(u(A),L.y);L.y>0&&!N(A,L);)L.y--;else if(_e)for(;L.x>0&&!N(A,L);)L.x--;let Re;for(;(Re=N(A,L))&&!(F===null&&re);)if(_e?p(Z,L,Re.x+Re.w,"x"):p(Z,L,Re.y+Re.h,"y"),_e&&L.x+L.w>B)for(L.x=B-L.w,L.y++;L.x>0&&!N(A,L);)L.x--;return L.y=Math.max(L.y,0),L.x=Math.max(L.x,0),L}function g(A,L){const F=k(A);for(let B=0,Z=A.length;B<Z;B++){const re=A[B];if(re.x+re.w>L.cols&&(re.x=L.cols-re.w),re.x<0&&(re.x=0,re.w=L.cols),!re.static)F.push(re);else for(;N(F,re);)re.y++}return A}function y(A,L){for(let F=0,B=A.length;F<B;F++)if(A[F].i===L)return A[F]}function N(A,L){for(let F=0,B=A.length;F<B;F++)if(S(A[F],L))return A[F]}function j(A,L){return A.filter(F=>S(F,L))}function k(A){return A.filter(L=>L.static)}function C(A,L,F,B,Z,re,ne,oe,_e){if(L.static&&L.isDraggable!==!0||L.y===B&&L.x===F)return A;"Moving element ".concat(L.i," to [").concat(String(F),",").concat(String(B),"] from [").concat(L.x,",").concat(L.y,"]");const Re=L.x,Le=L.y;typeof F=="number"&&(L.x=F),typeof B=="number"&&(L.y=B),L.moved=!0;let W=X(A,ne);(ne==="vertical"&&typeof B=="number"?Le>=B:ne==="horizontal"&&typeof F=="number"?Re>=F:!1)&&(W=W.reverse());const $e=j(W,L),mt=$e.length>0;if(mt&&_e)return d(A);if(mt&&re)return"Collision prevented on ".concat(L.i,", reverting."),L.x=Re,L.y=Le,L.moved=!1,A;for(let gt=0,Ht=$e.length;gt<Ht;gt++){const qt=$e[gt];"Resolving collision between ".concat(L.i," at [").concat(L.x,",").concat(L.y,"] and ").concat(qt.i," at [").concat(qt.x,",").concat(qt.y,"]"),!qt.moved&&(qt.static?A=O(A,qt,L,Z,ne):A=O(A,L,qt,Z,ne))}return A}function O(A,L,F,B,Z,re){const ne=Z==="horizontal",oe=Z==="vertical",_e=L.static;if(B){B=!1;const W={x:ne?Math.max(L.x-F.w,0):F.x,y:oe?Math.max(L.y-F.h,0):F.y,w:F.w,h:F.h,i:"-1"},pe=N(A,W),$e=pe&&pe.y+pe.h>L.y,mt=pe&&L.x+L.w>pe.x;if(pe){if($e&&oe)return C(A,F,void 0,F.y+1,B,_e,Z);if($e&&Z==null)return L.y=F.y,F.y=F.y+F.h,A;if(mt&&ne)return C(A,L,F.x,void 0,B,_e,Z)}else return"Doing reverse collision on ".concat(F.i," up to [").concat(W.x,",").concat(W.y,"]."),C(A,F,ne?W.x:void 0,oe?W.y:void 0,B,_e,Z)}const Re=ne?F.x+1:void 0,Le=oe?F.y+1:void 0;return Re==null&&Le==null?A:C(A,F,ne?F.x+1:void 0,oe?F.y+1:void 0,B,_e,Z)}function E(A){return A*100+"%"}const R=(A,L,F,B)=>A+F>B?L:F,$=(A,L,F)=>A<0?L:F,P=A=>Math.max(0,A),T=A=>Math.max(0,A),D=(A,L,F)=>{let{left:B,height:Z,width:re}=L;const ne=A.top-(Z-A.height);return{left:B,width:re,height:$(ne,A.height,Z),top:T(ne)}},I=(A,L,F)=>{let{top:B,left:Z,height:re,width:ne}=L;return{top:B,height:re,width:R(A.left,A.width,ne,F),left:P(Z)}},H=(A,L,F)=>{let{top:B,height:Z,width:re}=L;const ne=A.left-(re-A.width);return{height:Z,width:ne<0?A.width:R(A.left,A.width,re,F),top:T(B),left:P(ne)}},V=(A,L,F)=>{let{top:B,left:Z,height:re,width:ne}=L;return{width:ne,left:Z,height:$(B,A.height,re),top:T(B)}},se={n:D,ne:function(){return D(arguments.length<=0?void 0:arguments[0],I(...arguments))},e:I,se:function(){return V(arguments.length<=0?void 0:arguments[0],I(...arguments))},s:V,sw:function(){return V(arguments.length<=0?void 0:arguments[0],H(...arguments))},w:H,nw:function(){return D(arguments.length<=0?void 0:arguments[0],H(...arguments))}};function ge(A,L,F,B){const Z=se[A];return Z?Z(L,i(i({},L),F),B):F}function le(A){let{top:L,left:F,width:B,height:Z}=A;const re="translate(".concat(F,"px,").concat(L,"px)");return{transform:re,WebkitTransform:re,MozTransform:re,msTransform:re,OTransform:re,width:"".concat(B,"px"),height:"".concat(Z,"px"),position:"absolute"}}function me(A){let{top:L,left:F,width:B,height:Z}=A;return{top:"".concat(L,"px"),left:"".concat(F,"px"),width:"".concat(B,"px"),height:"".concat(Z,"px"),position:"absolute"}}function X(A,L){return L==="horizontal"?ue(A):L==="vertical"?ee(A):A}function ee(A){return A.slice(0).sort(function(L,F){return L.y>F.y||L.y===F.y&&L.x>F.x?1:L.y===F.y&&L.x===F.x?0:-1})}function ue(A){return A.slice(0).sort(function(L,F){return L.x>F.x||L.x===F.x&&L.y>F.y?1:-1})}function de(A,L,F,B,Z){A=A||[];const re=[];r.default.Children.forEach(L,oe=>{if((oe==null?void 0:oe.key)==null)return;const _e=y(A,String(oe.key)),Re=oe.props["data-grid"];_e&&Re==null?re.push(x(_e)):Re?re.push(x(i(i({},Re),{},{i:oe.key}))):re.push(x({w:1,h:1,x:0,y:u(re),i:String(oe.key)}))});const ne=g(re,{cols:F});return Z?ne:v(ne,B,F)}function fe(A){let L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const F=["x","y","w","h"];if(!Array.isArray(A))throw new Error(L+" must be an array!");for(let B=0,Z=A.length;B<Z;B++){const re=A[B];for(let ne=0;ne<F.length;ne++){const oe=F[ne],_e=re[oe];if(typeof _e!="number"||Number.isNaN(_e))throw new Error("ReactGridLayout: ".concat(L,"[").concat(B,"].").concat(oe," must be a number! Received: ").concat(_e," (").concat(typeof _e,")"))}if(typeof re.i<"u"&&typeof re.i!="string")throw new Error("ReactGridLayout: ".concat(L,"[").concat(B,"].i must be a string! Received: ").concat(re.i," (").concat(typeof re.i,")"))}}function we(A){const{verticalCompact:L,compactType:F}=A||{};return L===!1?null:F}function ke(){}const Pe=()=>{};return he.noop=Pe,he}var _t={},wo;function Bi(){if(wo)return _t;wo=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.calcGridColWidth=e,_t.calcGridItemPosition=n,_t.calcGridItemWHPx=r,_t.calcWH=i,_t.calcXY=s,_t.clamp=a;function e(l){const{margin:c,containerPadding:u,containerWidth:d,cols:h}=l;return(d-c[0]*(h-1)-u[0]*2)/h}function r(l,c,u){return Number.isFinite(l)?Math.round(c*l+Math.max(0,l-1)*u):l}function n(l,c,u,d,h,f){const{margin:x,containerPadding:b,rowHeight:w}=l,S=e(l),v={};return f&&f.resizing?(v.width=Math.round(f.resizing.width),v.height=Math.round(f.resizing.height)):(v.width=r(d,S,x[0]),v.height=r(h,w,x[1])),f&&f.dragging?(v.top=Math.round(f.dragging.top),v.left=Math.round(f.dragging.left)):f&&f.resizing&&typeof f.resizing.top=="number"&&typeof f.resizing.left=="number"?(v.top=Math.round(f.resizing.top),v.left=Math.round(f.resizing.left)):(v.top=Math.round((w+x[1])*u+b[1]),v.left=Math.round((S+x[0])*c+b[0])),v}function s(l,c,u,d,h){const{margin:f,containerPadding:x,cols:b,rowHeight:w,maxRows:S}=l,v=e(l);let m=Math.round((u-x[0])/(v+f[0])),p=Math.round((c-x[1])/(w+f[1]));return m=a(m,0,b-d),p=a(p,0,S-h),{x:m,y:p}}function i(l,c,u,d,h,f){const{margin:x,maxRows:b,cols:w,rowHeight:S}=l,v=e(l);let m=Math.round((c+x[0])/(v+x[0])),p=Math.round((u+x[1])/(S+x[1])),_=a(m,0,w-d),g=a(p,0,b-h);return["sw","w","nw"].indexOf(f)!==-1&&(_=a(m,0,w)),["nw","n","ne"].indexOf(f)!==-1&&(g=a(p,0,b)),{w:_,h:g}}function a(l,c,u){return Math.max(Math.min(l,u),c)}return _t}var Fr={},Ir={exports:{}},Ws={},Ce={},Mt={},_o;function Cs(){if(_o)return Mt;_o=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.dontSetMe=i,Mt.findInArray=e,Mt.int=s,Mt.isFunction=r,Mt.isNum=n;function e(a,l){for(let c=0,u=a.length;c<u;c++)if(l.apply(l,[a[c],c,a]))return a[c]}function r(a){return typeof a=="function"||Object.prototype.toString.call(a)==="[object Function]"}function n(a){return typeof a=="number"&&!isNaN(a)}function s(a){return parseInt(a,10)}function i(a,l,c){if(a[l])return new Error(`Invalid prop ${l} passed to ${c} - do not set this, set it on the child.`)}return Mt}var zt={},jo;function Qb(){if(jo)return zt;jo=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.browserPrefixToKey=n,zt.browserPrefixToStyle=s,zt.default=void 0,zt.getPrefix=r;const e=["Moz","Webkit","O","ms"];function r(){var c,u;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(u=(c=window.document)==null?void 0:c.documentElement)==null?void 0:u.style;if(!l||a in l)return"";for(let d=0;d<e.length;d++)if(n(a,e[d])in l)return e[d];return""}function n(a,l){return l?`${l}${i(a)}`:a}function s(a,l){return l?`-${l.toLowerCase()}-${a}`:a}function i(a){let l="",c=!0;for(let u=0;u<a.length;u++)c?(l+=a[u].toUpperCase(),c=!1):a[u]==="-"?c=!0:l+=a[u];return l}return zt.default=r(),zt}var No;function Vi(){if(No)return Ce;No=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.addClassName=y,Ce.addEvent=l,Ce.addUserSelectStyles=p,Ce.createCSSTransform=b,Ce.createSVGTransform=w,Ce.getTouch=v,Ce.getTouchIdentifier=m,Ce.getTranslation=S,Ce.innerHeight=h,Ce.innerWidth=f,Ce.matchesSelector=i,Ce.matchesSelectorAndParentsTo=a,Ce.offsetXYFromParent=x,Ce.outerHeight=u,Ce.outerWidth=d,Ce.removeClassName=N,Ce.removeEvent=c,Ce.scheduleRemoveUserSelectStyles=_;var e=Cs(),r=n(Qb());function n(j,k){if(typeof WeakMap=="function")var C=new WeakMap,O=new WeakMap;return(n=function(E,R){if(!R&&E&&E.__esModule)return E;var $,P,T={__proto__:null,default:E};if(E===null||typeof E!="object"&&typeof E!="function")return T;if($=R?O:C){if($.has(E))return $.get(E);$.set(E,T)}for(const D in E)D!=="default"&&{}.hasOwnProperty.call(E,D)&&((P=($=Object.defineProperty)&&Object.getOwnPropertyDescriptor(E,D))&&(P.get||P.set)?$(T,D,P):T[D]=E[D]);return T})(j,k)}let s="";function i(j,k){return s||(s=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(C){return(0,e.isFunction)(j[C])})),(0,e.isFunction)(j[s])?j[s](k):!1}function a(j,k,C){let O=j;do{if(i(O,k))return!0;if(O===C)return!1;O=O.parentNode}while(O);return!1}function l(j,k,C,O){if(!j)return;const E={capture:!0,...O};j.addEventListener?j.addEventListener(k,C,E):j.attachEvent?j.attachEvent("on"+k,C):j["on"+k]=C}function c(j,k,C,O){if(!j)return;const E={capture:!0,...O};j.removeEventListener?j.removeEventListener(k,C,E):j.detachEvent?j.detachEvent("on"+k,C):j["on"+k]=null}function u(j){let k=j.clientHeight;const C=j.ownerDocument.defaultView.getComputedStyle(j);return k+=(0,e.int)(C.borderTopWidth),k+=(0,e.int)(C.borderBottomWidth),k}function d(j){let k=j.clientWidth;const C=j.ownerDocument.defaultView.getComputedStyle(j);return k+=(0,e.int)(C.borderLeftWidth),k+=(0,e.int)(C.borderRightWidth),k}function h(j){let k=j.clientHeight;const C=j.ownerDocument.defaultView.getComputedStyle(j);return k-=(0,e.int)(C.paddingTop),k-=(0,e.int)(C.paddingBottom),k}function f(j){let k=j.clientWidth;const C=j.ownerDocument.defaultView.getComputedStyle(j);return k-=(0,e.int)(C.paddingLeft),k-=(0,e.int)(C.paddingRight),k}function x(j,k,C){const E=k===k.ownerDocument.body?{left:0,top:0}:k.getBoundingClientRect(),R=(j.clientX+k.scrollLeft-E.left)/C,$=(j.clientY+k.scrollTop-E.top)/C;return{x:R,y:$}}function b(j,k){const C=S(j,k,"px");return{[(0,r.browserPrefixToKey)("transform",r.default)]:C}}function w(j,k){return S(j,k,"")}function S(j,k,C){let{x:O,y:E}=j,R=`translate(${O}${C},${E}${C})`;if(k){const $=`${typeof k.x=="string"?k.x:k.x+C}`,P=`${typeof k.y=="string"?k.y:k.y+C}`;R=`translate(${$}, ${P})`+R}return R}function v(j,k){return j.targetTouches&&(0,e.findInArray)(j.targetTouches,C=>k===C.identifier)||j.changedTouches&&(0,e.findInArray)(j.changedTouches,C=>k===C.identifier)}function m(j){if(j.targetTouches&&j.targetTouches[0])return j.targetTouches[0].identifier;if(j.changedTouches&&j.changedTouches[0])return j.changedTouches[0].identifier}function p(j){if(!j)return;let k=j.getElementById("react-draggable-style-el");k||(k=j.createElement("style"),k.type="text/css",k.id="react-draggable-style-el",k.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,k.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,j.getElementsByTagName("head")[0].appendChild(k)),j.body&&y(j.body,"react-draggable-transparent-selection")}function _(j){window.requestAnimationFrame?window.requestAnimationFrame(()=>{g(j)}):g(j)}function g(j){if(j)try{if(j.body&&N(j.body,"react-draggable-transparent-selection"),j.selection)j.selection.empty();else{const k=(j.defaultView||window).getSelection();k&&k.type!=="Caret"&&k.removeAllRanges()}}catch{}}function y(j,k){j.classList?j.classList.add(k):j.className.match(new RegExp(`(?:^|\\s)${k}(?!\\S)`))||(j.className+=` ${k}`)}function N(j,k){j.classList?j.classList.remove(k):j.className=j.className.replace(new RegExp(`(?:^|\\s)${k}(?!\\S)`,"g"),"")}return Ce}var at={},So;function Vc(){if(So)return at;So=1,Object.defineProperty(at,"__esModule",{value:!0}),at.canDragX=i,at.canDragY=a,at.createCoreData=c,at.createDraggableData=u,at.getBoundPosition=n,at.getControlPosition=l,at.snapToGrid=s;var e=Cs(),r=Vi();function n(f,x,b){if(!f.props.bounds)return[x,b];let{bounds:w}=f.props;w=typeof w=="string"?w:d(w);const S=h(f);if(typeof w=="string"){const{ownerDocument:v}=S,m=v.defaultView;let p;if(w==="parent"?p=S.parentNode:p=S.getRootNode().querySelector(w),!(p instanceof m.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const _=p,g=m.getComputedStyle(S),y=m.getComputedStyle(_);w={left:-S.offsetLeft+(0,e.int)(y.paddingLeft)+(0,e.int)(g.marginLeft),top:-S.offsetTop+(0,e.int)(y.paddingTop)+(0,e.int)(g.marginTop),right:(0,r.innerWidth)(_)-(0,r.outerWidth)(S)-S.offsetLeft+(0,e.int)(y.paddingRight)-(0,e.int)(g.marginRight),bottom:(0,r.innerHeight)(_)-(0,r.outerHeight)(S)-S.offsetTop+(0,e.int)(y.paddingBottom)-(0,e.int)(g.marginBottom)}}return(0,e.isNum)(w.right)&&(x=Math.min(x,w.right)),(0,e.isNum)(w.bottom)&&(b=Math.min(b,w.bottom)),(0,e.isNum)(w.left)&&(x=Math.max(x,w.left)),(0,e.isNum)(w.top)&&(b=Math.max(b,w.top)),[x,b]}function s(f,x,b){const w=Math.round(x/f[0])*f[0],S=Math.round(b/f[1])*f[1];return[w,S]}function i(f){return f.props.axis==="both"||f.props.axis==="x"}function a(f){return f.props.axis==="both"||f.props.axis==="y"}function l(f,x,b){const w=typeof x=="number"?(0,r.getTouch)(f,x):null;if(typeof x=="number"&&!w)return null;const S=h(b),v=b.props.offsetParent||S.offsetParent||S.ownerDocument.body;return(0,r.offsetXYFromParent)(w||f,v,b.props.scale)}function c(f,x,b){const w=!(0,e.isNum)(f.lastX),S=h(f);return w?{node:S,deltaX:0,deltaY:0,lastX:x,lastY:b,x,y:b}:{node:S,deltaX:x-f.lastX,deltaY:b-f.lastY,lastX:f.lastX,lastY:f.lastY,x,y:b}}function u(f,x){const b=f.props.scale;return{node:x.node,x:f.state.x+x.deltaX/b,y:f.state.y+x.deltaY/b,deltaX:x.deltaX/b,deltaY:x.deltaY/b,lastX:f.state.x,lastY:f.state.y}}function d(f){return{left:f.left,top:f.top,right:f.right,bottom:f.bottom}}function h(f){const x=f.findDOMNode();if(!x)throw new Error("<DraggableCore>: Unmounted during event!");return x}return at}var Hr={},Rn={},ko;function Gc(){if(ko)return Rn;ko=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.default=e;function e(){}return Rn}var Co;function ew(){if(Co)return Hr;Co=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.default=void 0;var e=u(rt()),r=c(It()),n=c(ls()),s=Vi(),i=Vc(),a=Cs(),l=c(Gc());function c(S){return S&&S.__esModule?S:{default:S}}function u(S,v){if(typeof WeakMap=="function")var m=new WeakMap,p=new WeakMap;return(u=function(_,g){if(!g&&_&&_.__esModule)return _;var y,N,j={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return j;if(y=g?p:m){if(y.has(_))return y.get(_);y.set(_,j)}for(const k in _)k!=="default"&&{}.hasOwnProperty.call(_,k)&&((N=(y=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,k))&&(N.get||N.set)?y(j,k,N):j[k]=_[k]);return j})(S,v)}function d(S,v,m){return(v=h(v))in S?Object.defineProperty(S,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):S[v]=m,S}function h(S){var v=f(S,"string");return typeof v=="symbol"?v:v+""}function f(S,v){if(typeof S!="object"||!S)return S;var m=S[Symbol.toPrimitive];if(m!==void 0){var p=m.call(S,v);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(S)}const x={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let b=x.mouse,w=class extends e.Component{constructor(){super(...arguments),d(this,"dragging",!1),d(this,"lastX",NaN),d(this,"lastY",NaN),d(this,"touchIdentifier",null),d(this,"mounted",!1),d(this,"handleDragStart",v=>{if(this.props.onMouseDown(v),!this.props.allowAnyClick&&typeof v.button=="number"&&v.button!==0)return!1;const m=this.findDOMNode();if(!m||!m.ownerDocument||!m.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:p}=m;if(this.props.disabled||!(v.target instanceof p.defaultView.Node)||this.props.handle&&!(0,s.matchesSelectorAndParentsTo)(v.target,this.props.handle,m)||this.props.cancel&&(0,s.matchesSelectorAndParentsTo)(v.target,this.props.cancel,m))return;v.type==="touchstart"&&!this.props.allowMobileScroll&&v.preventDefault();const _=(0,s.getTouchIdentifier)(v);this.touchIdentifier=_;const g=(0,i.getControlPosition)(v,_,this);if(g==null)return;const{x:y,y:N}=g,j=(0,i.createCoreData)(this,y,N);(0,l.default)("DraggableCore: handleDragStart: %j",j),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(v,j)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,s.addUserSelectStyles)(p),this.dragging=!0,this.lastX=y,this.lastY=N,(0,s.addEvent)(p,b.move,this.handleDrag),(0,s.addEvent)(p,b.stop,this.handleDragStop))}),d(this,"handleDrag",v=>{const m=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(m==null)return;let{x:p,y:_}=m;if(Array.isArray(this.props.grid)){let N=p-this.lastX,j=_-this.lastY;if([N,j]=(0,i.snapToGrid)(this.props.grid,N,j),!N&&!j)return;p=this.lastX+N,_=this.lastY+j}const g=(0,i.createCoreData)(this,p,_);if((0,l.default)("DraggableCore: handleDrag: %j",g),this.props.onDrag(v,g)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const j=document.createEvent("MouseEvents");j.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(j)}return}this.lastX=p,this.lastY=_}),d(this,"handleDragStop",v=>{if(!this.dragging)return;const m=(0,i.getControlPosition)(v,this.touchIdentifier,this);if(m==null)return;let{x:p,y:_}=m;if(Array.isArray(this.props.grid)){let j=p-this.lastX||0,k=_-this.lastY||0;[j,k]=(0,i.snapToGrid)(this.props.grid,j,k),p=this.lastX+j,_=this.lastY+k}const g=(0,i.createCoreData)(this,p,_);if(this.props.onStop(v,g)===!1||this.mounted===!1)return!1;const N=this.findDOMNode();N&&this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(N.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",g),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,N&&((0,l.default)("DraggableCore: Removing handlers"),(0,s.removeEvent)(N.ownerDocument,b.move,this.handleDrag),(0,s.removeEvent)(N.ownerDocument,b.stop,this.handleDragStop))}),d(this,"onMouseDown",v=>(b=x.mouse,this.handleDragStart(v))),d(this,"onMouseUp",v=>(b=x.mouse,this.handleDragStop(v))),d(this,"onTouchStart",v=>(b=x.touch,this.handleDragStart(v))),d(this,"onTouchEnd",v=>(b=x.touch,this.handleDragStop(v)))}componentDidMount(){this.mounted=!0;const v=this.findDOMNode();v&&(0,s.addEvent)(v,x.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const v=this.findDOMNode();if(v){const{ownerDocument:m}=v;(0,s.removeEvent)(m,x.mouse.move,this.handleDrag),(0,s.removeEvent)(m,x.touch.move,this.handleDrag),(0,s.removeEvent)(m,x.mouse.stop,this.handleDragStop),(0,s.removeEvent)(m,x.touch.stop,this.handleDragStop),(0,s.removeEvent)(v,x.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,s.scheduleRemoveUserSelectStyles)(m)}}findDOMNode(){var v,m,p;return(v=this.props)!=null&&v.nodeRef?(p=(m=this.props)==null?void 0:m.nodeRef)==null?void 0:p.current:n.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return Hr.default=w,d(w,"displayName","DraggableCore"),d(w,"propTypes",{allowAnyClick:r.default.bool,allowMobileScroll:r.default.bool,children:r.default.node.isRequired,disabled:r.default.bool,enableUserSelectHack:r.default.bool,offsetParent:function(S,v){if(S[v]&&S[v].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:r.default.arrayOf(r.default.number),handle:r.default.string,cancel:r.default.string,nodeRef:r.default.object,onStart:r.default.func,onDrag:r.default.func,onStop:r.default.func,onMouseDown:r.default.func,scale:r.default.number,className:a.dontSetMe,style:a.dontSetMe,transform:a.dontSetMe}),d(w,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Hr}var Oo;function tw(){return Oo||(Oo=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var r=f(rt()),n=h(It()),s=h(ls()),i=ks(),a=Vi(),l=Vc(),c=Cs(),u=h(ew()),d=h(Gc());function h(m){return m&&m.__esModule?m:{default:m}}function f(m,p){if(typeof WeakMap=="function")var _=new WeakMap,g=new WeakMap;return(f=function(y,N){if(!N&&y&&y.__esModule)return y;var j,k,C={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return C;if(j=N?g:_){if(j.has(y))return j.get(y);j.set(y,C)}for(const O in y)O!=="default"&&{}.hasOwnProperty.call(y,O)&&((k=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,O))&&(k.get||k.set)?j(C,O,k):C[O]=y[O]);return C})(m,p)}function x(){return x=Object.assign?Object.assign.bind():function(m){for(var p=1;p<arguments.length;p++){var _=arguments[p];for(var g in _)({}).hasOwnProperty.call(_,g)&&(m[g]=_[g])}return m},x.apply(null,arguments)}function b(m,p,_){return(p=w(p))in m?Object.defineProperty(m,p,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[p]=_,m}function w(m){var p=S(m,"string");return typeof p=="symbol"?p:p+""}function S(m,p){if(typeof m!="object"||!m)return m;var _=m[Symbol.toPrimitive];if(_!==void 0){var g=_.call(m,p);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)}class v extends r.Component{static getDerivedStateFromProps(p,_){let{position:g}=p,{prevPropsPosition:y}=_;return g&&(!y||g.x!==y.x||g.y!==y.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:g,prevPropsPosition:y}),{x:g.x,y:g.y,prevPropsPosition:{...g}}):null}constructor(p){super(p),b(this,"onDragStart",(_,g)=>{if((0,d.default)("Draggable: onDragStart: %j",g),this.props.onStart(_,(0,l.createDraggableData)(this,g))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),b(this,"onDrag",(_,g)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",g);const y=(0,l.createDraggableData)(this,g),N={x:y.x,y:y.y,slackX:0,slackY:0};if(this.props.bounds){const{x:k,y:C}=N;N.x+=this.state.slackX,N.y+=this.state.slackY;const[O,E]=(0,l.getBoundPosition)(this,N.x,N.y);N.x=O,N.y=E,N.slackX=this.state.slackX+(k-N.x),N.slackY=this.state.slackY+(C-N.y),y.x=N.x,y.y=N.y,y.deltaX=N.x-this.state.x,y.deltaY=N.y-this.state.y}if(this.props.onDrag(_,y)===!1)return!1;this.setState(N)}),b(this,"onDragStop",(_,g)=>{if(!this.state.dragging||this.props.onStop(_,(0,l.createDraggableData)(this,g))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",g);const N={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:k,y:C}=this.props.position;N.x=k,N.y=C}this.setState(N)}),this.state={dragging:!1,dragged:!1,x:p.position?p.position.x:p.defaultPosition.x,y:p.position?p.position.y:p.defaultPosition.y,prevPropsPosition:{...p.position},slackX:0,slackY:0,isElementSVG:!1},p.position&&!(p.onDrag||p.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var p,_;return((_=(p=this.props)==null?void 0:p.nodeRef)==null?void 0:_.current)??s.default.findDOMNode(this)}render(){const{axis:p,bounds:_,children:g,defaultPosition:y,defaultClassName:N,defaultClassNameDragging:j,defaultClassNameDragged:k,position:C,positionOffset:O,scale:E,...R}=this.props;let $={},P=null;const D=!!!C||this.state.dragging,I=C||y,H={x:(0,l.canDragX)(this)&&D?this.state.x:I.x,y:(0,l.canDragY)(this)&&D?this.state.y:I.y};this.state.isElementSVG?P=(0,a.createSVGTransform)(H,O):$=(0,a.createCSSTransform)(H,O);const V=(0,i.clsx)(g.props.className||"",N,{[j]:this.state.dragging,[k]:this.state.dragged});return r.createElement(u.default,x({},R,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(g),{className:V,style:{...g.props.style,...$},transform:P}))}}e.default=v,b(v,"displayName","Draggable"),b(v,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),b(v,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(Ws)),Ws}var Po;function Gi(){if(Po)return Ir.exports;Po=1;const{default:e,DraggableCore:r}=tw();return Ir.exports=e,Ir.exports.default=e,Ir.exports.DraggableCore=r,Ir.exports}var qr={exports:{}},Ur={},Dn={},Eo;function rw(){if(Eo)return Dn;Eo=1,Dn.__esModule=!0,Dn.cloneElement=c;var e=r(rt());function r(u){return u&&u.__esModule?u:{default:u}}function n(u,d){var h=Object.keys(u);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(u);d&&(f=f.filter(function(x){return Object.getOwnPropertyDescriptor(u,x).enumerable})),h.push.apply(h,f)}return h}function s(u){for(var d=1;d<arguments.length;d++){var h=arguments[d]!=null?arguments[d]:{};d%2?n(Object(h),!0).forEach(function(f){i(u,f,h[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(h)):n(Object(h)).forEach(function(f){Object.defineProperty(u,f,Object.getOwnPropertyDescriptor(h,f))})}return u}function i(u,d,h){return d=a(d),d in u?Object.defineProperty(u,d,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[d]=h,u}function a(u){var d=l(u,"string");return typeof d=="symbol"?d:String(d)}function l(u,d){if(typeof u!="object"||u===null)return u;var h=u[Symbol.toPrimitive];if(h!==void 0){var f=h.call(u,d);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(u)}function c(u,d){return d.style&&u.props.style&&(d.style=s(s({},u.props.style),d.style)),d.className&&u.props.className&&(d.className=u.props.className+" "+d.className),e.default.cloneElement(u,d)}return Dn}var Wr={},Ro;function Yc(){if(Ro)return Wr;Ro=1,Wr.__esModule=!0,Wr.resizableProps=void 0;var e=r(It());Gi();function r(s){return s&&s.__esModule?s:{default:s}}var n={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];var c=a[0];if(c.axis==="both"||c.axis==="y"){var u;return(u=e.default.number).isRequired.apply(u,a)}return e.default.number.apply(e.default,a)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];var c=a[0];if(c.axis==="both"||c.axis==="x"){var u;return(u=e.default.number).isRequired.apply(u,a)}return e.default.number.apply(e.default,a)}};return Wr.resizableProps=n,Wr}var Do;function Xc(){if(Do)return Ur;Do=1,Ur.__esModule=!0,Ur.default=void 0;var e=l(rt()),r=Gi(),n=rw(),s=Yc(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function a(m){if(typeof WeakMap!="function")return null;var p=new WeakMap,_=new WeakMap;return(a=function(y){return y?_:p})(m)}function l(m,p){if(m&&m.__esModule)return m;if(m===null||typeof m!="object"&&typeof m!="function")return{default:m};var _=a(p);if(_&&_.has(m))return _.get(m);var g={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var N in m)if(N!=="default"&&Object.prototype.hasOwnProperty.call(m,N)){var j=y?Object.getOwnPropertyDescriptor(m,N):null;j&&(j.get||j.set)?Object.defineProperty(g,N,j):g[N]=m[N]}return g.default=m,_&&_.set(m,g),g}function c(){return c=Object.assign?Object.assign.bind():function(m){for(var p=1;p<arguments.length;p++){var _=arguments[p];for(var g in _)Object.prototype.hasOwnProperty.call(_,g)&&(m[g]=_[g])}return m},c.apply(this,arguments)}function u(m,p){if(m==null)return{};var _={},g=Object.keys(m),y,N;for(N=0;N<g.length;N++)y=g[N],!(p.indexOf(y)>=0)&&(_[y]=m[y]);return _}function d(m,p){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(m);p&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable})),_.push.apply(_,g)}return _}function h(m){for(var p=1;p<arguments.length;p++){var _=arguments[p]!=null?arguments[p]:{};p%2?d(Object(_),!0).forEach(function(g){f(m,g,_[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(g){Object.defineProperty(m,g,Object.getOwnPropertyDescriptor(_,g))})}return m}function f(m,p,_){return p=x(p),p in m?Object.defineProperty(m,p,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[p]=_,m}function x(m){var p=b(m,"string");return typeof p=="symbol"?p:String(p)}function b(m,p){if(typeof m!="object"||m===null)return m;var _=m[Symbol.toPrimitive];if(_!==void 0){var g=_.call(m,p);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)}function w(m,p){m.prototype=Object.create(p.prototype),m.prototype.constructor=m,S(m,p)}function S(m,p){return S=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},S(m,p)}var v=(function(m){w(p,m);function p(){for(var g,y=arguments.length,N=new Array(y),j=0;j<y;j++)N[j]=arguments[j];return g=m.call.apply(m,[this].concat(N))||this,g.handleRefs={},g.lastHandleRect=null,g.slack=null,g}var _=p.prototype;return _.componentWillUnmount=function(){this.resetData()},_.resetData=function(){this.lastHandleRect=this.slack=null},_.runConstraints=function(y,N){var j=this.props,k=j.minConstraints,C=j.maxConstraints,O=j.lockAspectRatio;if(!k&&!C&&!O)return[y,N];if(O){var E=this.props.width/this.props.height,R=y-this.props.width,$=N-this.props.height;Math.abs(R)>Math.abs($*E)?N=y/E:y=N*E}var P=y,T=N,D=this.slack||[0,0],I=D[0],H=D[1];return y+=I,N+=H,k&&(y=Math.max(k[0],y),N=Math.max(k[1],N)),C&&(y=Math.min(C[0],y),N=Math.min(C[1],N)),this.slack=[I+(P-y),H+(T-N)],[y,N]},_.resizeHandler=function(y,N){var j=this;return function(k,C){var O=C.node,E=C.deltaX,R=C.deltaY;y==="onResizeStart"&&j.resetData();var $=(j.props.axis==="both"||j.props.axis==="x")&&N!=="n"&&N!=="s",P=(j.props.axis==="both"||j.props.axis==="y")&&N!=="e"&&N!=="w";if(!(!$&&!P)){var T=N[0],D=N[N.length-1],I=O.getBoundingClientRect();if(j.lastHandleRect!=null){if(D==="w"){var H=I.left-j.lastHandleRect.left;E+=H}if(T==="n"){var V=I.top-j.lastHandleRect.top;R+=V}}j.lastHandleRect=I,D==="w"&&(E=-E),T==="n"&&(R=-R);var Y=j.props.width+($?E/j.props.transformScale:0),J=j.props.height+(P?R/j.props.transformScale:0),K=j.runConstraints(Y,J);Y=K[0],J=K[1];var ie=Y!==j.props.width||J!==j.props.height,se=typeof j.props[y]=="function"?j.props[y]:null,ge=y==="onResize"&&!ie;se&&!ge&&(k.persist==null||k.persist(),se(k,{node:O,size:{width:Y,height:J},handle:N})),y==="onResizeStop"&&j.resetData()}}},_.renderResizeHandle=function(y,N){var j=this.props.handle;if(!j)return e.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+y,ref:N});if(typeof j=="function")return j(y,N);var k=typeof j.type=="string",C=h({ref:N},k?{}:{handleAxis:y});return e.cloneElement(j,C)},_.render=function(){var y=this,N=this.props,j=N.children,k=N.className,C=N.draggableOpts;N.width,N.height,N.handle,N.handleSize,N.lockAspectRatio,N.axis,N.minConstraints,N.maxConstraints,N.onResize,N.onResizeStop,N.onResizeStart;var O=N.resizeHandles;N.transformScale;var E=u(N,i);return(0,n.cloneElement)(j,h(h({},E),{},{className:(k?k+" ":"")+"react-resizable",children:[].concat(j.props.children,O.map(function(R){var $,P=($=y.handleRefs[R])!=null?$:y.handleRefs[R]=e.createRef();return e.createElement(r.DraggableCore,c({},C,{nodeRef:P,key:"resizableHandle-"+R,onStop:y.resizeHandler("onResizeStop",R),onStart:y.resizeHandler("onResizeStart",R),onDrag:y.resizeHandler("onResize",R)}),y.renderResizeHandle(R,P))}))}))},p})(e.Component);return Ur.default=v,v.propTypes=s.resizableProps,v.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},Ur}var Br={},Ao;function nw(){if(Ao)return Br;Ao=1,Br.__esModule=!0,Br.default=void 0;var e=c(rt()),r=a(It()),n=a(Xc()),s=Yc(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function a(p){return p&&p.__esModule?p:{default:p}}function l(p){if(typeof WeakMap!="function")return null;var _=new WeakMap,g=new WeakMap;return(l=function(N){return N?g:_})(p)}function c(p,_){if(p&&p.__esModule)return p;if(p===null||typeof p!="object"&&typeof p!="function")return{default:p};var g=l(_);if(g&&g.has(p))return g.get(p);var y={},N=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var j in p)if(j!=="default"&&Object.prototype.hasOwnProperty.call(p,j)){var k=N?Object.getOwnPropertyDescriptor(p,j):null;k&&(k.get||k.set)?Object.defineProperty(y,j,k):y[j]=p[j]}return y.default=p,g&&g.set(p,y),y}function u(){return u=Object.assign?Object.assign.bind():function(p){for(var _=1;_<arguments.length;_++){var g=arguments[_];for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(p[y]=g[y])}return p},u.apply(this,arguments)}function d(p,_){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(p);_&&(y=y.filter(function(N){return Object.getOwnPropertyDescriptor(p,N).enumerable})),g.push.apply(g,y)}return g}function h(p){for(var _=1;_<arguments.length;_++){var g=arguments[_]!=null?arguments[_]:{};_%2?d(Object(g),!0).forEach(function(y){f(p,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):d(Object(g)).forEach(function(y){Object.defineProperty(p,y,Object.getOwnPropertyDescriptor(g,y))})}return p}function f(p,_,g){return _=x(_),_ in p?Object.defineProperty(p,_,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[_]=g,p}function x(p){var _=b(p,"string");return typeof _=="symbol"?_:String(_)}function b(p,_){if(typeof p!="object"||p===null)return p;var g=p[Symbol.toPrimitive];if(g!==void 0){var y=g.call(p,_);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(p)}function w(p,_){if(p==null)return{};var g={},y=Object.keys(p),N,j;for(j=0;j<y.length;j++)N=y[j],!(_.indexOf(N)>=0)&&(g[N]=p[N]);return g}function S(p,_){p.prototype=Object.create(_.prototype),p.prototype.constructor=p,v(p,_)}function v(p,_){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,N){return y.__proto__=N,y},v(p,_)}var m=(function(p){S(_,p);function _(){for(var y,N=arguments.length,j=new Array(N),k=0;k<N;k++)j[k]=arguments[k];return y=p.call.apply(p,[this].concat(j))||this,y.state={width:y.props.width,height:y.props.height,propsWidth:y.props.width,propsHeight:y.props.height},y.onResize=function(C,O){var E=O.size;y.props.onResize?(C.persist==null||C.persist(),y.setState(E,function(){return y.props.onResize&&y.props.onResize(C,O)})):y.setState(E)},y}_.getDerivedStateFromProps=function(N,j){return j.propsWidth!==N.width||j.propsHeight!==N.height?{width:N.width,height:N.height,propsWidth:N.width,propsHeight:N.height}:null};var g=_.prototype;return g.render=function(){var N=this.props,j=N.handle,k=N.handleSize;N.onResize;var C=N.onResizeStart,O=N.onResizeStop,E=N.draggableOpts,R=N.minConstraints,$=N.maxConstraints,P=N.lockAspectRatio,T=N.axis;N.width,N.height;var D=N.resizeHandles,I=N.style,H=N.transformScale,V=w(N,i);return e.createElement(n.default,{axis:T,draggableOpts:E,handle:j,handleSize:k,height:this.state.height,lockAspectRatio:P,maxConstraints:$,minConstraints:R,onResizeStart:C,onResize:this.onResize,onResizeStop:O,resizeHandles:D,transformScale:H,width:this.state.width},e.createElement("div",u({},V,{style:h(h({},I),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},_})(e.Component);return Br.default=m,m.propTypes=h(h({},s.resizableProps),{},{children:r.default.element}),Br}var To;function sw(){return To||(To=1,qr.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},qr.exports.Resizable=Xc().default,qr.exports.ResizableBox=nw().default),qr.exports}var jt={},Mo;function Kc(){if(Mo)return jt;Mo=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.resizeHandleType=jt.resizeHandleAxesType=jt.default=void 0;var e=n(It()),r=n(rt());function n(a){return a&&a.__esModule?a:{default:a}}const s=jt.resizeHandleAxesType=e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=jt.resizeHandleType=e.default.oneOfType([e.default.node,e.default.func]);return jt.default={className:e.default.string,style:e.default.object,width:e.default.number,autoSize:e.default.bool,cols:e.default.number,draggableCancel:e.default.string,draggableHandle:e.default.string,verticalCompact:function(a){a.verticalCompact},compactType:e.default.oneOf(["vertical","horizontal"]),layout:function(a){var l=a.layout;l!==void 0&&jr().validateLayout(l,"layout")},margin:e.default.arrayOf(e.default.number),containerPadding:e.default.arrayOf(e.default.number),rowHeight:e.default.number,maxRows:e.default.number,isBounded:e.default.bool,isDraggable:e.default.bool,isResizable:e.default.bool,allowOverlap:e.default.bool,preventCollision:e.default.bool,useCSSTransforms:e.default.bool,transformScale:e.default.number,isDroppable:e.default.bool,resizeHandles:s,resizeHandle:i,onLayoutChange:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onDragStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,onResizeStop:e.default.func,onDrop:e.default.func,droppingItem:e.default.shape({i:e.default.string.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired}),children:function(a,l){const c=a[l],u={};r.default.Children.forEach(c,function(d){if((d==null?void 0:d.key)!=null){if(u[d.key])throw new Error('Duplicate child key "'+d.key+'" found! This will cause problems in ReactGridLayout.');u[d.key]=!0}})},innerRef:e.default.any},jt}var zo;function iw(){if(zo)return Fr;zo=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.default=void 0;var e=d(rt()),r=ls(),n=d(It()),s=Gi(),i=sw(),a=jr(),l=Bi(),c=Kc(),u=d(ks());function d(v){return v&&v.__esModule?v:{default:v}}function h(v,m){var p=Object.keys(v);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(v);m&&(_=_.filter(function(g){return Object.getOwnPropertyDescriptor(v,g).enumerable})),p.push.apply(p,_)}return p}function f(v){for(var m=1;m<arguments.length;m++){var p=arguments[m]!=null?arguments[m]:{};m%2?h(Object(p),!0).forEach(function(_){x(v,_,p[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(p)):h(Object(p)).forEach(function(_){Object.defineProperty(v,_,Object.getOwnPropertyDescriptor(p,_))})}return v}function x(v,m,p){return(m=b(m))in v?Object.defineProperty(v,m,{value:p,enumerable:!0,configurable:!0,writable:!0}):v[m]=p,v}function b(v){var m=w(v,"string");return typeof m=="symbol"?m:m+""}function w(v,m){if(typeof v!="object"||!v)return v;var p=v[Symbol.toPrimitive];if(p!==void 0){var _=p.call(v,m);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(v)}let S=class extends e.default.Component{constructor(){super(...arguments),x(this,"state",{resizing:null,dragging:null,className:""}),x(this,"elementRef",e.default.createRef()),x(this,"onDragStart",(m,p)=>{let{node:_}=p;const{onDragStart:g,transformScale:y}=this.props;if(!g)return;const N={top:0,left:0},{offsetParent:j}=_;if(!j)return;const k=j.getBoundingClientRect(),C=_.getBoundingClientRect(),O=C.left/y,E=k.left/y,R=C.top/y,$=k.top/y;N.left=O-E+j.scrollLeft,N.top=R-$+j.scrollTop,this.setState({dragging:N});const{x:P,y:T}=(0,l.calcXY)(this.getPositionParams(),N.top,N.left,this.props.w,this.props.h);return g.call(this,this.props.i,P,T,{e:m,node:_,newPosition:N})}),x(this,"onDrag",(m,p,_)=>{let{node:g,deltaX:y,deltaY:N}=p;const{onDrag:j}=this.props;if(!j)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let k=this.state.dragging.top+N,C=this.state.dragging.left+y;const{isBounded:O,i:E,w:R,h:$,containerWidth:P}=this.props,T=this.getPositionParams();if(O){const{offsetParent:V}=g;if(V){const{margin:Y,rowHeight:J}=this.props,K=V.clientHeight-(0,l.calcGridItemWHPx)($,J,Y[1]);k=(0,l.clamp)(k,0,K);const ie=(0,l.calcGridColWidth)(T),se=P-(0,l.calcGridItemWHPx)(R,ie,Y[0]);C=(0,l.clamp)(C,0,se)}}const D={top:k,left:C};_?this.setState({dragging:D}):(0,r.flushSync)(()=>{this.setState({dragging:D})});const{x:I,y:H}=(0,l.calcXY)(T,k,C,R,$);return j.call(this,E,I,H,{e:m,node:g,newPosition:D})}),x(this,"onDragStop",(m,p)=>{let{node:_}=p;const{onDragStop:g}=this.props;if(!g)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:y,h:N,i:j}=this.props,{left:k,top:C}=this.state.dragging,O={top:C,left:k};this.setState({dragging:null});const{x:E,y:R}=(0,l.calcXY)(this.getPositionParams(),C,k,y,N);return g.call(this,j,E,R,{e:m,node:_,newPosition:O})}),x(this,"onResizeStop",(m,p,_)=>this.onResizeHandler(m,p,_,"onResizeStop")),x(this,"onResizeStart",(m,p,_)=>this.onResizeHandler(m,p,_,"onResizeStart")),x(this,"onResize",(m,p,_)=>this.onResizeHandler(m,p,_,"onResize"))}shouldComponentUpdate(m,p){if(this.props.children!==m.children||this.props.droppingPosition!==m.droppingPosition)return!0;const _=(0,l.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),g=(0,l.calcGridItemPosition)(this.getPositionParams(m),m.x,m.y,m.w,m.h,p);return!(0,a.fastPositionEqual)(_,g)||this.props.useCSSTransforms!==m.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(m){this.moveDroppingItem(m)}moveDroppingItem(m){const{droppingPosition:p}=this.props;if(!p)return;const _=this.elementRef.current;if(!_)return;const g=m.droppingPosition||{left:0,top:0},{dragging:y}=this.state,N=y&&p.left!==g.left||p.top!==g.top;if(!y)this.onDragStart(p.e,{node:_,deltaX:p.left,deltaY:p.top});else if(N){const j=p.left-y.left,k=p.top-y.top;this.onDrag(p.e,{node:_,deltaX:j,deltaY:k},!0)}}getPositionParams(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:m.cols,containerPadding:m.containerPadding,containerWidth:m.containerWidth,margin:m.margin,maxRows:m.maxRows,rowHeight:m.rowHeight}}createStyle(m){const{usePercentages:p,containerWidth:_,useCSSTransforms:g}=this.props;let y;return g?y=(0,a.setTransform)(m):(y=(0,a.setTopLeft)(m),p&&(y.left=(0,a.perc)(m.left/_),y.width=(0,a.perc)(m.width/_))),y}mixinDraggable(m,p){return e.default.createElement(s.DraggableCore,{disabled:!p,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},m)}curryResizeHandler(m,p){return(_,g)=>p(_,g,m)}mixinResizable(m,p,_){const{cols:g,minW:y,minH:N,maxW:j,maxH:k,transformScale:C,resizeHandles:O,resizeHandle:E}=this.props,R=this.getPositionParams(),$=(0,l.calcGridItemPosition)(R,0,0,g,0).width,P=(0,l.calcGridItemPosition)(R,0,0,y,N),T=(0,l.calcGridItemPosition)(R,0,0,j,k),D=[P.width,P.height],I=[Math.min(T.width,$),Math.min(T.height,1/0)];return e.default.createElement(i.Resizable,{draggableOpts:{disabled:!_},className:_?void 0:"react-resizable-hide",width:p.width,height:p.height,minConstraints:D,maxConstraints:I,onResizeStop:this.curryResizeHandler(p,this.onResizeStop),onResizeStart:this.curryResizeHandler(p,this.onResizeStart),onResize:this.curryResizeHandler(p,this.onResize),transformScale:C,resizeHandles:O,handle:E},m)}onResizeHandler(m,p,_,g){let{node:y,size:N,handle:j}=p;const k=this.props[g];if(!k)return;const{x:C,y:O,i:E,maxH:R,minH:$,containerWidth:P}=this.props,{minW:T,maxW:D}=this.props;let I=N;y&&(I=(0,a.resizeItemInDirection)(j,_,N,P),(0,r.flushSync)(()=>{this.setState({resizing:g==="onResizeStop"?null:I})}));let{w:H,h:V}=(0,l.calcWH)(this.getPositionParams(),I.width,I.height,C,O,j);H=(0,l.clamp)(H,Math.max(T,1),D),V=(0,l.clamp)(V,$,R),k.call(this,E,H,V,{e:m,node:y,size:I,handle:j})}render(){const{x:m,y:p,w:_,h:g,isDraggable:y,isResizable:N,droppingPosition:j,useCSSTransforms:k}=this.props,C=(0,l.calcGridItemPosition)(this.getPositionParams(),m,p,_,g,this.state),O=e.default.Children.only(this.props.children);let E=e.default.cloneElement(O,{ref:this.elementRef,className:(0,u.default)("react-grid-item",O.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":y,"react-draggable-dragging":!!this.state.dragging,dropping:!!j,cssTransforms:k}),style:f(f(f({},this.props.style),O.props.style),this.createStyle(C))});return E=this.mixinResizable(E,C,N),E=this.mixinDraggable(E,y),E}};return Fr.default=S,x(S,"propTypes",{children:n.default.element,cols:n.default.number.isRequired,containerWidth:n.default.number.isRequired,rowHeight:n.default.number.isRequired,margin:n.default.array.isRequired,maxRows:n.default.number.isRequired,containerPadding:n.default.array.isRequired,x:n.default.number.isRequired,y:n.default.number.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired,minW:function(v,m){const p=v[m];if(typeof p!="number")return new Error("minWidth not Number");if(p>v.w||p>v.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(v,m){const p=v[m];if(typeof p!="number")return new Error("maxWidth not Number");if(p<v.w||p<v.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(v,m){const p=v[m];if(typeof p!="number")return new Error("minHeight not Number");if(p>v.h||p>v.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(v,m){const p=v[m];if(typeof p!="number")return new Error("maxHeight not Number");if(p<v.h||p<v.minH)return new Error("maxHeight smaller than item height/minHeight")},i:n.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,isDraggable:n.default.bool.isRequired,isResizable:n.default.bool.isRequired,isBounded:n.default.bool.isRequired,static:n.default.bool,useCSSTransforms:n.default.bool.isRequired,transformScale:n.default.number,className:n.default.string,handle:n.default.string,cancel:n.default.string,droppingPosition:n.default.shape({e:n.default.object.isRequired,left:n.default.number.isRequired,top:n.default.number.isRequired})}),x(S,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Fr}var Lo;function Jc(){if(Lo)return $r;Lo=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.default=void 0;var e=u(rt()),r=Wi(),n=c(ks()),s=jr(),i=Bi(),a=c(iw()),l=c(Kc());function c(m){return m&&m.__esModule?m:{default:m}}function u(m,p){if(typeof WeakMap=="function")var _=new WeakMap,g=new WeakMap;return(u=function(y,N){if(!N&&y&&y.__esModule)return y;var j,k,C={__proto__:null,default:y};if(y===null||typeof y!="object"&&typeof y!="function")return C;if(j=N?g:_){if(j.has(y))return j.get(y);j.set(y,C)}for(const O in y)O!=="default"&&{}.hasOwnProperty.call(y,O)&&((k=(j=Object.defineProperty)&&Object.getOwnPropertyDescriptor(y,O))&&(k.get||k.set)?j(C,O,k):C[O]=y[O]);return C})(m,p)}function d(m,p){var _=Object.keys(m);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(m);p&&(g=g.filter(function(y){return Object.getOwnPropertyDescriptor(m,y).enumerable})),_.push.apply(_,g)}return _}function h(m){for(var p=1;p<arguments.length;p++){var _=arguments[p]!=null?arguments[p]:{};p%2?d(Object(_),!0).forEach(function(g){f(m,g,_[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(_)):d(Object(_)).forEach(function(g){Object.defineProperty(m,g,Object.getOwnPropertyDescriptor(_,g))})}return m}function f(m,p,_){return(p=x(p))in m?Object.defineProperty(m,p,{value:_,enumerable:!0,configurable:!0,writable:!0}):m[p]=_,m}function x(m){var p=b(m,"string");return typeof p=="symbol"?p:p+""}function b(m,p){if(typeof m!="object"||!m)return m;var _=m[Symbol.toPrimitive];if(_!==void 0){var g=_.call(m,p);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return(p==="string"?String:Number)(m)}const w="react-grid-layout";let S=!1;try{S=/firefox/i.test(navigator.userAgent)}catch{}let v=class extends e.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,s.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,s.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(p,_,g,y)=>{let{e:N,node:j}=y;const{layout:k}=this.state,C=(0,s.getLayoutItem)(k,p);if(!C)return;const O={w:C.w,h:C.h,x:C.x,y:C.y,placeholder:!0,i:p};return this.setState({oldDragItem:(0,s.cloneLayoutItem)(C),oldLayout:k,activeDrag:O}),this.props.onDragStart(k,C,C,null,N,j)}),f(this,"onDrag",(p,_,g,y)=>{let{e:N,node:j}=y;const{oldDragItem:k}=this.state;let{layout:C}=this.state;const{cols:O,allowOverlap:E,preventCollision:R}=this.props,$=(0,s.getLayoutItem)(C,p);if(!$)return;const P={w:$.w,h:$.h,x:$.x,y:$.y,placeholder:!0,i:p};C=(0,s.moveElement)(C,$,_,g,!0,R,(0,s.compactType)(this.props),O,E),this.props.onDrag(C,k,$,P,N,j),this.setState({layout:E?C:(0,s.compact)(C,(0,s.compactType)(this.props),O),activeDrag:P})}),f(this,"onDragStop",(p,_,g,y)=>{let{e:N,node:j}=y;if(!this.state.activeDrag)return;const{oldDragItem:k}=this.state;let{layout:C}=this.state;const{cols:O,preventCollision:E,allowOverlap:R}=this.props,$=(0,s.getLayoutItem)(C,p);if(!$)return;C=(0,s.moveElement)(C,$,_,g,!0,E,(0,s.compactType)(this.props),O,R);const T=R?C:(0,s.compact)(C,(0,s.compactType)(this.props),O);this.props.onDragStop(T,k,$,null,N,j);const{oldLayout:D}=this.state;this.setState({activeDrag:null,layout:T,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(T,D)}),f(this,"onResizeStart",(p,_,g,y)=>{let{e:N,node:j}=y;const{layout:k}=this.state,C=(0,s.getLayoutItem)(k,p);C&&(this.setState({oldResizeItem:(0,s.cloneLayoutItem)(C),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(k,C,C,null,N,j))}),f(this,"onResize",(p,_,g,y)=>{let{e:N,node:j,size:k,handle:C}=y;const{oldResizeItem:O}=this.state,{layout:E}=this.state,{cols:R,preventCollision:$,allowOverlap:P}=this.props;let T=!1,D,I,H;const[V,Y]=(0,s.withLayoutItem)(E,p,K=>{let ie;return I=K.x,H=K.y,["sw","w","nw","n","ne"].indexOf(C)!==-1&&(["sw","nw","w"].indexOf(C)!==-1&&(I=K.x+(K.w-_),_=K.x!==I&&I<0?K.w:_,I=I<0?0:I),["ne","n","nw"].indexOf(C)!==-1&&(H=K.y+(K.h-g),g=K.y!==H&&H<0?K.h:g,H=H<0?0:H),T=!0),$&&!P&&(ie=(0,s.getAllCollisions)(E,h(h({},K),{},{w:_,h:g,x:I,y:H})).filter(ge=>ge.i!==K.i).length>0,ie&&(H=K.y,g=K.h,I=K.x,_=K.w,T=!1)),K.w=_,K.h=g,K});if(!Y)return;D=V,T&&(D=(0,s.moveElement)(V,Y,I,H,!0,this.props.preventCollision,(0,s.compactType)(this.props),R,P));const J={w:Y.w,h:Y.h,x:Y.x,y:Y.y,static:!0,i:p};this.props.onResize(D,O,Y,J,N,j),this.setState({layout:P?D:(0,s.compact)(D,(0,s.compactType)(this.props),R),activeDrag:J})}),f(this,"onResizeStop",(p,_,g,y)=>{let{e:N,node:j}=y;const{layout:k,oldResizeItem:C}=this.state,{cols:O,allowOverlap:E}=this.props,R=(0,s.getLayoutItem)(k,p),$=E?k:(0,s.compact)(k,(0,s.compactType)(this.props),O);this.props.onResizeStop($,C,R,null,N,j);const{oldLayout:P}=this.state;this.setState({activeDrag:null,layout:$,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged($,P)}),f(this,"onDragOver",p=>{var _;if(p.preventDefault(),p.stopPropagation(),S&&!((_=p.nativeEvent.target)!==null&&_!==void 0&&_.classList.contains(w)))return!1;const{droppingItem:g,onDropDragOver:y,margin:N,cols:j,rowHeight:k,maxRows:C,width:O,containerPadding:E,transformScale:R}=this.props,$=y==null?void 0:y(p);if($===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const P=h(h({},g),$),{layout:T}=this.state,D=p.currentTarget.getBoundingClientRect(),I=p.clientX-D.left,H=p.clientY-D.top,V={left:I/R,top:H/R,e:p};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:Y,top:J}=this.state.droppingPosition;(Y!=I||J!=H)&&this.setState({droppingPosition:V})}}else{const Y={cols:j,margin:N,maxRows:C,rowHeight:k,containerWidth:O,containerPadding:E||N},J=(0,i.calcXY)(Y,H,I,P.w,P.h);this.setState({droppingDOMNode:e.createElement("div",{key:P.i}),droppingPosition:V,layout:[...T,h(h({},P),{},{x:J.x,y:J.y,static:!1,isDraggable:!0})]})}}),f(this,"removeDroppingPlaceholder",()=>{const{droppingItem:p,cols:_}=this.props,{layout:g}=this.state,y=(0,s.compact)(g.filter(N=>N.i!==p.i),(0,s.compactType)(this.props),_,this.props.allowOverlap);this.setState({layout:y,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",p=>{p.preventDefault(),p.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",p=>{p.preventDefault(),p.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",p=>{p.preventDefault(),p.stopPropagation();const{droppingItem:_}=this.props,{layout:g}=this.state,y=g.find(N=>N.i===_.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(g,y,p)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(p,_){let g;return _.activeDrag?null:(!(0,r.deepEqual)(p.layout,_.propsLayout)||p.compactType!==_.compactType?g=p.layout:(0,s.childrenEqual)(p.children,_.children)||(g=_.layout),g?{layout:(0,s.synchronizeLayoutWithChildren)(g,p.children,p.cols,(0,s.compactType)(p),p.allowOverlap),compactType:p.compactType,children:p.children,propsLayout:p.layout}:null)}shouldComponentUpdate(p,_){return this.props.children!==p.children||!(0,s.fastRGLPropsEqual)(this.props,p,r.deepEqual)||this.state.activeDrag!==_.activeDrag||this.state.mounted!==_.mounted||this.state.droppingPosition!==_.droppingPosition}componentDidUpdate(p,_){if(!this.state.activeDrag){const g=this.state.layout,y=_.layout;this.onLayoutMaybeChanged(g,y)}}containerHeight(){if(!this.props.autoSize)return;const p=(0,s.bottom)(this.state.layout),_=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return p*this.props.rowHeight+(p-1)*this.props.margin[1]+_*2+"px"}onLayoutMaybeChanged(p,_){_||(_=this.state.layout),(0,r.deepEqual)(_,p)||this.props.onLayoutChange(p)}placeholder(){const{activeDrag:p}=this.state;if(!p)return null;const{width:_,cols:g,margin:y,containerPadding:N,rowHeight:j,maxRows:k,useCSSTransforms:C,transformScale:O}=this.props;return e.createElement(a.default,{w:p.w,h:p.h,x:p.x,y:p.y,i:p.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:_,cols:g,margin:y,containerPadding:N||y,maxRows:k,rowHeight:j,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:C,transformScale:O},e.createElement("div",null))}processGridItem(p,_){if(!p||!p.key)return;const g=(0,s.getLayoutItem)(this.state.layout,String(p.key));if(!g)return null;const{width:y,cols:N,margin:j,containerPadding:k,rowHeight:C,maxRows:O,isDraggable:E,isResizable:R,isBounded:$,useCSSTransforms:P,transformScale:T,draggableCancel:D,draggableHandle:I,resizeHandles:H,resizeHandle:V}=this.props,{mounted:Y,droppingPosition:J}=this.state,K=typeof g.isDraggable=="boolean"?g.isDraggable:!g.static&&E,ie=typeof g.isResizable=="boolean"?g.isResizable:!g.static&&R,se=g.resizeHandles||H,ge=K&&$&&g.isBounded!==!1;return e.createElement(a.default,{containerWidth:y,cols:N,margin:j,containerPadding:k||j,maxRows:O,rowHeight:C,cancel:D,handle:I,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:K,isResizable:ie,isBounded:ge,useCSSTransforms:P&&Y,usePercentages:!Y,transformScale:T,w:g.w,h:g.h,x:g.x,y:g.y,i:g.i,minH:g.minH,minW:g.minW,maxH:g.maxH,maxW:g.maxW,static:g.static,droppingPosition:_?J:void 0,resizeHandles:se,resizeHandle:V},p)}render(){const{className:p,style:_,isDroppable:g,innerRef:y}=this.props,N=(0,n.default)(w,p),j=h({height:this.containerHeight()},_);return e.createElement("div",{ref:y,className:N,style:j,onDrop:g?this.onDrop:s.noop,onDragLeave:g?this.onDragLeave:s.noop,onDragEnter:g?this.onDragEnter:s.noop,onDragOver:g?this.onDragOver:s.noop},e.Children.map(this.props.children,k=>this.processGridItem(k)),g&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return $r.default=v,f(v,"displayName","ReactGridLayout"),f(v,"propTypes",l.default),f(v,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:s.noop,onDragStart:s.noop,onDrag:s.noop,onDragStop:s.noop,onResizeStart:s.noop,onResize:s.noop,onResizeStop:s.noop,onDrop:s.noop,onDropDragOver:s.noop}),$r}var Vr={},Wt={},$o;function Zc(){if($o)return Wt;$o=1,Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.findOrGenerateResponsiveLayout=s,Wt.getBreakpointFromWidth=r,Wt.getColsFromBreakpoint=n,Wt.sortBreakpoints=i;var e=jr();function r(a,l){const c=i(a);let u=c[0];for(let d=1,h=c.length;d<h;d++){const f=c[d];l>a[f]&&(u=f)}return u}function n(a,l){if(!l[a])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+a+" is missing!");return l[a]}function s(a,l,c,u,d,h){if(a[c])return(0,e.cloneLayout)(a[c]);let f=a[u];const x=i(l),b=x.slice(x.indexOf(c));for(let w=0,S=b.length;w<S;w++){const v=b[w];if(a[v]){f=a[v];break}}return f=(0,e.cloneLayout)(f||[]),(0,e.compact)((0,e.correctBounds)(f,{cols:d}),h,d)}function i(a){return Object.keys(a).sort(function(c,u){return a[c]-a[u]})}return Wt}var Fo;function aw(){if(Fo)return Vr;Fo=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.default=void 0;var e=u(rt()),r=c(It()),n=Wi(),s=jr(),i=Zc(),a=c(Jc());const l=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function c(g){return g&&g.__esModule?g:{default:g}}function u(g,y){if(typeof WeakMap=="function")var N=new WeakMap,j=new WeakMap;return(u=function(k,C){if(!C&&k&&k.__esModule)return k;var O,E,R={__proto__:null,default:k};if(k===null||typeof k!="object"&&typeof k!="function")return R;if(O=C?j:N){if(O.has(k))return O.get(k);O.set(k,R)}for(const $ in k)$!=="default"&&{}.hasOwnProperty.call(k,$)&&((E=(O=Object.defineProperty)&&Object.getOwnPropertyDescriptor(k,$))&&(E.get||E.set)?O(R,$,E):R[$]=k[$]);return R})(g,y)}function d(){return d=Object.assign?Object.assign.bind():function(g){for(var y=1;y<arguments.length;y++){var N=arguments[y];for(var j in N)({}).hasOwnProperty.call(N,j)&&(g[j]=N[j])}return g},d.apply(null,arguments)}function h(g,y){if(g==null)return{};var N,j,k=f(g,y);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(g);for(j=0;j<C.length;j++)N=C[j],y.indexOf(N)===-1&&{}.propertyIsEnumerable.call(g,N)&&(k[N]=g[N])}return k}function f(g,y){if(g==null)return{};var N={};for(var j in g)if({}.hasOwnProperty.call(g,j)){if(y.indexOf(j)!==-1)continue;N[j]=g[j]}return N}function x(g,y){var N=Object.keys(g);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(g);y&&(j=j.filter(function(k){return Object.getOwnPropertyDescriptor(g,k).enumerable})),N.push.apply(N,j)}return N}function b(g){for(var y=1;y<arguments.length;y++){var N=arguments[y]!=null?arguments[y]:{};y%2?x(Object(N),!0).forEach(function(j){w(g,j,N[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(N)):x(Object(N)).forEach(function(j){Object.defineProperty(g,j,Object.getOwnPropertyDescriptor(N,j))})}return g}function w(g,y,N){return(y=S(y))in g?Object.defineProperty(g,y,{value:N,enumerable:!0,configurable:!0,writable:!0}):g[y]=N,g}function S(g){var y=v(g,"string");return typeof y=="symbol"?y:y+""}function v(g,y){if(typeof g!="object"||!g)return g;var N=g[Symbol.toPrimitive];if(N!==void 0){var j=N.call(g,y);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(g)}const m=g=>Object.prototype.toString.call(g);function p(g,y){return g==null?null:Array.isArray(g)?g:g[y]}let _=class extends e.Component{constructor(){super(...arguments),w(this,"state",this.generateInitialState()),w(this,"onLayoutChange",y=>{this.props.onLayoutChange(y,b(b({},this.props.layouts),{},{[this.state.breakpoint]:y}))})}generateInitialState(){const{width:y,breakpoints:N,layouts:j,cols:k}=this.props,C=(0,i.getBreakpointFromWidth)(N,y),O=(0,i.getColsFromBreakpoint)(C,k),E=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(j,N,C,C,O,E),breakpoint:C,cols:O}}static getDerivedStateFromProps(y,N){if(!(0,n.deepEqual)(y.layouts,N.layouts)){const{breakpoint:j,cols:k}=N;return{layout:(0,i.findOrGenerateResponsiveLayout)(y.layouts,y.breakpoints,j,j,k,y.compactType),layouts:y.layouts}}return null}componentDidUpdate(y){(this.props.width!=y.width||this.props.breakpoint!==y.breakpoint||!(0,n.deepEqual)(this.props.breakpoints,y.breakpoints)||!(0,n.deepEqual)(this.props.cols,y.cols))&&this.onWidthChange(y)}onWidthChange(y){const{breakpoints:N,cols:j,layouts:k,compactType:C}=this.props,O=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),E=this.state.breakpoint,R=(0,i.getColsFromBreakpoint)(O,j),$=b({},k);if(E!==O||y.breakpoints!==N||y.cols!==j){E in $||($[E]=(0,s.cloneLayout)(this.state.layout));let D=(0,i.findOrGenerateResponsiveLayout)($,N,O,E,R,C);D=(0,s.synchronizeLayoutWithChildren)(D,this.props.children,R,C,this.props.allowOverlap),$[O]=D,this.props.onBreakpointChange(O,R),this.props.onLayoutChange(D,$),this.setState({breakpoint:O,layout:D,cols:R})}const P=p(this.props.margin,O),T=p(this.props.containerPadding,O);this.props.onWidthChange(this.props.width,P,R,T)}render(){const y=this.props,{breakpoint:N,breakpoints:j,cols:k,layouts:C,margin:O,containerPadding:E,onBreakpointChange:R,onLayoutChange:$,onWidthChange:P}=y,T=h(y,l);return e.createElement(a.default,d({},T,{margin:p(O,this.state.breakpoint),containerPadding:p(E,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return Vr.default=_,w(_,"propTypes",{breakpoint:r.default.string,breakpoints:r.default.object,allowOverlap:r.default.bool,cols:r.default.object,margin:r.default.oneOfType([r.default.array,r.default.object]),containerPadding:r.default.oneOfType([r.default.array,r.default.object]),layouts(g,y){if(m(g[y])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+m(g[y]));Object.keys(g[y]).forEach(N=>{if(!(N in g.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,s.validateLayout)(g.layouts[N],"layouts."+N)})},width:r.default.number.isRequired,onBreakpointChange:r.default.func,onLayoutChange:r.default.func,onWidthChange:r.default.func}),w(_,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:s.noop,onLayoutChange:s.noop,onWidthChange:s.noop}),Vr}var An={},Qc=(function(){if(typeof Map<"u")return Map;function e(r,n){var s=-1;return r.some(function(i,a){return i[0]===n?(s=a,!0):!1}),s}return(function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(n){var s=e(this.__entries__,n),i=this.__entries__[s];return i&&i[1]},r.prototype.set=function(n,s){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=s:this.__entries__.push([n,s])},r.prototype.delete=function(n){var s=this.__entries__,i=e(s,n);~i&&s.splice(i,1)},r.prototype.has=function(n){return!!~e(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,s){s===void 0&&(s=null);for(var i=0,a=this.__entries__;i<a.length;i++){var l=a[i];n.call(s,l[1],l[0])}},r})()})(),xi=typeof window<"u"&&typeof document<"u"&&window.document===document,as=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),ow=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(as):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),lw=2;function cw(e,r){var n=!1,s=!1,i=0;function a(){n&&(n=!1,e()),s&&c()}function l(){ow(a)}function c(){var u=Date.now();if(n){if(u-i<lw)return;s=!0}else n=!0,s=!1,setTimeout(l,r);i=u}return c}var uw=20,dw=["top","right","bottom","left","width","height","size","weight"],fw=typeof MutationObserver<"u",hw=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=cw(this.refresh.bind(this),uw)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var n=this.observers_,s=n.indexOf(r);~s&&n.splice(s,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return r.forEach(function(n){return n.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!xi||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),fw?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!xi||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var n=r.propertyName,s=n===void 0?"":n,i=dw.some(function(a){return!!~s.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),eu=(function(e,r){for(var n=0,s=Object.keys(r);n<s.length;n++){var i=s[n];Object.defineProperty(e,i,{value:r[i],enumerable:!1,writable:!1,configurable:!0})}return e}),vr=(function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||as}),tu=Os(0,0,0,0);function os(e){return parseFloat(e)||0}function Io(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(s,i){var a=e["border-"+i+"-width"];return s+os(a)},0)}function pw(e){for(var r=["top","right","bottom","left"],n={},s=0,i=r;s<i.length;s++){var a=i[s],l=e["padding-"+a];n[a]=os(l)}return n}function mw(e){var r=e.getBBox();return Os(0,0,r.width,r.height)}function gw(e){var r=e.clientWidth,n=e.clientHeight;if(!r&&!n)return tu;var s=vr(e).getComputedStyle(e),i=pw(s),a=i.left+i.right,l=i.top+i.bottom,c=os(s.width),u=os(s.height);if(s.boxSizing==="border-box"&&(Math.round(c+a)!==r&&(c-=Io(s,"left","right")+a),Math.round(u+l)!==n&&(u-=Io(s,"top","bottom")+l)),!yw(e)){var d=Math.round(c+a)-r,h=Math.round(u+l)-n;Math.abs(d)!==1&&(c-=d),Math.abs(h)!==1&&(u-=h)}return Os(i.left,i.top,c,u)}var xw=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof vr(e).SVGGraphicsElement}:function(e){return e instanceof vr(e).SVGElement&&typeof e.getBBox=="function"}})();function yw(e){return e===vr(e).document.documentElement}function vw(e){return xi?xw(e)?mw(e):gw(e):tu}function bw(e){var r=e.x,n=e.y,s=e.width,i=e.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(a.prototype);return eu(l,{x:r,y:n,width:s,height:i,top:n,right:r+s,bottom:i+n,left:r}),l}function Os(e,r,n,s){return{x:e,y:r,width:n,height:s}}var ww=(function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Os(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=vw(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e})(),_w=(function(){function e(r,n){var s=bw(n);eu(this,{target:r,contentRect:s})}return e})(),jw=(function(){function e(r,n,s){if(this.activeObservations_=[],this.observations_=new Qc,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=n,this.callbackCtx_=s}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof vr(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)||(n.set(r,new ww(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof vr(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)&&(n.delete(r),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&r.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,n=this.activeObservations_.map(function(s){return new _w(s.target,s.broadcastRect())});this.callback_.call(r,n,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),ru=typeof WeakMap<"u"?new WeakMap:new Qc,nu=(function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=hw.getInstance(),s=new jw(r,n,this);ru.set(this,s)}return e})();["observe","unobserve","disconnect"].forEach(function(e){nu.prototype[e]=function(){var r;return(r=ru.get(this))[e].apply(r,arguments)}});var Nw=(function(){return typeof as.ResizeObserver<"u"?as.ResizeObserver:nu})();const Sw=Object.freeze(Object.defineProperty({__proto__:null,default:Nw},Symbol.toStringTag,{value:"Module"})),kw=ou(Sw);var Ho;function Cw(){if(Ho)return An;Ho=1,Object.defineProperty(An,"__esModule",{value:!0}),An.default=w;var e=l(rt()),r=a(It()),n=a(kw),s=a(ks());const i=["measureBeforeMount"];function a(S){return S&&S.__esModule?S:{default:S}}function l(S,v){if(typeof WeakMap=="function")var m=new WeakMap,p=new WeakMap;return(l=function(_,g){if(!g&&_&&_.__esModule)return _;var y,N,j={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return j;if(y=g?p:m){if(y.has(_))return y.get(_);y.set(_,j)}for(const k in _)k!=="default"&&{}.hasOwnProperty.call(_,k)&&((N=(y=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,k))&&(N.get||N.set)?y(j,k,N):j[k]=_[k]);return j})(S,v)}function c(){return c=Object.assign?Object.assign.bind():function(S){for(var v=1;v<arguments.length;v++){var m=arguments[v];for(var p in m)({}).hasOwnProperty.call(m,p)&&(S[p]=m[p])}return S},c.apply(null,arguments)}function u(S,v){if(S==null)return{};var m,p,_=d(S,v);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(S);for(p=0;p<g.length;p++)m=g[p],v.indexOf(m)===-1&&{}.propertyIsEnumerable.call(S,m)&&(_[m]=S[m])}return _}function d(S,v){if(S==null)return{};var m={};for(var p in S)if({}.hasOwnProperty.call(S,p)){if(v.indexOf(p)!==-1)continue;m[p]=S[p]}return m}function h(S,v,m){return(v=f(v))in S?Object.defineProperty(S,v,{value:m,enumerable:!0,configurable:!0,writable:!0}):S[v]=m,S}function f(S){var v=x(S,"string");return typeof v=="symbol"?v:v+""}function x(S,v){if(typeof S!="object"||!S)return S;var m=S[Symbol.toPrimitive];if(m!==void 0){var p=m.call(S,v);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(S)}const b="react-grid-layout";function w(S){var v;return v=class extends e.Component{constructor(){super(...arguments),h(this,"state",{width:1280}),h(this,"elementRef",e.createRef()),h(this,"mounted",!1),h(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new n.default(_=>{if(this.elementRef.current instanceof HTMLElement){const y=_[0].contentRect.width;this.setState({width:y})}});const p=this.elementRef.current;p instanceof HTMLElement&&this.resizeObserver.observe(p)}componentWillUnmount(){this.mounted=!1;const p=this.elementRef.current;p instanceof HTMLElement&&this.resizeObserver.unobserve(p),this.resizeObserver.disconnect()}render(){const p=this.props,{measureBeforeMount:_}=p,g=u(p,i);return _&&!this.mounted?e.createElement("div",{className:(0,s.default)(this.props.className,b),style:this.props.style,ref:this.elementRef}):e.createElement(S,c({innerRef:this.elementRef},g,this.state))}},h(v,"defaultProps",{measureBeforeMount:!1}),h(v,"propTypes",{measureBeforeMount:r.default.bool}),v}return An}var qo;function Ow(){return qo||(qo=1,(function(e){e.exports=Jc().default,e.exports.utils=jr(),e.exports.calculateUtils=Bi(),e.exports.Responsive=aw().default,e.exports.Responsive.utils=Zc(),e.exports.WidthProvider=Cw().default})(qs)),qs.exports}var Pw=Ow();const Ew=Vo(Pw),rr=({title:e,icon:r,children:n,onRemove:s,className:i=""})=>o.jsxs("div",{className:`bg-dark-surface border border-dark-border rounded-lg shadow-lg h-full flex flex-col ${i}`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Mu,{className:"h-4 w-4 text-slate-400 cursor-move drag-handle"}),r&&o.jsx("div",{className:"text-primary",children:r}),o.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),s&&o.jsx("button",{onClick:s,className:"p-1 text-slate-400 hover:text-white hover:bg-dark-hover rounded transition-colors",children:o.jsx(hr,{className:"h-4 w-4"})})]}),o.jsx("div",{className:"flex-1 p-4 overflow-auto",children:n})]}),Rw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await(await fetch("/api/dashboard/data/recent_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(u.scans||[])}catch(c){console.error("Failed to fetch recent scans:",c)}finally{i(!1)}},l=c=>{switch(c){case"completed":return o.jsx(nn,{className:"h-4 w-4 text-green-500"});case"failed":return o.jsx(dr,{className:"h-4 w-4 text-red-500"});case"running":return o.jsx(et,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return o.jsx(br,{className:"h-4 w-4 text-yellow-500"})}};return o.jsx(rr,{title:"Recent Scans",icon:o.jsx(dt,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No recent scans"}):o.jsx("div",{className:"space-y-2",children:r.map(c=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l(c.status),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-white truncate",children:c.name}),o.jsx("div",{className:"text-xs text-slate-400",children:ki(new Date(c.created_at),{addSuffix:!0})})]})]}),o.jsx("div",{className:"text-xs text-slate-400 capitalize",children:c.status})]},c.id))})})},Dw=({onRemove:e})=>{const[r,n]=z.useState(null),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/vulnerability_summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c)}catch(l){console.error("Failed to fetch vulnerability summary:",l)}finally{i(!1)}};return o.jsx(rr,{title:"Vulnerability Summary",icon:o.jsx(De,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-dark-border",children:[o.jsx("div",{className:"text-3xl font-bold text-white",children:r.total}),o.jsx("div",{className:"text-sm text-slate-400",children:"Total"})]}),o.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-red-900/30",children:[o.jsx("div",{className:"text-3xl font-bold text-red-500",children:r.critical}),o.jsx("div",{className:"text-sm text-slate-400",children:"Critical"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),o.jsx("span",{className:"text-sm text-slate-300",children:"High"})]}),o.jsx("span",{className:"text-sm font-semibold text-white",children:r.high})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),o.jsx("span",{className:"text-sm text-slate-300",children:"Medium"})]}),o.jsx("span",{className:"text-sm font-semibold text-white",children:r.medium})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),o.jsx("span",{className:"text-sm text-slate-300",children:"Low"})]}),o.jsx("span",{className:"text-sm font-semibold text-white",children:r.low})]})]})]}):o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No vulnerability data"})})},Aw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await(await fetch("/api/dashboard/data/compliance_scores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(d.scores||[])}catch(u){console.error("Failed to fetch compliance scores:",u)}finally{i(!1)}},l=u=>u>=90?"text-green-500":u>=70?"text-yellow-500":"text-red-500",c=u=>u>=90?"bg-green-500":u>=70?"bg-yellow-500":"bg-red-500";return o.jsx(rr,{title:"Compliance Scores",icon:o.jsx(zu,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No compliance data"}):o.jsx("div",{className:"space-y-4",children:r.map(u=>{const d=u.score/u.total*100;return o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:u.framework}),o.jsxs("span",{className:`text-sm font-bold ${l(d)}`,children:[u.score,"/",u.total," (",d.toFixed(0),"%)"]})]}),o.jsx("div",{className:"w-full bg-dark-bg rounded-full h-2",children:o.jsx("div",{className:`${c(d)} h-2 rounded-full transition-all duration-300`,style:{width:`${d}%`}})})]},u.framework)})})})},Tw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/scan_activity_chart",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.data||[])}catch(l){console.error("Failed to fetch scan activity:",l)}finally{i(!1)}};return o.jsx(rr,{title:"Scan Activity (Last 30 Days)",icon:o.jsx(al,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No scan activity data"}):o.jsx(Gt,{width:"100%",height:200,children:o.jsxs(Vs,{data:r,children:[o.jsx(or,{strokeDasharray:"3 3",stroke:"#374151"}),o.jsx(lr,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},tickFormatter:l=>{const c=new Date(l);return`${c.getMonth()+1}/${c.getDate()}`}}),o.jsx(cr,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),o.jsx(Yt,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#fff"}}),o.jsx(Gs,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4}})]})})})},Mw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await(await fetch("/api/dashboard/data/top_risky_hosts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(u.hosts||[])}catch(c){console.error("Failed to fetch risky hosts:",c)}finally{i(!1)}},l=c=>c>=50?"text-red-500":c>=20?"text-orange-500":"text-yellow-500";return o.jsx(rr,{title:"Top Risky Hosts",icon:o.jsx(tt,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No risky hosts found"}):o.jsx("div",{className:"space-y-2",children:r.map((c,u)=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx("div",{className:`text-xl font-bold ${l(c.risk_score)}`,children:u+1}),o.jsx(Pt,{className:"h-4 w-4 text-slate-400"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-white truncate",children:c.hostname||c.ip}),c.hostname&&o.jsx("div",{className:"text-xs text-slate-400",children:c.ip})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsxs("div",{className:"text-sm font-semibold text-white",children:[c.vulnerability_count," vulns"]}),o.jsxs("div",{className:"flex gap-2 text-xs",children:[c.critical_count>0&&o.jsxs("span",{className:"text-red-500",children:[c.critical_count,"C"]}),c.high_count>0&&o.jsxs("span",{className:"text-orange-500",children:[c.high_count,"H"]})]})]})]},c.ip))})})},zw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/critical_vulns",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.vulnerabilities||[])}catch(l){console.error("Failed to fetch critical vulnerabilities:",l)}finally{i(!1)}};return o.jsx(rr,{title:"Critical Vulnerabilities",icon:o.jsx(Xi,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No critical vulnerabilities"}):o.jsx("div",{className:"space-y-2",children:r.map(l=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-red-900/30 hover:border-red-500 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(Xi,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-white truncate",children:l.vulnerability_id}),o.jsxs("div",{className:"text-xs text-slate-400",children:[l.host_ip,"  ",ki(new Date(l.created_at),{addSuffix:!0})]})]})]}),o.jsxs("div",{className:"flex flex-col items-end gap-1",children:[o.jsx("div",{className:"px-2 py-1 bg-red-900/30 text-red-500 text-xs font-semibold rounded",children:l.severity.toUpperCase()}),o.jsx("div",{className:"text-xs text-slate-400 capitalize",children:l.status.replace("_"," ")})]})]},l.id))})})},Lw=({onRemove:e})=>{const[r,n]=z.useState([]),[s,i]=z.useState(!0);z.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/upcoming_scheduled_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.scans||[])}catch(l){console.error("Failed to fetch upcoming scans:",l)}finally{i(!1)}};return o.jsx(rr,{title:"Upcoming Scheduled Scans",icon:o.jsx(Mn,{className:"h-5 w-5"}),onRemove:e,children:s?o.jsx("div",{className:"flex items-center justify-center h-32",children:o.jsx(et,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?o.jsx("div",{className:"text-center text-slate-400 py-8",children:"No upcoming scans"}):o.jsx("div",{className:"space-y-2",children:r.map(l=>o.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o.jsx(br,{className:"h-4 w-4 text-primary flex-shrink-0"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-medium text-white truncate",children:l.name}),o.jsxs("div",{className:"text-xs text-slate-400 capitalize",children:[l.schedule_type," scan"]})]})]}),o.jsx("div",{className:"text-xs text-slate-400",children:ki(new Date(l.next_run_at),{addSuffix:!0})})]},l.id))})})},Uo=[{type:"recent_scans",label:"Recent Scans",minW:4,minH:2},{type:"vulnerability_summary",label:"Vulnerability Summary",minW:4,minH:2},{type:"compliance_scores",label:"Compliance Scores",minW:4,minH:2},{type:"scan_activity_chart",label:"Scan Activity",minW:6,minH:3},{type:"top_risky_hosts",label:"Top Risky Hosts",minW:4,minH:3},{type:"critical_vulns",label:"Critical Vulnerabilities",minW:4,minH:2},{type:"upcoming_scheduled_scans",label:"Upcoming Scans",minW:4,minH:2}],$w=({editMode:e=!1,onEditModeChange:r})=>{const[n,s]=z.useState([]),[i,a]=z.useState(!0),[l,c]=z.useState(!1),[u,d]=z.useState(e),[h,f]=z.useState(!1);z.useEffect(()=>{x()},[]),z.useEffect(()=>{d(e)},[e]);const x=async()=>{try{const y=await(await fetch("/api/dashboard/widgets",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();s(y.widgets||[])}catch(g){console.error("Failed to fetch dashboard config:",g)}finally{a(!1)}},b=async()=>{c(!0);try{await fetch("/api/dashboard/widgets",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({widgets:n})})}catch(g){console.error("Failed to save dashboard config:",g)}finally{c(!1)}},w=g=>{if(!u)return;const y=n.map(N=>{const j=g.find(k=>k.i===N.id);return j?{...N,x:j.x,y:j.y,w:j.w,h:j.h}:N});s(y)},S=g=>{const y=Uo.find(j=>j.type===g);if(!y)return;const N={id:`${g}_${Date.now()}`,widget_type:g,x:0,y:1/0,w:y.minW,h:y.minH};s([...n,N]),f(!1)},v=g=>{s(n.filter(y=>y.id!==g))},m=()=>{const g=!u;d(g),r&&r(g)},p=g=>{const y={onRemove:u?()=>v(g.id):void 0};switch(g.widget_type){case"recent_scans":return o.jsx(Rw,{...y});case"vulnerability_summary":return o.jsx(Dw,{...y});case"compliance_scores":return o.jsx(Aw,{...y});case"scan_activity_chart":return o.jsx(Tw,{...y});case"top_risky_hosts":return o.jsx(Mw,{...y});case"critical_vulns":return o.jsx(zw,{...y});case"upcoming_scheduled_scans":return o.jsx(Lw,{...y});default:return null}};if(i)return o.jsx("div",{className:"flex items-center justify-center h-64",children:o.jsx("div",{className:"text-slate-400",children:"Loading dashboard..."})});const _=n.map(g=>({i:g.id,x:g.x,y:g.y,w:g.w,h:g.h}));return o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:m,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${u?"bg-primary text-white":"bg-dark-surface text-slate-300 hover:text-white border border-dark-border"}`,children:[o.jsx(Ki,{className:"h-4 w-4"}),u?"Exit Edit Mode":"Customize Dashboard"]}),u&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-4 py-2 bg-dark-surface text-slate-300 hover:text-white border border-dark-border rounded-lg transition-colors",children:[o.jsx(Lu,{className:"h-4 w-4"}),"Add Widget"]}),h&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-50 min-w-[200px]",children:Uo.map(g=>o.jsx("button",{onClick:()=>S(g.type),className:"w-full text-left px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-dark-hover transition-colors first:rounded-t-lg last:rounded-b-lg",children:g.label},g.type))})]})]}),o.jsxs("button",{onClick:b,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[o.jsx(rl,{className:"h-4 w-4"}),l?"Saving...":"Save Layout"]})]})]}),u&&o.jsx("div",{className:"text-sm text-slate-400",children:"Drag widgets to reposition, resize from corners"})]}),o.jsx(Ew,{className:"layout",layout:_,cols:12,rowHeight:100,width:1200,isDraggable:u,isResizable:u,onLayoutChange:w,draggableHandle:".drag-handle",children:n.map(g=>o.jsx("div",{className:u?"cursor-move":"",children:p(g)},g.id))}),n.length===0&&o.jsxs("div",{className:"text-center py-12 text-slate-400",children:[o.jsx(Ki,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),o.jsx("p",{children:"No widgets added yet"}),u&&o.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-primary hover:underline",children:"Add your first widget"})]})]})},Fw=({selectedCount:e,onClear:r,actions:n,onAction:s,isProcessing:i=!1})=>{const[a,l]=z.useState(null);if(e===0)return null;const c=f=>{f.requiresConfirmation?l(f.id):s(f.id)},u=()=>{a&&(s(a),l(null))},d=f=>{if(f.icon)return f.icon;switch(f.id){case"delete":return o.jsx(hs,{className:"h-4 w-4"});case"export":return o.jsx(fr,{className:"h-4 w-4"});default:return null}},h=n.find(f=>f.id===a);return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:o.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-2xl px-6 py-4 min-w-[400px]",children:o.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center font-semibold text-sm",children:e}),o.jsxs("span",{className:"text-white font-medium",children:[e," item",e!==1?"s":""," selected"]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[n.map(f=>o.jsxs(Ee,{variant:f.variant||"secondary",onClick:()=>c(f),disabled:i,className:"flex items-center space-x-2",children:[d(f),o.jsx("span",{children:f.label})]},f.id)),o.jsx("button",{onClick:r,disabled:i,className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-dark-bg disabled:opacity-50",title:"Clear selection",children:o.jsx(hr,{className:"h-5 w-5"})})]})]})})}),a&&h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:o.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 max-w-md w-full mx-4",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Action"}),o.jsx("p",{className:"text-slate-300 mb-6",children:h.confirmationMessage||`Are you sure you want to ${h.label.toLowerCase()} ${e} item${e!==1?"s":""}?`}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx(Ee,{variant:"secondary",onClick:()=>l(null),disabled:i,children:"Cancel"}),o.jsx(Ee,{variant:h.variant||"primary",onClick:u,disabled:i,children:"Confirm"})]})]})})]})},Iw=({shortcuts:e,enabled:r=!0})=>{z.useEffect(()=>{if(!r)return;const n=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement))for(const i of e){const a=i.ctrl===void 0||i.ctrl===(s.ctrlKey||s.metaKey),l=i.shift===void 0||i.shift===s.shiftKey,c=i.alt===void 0||i.alt===s.altKey,u=s.key.toLowerCase()===i.key.toLowerCase();if(a&&l&&c&&u){s.preventDefault(),i.action();break}}};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[e,r])},Hw=e=>{const r=[];return e.ctrl&&r.push("Ctrl"),e.shift&&r.push("Shift"),e.alt&&r.push("Alt"),r.push(e.key.toUpperCase()),r.join("+")},Wo=()=>{const{activeScan:e,results:r,setActiveScan:n,scans:s,setScans:i}=ft(),[a,l]=z.useState(!1),[c,u]=z.useState("overview"),[d,h]=z.useState(new Set),[f,x]=z.useState(!1),b=g=>{const y=s.find(N=>N.id===g);y&&n(y)},w=async g=>{if(d.size!==0){x(!0);try{switch(g){case"delete":await S();break;case"export-json":await v("json");break;case"export-csv":await v("csv");break;default:Q.warning("Unknown action")}}catch(y){console.error("Bulk action failed:",y),Q.error("Bulk action failed")}finally{x(!1)}}},S=async()=>{try{const g=await Zt.bulkDelete(Array.from(d));g.data.failed&&g.data.failed>0?Q.warning(g.data.message):Q.success(g.data.message);const y=await Zt.getAll();i(y.data),h(new Set)}catch(g){throw Q.error("Failed to delete scans"),g}},v=async g=>{try{const y=await Zt.bulkExport(Array.from(d),g,{include_vulnerabilities:!0,include_services:!0}),N=window.URL.createObjectURL(new Blob([y.data])),j=document.createElement("a");j.href=N,j.setAttribute("download","scans_export.zip"),document.body.appendChild(j),j.click(),j.remove(),window.URL.revokeObjectURL(N),Q.success(`Exported ${d.size} scan(s) successfully`),h(new Set)}catch(y){throw Q.error("Failed to export scans"),y}},m=[{id:"delete",label:"Delete",icon:o.jsx(hs,{className:"h-4 w-4"}),variant:"danger",requiresConfirmation:!0,confirmationMessage:`Are you sure you want to delete ${d.size} scan${d.size!==1?"s":""}? This action cannot be undone.`},{id:"export-json",label:"Export JSON",icon:o.jsx(fr,{className:"h-4 w-4"}),variant:"secondary"},{id:"export-csv",label:"Export CSV",icon:o.jsx(fr,{className:"h-4 w-4"}),variant:"secondary"}],p=z.useMemo(()=>e&&r.has(e.id)?r.get(e.id)||[]:Array.from(r.values()).flat(),[e,r]),_=[{key:"f",ctrl:!0,action:()=>{const g=document.querySelector('input[placeholder*="Search"]');g&&(g.focus(),g.select())},description:"Focus search"},{key:"k",ctrl:!0,action:()=>l(!a),description:"Show keyboard shortcuts"},{key:"Escape",action:()=>l(!1),description:"Close modals"}];return Iw({shortcuts:_}),o.jsx(Vf,{children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Network Triage Dashboard"}),o.jsx("p",{className:"text-slate-400",children:"Create scans, monitor progress, and analyze results in real-time"})]}),o.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-white transition-colors border border-dark-border hover:border-primary rounded-lg",children:[o.jsx(Ji,{className:"h-4 w-4"}),"Shortcuts"]})]}),o.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[o.jsxs("button",{onClick:()=>u("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="overview"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx($u,{className:"h-4 w-4"}),"Overview"]}),o.jsxs("button",{onClick:()=>u("scans"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="scans"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(Zo,{className:"h-4 w-4"}),"Scans"]}),o.jsxs("button",{onClick:()=>u("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="analytics"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[o.jsx(al,{className:"h-4 w-4"}),"Analytics"]})]}),c==="overview"&&o.jsx($w,{}),c==="scans"&&o.jsxs(o.Fragment,{children:[o.jsx(Wb,{}),o.jsx(xp,{onScanSelect:b}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"space-y-6",children:[o.jsx(Xf,{}),o.jsx(dp,{selectedIds:d,onSelectionChange:h})]}),o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[o.jsx(gp,{scanId:(e==null?void 0:e.id)||null}),(e==null?void 0:e.status)==="running"&&o.jsx(yp,{scanId:e.id}),p.length>0&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsx(Vb,{hosts:p}),o.jsx(Xb,{hosts:p})]}),o.jsx(Ub,{})]})]})]}),c==="analytics"&&o.jsx(Kb,{}),o.jsx(Fw,{selectedCount:d.size,onClear:()=>h(new Set),actions:m,onAction:w,isProcessing:f}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:()=>l(!1)}),o.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-dark-surface border border-dark-border rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadeIn",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[o.jsx(Ji,{className:"h-5 w-5 text-primary"}),"Keyboard Shortcuts"]}),o.jsx("button",{onClick:()=>l(!1),className:"text-slate-400 hover:text-white transition-colors",children:o.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),o.jsx("div",{className:"space-y-2",children:_.map((g,y)=>o.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-dark-bg rounded border border-dark-border",children:[o.jsx("span",{className:"text-sm text-slate-300",children:g.description}),o.jsx("kbd",{className:"px-2 py-1 bg-dark-surface border border-dark-border rounded text-xs font-mono text-primary",children:Hw(g)})]},y))}),o.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center",children:["Press ",o.jsx("kbd",{className:"px-1 py-0.5 bg-dark-surface border border-dark-border rounded text-xs font-mono",children:"Esc"})," to close"]})]})]})]})})},qw=z.lazy(()=>Et(()=>import("./AdminPage-CJpMoMXm.js"),__vite__mapDeps([0,1,2,3,4]))),Uw=z.lazy(()=>Et(()=>import("./SettingsPage-BjTiYld9.js"),__vite__mapDeps([5,1,2,3,4]))),Ww=z.lazy(()=>Et(()=>import("./AssetsPage-DZ5tPZDI.js"),__vite__mapDeps([6,1,2,3,4]))),Bw=z.lazy(()=>Et(()=>import("./WebAppScanPage-Dd1jXUsd.js"),__vite__mapDeps([7,1,2,3,4]))),Vw=z.lazy(()=>Et(()=>import("./DnsToolsPage-DZcCwh6W.js"),__vite__mapDeps([8,1,2,3,4]))),Gw=z.lazy(()=>Et(()=>import("./CompliancePage-B6_a-0nB.js"),__vite__mapDeps([9,1,2,3,4]))),Yw=z.lazy(()=>Et(()=>import("./RemediationPage-7OHWAnlL.js"),__vite__mapDeps([10,1,2,3,4]))),Xw=z.lazy(()=>Et(()=>import("./ManualAssessmentPage-B58l4NJ8.js"),__vite__mapDeps([11,1,2,3,4]))),Kw=z.lazy(()=>Et(()=>import("./AssessmentDetailPage-B3fEWLid.js"),__vite__mapDeps([12,1,2,3,4]))),Jw=()=>o.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:o.jsxs("div",{className:"flex flex-col items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})}),ot=({children:e})=>pr(n=>n.isAuthenticated)?o.jsx(o.Fragment,{children:e}):o.jsx(Bn,{to:"/",replace:!0}),Zw=({children:e})=>{const r=pr(s=>s.isAuthenticated),n=pr(s=>s.isAdmin);return r?n()?o.jsx(o.Fragment,{children:e}):o.jsx(Bn,{to:"/dashboard",replace:!0}):o.jsx(Bn,{to:"/",replace:!0})};function Qw(){return o.jsxs(lu,{children:[o.jsx(z.Suspense,{fallback:o.jsx(Jw,{}),children:o.jsxs(cu,{children:[o.jsx(We,{path:"/",element:o.jsx(Wf,{})}),o.jsx(We,{path:"/dashboard",element:o.jsx(ot,{children:o.jsx(Wo,{})})}),o.jsx(We,{path:"/dashboard/:scanId",element:o.jsx(ot,{children:o.jsx(Wo,{})})}),o.jsx(We,{path:"/admin",element:o.jsx(Zw,{children:o.jsx(qw,{})})}),o.jsx(We,{path:"/settings",element:o.jsx(ot,{children:o.jsx(Uw,{})})}),o.jsx(We,{path:"/assets",element:o.jsx(ot,{children:o.jsx(Ww,{})})}),o.jsx(We,{path:"/webapp-scan",element:o.jsx(ot,{children:o.jsx(Bw,{})})}),o.jsx(We,{path:"/dns-tools",element:o.jsx(ot,{children:o.jsx(Vw,{})})}),o.jsx(We,{path:"/compliance",element:o.jsx(ot,{children:o.jsx(Gw,{})})}),o.jsx(We,{path:"/remediation",element:o.jsx(ot,{children:o.jsx(Yw,{})})}),o.jsx(We,{path:"/manual-assessments",element:o.jsx(ot,{children:o.jsx(Xw,{})})}),o.jsx(We,{path:"/manual-assessments/:assessmentId",element:o.jsx(ot,{children:o.jsx(Kw,{})})}),o.jsx(We,{path:"*",element:o.jsx(Bn,{to:"/",replace:!0})})]})}),o.jsx(Fu,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})}Zu.createRoot(document.getElementById("root")).render(o.jsx(Yo.StrictMode,{children:o.jsx(Qw,{})}));export{M_ as A,Ee as B,ce as C,D_ as D,T_ as E,Me as I,Ft as L,j_ as a,Ve as b,Vf as c,Zs as d,Pp as e,ki as f,Zt as g,Hl as h,C_ as i,Ff as j,k_ as k,P_ as l,Lf as m,S_ as n,If as o,U as p,ar as q,E_ as r,N_ as s,$f as t,ft as u,Hf as v,R_ as w,_n as x,O_ as y,A_ as z};
