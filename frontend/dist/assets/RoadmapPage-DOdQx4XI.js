import{j as e}from"./vendor-state-oFDmcCcB.js";import{r as n,L as o}from"./vendor-react-5KxtEOLM.js";import{B as i}from"./vendor-ui-7EurIAWU.js";const G=()=>{const[l,h]=n.useState([]),[r,v]=n.useState(null),[N,w]=n.useState(!0),[g,b]=n.useState(null),[u,S]=n.useState("all"),[m,C]=n.useState("all"),[y,F]=n.useState("votes"),[c,d]=n.useState({title:"",description:"",email:""}),[f,j]=n.useState(!1),[k,P]=n.useState(!1);n.useEffect(()=>{L()},[]);const L=async()=>{try{const[t,s]=await Promise.all([fetch("/api/roadmap/items"),fetch("/api/roadmap/stats")]);if(t.ok){const a=await t.json();a.success&&h(a.data)}if(s.ok){const a=await s.json();a.success&&v(a.data)}}catch(t){console.error("Failed to fetch roadmap data:",t),i.error("Failed to load roadmap data")}finally{w(!1)}},_=[{id:"all",label:"All",count:l.length},{id:"completed",label:"Completed",count:l.filter(t=>t.status==="completed").length},{id:"in_progress",label:"In Progress",count:l.filter(t=>t.status==="in_progress").length},{id:"planned",label:"Planned",count:l.filter(t=>t.status==="planned").length},{id:"considering",label:"Under Consideration",count:l.filter(t=>t.status==="considering").length}],I=[{id:"all",label:"All Categories"},{id:"scanning",label:"Scanning"},{id:"reporting",label:"Reporting"},{id:"integrations",label:"Integrations"},{id:"compliance",label:"Compliance"},{id:"ai",label:"AI/ML"},{id:"platform",label:"Platform"},{id:"security",label:"Security"}],T=t=>{switch(t){case"completed":return"bg-green-500";case"in_progress":return"bg-blue-500";case"planned":return"bg-purple-500";case"considering":return"bg-gray-500"}},D=t=>{switch(t){case"completed":return"bg-green-500/20 text-green-400 border-green-500/50";case"in_progress":return"bg-blue-500/20 text-blue-400 border-blue-500/50";case"planned":return"bg-purple-500/20 text-purple-400 border-purple-500/50";case"considering":return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},R=t=>{switch(t){case"completed":return"Completed";case"in_progress":return"In Progress";case"planned":return"Planned";case"considering":return"Under Consideration"}},q=t=>{switch(t){case"scanning":return"ðŸ”";case"reporting":return"ðŸ“Š";case"integrations":return"ðŸ”—";case"compliance":return"ðŸ“‹";case"ai":return"ðŸ¤–";case"platform":return"ðŸ—ï¸";case"security":return"ðŸ›¡ï¸";default:return"ðŸ“¦"}},E=async(t,s)=>{b(t);try{const a=s?"DELETE":"POST",x=await(await fetch(`/api/roadmap/items/${t}/vote`,{method:a})).json();x.success?h(W=>W.map(p=>p.id===t?{...p,votes:x.data.votes,has_voted:x.data.has_voted}:p)):i.error(x.error||"Failed to update vote")}catch(a){console.error("Failed to vote:",a),i.error("Failed to update vote")}finally{b(null)}},$=async t=>{if(t.preventDefault(),!c.title.trim()||!c.description.trim()){i.error("Please fill in all required fields");return}j(!0);try{const a=await(await fetch("/api/roadmap/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)})).json();a.success?(P(!0),d({title:"",description:"",email:""}),i.success("Thank you for your suggestion!")):i.error(a.error||"Failed to submit suggestion")}catch(s){console.error("Failed to submit suggestion:",s),i.error("Failed to submit suggestion")}finally{j(!1)}},A=l.filter(t=>u==="all"||t.status===u).filter(t=>m==="all"||t.category===m).sort((t,s)=>y==="votes"?s.votes-t.votes:t.quarter.localeCompare(s.quarter)),B=(r==null?void 0:r.completed)||l.filter(t=>t.status==="completed").length,V=(r==null?void 0:r.in_progress)||l.filter(t=>t.status==="in_progress").length,H=(r==null?void 0:r.planned)||l.filter(t=>t.status==="planned").length,M=(r==null?void 0:r.total_votes)||l.reduce((t,s)=>t+s.votes,0);return N?e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-400",children:"Loading roadmap..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-900",children:[e.jsx("header",{className:"bg-gray-800 border-b border-gray-700",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 flex items-center justify-between",children:[e.jsxs(o,{to:"/",className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-2xl font-bold text-cyan-400",children:"HeroForge"}),e.jsx("span",{className:"text-gray-400",children:"Roadmap"})]}),e.jsxs("nav",{className:"hidden md:flex items-center space-x-6",children:[e.jsx(o,{to:"/features",className:"text-gray-300 hover:text-white",children:"Features"}),e.jsx(o,{to:"/pricing",className:"text-gray-300 hover:text-white",children:"Pricing"}),e.jsx(o,{to:"/status",className:"text-gray-300 hover:text-white",children:"Status"}),e.jsx(o,{to:"/docs",className:"text-gray-300 hover:text-white",children:"Docs"}),e.jsx(o,{to:"/login",className:"px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg",children:"Sign In"})]})]})}),e.jsxs("main",{className:"max-w-6xl mx-auto px-4 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Product Roadmap"}),e.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"See what we're building next. Vote on features you want to see and suggest new ideas."})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[e.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:B}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Shipped"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-blue-400",children:V}),e.jsx("p",{className:"text-gray-400 text-sm",children:"In Progress"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-purple-400",children:H}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Planned"})]}),e.jsxs("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-4 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gray-400",children:M.toLocaleString()}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Total Votes"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsx("div",{className:"flex flex-wrap gap-2",children:_.map(t=>e.jsxs("button",{onClick:()=>S(t.id),className:`px-4 py-2 rounded-lg font-medium transition-colors ${u===t.id?"bg-cyan-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[t.label,e.jsxs("span",{className:"ml-2 text-xs opacity-75",children:["(",t.count,")"]})]},t.id))}),e.jsxs("div",{className:"flex gap-2 md:ml-auto",children:[e.jsx("select",{value:m,onChange:t=>C(t.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:I.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))}),e.jsxs("select",{value:y,onChange:t=>F(t.target.value),className:"bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[e.jsx("option",{value:"votes",children:"Most Voted"}),e.jsx("option",{value:"quarter",children:"Timeline"})]})]})]}),e.jsx("div",{className:"space-y-4 mb-12",children:A.map(t=>e.jsx("div",{className:"bg-gray-800 rounded-xl border border-gray-700 p-6 hover:border-gray-600 transition-colors",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("button",{onClick:()=>E(t.id,t.has_voted),disabled:g===t.id,className:`w-12 h-12 rounded-lg flex flex-col items-center justify-center transition-colors ${t.has_voted?"bg-cyan-600 text-white":"bg-gray-700 text-gray-400 hover:bg-gray-600 hover:text-white"} ${g===t.id?"opacity-50 cursor-not-allowed":""}`,children:g===t.id?e.jsx("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}):e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),e.jsx("span",{className:`mt-1 font-bold ${t.has_voted?"text-cyan-400":"text-gray-400"}`,children:t.votes})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded border ${D(t.status)}`,children:R(t.status)}),e.jsx("span",{className:"text-gray-500 text-sm",children:t.quarter}),t.completed_date&&e.jsxs("span",{className:"text-green-400 text-sm",children:["Shipped ",t.completed_date]})]}),e.jsxs("h3",{className:"text-lg font-semibold text-white mb-2 flex items-center gap-2",children:[e.jsx("span",{children:q(t.category)}),t.title]}),e.jsx("p",{className:"text-gray-400 mb-3",children:t.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(s=>e.jsx("span",{className:"text-xs bg-gray-700 text-gray-300 px-2 py-1 rounded",children:s},s))})]}),e.jsx("div",{className:"hidden md:flex items-center",children:e.jsx("div",{className:`w-3 h-3 rounded-full ${T(t.status)}`})})]})},t.id))}),e.jsxs("div",{className:"bg-gradient-to-r from-cyan-900/30 to-blue-900/30 rounded-xl border border-cyan-700/50 p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"Suggest a Feature"}),e.jsx("p",{className:"text-gray-400 mb-6",children:"Have an idea for HeroForge? We'd love to hear it! Submit your suggestion and the community can vote on it."}),k?e.jsxs("div",{className:"flex items-center gap-3 text-green-400",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{children:"Thank you! Your suggestion has been submitted for review."})]}):e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Feature Title"}),e.jsx("input",{type:"text",value:c.title,onChange:t=>d(s=>({...s,title:t.target.value})),placeholder:"What feature would you like to see?",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500",required:!0,maxLength:200})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:t=>d(s=>({...s,description:t.target.value})),placeholder:"Describe the feature and how it would help you...",rows:3,className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none",required:!0,maxLength:2e3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email (optional)"}),e.jsx("input",{type:"email",value:c.email,onChange:t=>d(s=>({...s,email:t.target.value})),placeholder:"Get notified when we ship this feature",className:"w-full bg-gray-800 border border-gray-700 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),e.jsx("button",{type:"submit",disabled:f,className:"px-6 py-3 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Submitting...":"Submit Suggestion"})]})]})]}),e.jsx("footer",{className:"bg-gray-800 border-t border-gray-700 mt-16",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[e.jsxs("p",{className:"text-gray-500 text-sm",children:["Â© ",new Date().getFullYear()," HeroForge Security. All rights reserved."]}),e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx(o,{to:"/status",className:"text-gray-400 hover:text-white text-sm",children:"System Status"}),e.jsx(o,{to:"/legal/terms",className:"text-gray-400 hover:text-white text-sm",children:"Terms"}),e.jsx(o,{to:"/legal/privacy",className:"text-gray-400 hover:text-white text-sm",children:"Privacy"})]})]})})})]})};export{G as default};
