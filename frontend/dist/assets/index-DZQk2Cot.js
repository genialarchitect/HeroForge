const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminPage-DmdOAF7x.js","assets/vendor-state-DdX3IZQk.js","assets/vendor-react-Da1CiaFS.js","assets/vendor-ui-DSYmGUHq.js","assets/vendor-charts-Ci07V6_i.js","assets/SettingsPage-h7uSI6O6.js","assets/ScanComparison-DYBpKXlc.js","assets/SalesPage-B5mMRWxa.js","assets/InvestorPage-DQeN_Kcd.js","assets/PitchDeckPage-Dn4l-G9n.js","assets/FinancialModelPage-CWcxahwv.js","assets/OnePagerPage-Bt3Psjl9.js","assets/AssetsPage-CSo0ujFT.js","assets/WebAppScanPage-Dr37Gm-I.js","assets/DnsToolsPage-DD_68ALd.js","assets/CompliancePage-D4PxDAkN.js","assets/RemediationPage-NFBmfeQh.js","assets/WorkflowHistory-CfT8kkEc.js","assets/ManualAssessmentPage-AFP34MYg.js","assets/AssessmentDetailPage-lO-9i17q.js","assets/MethodologyPage-CKm7-_3_.js","assets/ExecutiveDashboardPage-DO4RZYYZ.js","assets/ApiSecurityPage-DLtCOrzF.js","assets/AttackPathsPage-ajEq-12V.js","assets/ScanComparisonPage-Fdwq2uCP.js","assets/WorkflowsPage-CJsCb7om.js","assets/ContainerSecurityPage-CBHsX69W.js","assets/IacSecurityPage-CWcIY3Hx.js","assets/PluginsPage-CkaqVbQ_.js","assets/AgentsPage-B9EHlyNn.js","assets/MeshAgentsPage-BKDdoNUl.js","assets/EvidencePage-Cjsw0HwW.js","assets/SiemPage-CewIrpzd.js","assets/AttackSimulationPage-DujazMh8.js","assets/ExploitationPage-BBiw7Fyd.js","assets/NucleiPage-xs7QjiV5.js","assets/ReportsPage-CpfP1S46.js","assets/AssetDiscoveryPage-NrXga_2H.js","assets/PrivescPage-BzXKbPWY.js","assets/BloodHoundPage-Cq-pKFYX.js","assets/PhishingPage-CA1mlT7m.js","assets/C2Page-nB9nUWOg.js","assets/WirelessPage-BEi1vG4x.js","assets/FindingTemplatesPage-DL5Yznes.js","assets/CrackingPage-bd7tbiMr.js","assets/AttackSurfacePage-CTuqGMBk.js","assets/PurpleTeamPage-8SkeiPIR.js","assets/OrangeTeamPage-B5p8PU6l.js","assets/GreenTeamPage-DHoO4GzP.js","assets/YellowTeamPage-kvqc1NkX.js","assets/WhiteTeamPage-D7qbj_zj.js","assets/OrganizationPage-C3zi4EOM.js","assets/SastPage-Ce2qQRJ-.js","assets/ForensicsPage-gXpOKLi-.js","assets/IncidentResponsePage-BApge2ch.js","assets/DetectionEngineeringPage-HWY5U0iC.js","assets/ThreatHuntingPage-DlccxOZy.js","assets/ThreatIntelPage-BW5VjOEq.js","assets/ExploitDatabasePage-CF9Y3bwp.js","assets/PocRepositoryPage-C-4f8Ohe.js","assets/ResearchWorkspacePage-BBJINCV-.js","assets/BinaryAnalysisPage-BO6lupzk.js","assets/FuzzingPage-BV_0CJkh.js","assets/MalwareAnalysisPage-1-VbvMFp.js","assets/YaraPage-CkEqohfW.js","assets/SigmaRulesPage-kJjFOuLX.js","assets/TrafficAnalysisPage-CYCs2LlX.js","assets/UebaPage-ROIzMlNi.js","assets/NetFlowAnalysisPage-DOnpGyw0.js","assets/DnsAnalyticsPage-DBPbGahr.js","assets/OtIcsSecurityPage-D20VP1G-.js","assets/IotSecurityPage-BD5wj1U9.js","assets/ScaPage-DPpNNJO0.js","assets/CicdIntegrationPage-BjhypJEw.js","assets/SoarPlaybooksPage-DezQOqDb.js","assets/AiSecurityPage-BWaPUStb.js","assets/LlmTestingPage-CKJMcyVu.js","assets/AiReportsPage-C42Ci_f_.js","assets/MlModelsPage-DPSTspv4.js","assets/CrmDashboard-B4r3VJU0.js","assets/TermsPage-YJnyOj4w.js","assets/LegalLayout-D0QB80GG.js","assets/PrivacyPage-BdbfE61U.js","assets/AcceptableUsePage-DLhoq0Mq.js","assets/CookiePage-D4dx4Y9J.js","assets/CustomerList-DssK4_os.js","assets/CustomerDetail-BDobxSHo.js","assets/EngagementsPage-isewfW-I.js","assets/ContractsPage-C1grx76i.js","assets/TimeTrackingPage-TjbHLCTO.js","assets/PortalLogin-DgNGJLtT.js","assets/PortalForgotPassword-COXMBzNa.js","assets/PortalResetPassword-CIIE9x30.js","assets/PortalDashboard-Db2TR2zE.js","assets/PortalLayout-By5sU4z9.js","assets/PortalEngagementList-D-gG7GYA.js","assets/PortalEngagementDetail-BwmhU7XP.js","assets/PortalVulnerabilityList-CaLtoukU.js","assets/PortalVulnerabilityDetail-DaRh_jbh.js","assets/PortalReportList-DTownvVH.js","assets/PortalProfile-B7_hhBcB.js"])))=>i.map(i=>d[i]);
var lp=Object.defineProperty;var cp=(e,n,r)=>n in e?lp(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var hn=(e,n,r)=>cp(e,typeof n!="symbol"?n+"":n,r);import{c as Bs,j as s,u as qd,Q as up,a as dp}from"./vendor-state-DdX3IZQk.js";import{b as ai,g as ii,r as E,u as ir,d as oi,L as zn,e as Qo,R as Zo,a as Wt,f as hp,B as fp,h as mp,i as Z,N as Ps}from"./vendor-react-Da1CiaFS.js";import{B as J,L as Nn,C as Vd,S as Ce,K as kn,U as Tr,a as on,b as St,d as Wd,M as Gd,e as Yd,P as Ln,f as Fn,g as mt,h as _r,i as pp,j as La,k as er,l as Nr,m as gp,n as ho,E as Yl,o as fo,p as Xl,W as Ti,q as xp,r as yp,A as pt,T as Mn,F as st,s as rr,t as Xd,G as jn,Z as xr,N as Qn,u as bp,v as Gt,w as As,x as Ts,y as vp,z as wp,D as jp,H as Kd,I as Jd,J as Qd,O as _p,R as mo,Q as Us,V as Np,X as kp,Y as Sp,_ as Cp,$ as Ep,a0 as Ri,a1 as Pp,a2 as el,a3 as Ap,a4 as Tp,a5 as Rp,a6 as Zd,a7 as Op,a8 as Dp,a9 as $p,aa as zp,ab as Mp,ac as Ip,ad as eh,ae as ys,af as th,ag as Kl,ah as tl,ai as Lp,aj as Fp,ak as Hp,al as Jl,am as nh,an as rh,ao as $t,ap as Rs,aq as Oi,ar as qt,as as Hn,at as po,au as sh,av as Bp,aw as Up,ax as nl,ay as ah,az as li,aA as qp,aB as De,aC as go,aD as qs,aE as Vt,aF as Qe,aG as ih,aH as xo,aI as rl,aJ as Vp,aK as oh,aL as kr,aM as Wp,aN as Gp,aO as ci,aP as bs,aQ as Nt,aR as Yp,aS as Xp,aT as Kp,aU as Jp,aV as Ql,aW as lh,aX as Qp,aY as Zp,aZ as eg,a_ as yr,a$ as tg,b0 as ng,b1 as rg,b2 as Zl,b3 as ec,b4 as sg,b5 as tc,b6 as nc,b7 as ag,b8 as yo,b9 as br,ba as Os,bb as ig,bc as og,bd as lg}from"./vendor-ui-DSYmGUHq.js";import{i as cg,a as rc,b as ug,c as sc,d as dg,e as hg,f as fg,o as mg,s as pg,m as ac,g as ic,P as H,R as lt,B as ui,X as Ft,Y as Rt,T as ct,h as di,C as Vs,j as sl,k as al,l as gg,n as xg,p as yg,q as bg,r as vg,L as vs,t as nn,u as Ds,v as Dn,A as ch,w as In,x as qn}from"./vendor-charts-Ci07V6_i.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var oa={},oc;function wg(){if(oc)return oa;oc=1;var e=ai();return oa.createRoot=e.createRoot,oa.hydrateRoot=e.hydrateRoot,oa}var jg=wg();const _g=ii(jg),Ng="modulepreload",kg=function(e){return"/"+e},lc={},re=function(n,r,a){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=l(r.map(u=>{if(u=kg(u),u in lc)return;lc[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Ng,f||(p.as="script"),p.crossOrigin="",p.href=u,d&&p.setAttribute("nonce",d),document.head.appendChild(p),f)return new Promise((g,w)=>{p.addEventListener("load",g),p.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return n().catch(o)})},Sg={};function Cg(e,n){let r;try{r=e()}catch{return}return{getItem:i=>{var o;const l=d=>d===null?null:JSON.parse(d,void 0),c=(o=r.getItem(i))!=null?o:null;return c instanceof Promise?c.then(l):l(c)},setItem:(i,o)=>r.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>r.removeItem(i)}}const $s=e=>n=>{try{const r=e(n);return r instanceof Promise?r:{then(a){return $s(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return $s(a)(r)}}}},Eg=(e,n)=>(r,a,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,x)=>({...x,...j}),...n},l=!1;const c=new Set,d=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...j)},a,i);const f=$s(o.serialize),h=()=>{const j=o.partialize({...a()});let x;const y=f({state:j,version:o.version}).then(v=>u.setItem(o.name,v)).catch(v=>{x=v});if(x)throw x;return y},p=i.setState;i.setState=(j,x)=>{p(j,x),h()};const g=e((...j)=>{r(...j),h()},a,i);let w;const N=()=>{var j;if(!u)return;l=!1,c.forEach(y=>y(a()));const x=((j=o.onRehydrateStorage)==null?void 0:j.call(o,a()))||void 0;return $s(u.getItem.bind(u))(o.name).then(y=>{if(y)return o.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return o.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var v;return w=o.merge(y,(v=a())!=null?v:g),r(w,!0),h()}).then(()=>{x==null||x(w,void 0),l=!0,d.forEach(y=>y(w))}).catch(y=>{x==null||x(void 0,y)})};return i.persist={setOptions:j=>{o={...o,...j},j.getStorage&&(u=j.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>N(),hasHydrated:()=>l,onHydrate:j=>(c.add(j),()=>{c.delete(j)}),onFinishHydration:j=>(d.add(j),()=>{d.delete(j)})},N(),w||g},Pg=(e,n)=>(r,a,i)=>{let o={storage:Cg(()=>localStorage),partialize:N=>N,version:0,merge:(N,j)=>({...j,...N}),...n},l=!1;const c=new Set,d=new Set;let u=o.storage;if(!u)return e((...N)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),r(...N)},a,i);const f=()=>{const N=o.partialize({...a()});return u.setItem(o.name,{state:N,version:o.version})},h=i.setState;i.setState=(N,j)=>{h(N,j),f()};const p=e((...N)=>{r(...N),f()},a,i);i.getInitialState=()=>p;let g;const w=()=>{var N,j;if(!u)return;l=!1,c.forEach(y=>{var v;return y((v=a())!=null?v:p)});const x=((j=o.onRehydrateStorage)==null?void 0:j.call(o,(N=a())!=null?N:p))||void 0;return $s(u.getItem.bind(u))(o.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==o.version){if(o.migrate)return[!0,o.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var v;const[b,_]=y;if(g=o.merge(_,(v=a())!=null?v:p),r(g,!0),b)return f()}).then(()=>{x==null||x(g,void 0),g=a(),l=!0,d.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return i.persist={setOptions:N=>{o={...o,...N},N.storage&&(u=N.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>l,onHydrate:N=>(c.add(N),()=>{c.delete(N)}),onFinishHydration:N=>(d.add(N),()=>{d.delete(N)})},o.skipHydration||w(),g||p},Ag=(e,n)=>"getStorage"in n||"serialize"in n||"deserialize"in n?((Sg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Eg(e,n)):Pg(e,n),il=Ag,Bn=Bs()(il((e,n)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>{e({token:r}),r?localStorage.setItem("token",r):localStorage.removeItem("token")},login:(r,a)=>{e({user:r,token:a,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("token",a)},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")},setLoading:r=>e({isLoading:r}),isAdmin:()=>{var r,a;return((a=(r=n().user)==null?void 0:r.roles)==null?void 0:a.includes("admin"))??!1},hasRole:r=>{var a,i;return((i=(a=n().user)==null?void 0:a.roles)==null?void 0:i.includes(r))??!1},canManageUsers:()=>{var r,a;return((a=(r=n().user)==null?void 0:r.roles)==null?void 0:a.includes("admin"))??!1},canManageScans:()=>{var r,a;return((a=(r=n().user)==null?void 0:r.roles)==null?void 0:a.some(i=>["admin","auditor"].includes(i)))??!1},canViewAuditLogs:()=>{var r,a;return((a=(r=n().user)==null?void 0:r.roles)==null?void 0:a.some(i=>["admin","auditor"].includes(i)))??!1},canManageSettings:()=>{var r,a;return((a=(r=n().user)==null?void 0:r.roles)==null?void 0:a.includes("admin"))??!1}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})}));function uh(e,n){return function(){return e.apply(n,arguments)}}const{toString:Tg}=Object.prototype,{getPrototypeOf:ol}=Object,{iterator:hi,toStringTag:dh}=Symbol,fi=(e=>n=>{const r=Tg.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Yt=e=>(e=e.toLowerCase(),n=>fi(n)===e),mi=e=>n=>typeof n===e,{isArray:Rr}=Array,Sr=mi("undefined");function Ws(e){return e!==null&&!Sr(e)&&e.constructor!==null&&!Sr(e.constructor)&&gt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hh=Yt("ArrayBuffer");function Rg(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&hh(e.buffer),n}const Og=mi("string"),gt=mi("function"),fh=mi("number"),Gs=e=>e!==null&&typeof e=="object",Dg=e=>e===!0||e===!1,Ea=e=>{if(fi(e)!=="object")return!1;const n=ol(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(dh in e)&&!(hi in e)},$g=e=>{if(!Gs(e)||Ws(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},zg=Yt("Date"),Mg=Yt("File"),Ig=Yt("Blob"),Lg=Yt("FileList"),Fg=e=>Gs(e)&&gt(e.pipe),Hg=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||gt(e.append)&&((n=fi(e))==="formdata"||n==="object"&&gt(e.toString)&&e.toString()==="[object FormData]"))},Bg=Yt("URLSearchParams"),[Ug,qg,Vg,Wg]=["ReadableStream","Request","Response","Headers"].map(Yt),Gg=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ys(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,i;if(typeof e!="object"&&(e=[e]),Rr(e))for(a=0,i=e.length;a<i;a++)n.call(null,e[a],a,e);else{if(Ws(e))return;const o=r?Object.getOwnPropertyNames(e):Object.keys(e),l=o.length;let c;for(a=0;a<l;a++)c=o[a],n.call(null,e[c],c,e)}}function mh(e,n){if(Ws(e))return null;n=n.toLowerCase();const r=Object.keys(e);let a=r.length,i;for(;a-- >0;)if(i=r[a],n===i.toLowerCase())return i;return null}const Zn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ph=e=>!Sr(e)&&e!==Zn;function bo(){const{caseless:e,skipUndefined:n}=ph(this)&&this||{},r={},a=(i,o)=>{const l=e&&mh(r,o)||o;Ea(r[l])&&Ea(i)?r[l]=bo(r[l],i):Ea(i)?r[l]=bo({},i):Rr(i)?r[l]=i.slice():(!n||!Sr(i))&&(r[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Ys(arguments[i],a);return r}const Yg=(e,n,r,{allOwnKeys:a}={})=>(Ys(n,(i,o)=>{r&&gt(i)?e[o]=uh(i,r):e[o]=i},{allOwnKeys:a}),e),Xg=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Kg=(e,n,r,a)=>{e.prototype=Object.create(n.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},Jg=(e,n,r,a)=>{let i,o,l;const c={};if(n=n||{},e==null)return n;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)l=i[o],(!a||a(l,e,n))&&!c[l]&&(n[l]=e[l],c[l]=!0);e=r!==!1&&ol(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},Qg=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const a=e.indexOf(n,r);return a!==-1&&a===r},Zg=e=>{if(!e)return null;if(Rr(e))return e;let n=e.length;if(!fh(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},ex=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&ol(Uint8Array)),tx=(e,n)=>{const a=(e&&e[hi]).call(e);let i;for(;(i=a.next())&&!i.done;){const o=i.value;n.call(e,o[0],o[1])}},nx=(e,n)=>{let r;const a=[];for(;(r=e.exec(n))!==null;)a.push(r);return a},rx=Yt("HTMLFormElement"),sx=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,i){return a.toUpperCase()+i}),cc=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),ax=Yt("RegExp"),gh=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),a={};Ys(r,(i,o)=>{let l;(l=n(i,o,e))!==!1&&(a[o]=l||i)}),Object.defineProperties(e,a)},ix=e=>{gh(e,(n,r)=>{if(gt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(gt(a)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},ox=(e,n)=>{const r={},a=i=>{i.forEach(o=>{r[o]=!0})};return Rr(e)?a(e):a(String(e).split(n)),r},lx=()=>{},cx=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function ux(e){return!!(e&&gt(e.append)&&e[dh]==="FormData"&&e[hi])}const dx=e=>{const n=new Array(10),r=(a,i)=>{if(Gs(a)){if(n.indexOf(a)>=0)return;if(Ws(a))return a;if(!("toJSON"in a)){n[i]=a;const o=Rr(a)?[]:{};return Ys(a,(l,c)=>{const d=r(l,i+1);!Sr(d)&&(o[c]=d)}),n[i]=void 0,o}}return a};return r(e,0)},hx=Yt("AsyncFunction"),fx=e=>e&&(Gs(e)||gt(e))&&gt(e.then)&&gt(e.catch),xh=((e,n)=>e?setImmediate:n?((r,a)=>(Zn.addEventListener("message",({source:i,data:o})=>{i===Zn&&o===r&&a.length&&a.shift()()},!1),i=>{a.push(i),Zn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",gt(Zn.postMessage)),mx=typeof queueMicrotask<"u"?queueMicrotask.bind(Zn):typeof process<"u"&&process.nextTick||xh,px=e=>e!=null&&gt(e[hi]),Y={isArray:Rr,isArrayBuffer:hh,isBuffer:Ws,isFormData:Hg,isArrayBufferView:Rg,isString:Og,isNumber:fh,isBoolean:Dg,isObject:Gs,isPlainObject:Ea,isEmptyObject:$g,isReadableStream:Ug,isRequest:qg,isResponse:Vg,isHeaders:Wg,isUndefined:Sr,isDate:zg,isFile:Mg,isBlob:Ig,isRegExp:ax,isFunction:gt,isStream:Fg,isURLSearchParams:Bg,isTypedArray:ex,isFileList:Lg,forEach:Ys,merge:bo,extend:Yg,trim:Gg,stripBOM:Xg,inherits:Kg,toFlatObject:Jg,kindOf:fi,kindOfTest:Yt,endsWith:Qg,toArray:Zg,forEachEntry:tx,matchAll:nx,isHTMLForm:rx,hasOwnProperty:cc,hasOwnProp:cc,reduceDescriptors:gh,freezeMethods:ix,toObjectSet:ox,toCamelCase:sx,noop:lx,toFiniteNumber:cx,findKey:mh,global:Zn,isContextDefined:ph,isSpecCompliantForm:ux,toJSONObject:dx,isAsyncFn:hx,isThenable:fx,setImmediate:xh,asap:mx,isIterable:px};function _e(e,n,r,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),a&&(this.request=a),i&&(this.response=i,this.status=i.status?i.status:null)}Y.inherits(_e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const yh=_e.prototype,bh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bh[e]={value:e}});Object.defineProperties(_e,bh);Object.defineProperty(yh,"isAxiosError",{value:!0});_e.from=(e,n,r,a,i,o)=>{const l=Object.create(yh);Y.toFlatObject(e,l,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const c=e&&e.message?e.message:"Error",d=n==null&&e?e.code:n;return _e.call(l,c,d,r,a,i),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",o&&Object.assign(l,o),l};const gx=null;function vo(e){return Y.isPlainObject(e)||Y.isArray(e)}function vh(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function uc(e,n,r){return e?e.concat(n).map(function(i,o){return i=vh(i),!r&&o?"["+i+"]":i}).join(r?".":""):n}function xx(e){return Y.isArray(e)&&!e.some(vo)}const yx=Y.toFlatObject(Y,{},null,function(n){return/^is[A-Z]/.test(n)});function pi(e,n,r){if(!Y.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=Y.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,j){return!Y.isUndefined(j[N])});const a=r.metaTokens,i=r.visitor||f,o=r.dots,l=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(n);if(!Y.isFunction(i))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(Y.isDate(w))return w.toISOString();if(Y.isBoolean(w))return w.toString();if(!d&&Y.isBlob(w))throw new _e("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(w)||Y.isTypedArray(w)?d&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,N,j){let x=w;if(w&&!j&&typeof w=="object"){if(Y.endsWith(N,"{}"))N=a?N:N.slice(0,-2),w=JSON.stringify(w);else if(Y.isArray(w)&&xx(w)||(Y.isFileList(w)||Y.endsWith(N,"[]"))&&(x=Y.toArray(w)))return N=vh(N),x.forEach(function(v,b){!(Y.isUndefined(v)||v===null)&&n.append(l===!0?uc([N],b,o):l===null?N:N+"[]",u(v))}),!1}return vo(w)?!0:(n.append(uc(j,N,o),u(w)),!1)}const h=[],p=Object.assign(yx,{defaultVisitor:f,convertValue:u,isVisitable:vo});function g(w,N){if(!Y.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+N.join("."));h.push(w),Y.forEach(w,function(x,y){(!(Y.isUndefined(x)||x===null)&&i.call(n,x,Y.isString(y)?y.trim():y,N,p))===!0&&g(x,N?N.concat(y):[y])}),h.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return g(e),n}function dc(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return n[a]})}function ll(e,n){this._pairs=[],e&&pi(e,this,n)}const wh=ll.prototype;wh.append=function(n,r){this._pairs.push([n,r])};wh.toString=function(n){const r=n?function(a){return n.call(this,a,dc)}:dc;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function bx(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jh(e,n,r){if(!n)return e;const a=r&&r.encode||bx;Y.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(i?o=i(n,r):o=Y.isURLSearchParams(n)?n.toString():new ll(n,r).toString(a),o){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class hc{constructor(){this.handlers=[]}use(n,r,a){return this.handlers.push({fulfilled:n,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){Y.forEach(this.handlers,function(a){a!==null&&n(a)})}}const _h={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vx=typeof URLSearchParams<"u"?URLSearchParams:ll,wx=typeof FormData<"u"?FormData:null,jx=typeof Blob<"u"?Blob:null,_x={isBrowser:!0,classes:{URLSearchParams:vx,FormData:wx,Blob:jx},protocols:["http","https","file","blob","url","data"]},cl=typeof window<"u"&&typeof document<"u",wo=typeof navigator=="object"&&navigator||void 0,Nx=cl&&(!wo||["ReactNative","NativeScript","NS"].indexOf(wo.product)<0),kx=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Sx=cl&&window.location.href||"http://localhost",Cx=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:cl,hasStandardBrowserEnv:Nx,hasStandardBrowserWebWorkerEnv:kx,navigator:wo,origin:Sx},Symbol.toStringTag,{value:"Module"})),rt={...Cx,..._x};function Ex(e,n){return pi(e,new rt.classes.URLSearchParams,{visitor:function(r,a,i,o){return rt.isNode&&Y.isBuffer(r)?(this.append(a,r.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...n})}function Px(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function Ax(e){const n={},r=Object.keys(e);let a;const i=r.length;let o;for(a=0;a<i;a++)o=r[a],n[o]=e[o];return n}function Nh(e){function n(r,a,i,o){let l=r[o++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),d=o>=r.length;return l=!l&&Y.isArray(i)?i.length:l,d?(Y.hasOwnProp(i,l)?i[l]=[i[l],a]:i[l]=a,!c):((!i[l]||!Y.isObject(i[l]))&&(i[l]=[]),n(r,a,i[l],o)&&Y.isArray(i[l])&&(i[l]=Ax(i[l])),!c)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const r={};return Y.forEachEntry(e,(a,i)=>{n(Px(a),i,r,0)}),r}return null}function Tx(e,n,r){if(Y.isString(e))try{return(n||JSON.parse)(e),Y.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const Xs={transitional:_h,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const a=r.getContentType()||"",i=a.indexOf("application/json")>-1,o=Y.isObject(n);if(o&&Y.isHTMLForm(n)&&(n=new FormData(n)),Y.isFormData(n))return i?JSON.stringify(Nh(n)):n;if(Y.isArrayBuffer(n)||Y.isBuffer(n)||Y.isStream(n)||Y.isFile(n)||Y.isBlob(n)||Y.isReadableStream(n))return n;if(Y.isArrayBufferView(n))return n.buffer;if(Y.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let c;if(o){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ex(n,this.formSerializer).toString();if((c=Y.isFileList(n))||a.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return pi(c?{"files[]":n}:n,d&&new d,this.formSerializer)}}return o||i?(r.setContentType("application/json",!1),Tx(n)):n}],transformResponse:[function(n){const r=this.transitional||Xs.transitional,a=r&&r.forcedJSONParsing,i=this.responseType==="json";if(Y.isResponse(n)||Y.isReadableStream(n))return n;if(n&&Y.isString(n)&&(a&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(n,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?_e.from(c,_e.ERR_BAD_RESPONSE,this,null,this.response):c}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:rt.classes.FormData,Blob:rt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Xs.headers[e]={}});const Rx=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ox=e=>{const n={};let r,a,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),a=l.substring(i+1).trim(),!(!r||n[r]&&Rx[r])&&(r==="set-cookie"?n[r]?n[r].push(a):n[r]=[a]:n[r]=n[r]?n[r]+", "+a:a)}),n},fc=Symbol("internals");function Lr(e){return e&&String(e).trim().toLowerCase()}function Pa(e){return e===!1||e==null?e:Y.isArray(e)?e.map(Pa):String(e)}function Dx(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)n[a[1]]=a[2];return n}const $x=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Di(e,n,r,a,i){if(Y.isFunction(a))return a.call(this,n,r);if(i&&(n=r),!!Y.isString(n)){if(Y.isString(a))return n.indexOf(a)!==-1;if(Y.isRegExp(a))return a.test(n)}}function zx(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,a)=>r.toUpperCase()+a)}function Mx(e,n){const r=Y.toCamelCase(" "+n);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(i,o,l){return this[a].call(this,n,i,o,l)},configurable:!0})})}let xt=class{constructor(n){n&&this.set(n)}set(n,r,a){const i=this;function o(c,d,u){const f=Lr(d);if(!f)throw new Error("header name must be a non-empty string");const h=Y.findKey(i,f);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||d]=Pa(c))}const l=(c,d)=>Y.forEach(c,(u,f)=>o(u,f,d));if(Y.isPlainObject(n)||n instanceof this.constructor)l(n,r);else if(Y.isString(n)&&(n=n.trim())&&!$x(n))l(Ox(n),r);else if(Y.isObject(n)&&Y.isIterable(n)){let c={},d,u;for(const f of n){if(!Y.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[u=f[0]]=(d=c[u])?Y.isArray(d)?[...d,f[1]]:[d,f[1]]:f[1]}l(c,r)}else n!=null&&o(r,n,a);return this}get(n,r){if(n=Lr(n),n){const a=Y.findKey(this,n);if(a){const i=this[a];if(!r)return i;if(r===!0)return Dx(i);if(Y.isFunction(r))return r.call(this,i,a);if(Y.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=Lr(n),n){const a=Y.findKey(this,n);return!!(a&&this[a]!==void 0&&(!r||Di(this,this[a],a,r)))}return!1}delete(n,r){const a=this;let i=!1;function o(l){if(l=Lr(l),l){const c=Y.findKey(a,l);c&&(!r||Di(a,a[c],c,r))&&(delete a[c],i=!0)}}return Y.isArray(n)?n.forEach(o):o(n),i}clear(n){const r=Object.keys(this);let a=r.length,i=!1;for(;a--;){const o=r[a];(!n||Di(this,this[o],o,n,!0))&&(delete this[o],i=!0)}return i}normalize(n){const r=this,a={};return Y.forEach(this,(i,o)=>{const l=Y.findKey(a,o);if(l){r[l]=Pa(i),delete r[o];return}const c=n?zx(o):String(o).trim();c!==o&&delete r[o],r[c]=Pa(i),a[c]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return Y.forEach(this,(a,i)=>{a!=null&&a!==!1&&(r[i]=n&&Y.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const a=new this(n);return r.forEach(i=>a.set(i)),a}static accessor(n){const a=(this[fc]=this[fc]={accessors:{}}).accessors,i=this.prototype;function o(l){const c=Lr(l);a[c]||(Mx(i,l),a[c]=!0)}return Y.isArray(n)?n.forEach(o):o(n),this}};xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(xt.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(a){this[r]=a}}});Y.freezeMethods(xt);function $i(e,n){const r=this||Xs,a=n||r,i=xt.from(a.headers);let o=a.data;return Y.forEach(e,function(c){o=c.call(r,o,i.normalize(),n?n.status:void 0)}),i.normalize(),o}function kh(e){return!!(e&&e.__CANCEL__)}function Or(e,n,r){_e.call(this,e??"canceled",_e.ERR_CANCELED,n,r),this.name="CanceledError"}Y.inherits(Or,_e,{__CANCEL__:!0});function Sh(e,n,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):n(new _e("Request failed with status code "+r.status,[_e.ERR_BAD_REQUEST,_e.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ix(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function Lx(e,n){e=e||10;const r=new Array(e),a=new Array(e);let i=0,o=0,l;return n=n!==void 0?n:1e3,function(d){const u=Date.now(),f=a[o];l||(l=u),r[i]=d,a[i]=u;let h=o,p=0;for(;h!==i;)p+=r[h++],h=h%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),u-l<n)return;const g=f&&u-f;return g?Math.round(p*1e3/g):void 0}}function Fx(e,n){let r=0,a=1e3/n,i,o;const l=(u,f=Date.now())=>{r=f,i=null,o&&(clearTimeout(o),o=null),e(...u)};return[(...u)=>{const f=Date.now(),h=f-r;h>=a?l(u,f):(i=u,o||(o=setTimeout(()=>{o=null,l(i)},a-h)))},()=>i&&l(i)]}const Fa=(e,n,r=3)=>{let a=0;const i=Lx(50,250);return Fx(o=>{const l=o.loaded,c=o.lengthComputable?o.total:void 0,d=l-a,u=i(d),f=l<=c;a=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:d,rate:u||void 0,estimated:u&&c&&f?(c-l)/u:void 0,event:o,lengthComputable:c!=null,[n?"download":"upload"]:!0};e(h)},r)},mc=(e,n)=>{const r=e!=null;return[a=>n[0]({lengthComputable:r,total:e,loaded:a}),n[1]]},pc=e=>(...n)=>Y.asap(()=>e(...n)),Hx=rt.hasStandardBrowserEnv?((e,n)=>r=>(r=new URL(r,rt.origin),e.protocol===r.protocol&&e.host===r.host&&(n||e.port===r.port)))(new URL(rt.origin),rt.navigator&&/(msie|trident)/i.test(rt.navigator.userAgent)):()=>!0,Bx=rt.hasStandardBrowserEnv?{write(e,n,r,a,i,o,l){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(n)}`];Y.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Y.isString(a)&&c.push(`path=${a}`),Y.isString(i)&&c.push(`domain=${i}`),o===!0&&c.push("secure"),Y.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const n=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return n?decodeURIComponent(n[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ux(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function qx(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function Ch(e,n,r){let a=!Ux(n);return e&&(a||r==!1)?qx(e,n):n}const gc=e=>e instanceof xt?{...e}:e;function sr(e,n){n=n||{};const r={};function a(u,f,h,p){return Y.isPlainObject(u)&&Y.isPlainObject(f)?Y.merge.call({caseless:p},u,f):Y.isPlainObject(f)?Y.merge({},f):Y.isArray(f)?f.slice():f}function i(u,f,h,p){if(Y.isUndefined(f)){if(!Y.isUndefined(u))return a(void 0,u,h,p)}else return a(u,f,h,p)}function o(u,f){if(!Y.isUndefined(f))return a(void 0,f)}function l(u,f){if(Y.isUndefined(f)){if(!Y.isUndefined(u))return a(void 0,u)}else return a(void 0,f)}function c(u,f,h){if(h in n)return a(u,f);if(h in e)return a(void 0,u)}const d={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(u,f,h)=>i(gc(u),gc(f),h,!0)};return Y.forEach(Object.keys({...e,...n}),function(f){const h=d[f]||i,p=h(e[f],n[f],f);Y.isUndefined(p)&&h!==c||(r[f]=p)}),r}const Eh=e=>{const n=sr({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:c}=n;if(n.headers=l=xt.from(l),n.url=jh(Ch(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Y.isFormData(r)){if(rt.hasStandardBrowserEnv||rt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Y.isFunction(r.getHeaders)){const d=r.getHeaders(),u=["content-type","content-length"];Object.entries(d).forEach(([f,h])=>{u.includes(f.toLowerCase())&&l.set(f,h)})}}if(rt.hasStandardBrowserEnv&&(a&&Y.isFunction(a)&&(a=a(n)),a||a!==!1&&Hx(n.url))){const d=i&&o&&Bx.read(o);d&&l.set(i,d)}return n},Vx=typeof XMLHttpRequest<"u",Wx=Vx&&function(e){return new Promise(function(r,a){const i=Eh(e);let o=i.data;const l=xt.from(i.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:u}=i,f,h,p,g,w;function N(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let j=new XMLHttpRequest;j.open(i.method.toUpperCase(),i.url,!0),j.timeout=i.timeout;function x(){if(!j)return;const v=xt.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:v,config:e,request:j};Sh(function(S){r(S),N()},function(S){a(S),N()},_),j=null}"onloadend"in j?j.onloadend=x:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(x)},j.onabort=function(){j&&(a(new _e("Request aborted",_e.ECONNABORTED,e,j)),j=null)},j.onerror=function(b){const _=b&&b.message?b.message:"Network Error",k=new _e(_,_e.ERR_NETWORK,e,j);k.event=b||null,a(k),j=null},j.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||_h;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),a(new _e(b,_.clarifyTimeoutError?_e.ETIMEDOUT:_e.ECONNABORTED,e,j)),j=null},o===void 0&&l.setContentType(null),"setRequestHeader"in j&&Y.forEach(l.toJSON(),function(b,_){j.setRequestHeader(_,b)}),Y.isUndefined(i.withCredentials)||(j.withCredentials=!!i.withCredentials),c&&c!=="json"&&(j.responseType=i.responseType),u&&([p,w]=Fa(u,!0),j.addEventListener("progress",p)),d&&j.upload&&([h,g]=Fa(d),j.upload.addEventListener("progress",h),j.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(f=v=>{j&&(a(!v||v.type?new Or(null,e,j):v),j.abort(),j=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const y=Ix(i.url);if(y&&rt.protocols.indexOf(y)===-1){a(new _e("Unsupported protocol "+y+":",_e.ERR_BAD_REQUEST,e));return}j.send(o||null)})},Gx=(e,n)=>{const{length:r}=e=e?e.filter(Boolean):[];if(n||r){let a=new AbortController,i;const o=function(u){if(!i){i=!0,c();const f=u instanceof Error?u:this.reason;a.abort(f instanceof _e?f:new Or(f instanceof Error?f.message:f))}};let l=n&&setTimeout(()=>{l=null,o(new _e(`timeout ${n} of ms exceeded`,_e.ETIMEDOUT))},n);const c=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:d}=a;return d.unsubscribe=()=>Y.asap(c),d}},Yx=function*(e,n){let r=e.byteLength;if(r<n){yield e;return}let a=0,i;for(;a<r;)i=a+n,yield e.slice(a,i),a=i},Xx=async function*(e,n){for await(const r of Kx(e))yield*Yx(r,n)},Kx=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:r,value:a}=await n.read();if(r)break;yield a}}finally{await n.cancel()}},xc=(e,n,r,a)=>{const i=Xx(e,n);let o=0,l,c=d=>{l||(l=!0,a&&a(d))};return new ReadableStream({async pull(d){try{const{done:u,value:f}=await i.next();if(u){c(),d.close();return}let h=f.byteLength;if(r){let p=o+=h;r(p)}d.enqueue(new Uint8Array(f))}catch(u){throw c(u),u}},cancel(d){return c(d),i.return()}},{highWaterMark:2})},yc=64*1024,{isFunction:la}=Y,Jx=(({Request:e,Response:n})=>({Request:e,Response:n}))(Y.global),{ReadableStream:bc,TextEncoder:vc}=Y.global,wc=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Qx=e=>{e=Y.merge.call({skipUndefined:!0},Jx,e);const{fetch:n,Request:r,Response:a}=e,i=n?la(n):typeof fetch=="function",o=la(r),l=la(a);if(!i)return!1;const c=i&&la(bc),d=i&&(typeof vc=="function"?(w=>N=>w.encode(N))(new vc):async w=>new Uint8Array(await new r(w).arrayBuffer())),u=o&&c&&wc(()=>{let w=!1;const N=new r(rt.origin,{body:new bc,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!N}),f=l&&c&&wc(()=>Y.isReadableStream(new a("").body)),h={stream:f&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(N,j)=>{let x=N&&N[w];if(x)return x.call(N);throw new _e(`Response type '${w}' is not supported`,_e.ERR_NOT_SUPPORT,j)})});const p=async w=>{if(w==null)return 0;if(Y.isBlob(w))return w.size;if(Y.isSpecCompliantForm(w))return(await new r(rt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(w)||Y.isArrayBuffer(w))return w.byteLength;if(Y.isURLSearchParams(w)&&(w=w+""),Y.isString(w))return(await d(w)).byteLength},g=async(w,N)=>{const j=Y.toFiniteNumber(w.getContentLength());return j??p(N)};return async w=>{let{url:N,method:j,data:x,signal:y,cancelToken:v,timeout:b,onDownloadProgress:_,onUploadProgress:k,responseType:S,headers:C,withCredentials:A="same-origin",fetchOptions:T}=Eh(w),P=n||fetch;S=S?(S+"").toLowerCase():"text";let O=Gx([y,v&&v.toAbortSignal()],b),I=null;const R=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let D;try{if(k&&u&&j!=="get"&&j!=="head"&&(D=await g(C,x))!==0){let ee=new r(N,{method:"POST",body:x,duplex:"half"}),Q;if(Y.isFormData(x)&&(Q=ee.headers.get("content-type"))&&C.setContentType(Q),ee.body){const[M,de]=mc(D,Fa(pc(k)));x=xc(ee.body,yc,M,de)}}Y.isString(A)||(A=A?"include":"omit");const z=o&&"credentials"in r.prototype,F={...T,signal:O,method:j.toUpperCase(),headers:C.normalize().toJSON(),body:x,duplex:"half",credentials:z?A:void 0};I=o&&new r(N,F);let G=await(o?P(I,T):P(N,F));const q=f&&(S==="stream"||S==="response");if(f&&(_||q&&R)){const ee={};["status","statusText","headers"].forEach(we=>{ee[we]=G[we]});const Q=Y.toFiniteNumber(G.headers.get("content-length")),[M,de]=_&&mc(Q,Fa(pc(_),!0))||[];G=new a(xc(G.body,yc,M,()=>{de&&de(),R&&R()}),ee)}S=S||"text";let $=await h[Y.findKey(h,S)||"text"](G,w);return!q&&R&&R(),await new Promise((ee,Q)=>{Sh(ee,Q,{data:$,headers:xt.from(G.headers),status:G.status,statusText:G.statusText,config:w,request:I})})}catch(z){throw R&&R(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new _e("Network Error",_e.ERR_NETWORK,w,I),{cause:z.cause||z}):_e.from(z,z&&z.code,w,I)}}},Zx=new Map,Ph=e=>{let n=e&&e.env||{};const{fetch:r,Request:a,Response:i}=n,o=[a,i,r];let l=o.length,c=l,d,u,f=Zx;for(;c--;)d=o[c],u=f.get(d),u===void 0&&f.set(d,u=c?new Map:Qx(n)),f=u;return u};Ph();const ul={http:gx,xhr:Wx,fetch:{get:Ph}};Y.forEach(ul,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const jc=e=>`- ${e}`,e0=e=>Y.isFunction(e)||e===null||e===!1;function t0(e,n){e=Y.isArray(e)?e:[e];const{length:r}=e;let a,i;const o={};for(let l=0;l<r;l++){a=e[l];let c;if(i=a,!e0(a)&&(i=ul[(c=String(a)).toLowerCase()],i===void 0))throw new _e(`Unknown adapter '${c}'`);if(i&&(Y.isFunction(i)||(i=i.get(n))))break;o[c||"#"+l]=i}if(!i){const l=Object.entries(o).map(([d,u])=>`adapter ${d} `+(u===!1?"is not supported by the environment":"is not available in the build"));let c=r?l.length>1?`since :
`+l.map(jc).join(`
`):" "+jc(l[0]):"as no adapter specified";throw new _e("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const Ah={getAdapter:t0,adapters:ul};function zi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Or(null,e)}function _c(e){return zi(e),e.headers=xt.from(e.headers),e.data=$i.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Ah.getAdapter(e.adapter||Xs.adapter,e)(e).then(function(a){return zi(e),a.data=$i.call(e,e.transformResponse,a),a.headers=xt.from(a.headers),a},function(a){return kh(a)||(zi(e),a&&a.response&&(a.response.data=$i.call(e,e.transformResponse,a.response),a.response.headers=xt.from(a.response.headers))),Promise.reject(a)})}const Th="1.13.2",gi={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{gi[e]=function(a){return typeof a===e||"a"+(n<1?"n ":" ")+e}});const Nc={};gi.transitional=function(n,r,a){function i(o,l){return"[Axios v"+Th+"] Transitional option '"+o+"'"+l+(a?". "+a:"")}return(o,l,c)=>{if(n===!1)throw new _e(i(l," has been removed"+(r?" in "+r:"")),_e.ERR_DEPRECATED);return r&&!Nc[l]&&(Nc[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(o,l,c):!0}};gi.spelling=function(n){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${n}`),!0)};function n0(e,n,r){if(typeof e!="object")throw new _e("options must be an object",_e.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let i=a.length;for(;i-- >0;){const o=a[i],l=n[o];if(l){const c=e[o],d=c===void 0||l(c,o,e);if(d!==!0)throw new _e("option "+o+" must be "+d,_e.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _e("Unknown option "+o,_e.ERR_BAD_OPTION)}}const Aa={assertOptions:n0,validators:gi},Kt=Aa.validators;let tr=class{constructor(n){this.defaults=n||{},this.interceptors={request:new hc,response:new hc}}async request(n,r){try{return await this._request(n,r)}catch(a){if(a instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{a.stack?o&&!String(a.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+o):a.stack=o}catch{}}throw a}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=sr(this.defaults,r);const{transitional:a,paramsSerializer:i,headers:o}=r;a!==void 0&&Aa.assertOptions(a,{silentJSONParsing:Kt.transitional(Kt.boolean),forcedJSONParsing:Kt.transitional(Kt.boolean),clarifyTimeoutError:Kt.transitional(Kt.boolean)},!1),i!=null&&(Y.isFunction(i)?r.paramsSerializer={serialize:i}:Aa.assertOptions(i,{encode:Kt.function,serialize:Kt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Aa.assertOptions(r,{baseUrl:Kt.spelling("baseURL"),withXsrfToken:Kt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=o&&Y.merge(o.common,o[r.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),r.headers=xt.concat(l,o);const c=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(r)===!1||(d=d&&N.synchronous,c.unshift(N.fulfilled,N.rejected))});const u=[];this.interceptors.response.forEach(function(N){u.push(N.fulfilled,N.rejected)});let f,h=0,p;if(!d){const w=[_c.bind(this),void 0];for(w.unshift(...c),w.push(...u),p=w.length,f=Promise.resolve(r);h<p;)f=f.then(w[h++],w[h++]);return f}p=c.length;let g=r;for(;h<p;){const w=c[h++],N=c[h++];try{g=w(g)}catch(j){N.call(this,j);break}}try{f=_c.call(this,g)}catch(w){return Promise.reject(w)}for(h=0,p=u.length;h<p;)f=f.then(u[h++],u[h++]);return f}getUri(n){n=sr(this.defaults,n);const r=Ch(n.baseURL,n.url,n.allowAbsoluteUrls);return jh(r,n.params,n.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(n){tr.prototype[n]=function(r,a){return this.request(sr(a||{},{method:n,url:r,data:(a||{}).data}))}});Y.forEach(["post","put","patch"],function(n){function r(a){return function(o,l,c){return this.request(sr(c||{},{method:n,headers:a?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}tr.prototype[n]=r(),tr.prototype[n+"Form"]=r(!0)});let r0=class Rh{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(o){r=o});const a=this;this.promise.then(i=>{if(!a._listeners)return;let o=a._listeners.length;for(;o-- >0;)a._listeners[o](i);a._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(c=>{a.subscribe(c),o=c}).then(i);return l.cancel=function(){a.unsubscribe(o)},l},n(function(o,l,c){a.reason||(a.reason=new Or(o,l,c),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=a=>{n.abort(a)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new Rh(function(i){n=i}),cancel:n}}};function s0(e){return function(r){return e.apply(null,r)}}function a0(e){return Y.isObject(e)&&e.isAxiosError===!0}const jo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(jo).forEach(([e,n])=>{jo[n]=e});function Oh(e){const n=new tr(e),r=uh(tr.prototype.request,n);return Y.extend(r,tr.prototype,n,{allOwnKeys:!0}),Y.extend(r,n,null,{allOwnKeys:!0}),r.create=function(i){return Oh(sr(e,i))},r}const Ve=Oh(Xs);Ve.Axios=tr;Ve.CanceledError=Or;Ve.CancelToken=r0;Ve.isCancel=kh;Ve.VERSION=Th;Ve.toFormData=pi;Ve.AxiosError=_e;Ve.Cancel=Ve.CanceledError;Ve.all=function(n){return Promise.all(n)};Ve.spread=s0;Ve.isAxiosError=a0;Ve.mergeConfig=sr;Ve.AxiosHeaders=xt;Ve.formToJSON=e=>Nh(Y.isHTMLForm(e)?new FormData(e):e);Ve.getAdapter=Ah.getAdapter;Ve.HttpStatusCode=jo;Ve.default=Ve;const{Axios:_A,AxiosError:NA,CanceledError:kA,isCancel:SA,CancelToken:CA,VERSION:EA,all:PA,Cancel:AA,isAxiosError:TA,spread:RA,toFormData:OA,AxiosHeaders:DA,HttpStatusCode:$A,formToJSON:zA,getAdapter:MA,mergeConfig:IA}=Ve,Ye=Ve.create({baseURL:"/api/portal"}),pr="portal_token",Ta="portal_user";Ye.interceptors.request.use(e=>{const n=localStorage.getItem(pr);return n&&(e.headers.Authorization=`Bearer ${n}`),e});Ye.interceptors.response.use(e=>e,e=>{var n;return((n=e.response)==null?void 0:n.status)===401&&(localStorage.removeItem(pr),localStorage.removeItem(Ta),window.location.pathname.startsWith("/portal")&&!window.location.pathname.includes("/login")&&(window.location.href="/portal/login")),Promise.reject(e)});const i0={login:async e=>{const n=await Ye.post("/auth/login",e);return localStorage.setItem(pr,n.data.token),localStorage.setItem(Ta,JSON.stringify(n.data.user)),n.data},logout:()=>{localStorage.removeItem(pr),localStorage.removeItem(Ta)},getCurrentUser:()=>Ye.get("/auth/me"),changePassword:e=>Ye.post("/auth/change-password",e),forgotPassword:e=>Ye.post("/auth/forgot-password",{email:e}),resetPassword:(e,n)=>Ye.post("/auth/reset-password",{token:e,new_password:n}),getToken:()=>localStorage.getItem(pr),getStoredUser:()=>{const e=localStorage.getItem(Ta);if(e)try{return JSON.parse(e)}catch{return null}return null},isAuthenticated:()=>!!localStorage.getItem(pr)},LA={getProfile:()=>Ye.get("/profile"),updateProfile:e=>Ye.put("/profile",e)},FA={getDashboard:()=>Ye.get("/dashboard")},HA={getAll:()=>Ye.get("/engagements"),getById:e=>Ye.get(`/engagements/${e}`),getMilestones:e=>Ye.get(`/engagements/${e}/milestones`),updateMilestone:(e,n,r)=>Ye.put(`/engagements/${e}/milestones/${n}`,r)},BA={getAll:e=>{const n=new URLSearchParams;return e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.status&&n.append("status",e.status),e!=null&&e.engagement_id&&n.append("engagement_id",e.engagement_id),e!=null&&e.limit&&n.append("limit",e.limit.toString()),e!=null&&e.offset&&n.append("offset",e.offset.toString()),Ye.get(`/vulnerabilities?${n.toString()}`)},getById:e=>Ye.get(`/vulnerabilities/${e}`),updateStatus:(e,n,r)=>Ye.put(`/vulnerabilities/${e}/status`,{status:n,comment:r}),getComments:e=>Ye.get(`/vulnerabilities/${e}/comments`),addComment:(e,n)=>Ye.post(`/vulnerabilities/${e}/comments`,{comment:n})},UA={getAll:()=>Ye.get("/reports"),getById:e=>Ye.get(`/reports/${e}`),download:e=>Ye.get(`/reports/${e}/download`,{responseType:"blob"})},Dh=E.createContext(void 0),$h="heroforge-theme";function o0(){return typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":"dark"}function l0(){if(typeof window<"u"){const e=localStorage.getItem($h);if(e==="light"||e==="dark"||e==="system")return e}return"system"}function Mi(e){return e==="system"?o0():e}const c0=({children:e,defaultTheme:n="system"})=>{const[r,a]=E.useState(()=>l0()||n),[i,o]=E.useState(()=>Mi(r)),l=E.useCallback(u=>{const f=document.documentElement;u==="dark"?(f.classList.add("dark"),f.classList.remove("light")):(f.classList.add("light"),f.classList.remove("dark"));const h=document.querySelector('meta[name="theme-color"]');h&&h.setAttribute("content",u==="dark"?"#0f172a":"#ffffff")},[]),c=E.useCallback(u=>{a(u),localStorage.setItem($h,u)},[]);E.useEffect(()=>{const u=Mi(r);o(u),l(u)},[r,l]),E.useEffect(()=>{if(r!=="system")return;const u=window.matchMedia("(prefers-color-scheme: dark)"),f=h=>{const p=h.matches?"dark":"light";o(p),l(p)};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[r,l]),E.useEffect(()=>{const u=Mi(r);l(u)},[]);const d={theme:r,setTheme:c,resolvedTheme:i};return s.jsx(Dh.Provider,{value:d,children:e})};function zh(){const e=E.useContext(Dh);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}const m=Ve.create({baseURL:"/api"});m.interceptors.request.use(e=>{var r;const n=localStorage.getItem("token");n&&(e.headers.Authorization=`Bearer ${n}`);try{const a=localStorage.getItem("org-storage");if(a){const i=JSON.parse(a);(r=i==null?void 0:i.state)!=null&&r.currentOrgId&&(e.headers["X-Organization-Id"]=i.state.currentOrgId)}}catch{}return e});const Ha={register:e=>m.post("/auth/register",e),login:e=>m.post("/auth/login",e),me:()=>m.get("/user/me"),updateProfile:e=>m.put("/user/profile",e),changePassword:e=>m.put("/user/password",e)},gr={getTiers:()=>m.get("/subscriptions/tiers"),checkEmail:e=>m.post("/auth/register/check-email",{email:e}),initRegistration:e=>m.post("/auth/register/init",e),verifyEmail:e=>m.post("/auth/register/verify",{token:e}),completeRegistration:e=>m.post("/auth/register/complete",e),submitEnterpriseInquiry:e=>m.post("/enterprise/inquiry",e)},u0={setup:()=>m.post("/user/mfa/setup"),verifySetup:e=>m.post("/user/mfa/verify-setup",e),disable:e=>m.delete("/user/mfa",{data:e}),regenerateRecoveryCodes:e=>m.post("/user/mfa/recovery-codes",e),verify:e=>m.post("/auth/mfa/verify",e)},sn={create:e=>m.post("/scans",e),getAll:()=>m.get("/scans"),getById:e=>m.get(`/scans/${e}`),getResults:e=>m.get(`/scans/${e}/results`),delete:e=>m.delete(`/scans/${e}`),getPresets:()=>m.get("/scan-presets"),bulkDelete:e=>m.post("/scans/bulk-delete",{scan_ids:e}),bulkExport:(e,n,r)=>m.post("/scans/bulk-export",{scan_ids:e,format:n,...r},{responseType:"blob"}),duplicate:(e,n)=>m.post(`/scans/${e}/duplicate`,n||{}),getAllWithTags:()=>m.get("/scans/with-tags"),getSslReport:e=>m.get(`/scans/${e}/ssl-report`)},Ht={getAll:()=>m.get("/scans/tags"),create:e=>m.post("/scans/tags",e),delete:e=>m.delete(`/scans/tags/${e}`),getSuggestions:()=>m.get("/scans/tags/suggestions"),getTagsForScan:e=>m.get(`/scans/${e}/tags`),addTagsToScan:(e,n)=>m.post(`/scans/${e}/tags`,n),removeTagFromScan:(e,n)=>m.delete(`/scans/${e}/tags/${n}`)},qA={getUsers:()=>m.get("/admin/users"),getUser:e=>m.get(`/admin/users/${e}`),updateUser:(e,n)=>m.patch(`/admin/users/${e}`,n),deleteUser:e=>m.delete(`/admin/users/${e}`),assignRole:(e,n)=>m.post(`/admin/users/${e}/roles`,{role_id:n}),removeRole:(e,n)=>m.delete(`/admin/users/${e}/roles/${n}`),unlockUser:e=>m.post(`/admin/users/${e}/unlock`),getUserRoleAssignments:e=>m.get(`/admin/users/${e}/role-assignments`),assignRoleWithScope:(e,n)=>m.post(`/admin/users/${e}/role-assignments`,n),removeRoleAssignment:(e,n)=>m.delete(`/admin/users/${e}/role-assignments/${n}`),getRoles:()=>m.get("/admin/roles"),getAllScans:()=>m.get("/admin/scans"),deleteScan:e=>m.delete(`/admin/scans/${e}`),getAuditLogs:(e={})=>{const n=new URLSearchParams;return e.user_id&&n.append("user_id",e.user_id),e.action&&n.append("action",e.action),e.target_type&&n.append("target_type",e.target_type),e.start_date&&n.append("start_date",e.start_date),e.end_date&&n.append("end_date",e.end_date),e.limit!==void 0&&n.append("limit",e.limit.toString()),e.offset!==void 0&&n.append("offset",e.offset.toString()),m.get(`/admin/audit-logs?${n.toString()}`)},getAuditActionTypes:()=>m.get("/admin/audit-logs/action-types"),getAuditUsers:()=>m.get("/admin/audit-logs/users"),exportAuditLogs:async(e={})=>{const n=new URLSearchParams;return e.user_id&&n.append("user_id",e.user_id),e.action&&n.append("action",e.action),e.target_type&&n.append("target_type",e.target_type),e.start_date&&n.append("start_date",e.start_date),e.end_date&&n.append("end_date",e.end_date),await m.get(`/admin/audit-logs/export?${n.toString()}`,{responseType:"blob"})},getSettings:()=>m.get("/admin/settings"),updateSetting:(e,n)=>m.patch(`/admin/settings/${e}`,{value:n}),getRateLimitDashboard:()=>m.get("/admin/rate-limits")},ws={create:e=>m.post("/reports",e),getAll:e=>{const n=e?`?scan_id=${e}`:"";return m.get(`/reports${n}`)},getById:e=>m.get(`/reports/${e}`),download:async e=>await m.get(`/reports/${e}/download`,{responseType:"blob"}),delete:e=>m.delete(`/reports/${e}`),getTemplates:()=>m.get("/reports/templates")},d0={getAll:()=>m.get("/target-groups"),getById:e=>m.get(`/target-groups/${e}`),create:e=>m.post("/target-groups",e),update:(e,n)=>m.put(`/target-groups/${e}`,n),delete:e=>m.delete(`/target-groups/${e}`)},VA={getAll:()=>m.get("/scheduled-scans"),getById:e=>m.get(`/scheduled-scans/${e}`),create:e=>m.post("/scheduled-scans",e),update:(e,n)=>m.put(`/scheduled-scans/${e}`,n),delete:e=>m.delete(`/scheduled-scans/${e}`)},WA={getAll:()=>m.get("/scheduled-reports"),getById:e=>m.get(`/scheduled-reports/${e}`),getPresets:()=>m.get("/scheduled-reports/presets"),create:e=>m.post("/scheduled-reports",e),update:(e,n)=>m.put(`/scheduled-reports/${e}`,n),delete:e=>m.delete(`/scheduled-reports/${e}`),runNow:e=>m.post(`/scheduled-reports/${e}/run-now`)},GA={getSettings:()=>m.get("/notifications/settings"),updateSettings:e=>m.put("/notifications/settings",e),testSlack:()=>m.post("/notifications/test-slack"),testTeams:()=>m.post("/notifications/test-teams"),testEmail:()=>m.post("/notifications/test-email"),checkSmtpStatus:()=>m.get("/notifications/smtp-status")},YA={getAll:()=>m.get("/api-keys"),create:e=>m.post("/api-keys",e),update:(e,n)=>m.patch(`/api-keys/${e}`,n),delete:e=>m.delete(`/api-keys/${e}`)},XA={compare:(e,n)=>m.post("/scans/compare",{scan_id_1:e,scan_id_2:n})},js={getAll:()=>m.get("/templates"),getSystem:()=>m.get("/templates/system"),getCategories:()=>m.get("/templates/categories"),getDefault:()=>m.get("/templates/default"),clearDefault:()=>m.delete("/templates/default"),getById:e=>m.get(`/templates/${e}`),create:e=>m.post("/templates",e),update:(e,n)=>m.put(`/templates/${e}`,n),delete:e=>m.delete(`/templates/${e}`),clone:(e,n)=>m.post(`/templates/${e}/clone`,{new_name:n}),setDefault:e=>m.post(`/templates/${e}/set-default`),createScan:(e,n,r)=>m.post(`/templates/${e}/scan`,{name:n,targets:r}),export:e=>m.get(`/templates/${e}/export`,{responseType:"blob"}),import:e=>m.post("/templates/import",{template:e})},KA={list:()=>m.get("/users")},fr={getSummary:(e=30)=>m.get(`/analytics/summary?days=${e}`),getHosts:(e=30)=>m.get(`/analytics/hosts?days=${e}`),getVulnerabilities:(e=30)=>m.get(`/analytics/vulnerabilities?days=${e}`),getServices:(e=10)=>m.get(`/analytics/services?limit=${e}`),getFrequency:(e=30)=>m.get(`/analytics/frequency?days=${e}`),getVulnerabilityTrends:(e=30)=>m.get(`/analytics/vulnerability-trends?days=${e}`),getSeverityTrends:(e=30)=>m.get(`/analytics/severity-trends?days=${e}`),getRemediationRate:(e=30)=>m.get(`/analytics/remediation-rate?days=${e}`),getTopVulnerabilities:(e=10)=>m.get(`/analytics/top-vulnerabilities?limit=${e}`),getVulnerabilityTrendsDashboard:(e=30)=>m.get(`/analytics/vulnerability-trends-dashboard?days=${e}`)},kc={list:e=>{const n=new URLSearchParams;return e.scan_id&&n.append("scan_id",e.scan_id),e.status&&n.append("status",e.status),e.severity&&n.append("severity",e.severity),m.get(`/vulnerabilities?${n.toString()}`)},get:e=>m.get(`/vulnerabilities/${e}`),update:(e,n)=>m.put(`/vulnerabilities/${e}`,n),addComment:(e,n)=>m.post(`/vulnerabilities/${e}/comments`,{comment:n}),getComments:e=>m.get(`/vulnerabilities/${e}/comments`),updateComment:(e,n,r)=>m.put(`/vulnerabilities/${e}/comments/${n}`,{comment:r}),deleteComment:(e,n)=>m.delete(`/vulnerabilities/${e}/comments/${n}`),bulkUpdate:e=>m.post("/vulnerabilities/bulk-update",e),bulkExport:(e,n)=>m.post("/vulnerabilities/bulk-export",{vulnerability_ids:e,format:n},{responseType:"blob"}),getStats:e=>{const n=e?`?scan_id=${e}`:"";return m.get(`/vulnerabilities/stats${n}`)},getTimeline:e=>m.get(`/vulnerabilities/${e}/timeline`),markForVerification:(e,n)=>m.post(`/vulnerabilities/${e}/verify`,n),bulkAssign:e=>m.post("/vulnerabilities/bulk-assign",e),getMyAssignments:e=>{const n=new URLSearchParams;return e!=null&&e.status&&n.append("status",e.status),(e==null?void 0:e.overdue)!==void 0&&n.append("overdue",e.overdue.toString()),e!=null&&e.user_id&&n.append("user_id",e.user_id),m.get(`/vulnerabilities/assigned?${n.toString()}`)},getAssignmentStats:()=>m.get("/vulnerabilities/assignment-stats"),listWithAssignments:e=>{const n=new URLSearchParams;return e!=null&&e.scan_id&&n.append("scan_id",e.scan_id),e!=null&&e.status&&n.append("status",e.status),e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.assigned_to&&n.append("assigned_to",e.assigned_to),(e==null?void 0:e.overdue)!==void 0&&n.append("overdue",e.overdue.toString()),m.get(`/vulnerabilities/with-assignments?${n.toString()}`)},assign:(e,n)=>m.post(`/vulnerabilities/${e}/assign`,n),unassign:e=>m.delete(`/vulnerabilities/${e}/assign`),updateAssignment:(e,n)=>m.put(`/vulnerabilities/${e}/assignment`,n),bulkUpdateStatus:(e,n)=>m.post("/vulnerabilities/bulk/status",{vulnerability_ids:e,status:n}),bulkUpdateSeverity:(e,n)=>m.post("/vulnerabilities/bulk/severity",{vulnerability_ids:e,severity:n}),bulkDelete:e=>m.post("/vulnerabilities/bulk/delete",{vulnerability_ids:e}),bulkAddTags:(e,n)=>m.post("/vulnerabilities/bulk/tags",{vulnerability_ids:e,tags:n}),requestRetest:(e,n={})=>m.post(`/vulnerabilities/${e}/request-retest`,n),bulkRequestRetest:e=>m.post("/vulnerabilities/bulk-retest",e),completeRetest:(e,n)=>m.post(`/vulnerabilities/${e}/complete-retest`,n),getPendingRetests:e=>{const n=e?`?scan_id=${e}`:"";return m.get(`/vulnerabilities/pending-retest${n}`)},getRetestHistory:e=>m.get(`/vulnerabilities/${e}/retest-history`)},ca={getFrameworks:()=>m.get("/compliance/frameworks"),getFramework:e=>m.get(`/compliance/frameworks/${e}`),getFrameworkControls:e=>m.get(`/compliance/frameworks/${e}/controls`),analyzeScan:(e,n)=>m.post(`/scans/${e}/compliance`,n),getScanCompliance:e=>m.get(`/scans/${e}/compliance`),generateReport:(e,n)=>m.post(`/scans/${e}/compliance/report`,n),downloadReport:e=>m.get(`/compliance/reports/${e}/download`,{responseType:"blob"})},JA={getSettings:()=>m.get("/integrations/jira/settings"),updateSettings:e=>m.post("/integrations/jira/settings",e),testConnection:()=>m.post("/integrations/jira/test"),listProjects:()=>m.get("/integrations/jira/projects"),listIssueTypes:()=>m.get("/integrations/jira/issue-types"),createTicket:(e,n)=>m.post(`/vulnerabilities/${e}/create-ticket`,n||{})},QA={performRecon:e=>m.post("/dns/recon",{domain:e.domain,include_subdomains:e.includeSubdomains,custom_wordlist:e.customWordlist,timeout_secs:e.timeoutSecs}),listResults:()=>m.get("/dns/recon"),getResult:e=>m.get(`/dns/recon/${e}`),deleteResult:e=>m.delete(`/dns/recon/${e}`),getWordlist:()=>m.get("/dns/wordlist")},h0={getSettings:()=>m.get("/integrations/siem/settings"),createSettings:e=>m.post("/integrations/siem/settings",e),updateSettings:(e,n)=>m.put(`/integrations/siem/settings/${e}`,n),deleteSettings:e=>m.delete(`/integrations/siem/settings/${e}`),testConnection:e=>m.post(`/integrations/siem/settings/${e}/test`),exportScan:e=>m.post(`/integrations/siem/export/${e}`)},ZA={getSettings:()=>m.get("/integrations/servicenow/settings"),updateSettings:e=>m.post("/integrations/servicenow/settings",e),testConnection:()=>m.post("/integrations/servicenow/test"),getAssignmentGroups:()=>m.get("/integrations/servicenow/assignment-groups"),getCategories:()=>m.get("/integrations/servicenow/categories"),getTicketStatus:e=>m.get(`/integrations/servicenow/tickets/${e}/status`),getTicketsForVulnerability:e=>m.get(`/vulnerabilities/${e}/servicenow/tickets`),createIncident:(e,n)=>m.post(`/vulnerabilities/${e}/servicenow/incident`,n||{ticket_type:"incident"}),createChange:(e,n)=>m.post(`/vulnerabilities/${e}/servicenow/change`,n||{ticket_type:"change"})},eT={startScan:e=>m.post("/webapp/scan",e),getScan:e=>m.get(`/webapp/scan/${e}`)},tT={getAll:e=>{const n=e?`?framework_id=${e}`:"";return m.get(`/compliance/rubrics${n}`)},getById:e=>m.get(`/compliance/rubrics/${e}`),create:e=>m.post("/compliance/rubrics",e),update:(e,n)=>m.put(`/compliance/rubrics/${e}`,n),delete:e=>m.delete(`/compliance/rubrics/${e}`),getByFramework:e=>m.get(`/compliance/frameworks/${e}/rubrics`)},nT={getAll:(e,n)=>{const r=new URLSearchParams;e&&r.append("framework_id",e),n&&r.append("status",n);const a=r.toString();return m.get(`/compliance/assessments${a?`?${a}`:""}`)},getById:e=>m.get(`/compliance/assessments/${e}`),create:e=>m.post("/compliance/assessments",e),update:(e,n)=>m.put(`/compliance/assessments/${e}`,n),delete:e=>m.delete(`/compliance/assessments/${e}`),submit:e=>m.post(`/compliance/assessments/${e}/submit`),approve:e=>m.post(`/compliance/assessments/${e}/approve`),reject:(e,n)=>m.post(`/compliance/assessments/${e}/reject`,{notes:n})},rT={getAll:e=>m.get(`/compliance/assessments/${e}/evidence`),upload:(e,n)=>m.post(`/compliance/assessments/${e}/evidence`,n,{headers:{"Content-Type":"multipart/form-data"}}),addLink:(e,n,r,a)=>m.post(`/compliance/assessments/${e}/evidence/link`,{title:n,url:r,description:a}),delete:e=>m.delete(`/compliance/evidence/${e}`),download:async e=>(await m.get(`/compliance/evidence/${e}/download`,{responseType:"blob"})).data},sT={getAll:()=>m.get("/compliance/campaigns"),getById:e=>m.get(`/compliance/campaigns/${e}`),create:e=>m.post("/compliance/campaigns",e),update:(e,n)=>m.put(`/compliance/campaigns/${e}`,n),delete:e=>m.delete(`/compliance/campaigns/${e}`),getProgress:e=>m.get(`/compliance/campaigns/${e}/progress`)},f0={getConfigs:()=>m.get("/vpn/configs"),uploadConfig:e=>m.post("/vpn/configs",e),updateConfig:(e,n)=>m.put(`/vpn/configs/${e}`,n),deleteConfig:e=>m.delete(`/vpn/configs/${e}`),testConfig:e=>m.post(`/vpn/configs/${e}/test`),getStatus:()=>m.get("/vpn/status"),connect:e=>m.post("/vpn/connect",e),disconnect:()=>m.post("/vpn/disconnect")},Sc={getDashboard:()=>m.get("/crm/dashboard"),customers:{getAll:e=>{const n=e?`?status=${e}`:"";return m.get(`/crm/customers${n}`)},getById:e=>m.get(`/crm/customers/${e}`),getSummary:e=>m.get(`/crm/customers/${e}/summary`),create:e=>m.post("/crm/customers",e),update:(e,n)=>m.put(`/crm/customers/${e}`,n),delete:e=>m.delete(`/crm/customers/${e}`)},contacts:{getByCustomer:e=>m.get(`/crm/customers/${e}/contacts`),getById:e=>m.get(`/crm/contacts/${e}`),create:(e,n)=>m.post(`/crm/customers/${e}/contacts`,n),update:(e,n)=>m.put(`/crm/contacts/${e}`,n),delete:e=>m.delete(`/crm/contacts/${e}`)},engagements:{getAll:e=>{const n=e?`?status=${e}`:"";return m.get(`/crm/engagements${n}`)},getByCustomer:(e,n)=>{const r=n?`?status=${n}`:"";return m.get(`/crm/customers/${e}/engagements${r}`)},getById:e=>m.get(`/crm/engagements/${e}`),create:(e,n)=>m.post(`/crm/customers/${e}/engagements`,n),update:(e,n)=>m.put(`/crm/engagements/${e}`,n),delete:e=>m.delete(`/crm/engagements/${e}`)},milestones:{getByEngagement:e=>m.get(`/crm/engagements/${e}/milestones`),create:(e,n)=>m.post(`/crm/engagements/${e}/milestones`,n),update:(e,n)=>m.put(`/crm/milestones/${e}`,n),delete:e=>m.delete(`/crm/milestones/${e}`)},contracts:{getAll:e=>{const n=e?`?status=${e}`:"";return m.get(`/crm/contracts${n}`)},getByCustomer:e=>m.get(`/crm/customers/${e}/contracts`),getById:e=>m.get(`/crm/contracts/${e}`),create:(e,n)=>m.post(`/crm/customers/${e}/contracts`,n),update:(e,n)=>m.put(`/crm/contracts/${e}`,n),delete:e=>m.delete(`/crm/contracts/${e}`)},sla:{getTemplates:()=>m.get("/crm/sla-templates"),createTemplate:e=>m.post("/crm/sla-templates",e),getByCustomer:e=>m.get(`/crm/customers/${e}/sla`),setForCustomer:(e,n)=>m.post(`/crm/customers/${e}/sla`,n),delete:e=>m.delete(`/crm/sla/${e}`)},timeEntries:{getAll:(e,n)=>{const r=new URLSearchParams;e&&r.append("start_date",e),n&&r.append("end_date",n);const a=r.toString();return m.get(`/crm/time${a?`?${a}`:""}`)},getByEngagement:e=>m.get(`/crm/engagements/${e}/time`),create:(e,n)=>m.post(`/crm/engagements/${e}/time`,n),delete:e=>m.delete(`/crm/time/${e}`)},communications:{getByCustomer:(e,n)=>{const r=n?`?limit=${n}`:"";return m.get(`/crm/customers/${e}/communications${r}`)},create:(e,n)=>m.post(`/crm/customers/${e}/communications`,n),delete:e=>m.delete(`/crm/communications/${e}`)},portalUsers:{getByCustomer:e=>m.get(`/crm/customers/${e}/portal-users`),getById:(e,n)=>m.get(`/crm/customers/${e}/portal-users/${n}`),create:(e,n)=>m.post(`/crm/customers/${e}/portal-users`,n),update:(e,n,r)=>m.put(`/crm/customers/${e}/portal-users/${n}`,r),delete:(e,n)=>m.delete(`/crm/customers/${e}/portal-users/${n}`),activate:(e,n)=>m.post(`/crm/customers/${e}/portal-users/${n}/activate`),deactivate:(e,n)=>m.post(`/crm/customers/${e}/portal-users/${n}/deactivate`),resetPassword:(e,n,r)=>m.post(`/crm/customers/${e}/portal-users/${n}/reset-password`,r)},discoveredAssets:{getByCustomer:(e,n)=>{const r=new URLSearchParams;n!=null&&n.asset_type&&r.append("asset_type",n.asset_type),(n==null?void 0:n.is_in_scope)!==void 0&&r.append("is_in_scope",String(n.is_in_scope)),n!=null&&n.limit&&r.append("limit",String(n.limit)),n!=null&&n.offset&&r.append("offset",String(n.offset));const a=r.toString();return m.get(`/crm/customers/${e}/discovered-assets${a?`?${a}`:""}`)},getSummary:e=>m.get(`/crm/customers/${e}/discovered-assets/summary`),getById:e=>m.get(`/crm/discovered-assets/${e}`),create:(e,n)=>m.post(`/crm/customers/${e}/discovered-assets`,n),update:(e,n)=>m.put(`/crm/discovered-assets/${e}`,n),delete:e=>m.delete(`/crm/discovered-assets/${e}`),bulkSetScope:(e,n)=>m.post(`/crm/customers/${e}/discovered-assets/bulk-scope`,n)}},aT={list:e=>{const n=new URLSearchParams;e!=null&&e.category&&n.append("category",e.category),e!=null&&e.severity&&n.append("severity",e.severity),e!=null&&e.search&&n.append("search",e.search),(e==null?void 0:e.include_system)!==void 0&&n.append("include_system",e.include_system.toString());const r=n.toString();return m.get(`/finding-templates${r?`?${r}`:""}`)},getById:e=>m.get(`/finding-templates/${e}`),create:e=>m.post("/finding-templates",e),update:(e,n)=>m.put(`/finding-templates/${e}`,n),delete:e=>m.delete(`/finding-templates/${e}`),clone:(e,n)=>m.post(`/finding-templates/${e}/clone`,n||{}),getCategories:()=>m.get("/finding-templates/categories"),getAllCategories:()=>m.get("/finding-templates/categories/all"),getPopular:(e=10)=>m.get("/finding-templates/popular",{params:{limit:e}}),search:e=>{const n=new URLSearchParams;e.query&&n.append("q",e.query),e.category&&n.append("category",e.category),e.severity&&n.append("severity",e.severity),e.owasp&&n.append("owasp",e.owasp),e.mitre&&n.append("mitre",e.mitre),e.limit&&n.append("limit",e.limit.toString()),e.offset&&n.append("offset",e.offset.toString());const r=n.toString();return m.get(`/finding-templates/search${r?`?${r}`:""}`)},getByOwasp:e=>m.get(`/finding-templates/owasp/${encodeURIComponent(e)}`),getByMitre:e=>m.get(`/finding-templates/mitre/${encodeURIComponent(e)}`),importTemplates:e=>m.post("/finding-templates/import",e),exportTemplates:e=>{const n=e!=null&&e.length?{ids:e.join(",")}:{};return m.get("/finding-templates/export",{params:n})},applyToVulnerability:(e,n)=>m.post(`/finding-templates/${e}/apply`,n)},iT={listTemplates:()=>m.get("/methodology/templates"),getTemplate:e=>m.get(`/methodology/templates/${e}`),listChecklists:()=>m.get("/methodology/checklists"),createChecklist:e=>m.post("/methodology/checklists",e),getChecklist:e=>m.get(`/methodology/checklists/${e}`),updateChecklist:(e,n)=>m.put(`/methodology/checklists/${e}`,n),deleteChecklist:e=>m.delete(`/methodology/checklists/${e}`),getProgress:e=>m.get(`/methodology/checklists/${e}/progress`),getItem:(e,n)=>m.get(`/methodology/checklists/${e}/items/${n}`),updateItem:(e,n,r)=>m.put(`/methodology/checklists/${e}/items/${n}`,r)},oT={getCustomerTrends:(e,n=6)=>m.get(`/analytics/customer/${e}/trends`,{params:{months:n}}),getCustomerSummary:e=>m.get(`/analytics/customer/${e}/summary`),getRemediationVelocity:(e=90)=>m.get("/analytics/remediation-velocity",{params:{days:e}}),getRiskTrends:(e=6)=>m.get("/analytics/risk-trends",{params:{months:e}}),getMethodologyCoverage:()=>m.get("/analytics/methodology-coverage"),getExecutiveDashboard:(e,n=6)=>m.get("/analytics/executive-dashboard",{params:{customer_id:e,months:n}})},m0={getStatus:()=>m.get("/threat-intel/status"),lookupIp:e=>m.get(`/threat-intel/lookup/${e}`),lookupCve:e=>m.get(`/threat-intel/cve/${e}`),getAlerts:e=>m.get("/threat-intel/alerts",{params:e}),acknowledgeAlert:e=>m.post(`/threat-intel/alerts/${e}/acknowledge`),enrichScan:(e,n)=>m.post(`/threat-intel/enrich/${e}`,n||{}),getEnrichment:e=>m.get(`/threat-intel/scan/${e}/enrichment`)},lT={analyze:(e,n)=>m.post(`/attack-paths/analyze/${e}`,n||{}),getByScan:e=>m.get(`/attack-paths/${e}`),getCritical:e=>m.get(`/attack-paths/${e}/critical`),getPath:e=>m.get(`/attack-paths/path/${e}`)},cT={startScan:e=>m.post("/api-security/scans",e),listScans:()=>m.get("/api-security/scans"),getScan:e=>m.get(`/api-security/scans/${e}`),deleteScan:e=>m.delete(`/api-security/scans/${e}`),getFindings:e=>m.get(`/api-security/scans/${e}/findings`),getEndpoints:e=>m.get(`/api-security/scans/${e}/endpoints`),discoverEndpoints:e=>m.post("/api-security/discover",e),getStats:()=>m.get("/api-security/stats")},uT={getTags:()=>m.get("/assets/tags"),createTag:e=>m.post("/assets/tags",e),getTag:e=>m.get(`/assets/tags/${e}`),updateTag:(e,n)=>m.put(`/assets/tags/${e}`,n),deleteTag:e=>m.delete(`/assets/tags/${e}`),getAssets:e=>m.get("/assets",{params:e}),getAssetsWithTags:e=>m.get("/assets/with-tags",{params:e}),getAssetsByTags:e=>m.get("/assets/by-tags",{params:e}),getAsset:e=>m.get(`/assets/${e}`),addTagsToAsset:(e,n)=>m.post(`/assets/${e}/tags`,n),removeTagFromAsset:(e,n)=>m.delete(`/assets/${e}/tags/${n}`),updateAsset:(e,n)=>m.patch(`/assets/${e}`,n),deleteAsset:e=>m.delete(`/assets/${e}`),getAssetHistory:e=>m.get(`/assets/${e}/history`),getAssetFull:e=>m.get(`/assets/${e}/full`)},dT={getGroups:()=>m.get("/asset-groups"),createGroup:e=>m.post("/asset-groups",e),getGroup:e=>m.get(`/asset-groups/${e}`),updateGroup:(e,n)=>m.put(`/asset-groups/${e}`,n),deleteGroup:e=>m.delete(`/asset-groups/${e}`),addAssetsToGroup:(e,n)=>m.post(`/asset-groups/${e}/members`,n),removeAssetFromGroup:(e,n)=>m.delete(`/asset-groups/${e}/members/${n}`),getAssetsByGroup:e=>m.get("/asset-groups/assets",{params:e}),bulkAddAssetsToGroup:(e,n)=>m.post(`/asset-groups/${e}/bulk-add`,n)},p0={getAll:()=>m.get("/exclusions"),getGlobal:()=>m.get("/exclusions/global"),get:e=>m.get(`/exclusions/${e}`),create:e=>m.post("/exclusions",e),update:(e,n)=>m.put(`/exclusions/${e}`,n),delete:e=>m.delete(`/exclusions/${e}`),validate:e=>m.post("/exclusions/validate",e),bulkImport:e=>m.post("/exclusions/bulk-import",e)},Fr={list:e=>m.get("/secrets",{params:e}),getByScan:e=>m.get(`/scans/${e}/secrets`),getStats:e=>m.get("/secrets/stats",{params:e?{scan_id:e}:void 0}),get:e=>m.get(`/secrets/${e}`),update:(e,n)=>m.patch(`/secrets/${e}`,n),bulkUpdateStatus:(e,n)=>m.post("/secrets/bulk-status",{ids:e,status:n})},hT={list:()=>m.get("/webhooks"),get:e=>m.get(`/webhooks/${e}`),create:e=>m.post("/webhooks",e),update:(e,n)=>m.put(`/webhooks/${e}`,n),delete:e=>m.delete(`/webhooks/${e}`),getEventTypes:()=>m.get("/webhooks/event-types"),generateSecret:()=>m.post("/webhooks/generate-secret"),test:e=>m.post(`/webhooks/${e}/test`),getDeliveries:(e,n)=>m.get(`/webhooks/${e}/deliveries`,{params:{limit:n}}),getStats:e=>m.get(`/webhooks/${e}/stats`)},Ba={prioritize:(e,n)=>m.post(`/ai/prioritize/${e}`,n||{}),getScores:e=>m.get(`/ai/scores/${e}`),getVulnerabilityScore:e=>m.get(`/ai/scores/vulnerability/${e}`),getConfig:()=>m.get("/ai/config"),updateConfig:e=>m.put("/ai/config",e),submitFeedback:e=>m.post("/ai/feedback",e)},Cc={register:e=>m.post("/agents/register",e),list:()=>m.get("/agents"),get:e=>m.get(`/agents/${e}`),update:(e,n)=>m.put(`/agents/${e}`,n),delete:e=>m.delete(`/agents/${e}`),getStats:()=>m.get("/agents/stats"),regenerateToken:e=>m.post(`/agents/${e}/regenerate-token`),getHeartbeats:(e,n)=>m.get(`/agents/${e}/heartbeats`,{params:{limit:n}}),groups:{list:()=>m.get("/agents/groups"),get:e=>m.get(`/agents/groups/${e}`),create:e=>m.post("/agents/groups",e),update:(e,n)=>m.put(`/agents/groups/${e}`,n),delete:e=>m.delete(`/agents/groups/${e}`),assignAgents:(e,n)=>m.put(`/agents/groups/${e}/agents`,n),removeAgent:(e,n)=>m.delete(`/agents/groups/${e}/agents/${n}`)},tasks:{list:e=>m.get("/agents/tasks",{params:e}),getForAgent:e=>m.get(`/agents/${e}/tasks`)},mesh:{getPeers:()=>m.get("/agents/mesh/peers"),getClusters:()=>m.get("/agents/mesh/clusters"),createCluster:e=>m.post("/agents/mesh/clusters",e),getCluster:e=>m.get(`/agents/mesh/clusters/${e}`),updateCluster:(e,n)=>m.put(`/agents/mesh/clusters/${e}`,n),deleteCluster:e=>m.delete(`/agents/mesh/clusters/${e}`),addAgentToCluster:(e,n)=>m.post(`/agents/mesh/clusters/${e}/agents/${n}`),removeAgentFromCluster:(e,n)=>m.delete(`/agents/mesh/clusters/${e}/agents/${n}`),getAgentConfig:e=>m.get(`/agents/${e}/mesh`),updateAgentConfig:(e,n)=>m.put(`/agents/${e}/mesh`,n)}},Ec={getProvidersForLogin:()=>m.get("/sso/providers"),initiateLogin:e=>m.get(`/sso/login/${e}`),admin:{listProviders:()=>m.get("/sso/admin/providers"),getProvider:e=>m.get(`/sso/admin/providers/${e}`),createProvider:e=>m.post("/sso/admin/providers",e),updateProvider:(e,n)=>m.put(`/sso/admin/providers/${e}`,n),deleteProvider:e=>m.delete(`/sso/admin/providers/${e}`),getPresets:()=>m.get("/sso/admin/presets"),getMetadata:e=>m.get(`/sso/admin/providers/${e}/metadata`),downloadMetadataXml:e=>m.get(`/sso/admin/providers/${e}/metadata.xml`,{responseType:"blob"}),updateMappings:(e,n)=>m.put(`/sso/admin/providers/${e}/mappings`,n),testProvider:e=>m.post(`/sso/admin/providers/${e}/test`),parseMetadata:e=>m.post("/sso/admin/parse-metadata",{metadata_xml:e})},logout:e=>m.post("/sso/logout",{logout_from_idp:e})},fT={tokens:{list:()=>m.get("/cicd/tokens"),create:e=>m.post("/cicd/tokens",e),delete:e=>m.delete(`/cicd/tokens/${e}`)},qualityGates:{list:()=>m.get("/cicd/quality-gates"),getDefault:()=>m.get("/cicd/quality-gates/default"),get:e=>m.get(`/cicd/quality-gates/${e}`),create:e=>m.post("/cicd/quality-gates",e),update:(e,n)=>m.put(`/cicd/quality-gates/${e}`,n),delete:e=>m.delete(`/cicd/quality-gates/${e}`)},runs:{list:e=>m.get("/cicd/runs",{params:{limit:e}}),get:e=>m.get(`/cicd/runs/${e}`),trigger:e=>m.post("/cicd/scan",e),getStatus:e=>m.get(`/cicd/runs/${e}/status`),getQualityGateResult:e=>m.get(`/cicd/runs/${e}/quality-gate`)},reports:{getSarif:e=>m.get(`/cicd/scans/${e}/sarif`,{responseType:"blob"}),getJunit:e=>m.get(`/cicd/scans/${e}/junit`,{responseType:"blob"}),getGitLabSecurity:e=>m.get(`/cicd/scans/${e}/gitlab-security`,{responseType:"blob"}),getGitLabQuality:e=>m.get(`/cicd/scans/${e}/gitlab-quality`,{responseType:"blob"})},examples:{get:e=>m.get(`/cicd/examples/${e}`),list:()=>m.get("/cicd/examples")}},mT={listScans:e=>m.get("/container/scans",{params:e}),getScan:e=>m.get(`/container/scans/${e}`),createScan:e=>m.post("/container/scans",e),deleteScan:e=>m.delete(`/container/scans/${e}`),getFindings:(e,n)=>m.get(`/container/scans/${e}/findings`,{params:n}),getImages:e=>m.get(`/container/scans/${e}/images`),getResources:e=>m.get(`/container/scans/${e}/resources`),updateFindingStatus:(e,n)=>m.patch(`/container/findings/${e}/status`,n),analyzeDockerfile:e=>m.post("/container/analyze-dockerfile",e),analyzeManifest:e=>m.post("/container/analyze-manifest",e),getScanTypes:()=>m.get("/container/scan-types")},pT={templates:{list:()=>m.get("/workflows/templates"),get:e=>m.get(`/workflows/templates/${e}`),create:e=>m.post("/workflows/templates",e),update:(e,n)=>m.put(`/workflows/templates/${e}`,n),delete:e=>m.delete(`/workflows/templates/${e}`)},instances:{list:e=>{const n=new URLSearchParams;e!=null&&e.status&&n.append("status",e.status),e!=null&&e.vulnerability_id&&n.append("vulnerability_id",e.vulnerability_id);const r=n.toString();return m.get(`/workflows/instances${r?`?${r}`:""}`)},get:e=>m.get(`/workflows/instances/${e}`),start:(e,n)=>m.post(`/vulnerabilities/${e}/workflow`,n),update:(e,n)=>m.put(`/workflows/instances/${e}`,n),cancel:(e,n)=>m.post(`/workflows/instances/${e}/cancel`,{comment:n}),hold:(e,n)=>m.post(`/workflows/instances/${e}/hold`,{notes:n}),resume:e=>m.post(`/workflows/instances/${e}/resume`)},stages:{approve:(e,n)=>m.post(`/workflows/instances/${e}/approve`,n||{}),advance:(e,n)=>m.post(`/workflows/instances/${e}/advance`,{comment:n}),reject:(e,n)=>m.post(`/workflows/instances/${e}/reject`,n)},getPendingApprovals:()=>m.get("/workflows/pending-approvals"),getStats:()=>m.get("/workflows/stats"),getForVulnerability:e=>m.get(`/vulnerabilities/${e}/workflow`)},gT={createScan:e=>m.post("/iac/scan",e,{headers:{"Content-Type":"multipart/form-data"}}),listScans:e=>m.get("/iac/scans",{params:e}),getScan:e=>m.get(`/iac/scans/${e}`),deleteScan:e=>m.delete(`/iac/scans/${e}`),getFindings:e=>m.get(`/iac/scans/${e}/findings`),getFiles:e=>m.get(`/iac/scans/${e}/files`),getFile:e=>m.get(`/iac/files/${e}`),getFileFindings:e=>m.get(`/iac/files/${e}/findings`),updateFindingStatus:(e,n)=>m.patch(`/iac/findings/${e}/status`,n),analyzeFile:e=>m.post("/iac/analyze",e),listRules:()=>m.get("/iac/rules"),createRule:e=>m.post("/iac/rules",e),updateRule:(e,n)=>m.put(`/iac/rules/${e}`,n),deleteRule:e=>m.delete(`/iac/rules/${e}`),getPlatforms:()=>m.get("/iac/platforms")},xT={listTechniques:()=>m.get("/bas/techniques"),listTactics:()=>m.get("/bas/tactics"),listScenarios:()=>m.get("/bas/scenarios"),createScenario:e=>m.post("/bas/scenarios",e),getScenario:e=>m.get(`/bas/scenarios/${e}`),deleteScenario:e=>m.delete(`/bas/scenarios/${e}`),listSimulations:()=>m.get("/bas/simulations"),startSimulation:e=>m.post("/bas/simulations",e),getSimulation:e=>m.get(`/bas/simulations/${e}`),getUnacknowledgedGaps:()=>m.get("/bas/gaps/unacknowledged"),acknowledgeGap:(e,n)=>m.post(`/bas/gaps/${e}/acknowledge`,n),getStats:()=>m.get("/bas/stats")},yT={listLogSources:e=>m.get("/siem/sources",{params:e}),createLogSource:e=>m.post("/siem/sources",e),getLogSource:e=>m.get(`/siem/sources/${e}`),updateLogSource:(e,n)=>m.put(`/siem/sources/${e}`,n),deleteLogSource:e=>m.delete(`/siem/sources/${e}`),queryLogs:e=>m.get("/siem/logs",{params:e}),getLogEntry:e=>m.get(`/siem/logs/${e}`),listRules:e=>m.get("/siem/rules",{params:e}),createRule:e=>m.post("/siem/rules",e),updateRule:(e,n)=>m.put(`/siem/rules/${e}`,n),deleteRule:e=>m.delete(`/siem/rules/${e}`),listAlerts:e=>m.get("/siem/alerts",{params:e}),updateAlertStatus:(e,n)=>m.put(`/siem/alerts/${e}/status`,n),resolveAlert:(e,n)=>m.post(`/siem/alerts/${e}/resolve`,n),getStats:()=>m.get("/siem/stats"),listSigmaRules:e=>m.get("/siem/sigma/rules",{params:e}),createSigmaRule:e=>m.post("/siem/sigma/rules",e),getSigmaRule:e=>m.get(`/siem/sigma/rules/${e}`),updateSigmaRule:(e,n)=>m.put(`/siem/sigma/rules/${e}`,n),deleteSigmaRule:e=>m.delete(`/siem/sigma/rules/${e}`),convertSigmaRule:e=>m.post("/siem/sigma/convert",e),convertSigmaRuleAll:e=>m.post("/siem/sigma/convert-all",e),testSigmaRuleWithStorage:(e,n)=>m.post(`/siem/sigma/rules/${e}/test`,n),getSigmaRuleTestResults:e=>m.get(`/siem/sigma/rules/${e}/test-results`),updateTestResult:(e,n)=>m.put(`/siem/sigma/test-results/${e}`,n),getAttackCoverage:()=>m.get("/siem/sigma/coverage"),getTuningRecommendations:()=>m.get("/siem/sigma/tuning/recommendations"),listRuleChains:()=>m.get("/siem/sigma/chains"),createRuleChain:e=>m.post("/siem/sigma/chains",e),deleteRuleChain:e=>m.delete(`/siem/sigma/chains/${e}`)},bT={getDashboard:()=>m.get("/ueba/dashboard"),getStats:()=>m.get("/ueba/stats"),listEntities:e=>m.get("/ueba/entities",{params:e}),getEntity:e=>m.get(`/ueba/entities/${e}`),createEntity:e=>m.post("/ueba/entities",e),updateEntity:(e,n)=>m.put(`/ueba/entities/${e}`,n),deleteEntity:e=>m.delete(`/ueba/entities/${e}`),getEntityBaselines:e=>m.get(`/ueba/entities/${e}/baselines`),getEntityRiskFactors:e=>m.get(`/ueba/entities/${e}/risk-factors`),listPeerGroups:()=>m.get("/ueba/peer-groups"),getPeerGroup:e=>m.get(`/ueba/peer-groups/${e}`),createPeerGroup:e=>m.post("/ueba/peer-groups",e),updatePeerGroup:(e,n)=>m.put(`/ueba/peer-groups/${e}`,n),deletePeerGroup:e=>m.delete(`/ueba/peer-groups/${e}`),getPeerGroupMembers:e=>m.get(`/ueba/peer-groups/${e}/members`),listActivities:e=>m.get("/ueba/activities",{params:e}),recordActivity:e=>m.post("/ueba/activities",e),recordActivitiesBulk:e=>m.post("/ueba/activities/bulk",{activities:e}),listAnomalies:e=>m.get("/ueba/anomalies",{params:e}),getAnomaly:e=>m.get(`/ueba/anomalies/${e}`),updateAnomaly:(e,n)=>m.put(`/ueba/anomalies/${e}`,n),acknowledgeAnomaly:e=>m.post(`/ueba/anomalies/${e}/acknowledge`),resolveAnomaly:(e,n)=>m.post(`/ueba/anomalies/${e}/resolve`,n),listSessions:e=>m.get("/ueba/sessions",{params:e}),recordSession:e=>m.post("/ueba/sessions",e),listBaselines:e=>m.get("/ueba/baselines",{params:e}),addToWatchlist:e=>m.post("/ueba/watchlist",e),removeFromWatchlist:e=>m.delete(`/ueba/watchlist/${e}`),getAdvancedStats:()=>m.get("/ueba/advanced/stats"),listAdvancedDetections:e=>m.get("/ueba/advanced/detections",{params:e}),getAdvancedDetection:e=>m.get(`/ueba/advanced/detections/${e}`),updateAdvancedDetectionStatus:(e,n)=>m.put(`/ueba/advanced/detections/${e}/status`,n),listBusinessHours:()=>m.get("/ueba/advanced/business-hours"),createBusinessHours:e=>m.post("/ueba/advanced/business-hours",e),deleteBusinessHours:e=>m.delete(`/ueba/advanced/business-hours/${e}`),listSensitiveResources:()=>m.get("/ueba/advanced/sensitive-resources"),createSensitiveResource:e=>m.post("/ueba/advanced/sensitive-resources",e),deleteSensitiveResource:e=>m.delete(`/ueba/advanced/sensitive-resources/${e}`),listKnownVpns:()=>m.get("/ueba/advanced/known-vpns"),createKnownVpn:e=>m.post("/ueba/advanced/known-vpns",e),deleteKnownVpn:e=>m.delete(`/ueba/advanced/known-vpns/${e}`),listDetectionRules:()=>m.get("/ueba/advanced/detection-rules"),createDetectionRule:e=>m.post("/ueba/advanced/detection-rules",e),toggleDetectionRule:e=>m.put(`/ueba/advanced/detection-rules/${e}/toggle`),deleteDetectionRule:e=>m.delete(`/ueba/advanced/detection-rules/${e}`),listDataAccesses:e=>m.get("/ueba/advanced/data-accesses",{params:e}),recordDataAccess:e=>m.post("/ueba/advanced/data-accesses",e),listHostAccesses:e=>m.get("/ueba/advanced/host-accesses",{params:e}),recordHostAccess:e=>m.post("/ueba/advanced/host-accesses",e),listDataTransfers:e=>m.get("/ueba/advanced/data-transfers",{params:e}),recordDataTransfer:e=>m.post("/ueba/advanced/data-transfers",e),runAdvancedDetection:e=>m.post("/ueba/advanced/run-detection",e)},vT={getStatus:()=>m.get("/exploitation/status"),listCampaigns:()=>m.get("/exploitation/campaigns"),createCampaign:e=>m.post("/exploitation/campaigns",e),getCampaign:e=>m.get(`/exploitation/campaigns/${e}`),startCampaign:(e,n)=>m.post(`/exploitation/campaigns/${e}/start`,{authorized:n}),stopCampaign:e=>m.post(`/exploitation/campaigns/${e}/stop`),deleteCampaign:e=>m.delete(`/exploitation/campaigns/${e}`),getCampaignResults:e=>m.get(`/exploitation/campaigns/${e}/results`),exportResults:(e,n)=>m.post(`/exploitation/campaigns/${e}/export`,{format:n}),generateShell:e=>m.post("/exploitation/shells/generate",e),listShellTemplates:()=>m.get("/exploitation/shells/templates"),listPayloads:()=>m.get("/exploitation/shells"),listModules:()=>m.get("/exploitation/modules"),getRelevantModules:e=>m.post("/exploitation/modules/relevant",{asset_ids:e}),getRelevantAttacks:e=>m.post("/exploitation/attacks/relevant",{asset_ids:e})},wT={startScan:e=>m.post("/privesc",e),listScans:(e,n)=>m.get("/privesc/scans",{params:{limit:e,offset:n}}),getScan:e=>m.get(`/privesc/scans/${e}`),getFindings:e=>m.get(`/privesc/scans/${e}/findings`),cancelScan:e=>m.post(`/privesc/scans/${e}/cancel`),deleteScan:e=>m.delete(`/privesc/scans/${e}`),getGtfobins:e=>m.get(`/privesc/gtfobins/${encodeURIComponent(e)}`),getLolbas:e=>m.get(`/privesc/lolbas/${encodeURIComponent(e)}`)},jT={uploadData:e=>{const n=new FormData;return n.append("file",e),m.post("/bloodhound/upload",n,{headers:{"Content-Type":"multipart/form-data"}})},listImports:(e,n)=>m.get("/bloodhound/imports",{params:{limit:e,offset:n}}),getImport:e=>m.get(`/bloodhound/imports/${e}`),deleteImport:e=>m.delete(`/bloodhound/imports/${e}`),getAttackPaths:e=>m.get(`/bloodhound/imports/${e}/paths`),getKerberoastable:e=>m.get(`/bloodhound/imports/${e}/kerberoastable`),getAsrepRoastable:e=>m.get(`/bloodhound/imports/${e}/asrep-roastable`)},_T={createJob:e=>m.post("/cracking/jobs",e),listJobs:(e,n)=>m.get("/cracking/jobs",{params:{limit:e,offset:n}}),getJob:e=>m.get(`/cracking/jobs/${e}`),deleteJob:e=>m.delete(`/cracking/jobs/${e}`),startJob:e=>m.post(`/cracking/jobs/${e}/start`),stopJob:e=>m.post(`/cracking/jobs/${e}/stop`),getJobResults:e=>m.get(`/cracking/jobs/${e}/results`),listWordlists:()=>m.get("/cracking/wordlists"),deleteWordlist:e=>m.delete(`/cracking/wordlists/${e}`),listRules:e=>m.get("/cracking/rules",{params:{cracker_type:e}}),deleteRule:e=>m.delete(`/cracking/rules/${e}`),detectHashType:e=>m.post("/cracking/detect-hash",e),listHashTypes:()=>m.get("/cracking/hash-types"),getStats:()=>m.get("/cracking/stats")},NT={getDashboard:()=>m.get("/asm/dashboard"),createMonitor:e=>m.post("/asm/monitors",e),listMonitors:()=>m.get("/asm/monitors"),getMonitor:e=>m.get(`/asm/monitors/${e}`),updateMonitor:(e,n)=>m.put(`/asm/monitors/${e}`,n),deleteMonitor:e=>m.delete(`/asm/monitors/${e}`),runMonitor:e=>m.post(`/asm/monitors/${e}/run`),enableMonitor:e=>m.post(`/asm/monitors/${e}/enable`),disableMonitor:e=>m.post(`/asm/monitors/${e}/disable`),getMonitorBaselines:e=>m.get(`/asm/monitors/${e}/baselines`),createBaseline:e=>m.post(`/asm/monitors/${e}/baselines`),activateBaseline:(e,n)=>m.post(`/asm/monitors/${e}/baselines/${n}/activate`),listChanges:e=>m.get("/asm/changes",{params:e}),getMonitorChanges:(e,n)=>m.get(`/asm/monitors/${e}/changes`,{params:n}),acknowledgeChange:(e,n)=>m.post(`/asm/changes/${e}/acknowledge`,n),listRiskScores:e=>m.get("/asm/risk-scores",{params:{limit:e}}),getAssetRiskScore:e=>m.get(`/asm/risk-scores/${encodeURIComponent(e)}`),listAuthorizedAssets:()=>m.get("/asm/authorized-assets"),createAuthorizedAsset:e=>m.post("/asm/authorized-assets",e),deleteAuthorizedAsset:e=>m.delete(`/asm/authorized-assets/${e}`),getTimeline:(e,n)=>m.get("/asm/timeline",{params:{monitor_id:e,days:n}})},kT={getDashboard:()=>m.get("/purple-team/dashboard"),createExercise:e=>m.post("/purple-team/exercises",e),listExercises:()=>m.get("/purple-team/exercises"),getExercise:e=>m.get(`/purple-team/exercises/${e}`),updateExercise:(e,n)=>m.put(`/purple-team/exercises/${e}`,n),deleteExercise:e=>m.delete(`/purple-team/exercises/${e}`),startExercise:e=>m.post(`/purple-team/exercises/${e}/start`),stopExercise:e=>m.post(`/purple-team/exercises/${e}/stop`),getExerciseResults:e=>m.get(`/purple-team/exercises/${e}/results`),recheckDetection:e=>m.post(`/purple-team/results/${e}/recheck`),getExerciseCoverage:e=>m.get(`/purple-team/exercises/${e}/coverage`),getCoverageMatrix:()=>m.get("/purple-team/coverage/matrix"),listGaps:e=>m.get("/purple-team/gaps",{params:{status:e}}),getExerciseGaps:e=>m.get(`/purple-team/exercises/${e}/gaps`),updateGapStatus:(e,n)=>m.put(`/purple-team/gaps/${e}/status`,n),getGapRecommendations:e=>m.get(`/purple-team/gaps/${e}/recommendations`),getMitreTechniques:()=>m.get("/purple-team/mitre/techniques"),getMitreTactics:()=>m.get("/purple-team/mitre/tactics"),getAttackTypeMappings:()=>m.get("/purple-team/mitre/attacks"),generateExerciseReport:e=>m.get(`/purple-team/exercises/${e}/report`)},g0={list:()=>m.get("/organizations"),get:e=>m.get(`/organizations/${e}`),create:e=>m.post("/organizations",e),update:(e,n)=>m.put(`/organizations/${e}`,n),delete:e=>m.delete(`/organizations/${e}`),listMembers:e=>m.get(`/organizations/${e}/members`),addMember:(e,n)=>m.post(`/organizations/${e}/members`,n),removeMember:(e,n)=>m.delete(`/organizations/${e}/members/${n}`),listDepartments:e=>m.get(`/organizations/${e}/departments`),getDepartment:e=>m.get(`/departments/${e}`),createDepartment:(e,n)=>m.post(`/organizations/${e}/departments`,n),updateDepartment:(e,n)=>m.put(`/departments/${e}`,n),deleteDepartment:e=>m.delete(`/departments/${e}`),listTeams:e=>m.get(`/organizations/${e}/teams`),listTeamsInDepartment:e=>m.get(`/departments/${e}/teams`),getTeam:e=>m.get(`/teams/${e}`),createTeam:(e,n)=>m.post(`/departments/${e}/teams`,n),updateTeam:(e,n)=>m.put(`/teams/${e}`,n),deleteTeam:e=>m.delete(`/teams/${e}`),listTeamMembers:e=>m.get(`/teams/${e}/members`),addTeamMember:(e,n)=>m.post(`/teams/${e}/members`,n),removeTeamMember:(e,n)=>m.delete(`/teams/${e}/members/${n}`)},ST={listRoleTemplates:()=>m.get("/role-templates"),getRoleTemplate:e=>m.get(`/role-templates/${e}`),getRoleTemplatePermissions:e=>m.get(`/role-templates/${e}/permissions`),listCustomRoles:e=>m.get(`/organizations/${e}/roles`),getCustomRole:(e,n)=>m.get(`/organizations/${e}/roles/${n}`),createCustomRole:(e,n)=>m.post(`/organizations/${e}/roles`,n),updateCustomRole:(e,n,r)=>m.put(`/organizations/${e}/roles/${n}`,r),deleteCustomRole:(e,n)=>m.delete(`/organizations/${e}/roles/${n}`),cloneCustomRole:(e,n,r)=>m.post(`/organizations/${e}/roles/${n}/clone`,{name:r}),listUserRoles:e=>m.get(`/users/${e}/roles`),assignRole:(e,n)=>m.post(`/users/${e}/roles`,n),removeRoleAssignment:(e,n)=>m.delete(`/users/${e}/roles/${n}`)},CT={getQuotas:e=>m.get(`/organizations/${e}/quotas`),updateQuotas:(e,n)=>m.put(`/organizations/${e}/quotas`,n),getUsage:e=>m.get(`/organizations/${e}/quotas/usage`)},ET={listCases:e=>m.get("/green-team/cases",{params:e}),getCase:e=>m.get(`/green-team/cases/${e}`),createCase:e=>m.post("/green-team/cases",e),updateCase:(e,n)=>m.put(`/green-team/cases/${e}`,n),deleteCase:e=>m.delete(`/green-team/cases/${e}`),getCaseTasks:e=>m.get(`/green-team/cases/${e}/tasks`),addCaseTask:(e,n)=>m.post(`/green-team/cases/${e}/tasks`,n),updateCaseTask:(e,n,r)=>m.put(`/green-team/cases/${e}/tasks/${n}`,r),getCaseComments:e=>m.get(`/green-team/cases/${e}/comments`),addCaseComment:(e,n)=>m.post(`/green-team/cases/${e}/comments`,n),getCaseTimeline:e=>m.get(`/green-team/cases/${e}/timeline`),listPlaybooks:()=>m.get("/green-team/playbooks"),getPlaybook:e=>m.get(`/green-team/playbooks/${e}`),createPlaybook:e=>m.post("/green-team/playbooks",e),updatePlaybook:(e,n)=>m.put(`/green-team/playbooks/${e}`,n),deletePlaybook:e=>m.delete(`/green-team/playbooks/${e}`),runPlaybook:(e,n)=>m.post(`/green-team/playbooks/${e}/run`,{input_data:n}),getPlaybookRuns:e=>m.get(`/green-team/playbooks/${e}/runs`),listFeeds:()=>m.get("/green-team/feeds"),getFeed:e=>m.get(`/green-team/feeds/${e}`),createFeed:e=>m.post("/green-team/feeds",e),updateFeed:(e,n)=>m.put(`/green-team/feeds/${e}`,n),deleteFeed:e=>m.delete(`/green-team/feeds/${e}`),pollFeed:e=>m.post(`/green-team/feeds/${e}/poll`),getMetricsOverview:()=>m.get("/green-team/metrics/overview")},PT={getDashboardOverview:()=>m.get("/yellow-team/dashboard/overview"),listSastScans:()=>m.get("/yellow-team/sast/scans"),getSastScan:e=>m.get(`/yellow-team/sast/scans/${e}`),startSastScan:e=>m.post("/yellow-team/sast/scan",e),deleteSastScan:e=>m.delete(`/yellow-team/sast/scans/${e}`),getSastFindings:e=>m.get(`/yellow-team/sast/scans/${e}/findings`),getSastRules:()=>m.get("/yellow-team/sast/rules"),updateSastRule:(e,n)=>m.put(`/yellow-team/sast/rules/${e}`,n),listSbomProjects:()=>m.get("/yellow-team/sbom/projects"),getSbomProject:e=>m.get(`/yellow-team/sbom/projects/${e}`),generateSbom:e=>m.post("/yellow-team/sbom/generate",e),deleteSbomProject:e=>m.delete(`/yellow-team/sbom/projects/${e}`),getSbomComponents:e=>m.get(`/yellow-team/sbom/projects/${e}/components`),exportSbom:(e,n)=>m.get(`/yellow-team/sbom/projects/${e}/export`,{params:{format:n},responseType:"blob"}),listArchitectureReviews:()=>m.get("/yellow-team/architecture/reviews"),getArchitectureReview:e=>m.get(`/yellow-team/architecture/reviews/${e}`),createArchitectureReview:e=>m.post("/yellow-team/architecture/reviews",e),updateArchitectureReview:(e,n)=>m.put(`/yellow-team/architecture/reviews/${e}`,n),deleteArchitectureReview:e=>m.delete(`/yellow-team/architecture/reviews/${e}`),getArchitectureThreats:e=>m.get(`/yellow-team/architecture/reviews/${e}/threats`),updateThreatStatus:(e,n,r)=>m.put(`/yellow-team/architecture/threats/${e}`,{status:n,mitigation:r}),listSemgrepRules:()=>m.get("/yellow-team/sast/semgrep/rules"),importSemgrepRules:e=>m.post("/yellow-team/sast/semgrep/import",{yaml:e}),deleteSemgrepRule:e=>m.delete(`/yellow-team/sast/semgrep/rules/${e}`),getTaintFlows:e=>m.get(`/yellow-team/sast/scans/${e}/taint-flows`),analyzeTaint:(e,n,r)=>m.post("/yellow-team/sast/analyze-taint",{code:e,language:n,source_path:r}),getHotspots:e=>m.get(`/yellow-team/sast/scans/${e}/hotspots`),updateHotspot:(e,n)=>m.put(`/yellow-team/sast/hotspots/${e}`,n),detectHotspots:(e,n,r)=>m.post("/yellow-team/sast/detect-hotspots",{code:e,language:n,file_path:r}),getHotspotStats:()=>m.get("/yellow-team/sast/hotspots/stats")},AT={searchExploits:e=>m.get("/exploit-research/exploits",{params:e}),getExploitsForCve:e=>m.get(`/exploit-research/exploits/cve/${e}`),getCveMapping:e=>m.get(`/exploit-research/cve-mapping/${e}`),batchCveMapping:e=>m.post("/exploit-research/cve-mapping/batch",{cve_ids:e}),getSyncStatus:()=>m.get("/exploit-research/sync-status"),getStats:()=>m.get("/exploit-research/stats"),listPocs:()=>m.get("/exploit-research/pocs"),getPoc:e=>m.get(`/exploit-research/pocs/${e}`),createPoc:e=>m.post("/exploit-research/pocs",e),updatePoc:(e,n)=>m.put(`/exploit-research/pocs/${e}`,n),deletePoc:e=>m.delete(`/exploit-research/pocs/${e}`),getPocCode:e=>m.get(`/exploit-research/pocs/${e}/code`),addPocTestResult:(e,n)=>m.post(`/exploit-research/pocs/${e}/test`,n),executePocInSandbox:(e,n)=>m.post(`/exploit-research/pocs/${e}/sandbox`,n),getSandboxHistory:e=>m.get(`/exploit-research/pocs/${e}/sandbox-history`),listSandboxEnvironments:()=>m.get("/exploit-research/sandbox/environments"),getPocEffectiveness:e=>m.get(`/exploit-research/pocs/${e}/effectiveness`),calculatePocEffectiveness:(e,n)=>m.post(`/exploit-research/pocs/${e}/effectiveness/calculate`,n),getPocTimeline:e=>m.get(`/exploit-research/pocs/${e}/timeline`),addPocTimelineEvent:(e,n)=>m.post(`/exploit-research/pocs/${e}/timeline`,n),listNotes:()=>m.get("/exploit-research/notes"),getNote:e=>m.get(`/exploit-research/notes/${e}`),createNote:e=>m.post("/exploit-research/notes",e),updateNote:(e,n)=>m.put(`/exploit-research/notes/${e}`,n),deleteNote:e=>m.delete(`/exploit-research/notes/${e}`),listWorkspaces:()=>m.get("/exploit-research/workspaces"),getWorkspace:e=>m.get(`/exploit-research/workspaces/${e}`),createWorkspace:e=>m.post("/exploit-research/workspaces",e),updateWorkspace:(e,n)=>m.put(`/exploit-research/workspaces/${e}`,n),deleteWorkspace:e=>m.delete(`/exploit-research/workspaces/${e}`),getWorkspaceTimeline:e=>m.get(`/exploit-research/workspaces/${e}/timeline`),exportWorkspace:e=>m.get(`/exploit-research/workspaces/${e}/export`,{responseType:"blob"}),addItemToWorkspace:(e,n)=>m.post(`/exploit-research/workspaces/${e}/items`,n)},TT={uploadSample:e=>{const n=new FormData;return n.append("file",e),m.post("/binary-analysis/upload",n,{headers:{"Content-Type":"multipart/form-data"}})},listSamples:e=>m.get("/binary-analysis/samples",{params:e}),getSample:e=>m.get(`/binary-analysis/samples/${e}`),deleteSample:e=>m.delete(`/binary-analysis/samples/${e}`),getStrings:(e,n)=>m.get(`/binary-analysis/samples/${e}/strings`,{params:n}),getImports:e=>m.get(`/binary-analysis/samples/${e}/imports`),getExports:e=>m.get(`/binary-analysis/samples/${e}/exports`),getHexDump:(e,n,r)=>m.get(`/binary-analysis/samples/${e}/hexdump`,{params:{offset:n,length:r}}),searchPattern:(e,n,r)=>m.post(`/binary-analysis/samples/${e}/search`,{pattern:n,pattern_type:r}),getStats:()=>m.get("/binary-analysis/stats"),getYaraMatches:e=>m.get(`/binary-analysis/samples/${e}/yara`),compareSamples:(e,n)=>m.get(`/binary-analysis/compare/${e}/${n}`)},RT={listCampaigns:e=>m.get("/fuzzing/campaigns",{params:e}),createCampaign:e=>m.post("/fuzzing/campaigns",e),getCampaign:e=>m.get(`/fuzzing/campaigns/${e}`),updateCampaign:(e,n)=>m.put(`/fuzzing/campaigns/${e}`,n),deleteCampaign:e=>m.delete(`/fuzzing/campaigns/${e}`),startCampaign:e=>m.post(`/fuzzing/campaigns/${e}/start`),stopCampaign:e=>m.post(`/fuzzing/campaigns/${e}/stop`),getCampaignStatus:e=>m.get(`/fuzzing/campaigns/${e}/status`),listCrashes:(e,n)=>m.get(`/fuzzing/campaigns/${e}/crashes`,{params:n}),getCrash:(e,n)=>m.get(`/fuzzing/campaigns/${e}/crashes/${n}`),updateCrash:(e,n,r)=>m.put(`/fuzzing/campaigns/${e}/crashes/${n}`,r),reproduceCrash:(e,n)=>m.post(`/fuzzing/campaigns/${e}/crashes/${n}/reproduce`),minimizeCrash:(e,n)=>m.post(`/fuzzing/campaigns/${e}/crashes/${n}/minimize`),getCoverage:e=>m.get(`/fuzzing/campaigns/${e}/coverage`),listSeeds:e=>m.get(`/fuzzing/campaigns/${e}/seeds`),addSeed:(e,n)=>m.post(`/fuzzing/campaigns/${e}/seeds`,n),getStats:()=>m.get("/fuzzing/stats"),getOverview:()=>m.get("/fuzzing/overview"),listTemplates:e=>m.get("/fuzzing/templates",{params:e}),createTemplate:e=>m.post("/fuzzing/templates",e),getTemplate:e=>m.get(`/fuzzing/templates/${e}`),deleteTemplate:e=>m.delete(`/fuzzing/templates/${e}`),listDictionaries:()=>m.get("/fuzzing/dictionaries"),createDictionary:e=>m.post("/fuzzing/dictionaries",e),getDictionary:e=>m.get(`/fuzzing/dictionaries/${e}`),deleteDictionary:e=>m.delete(`/fuzzing/dictionaries/${e}`)},OT={getStats:()=>m.get("/malware-analysis/stats"),getDashboard:()=>m.get("/malware-analysis/dashboard"),listSamples:e=>m.get("/malware-analysis/samples",{params:e}),uploadSample:e=>m.post("/malware-analysis/samples",e,{headers:{"Content-Type":"multipart/form-data"}}),getSample:e=>m.get(`/malware-analysis/samples/${e}`),deleteSample:e=>m.delete(`/malware-analysis/samples/${e}`),analyzeSample:e=>m.post(`/malware-analysis/samples/${e}/analyze`),reanalyzeSample:e=>m.post(`/malware-analysis/samples/${e}/reanalyze`),downloadSample:e=>m.get(`/malware-analysis/samples/${e}/download`,{responseType:"blob"}),getSampleStrings:e=>m.get(`/malware-analysis/samples/${e}/strings`),getSampleImports:e=>m.get(`/malware-analysis/samples/${e}/imports`),getSampleIocs:e=>m.get(`/malware-analysis/samples/${e}/iocs`),getYaraMatches:e=>m.get(`/malware-analysis/samples/${e}/yara-matches`),getClassification:e=>m.get(`/malware-analysis/samples/${e}/classification`),updateTags:(e,n)=>m.put(`/malware-analysis/samples/${e}/tags`,{tags:n}),searchSamples:e=>m.post("/malware-analysis/samples/search",e),lookupSample:e=>m.post("/malware-analysis/samples/lookup",{hash:e}),listYaraRules:e=>m.get("/malware-analysis/yara/rules",{params:e}),createYaraRule:e=>m.post("/malware-analysis/yara/rules",e),getYaraRule:e=>m.get(`/malware-analysis/yara/rules/${e}`),updateYaraRule:(e,n)=>m.put(`/malware-analysis/yara/rules/${e}`,n),deleteYaraRule:e=>m.delete(`/malware-analysis/yara/rules/${e}`),toggleYaraRule:e=>m.post(`/malware-analysis/yara/rules/${e}/toggle`),scanWithYara:e=>m.post("/malware-analysis/yara/scan",{sample_id:e}),listIocs:e=>m.get("/malware-analysis/iocs",{params:e}),searchIocs:(e,n)=>m.post("/malware-analysis/iocs/search",{value:e,ioc_type:n}),exportIocs:e=>m.get("/malware-analysis/iocs/export",{params:e,responseType:(e==null?void 0:e.format)==="csv"?"blob":"json"}),listQueue:()=>m.get("/malware-analysis/queue"),cancelQueueItem:e=>m.post(`/malware-analysis/queue/${e}/cancel`)},DT={listConfigs:()=>m.get("/sandbox/configs"),createConfig:e=>m.post("/sandbox/configs",e),getConfig:e=>m.get(`/sandbox/configs/${e}`),updateConfig:(e,n)=>m.put(`/sandbox/configs/${e}`,n),deleteConfig:e=>m.delete(`/sandbox/configs/${e}`),testConnection:e=>m.post(`/sandbox/configs/${e}/test`),submitSample:e=>m.post("/sandbox/submit",e),listSubmissions:e=>m.get("/sandbox/submissions",{params:e}),getSubmission:e=>m.get(`/sandbox/submissions/${e}`),getStatus:e=>m.get(`/sandbox/submissions/${e}/status`),getResults:e=>m.get(`/sandbox/submissions/${e}/results`),getProcesses:e=>m.get(`/sandbox/submissions/${e}/processes`),getScreenshots:e=>m.get(`/sandbox/submissions/${e}/screenshots`),getDroppedFiles:e=>m.get(`/sandbox/submissions/${e}/dropped`),getSignatures:e=>m.get(`/sandbox/submissions/${e}/signatures`),getIocs:e=>m.get(`/sandbox/submissions/${e}/iocs`),compareSubmissions:e=>m.post("/sandbox/compare",{submission_ids:e}),listEnvironments:()=>m.get("/sandbox/environments"),getEnvironmentsForConfig:e=>m.get(`/sandbox/environments/${e}`),getStats:()=>m.get("/sandbox/stats"),getStatsByType:e=>m.get(`/sandbox/stats/${e}`)},$T={getStats:()=>m.get("/threat-intel/dashboard/stats"),listMispServers:()=>m.get("/threat-intel/misp/servers"),addMispServer:e=>m.post("/threat-intel/misp/servers",e),updateMispServer:(e,n)=>m.put(`/threat-intel/misp/servers/${e}`,n),deleteMispServer:e=>m.delete(`/threat-intel/misp/servers/${e}`),testMispServer:e=>m.post(`/threat-intel/misp/servers/${e}/test`),syncMispServer:e=>m.post(`/threat-intel/misp/servers/${e}/sync`),listMispEvents:e=>m.get("/threat-intel/misp/events",{params:e}),getMispEvent:e=>m.get(`/threat-intel/misp/events/${e}`),getMispEventAttributes:e=>m.get(`/threat-intel/misp/events/${e}/attributes`),searchMispAttributes:e=>m.get("/threat-intel/misp/attributes/search",{params:{query:e}}),listTaxiiServers:()=>m.get("/threat-intel/taxii/servers"),addTaxiiServer:e=>m.post("/threat-intel/taxii/servers",e),updateTaxiiServer:(e,n)=>m.put(`/threat-intel/taxii/servers/${e}`,n),deleteTaxiiServer:e=>m.delete(`/threat-intel/taxii/servers/${e}`),testTaxiiServer:e=>m.post(`/threat-intel/taxii/servers/${e}/test`),discoverTaxiiCollections:e=>m.post(`/threat-intel/taxii/servers/${e}/discover`),listTaxiiCollections:e=>m.get(`/threat-intel/taxii/servers/${e}/collections`),pollTaxiiCollection:(e,n)=>m.post(`/threat-intel/taxii/servers/${e}/collections/${n}/poll`),listStixBundles:e=>m.get("/threat-intel/stix/bundles",{params:e}),getStixBundle:e=>m.get(`/threat-intel/stix/bundles/${e}`),getStixBundleObjects:(e,n)=>m.get(`/threat-intel/stix/bundles/${e}/objects`,{params:n}),importStixBundle:e=>m.post("/threat-intel/stix/bundles/import",e),exportStixBundle:e=>m.get(`/threat-intel/stix/bundles/${e}/export`),listStixObjects:e=>m.get("/threat-intel/stix/objects",{params:e}),getStixObject:e=>m.get(`/threat-intel/stix/objects/${e}`),listThreatActors:e=>m.get("/threat-intel/threat-actors",{params:e}),getThreatActor:e=>m.get(`/threat-intel/threat-actors/${e}`),searchThreatActors:e=>m.get("/threat-intel/threat-actors/search",{params:{query:e}}),correlateIocs:e=>m.post("/threat-intel/correlate",e),listCampaigns:()=>m.get("/threat-intel/campaigns"),getCampaign:e=>m.get(`/threat-intel/campaigns/${e}`),createCampaign:e=>m.post("/threat-intel/campaigns",e),updateCampaign:(e,n)=>m.put(`/threat-intel/campaigns/${e}`,n),deleteCampaign:e=>m.delete(`/threat-intel/campaigns/${e}`),listDiamondEvents:e=>m.get("/threat-intel/diamond/events",{params:e}),getDiamondEvent:e=>m.get(`/threat-intel/diamond/events/${e}`),createDiamondEvent:e=>m.post("/threat-intel/diamond/events",e),getKillChainAnalysis:e=>m.get(`/threat-intel/kill-chain/${e}`),getKillChainPhases:()=>m.get("/threat-intel/kill-chain/phases"),listIntelRequirements:e=>m.get("/threat-intel/requirements",{params:e}),createIntelRequirement:e=>m.post("/threat-intel/requirements",e),updateIntelRequirement:(e,n)=>m.put(`/threat-intel/requirements/${e}`,n),deleteIntelRequirement:e=>m.delete(`/threat-intel/requirements/${e}`),generateThreatBriefing:e=>m.post("/threat-intel/briefings/generate",e),getLatestBriefing:()=>m.get("/threat-intel/briefings/latest")},zT={getStats:()=>m.get("/sca/stats"),getProjects:()=>m.get("/sca/projects"),getProject:e=>m.get(`/sca/projects/${e}`),createProject:e=>m.post("/sca/projects",e),updateProject:(e,n)=>m.put(`/sca/projects/${e}`,n),deleteProject:e=>m.delete(`/sca/projects/${e}`),analyzeProject:(e,n)=>m.post(`/sca/projects/${e}/analyze`,n),getDependencies:(e,n)=>m.get(`/sca/projects/${e}/dependencies`,{params:n}),getVulnerabilities:(e,n)=>m.get(`/sca/projects/${e}/vulnerabilities`,{params:n}),updateVulnStatus:(e,n,r)=>m.put(`/sca/projects/${e}/vulnerabilities/${n}/status`,{status:r}),getUpdates:e=>m.get(`/sca/projects/${e}/updates`),exportSbom:(e,n)=>m.get(`/sca/projects/${e}/sbom`,{params:{format:n},responseType:"blob"})},MT={getDashboard:()=>m.get("/iot/dashboard"),getDevices:e=>m.get("/iot/devices",{params:e}),getDevice:e=>m.get(`/iot/devices/${e}`),createDevice:e=>m.post("/iot/devices",e),updateDevice:(e,n)=>m.put(`/iot/devices/${e}`,n),deleteDevice:e=>m.delete(`/iot/devices/${e}`),startScan:e=>m.post("/iot/scan",e),getScans:e=>m.get("/iot/scans",{params:e}),getScan:e=>m.get(`/iot/scans/${e}`),searchCredentials:e=>m.get("/iot/credentials/search",{params:e})},IT={getDashboard:()=>m.get("/ot/dashboard"),getAssets:e=>m.get("/ot/assets",{params:e}),getAsset:e=>m.get(`/ot/assets/${e}`),createAsset:e=>m.post("/ot/assets",e),updateAsset:(e,n)=>m.put(`/ot/assets/${e}`,n),deleteAsset:e=>m.delete(`/ot/assets/${e}`),startScan:e=>m.post("/ot/scan",e),getScans:e=>m.get("/ot/scans",{params:e}),getScan:e=>m.get(`/ot/scans/${e}`),getPurdueLevels:()=>m.get("/ot/purdue/levels"),getPurdueView:e=>m.get("/ot/purdue/view",{params:e}),getPurdueCompliance:e=>m.get("/ot/purdue/compliance",{params:e}),classifyPurdueLevel:e=>m.post("/ot/purdue/classify",e)},LT={getPlaybooks:()=>m.get("/workflows/templates"),getPlaybook:e=>m.get(`/workflows/templates/${e}`),createPlaybook:e=>m.post("/workflows/templates",e),updatePlaybook:(e,n)=>m.put(`/workflows/templates/${e}`,n),deletePlaybook:e=>m.delete(`/workflows/templates/${e}`),runPlaybook:(e,n)=>m.post(`/workflows/templates/${e}/start`,n),getRuns:e=>m.get("/workflows/instances",{params:e}),getRun:e=>m.get(`/workflows/instances/${e}`),cancelRun:e=>m.post(`/workflows/instances/${e}/cancel`),getApprovals:e=>m.get("/workflows/approvals",{params:e}),approveStep:(e,n,r)=>m.post(`/workflows/approvals/${e}/approve`,{decision:n,notes:r}),rejectStep:(e,n)=>m.post(`/workflows/approvals/${e}/reject`,{reason:n}),getActions:()=>m.get("/green-team/soar/actions"),getIntegrations:()=>m.get("/green-team/soar/integrations")},FT={getDashboard:()=>m.get("/ai-security/dashboard"),getRecommendations:()=>m.get("/ai-security/recommendations"),getModels:()=>m.get("/ai-security/models"),getModel:e=>m.get(`/ai-security/models/${e}`),trainModel:e=>m.post(`/ai-security/models/${e}/train`),getModelMetrics:e=>m.get(`/ai-security/models/${e}/metrics`),prioritizeAlert:e=>m.post("/ai-security/alerts/prioritize",e),batchPrioritizeAlerts:e=>m.post("/ai-security/alerts/prioritize/batch",e),detectAnomalies:e=>m.post("/ai-security/anomaly/detect",e),startLLMTest:e=>m.post("/ai-security/llm-security/test",e),getLLMTests:e=>m.get("/ai-security/llm-security/tests",{params:e}),getLLMTest:e=>m.get(`/ai-security/llm-security/tests/${e}`),cancelLLMTest:e=>m.post(`/ai-security/llm-security/tests/${e}/cancel`),getTestCases:e=>m.get("/ai-security/llm-security/test-cases",{params:e}),createTestCase:e=>m.post("/ai-security/llm-security/test-cases",e)},HT={generateExecutiveReport:e=>m.post(`/ai/llm/reports/executive/${e}`),generateTechnicalReport:e=>m.post(`/ai/llm/reports/technical/${e}`),planScan:e=>m.post("/ai/llm/scan-plan",e),analyzeExploit:e=>m.post("/ai/llm/analyze-exploit",e),generatePolicy:e=>m.post("/ai/llm/policy/generate",e),getRemediationGuidance:e=>m.post("/ai/llm/remediation-guidance",e)},BT={trainThreatClassifier:()=>m.post("/ml/train/threat-classifier"),trainAssetFingerprinter:()=>m.post("/ml/train/asset-fingerprinter"),trainAttackDetector:()=>m.post("/ml/train/attack-detector"),trainRemediationPredictor:()=>m.post("/ml/train/remediation-predictor"),predictThreat:e=>m.post("/ml/predict/threat",e),predictRemediationTime:e=>m.post("/ml/predict/remediation-time",e),listModels:()=>m.get("/ml/models"),getModelInfo:e=>m.get(`/ml/models/${e}`),getModelMetrics:e=>m.get(`/ml/models/${e}/metrics`)},dl=()=>{const{user:e,token:n,isAuthenticated:r,isLoading:a,login:i,logout:o,setLoading:l,setUser:c}=Bn();E.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&!e){l(!0);try{const p=await Ha.me();c(p.data)}catch(p){console.error("Failed to verify token:",p),o()}finally{l(!1)}}})()},[]);const d=E.useCallback(async(f,h)=>{var p,g;l(!0);try{const w=await Ha.login({username:f,password:h}),{token:N,user:j}=w.data;return i(j,N),J.success("Login successful!"),!0}catch(w){const j=((g=(p=w.response)==null?void 0:p.data)==null?void 0:g.error)||"Login failed. Please check your credentials.";return J.error(j),!1}finally{l(!1)}},[i,l]),u=E.useCallback(()=>{o(),J.info("Logged out successfully")},[o]);return{user:e,token:n,isAuthenticated:r,isLoading:a,login:d,logout:u}},He=({variant:e="primary",size:n="md",loading:r=!1,loadingText:a,disabled:i,className:o="",children:l,"aria-label":c,...d})=>{const u="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed",f={primary:"bg-primary text-white hover:bg-primary-dark active:bg-blue-700",secondary:"bg-light-surface dark:bg-dark-surface text-slate-700 dark:text-slate-100 hover:bg-light-hover dark:hover:bg-dark-hover border border-light-border dark:border-dark-border",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",ghost:"text-slate-600 dark:text-slate-300 hover:bg-light-hover dark:hover:bg-dark-surface hover:text-slate-900 dark:hover:text-slate-100",outline:"bg-transparent text-slate-600 dark:text-slate-300 border border-light-border dark:border-dark-border hover:bg-light-hover dark:hover:bg-dark-surface hover:text-slate-900 dark:hover:text-slate-100"},h={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return s.jsxs("button",{className:`${u} ${f[e]} ${h[n]} ${o}`,disabled:i||r,"aria-busy":r,"aria-disabled":i||r,"aria-label":r&&a?a:c,...d,children:[r&&s.jsx(Nn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),s.jsx("span",{"aria-live":r?"polite":void 0,children:r&&a?a:l})]})},x0=({content:e,children:n,position:r="top",delay:a=200,maxWidth:i=250})=>{const[o,l]=E.useState(!1),[c,d]=E.useState({x:0,y:0}),u=E.useRef(null),f=E.useRef(null),h=E.useRef(),p=()=>{h.current=setTimeout(()=>{l(!0)},a)},g=()=>{h.current&&clearTimeout(h.current),l(!1)};E.useEffect(()=>{if(o&&u.current&&f.current){const N=u.current.getBoundingClientRect(),j=f.current.getBoundingClientRect(),x=8;let y=0,v=0;switch(r){case"top":y=N.left+N.width/2-j.width/2,v=N.top-j.height-x;break;case"bottom":y=N.left+N.width/2-j.width/2,v=N.bottom+x;break;case"left":y=N.left-j.width-x,v=N.top+N.height/2-j.height/2;break;case"right":y=N.right+x,v=N.top+N.height/2-j.height/2;break}const b=10;y=Math.max(b,Math.min(y,window.innerWidth-j.width-b)),v=Math.max(b,Math.min(v,window.innerHeight-j.height-b)),d({x:y,y:v})}},[o,r]),E.useEffect(()=>()=>{h.current&&clearTimeout(h.current)},[]);const w={top:"after:top-full after:left-1/2 after:-translate-x-1/2",bottom:"after:bottom-full after:left-1/2 after:-translate-x-1/2",left:"after:left-full after:top-1/2 after:-translate-y-1/2",right:"after:right-full after:top-1/2 after:-translate-y-1/2"};return s.jsxs(s.Fragment,{children:[s.jsx("div",{ref:u,onMouseEnter:p,onMouseLeave:g,onFocus:p,onBlur:g,className:"inline-flex",children:n}),o&&s.jsx("div",{ref:f,role:"tooltip",className:`
            fixed z-[200] px-3 py-2 text-sm
            text-slate-700 dark:text-slate-100
            bg-light-surface dark:bg-dark-surface
            border border-light-border dark:border-dark-border
            rounded-lg shadow-xl
            animate-fade-in pointer-events-none
            ${w[r]}
          `,style:{left:c.x,top:c.y,maxWidth:i},children:e})]})},nt=({label:e,error:n,icon:r,helpText:a,hint:i,className:o="",id:l,...c})=>{const d=E.useId(),u=l||d,f=`${u}-error`,h=`${u}-hint`,p=[n?f:null,i?h:null].filter(Boolean).join(" ")||void 0;return s.jsxs("div",{className:"w-full",children:[e&&s.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[s.jsxs("label",{htmlFor:u,className:"block text-sm font-medium text-slate-700 dark:text-slate-300",children:[e,c.required&&s.jsx("span",{className:"text-red-500 dark:text-red-400 ml-0.5","aria-hidden":"true",children:"*"})]}),a&&s.jsx(x0,{content:a,position:"top",children:s.jsx("button",{type:"button",className:"text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors","aria-label":`Help for ${e}`,children:s.jsx(Vd,{className:"h-3.5 w-3.5"})})})]}),i&&s.jsx("p",{id:h,className:"text-xs text-slate-500 mb-1.5",children:i}),s.jsxs("div",{className:"relative",children:[r&&s.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500 dark:text-slate-400 pointer-events-none","aria-hidden":"true",children:r}),s.jsx("input",{id:u,className:`
            w-full px-3 py-2 rounded-lg transition-colors focus-ring
            bg-light-surface dark:bg-dark-surface
            text-slate-900 dark:text-slate-100
            placeholder-slate-400 dark:placeholder-slate-500
            ${r?"pl-10":""}
            ${n?"border border-red-500":"border border-light-border dark:border-dark-border hover:border-slate-400 dark:hover:border-dark-hover focus:border-primary"}
            ${o}
          `,"aria-invalid":n?"true":void 0,"aria-describedby":p,...c})]}),n&&s.jsx("p",{id:f,className:"mt-1 text-sm text-red-500",role:"alert",children:n})]})},ua={okta:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M12 0C5.389 0 0 5.389 0 12s5.389 12 12 12 12-5.389 12-12S18.611 0 12 0zm0 18c-3.314 0-6-2.686-6-6s2.686-6 6-6 6 2.686 6 6-2.686 6-6 6z"})}),azure_ad:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M0 0h11.377v11.372H0V0zm12.623 0H24v11.372H12.623V0zM0 12.623h11.377V24H0V12.623zm12.623 0H24V24H12.623V12.623z"})}),google:s.jsxs("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),onelogin:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("circle",{cx:"12",cy:"12",r:"10"})}),ping:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),auth0:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M21.98 7.448L19.62 0H4.347L2.02 7.448c-1.352 4.312.03 9.206 3.815 12.015L12.007 24l6.157-4.552c3.755-2.81 5.182-7.688 3.815-12.015l-6.16 4.58 2.343 7.45-6.157-4.597-6.158 4.58 2.358-7.433-6.188-4.55 7.63-.045L12.008 0l2.356 7.404 7.615.044z"})}),keycloak:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M12 0L3 4.5v15L12 24l9-4.5v-15L12 0zm0 3.75l6 3v10.5l-6 3-6-3V6.75l6-3z"})}),jumpcloud:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M12 2a10 10 0 100 20 10 10 0 000-20zm0 5a5 5 0 110 10 5 5 0 010-10z"})})},y0=e=>{if(e.icon){if(e.icon.startsWith("http")||e.icon.startsWith("/"))return s.jsx("img",{src:e.icon,alt:e.display_name,className:"w-5 h-5 object-contain"});if(ua[e.icon])return ua[e.icon]}const r={okta:"okta",azure_ad:"azure_ad",google:"google",onelogin:"onelogin",ping:"ping",auth0:"auth0",keycloak:"keycloak",jumpcloud:"jumpcloud"}[e.provider_type];return r&&ua[r]?ua[r]:s.jsx("svg",{viewBox:"0 0 24 24",className:"w-5 h-5",fill:"currentColor",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})},b0=e=>{switch(e){case"okta":return"bg-[#007dc1] hover:bg-[#006ba1] text-white";case"azure_ad":return"bg-[#0078d4] hover:bg-[#006cbe] text-white";case"google":return"bg-white hover:bg-gray-50 text-gray-700 border border-gray-300 dark:bg-gray-800 dark:hover:bg-gray-700 dark:text-gray-200 dark:border-gray-600";case"onelogin":return"bg-[#2c3e50] hover:bg-[#1a252f] text-white";case"ping":return"bg-[#00843d] hover:bg-[#006b31] text-white";case"auth0":return"bg-[#eb5424] hover:bg-[#d94c1f] text-white";case"keycloak":return"bg-[#4d4d4d] hover:bg-[#3d3d3d] text-white";case"jumpcloud":return"bg-[#1e90ff] hover:bg-[#1a7dd9] text-white";case"saml":return"bg-indigo-600 hover:bg-indigo-700 text-white";case"oidc":return"bg-purple-600 hover:bg-purple-700 text-white";default:return"bg-gray-600 hover:bg-gray-700 text-white"}},v0=({provider:e,onClick:n,loading:r=!1,disabled:a=!1})=>{const i=()=>{!r&&!a&&n(e)};return s.jsxs("button",{type:"button",onClick:i,disabled:r||a,className:`
        w-full flex items-center justify-center gap-3 px-4 py-3 rounded-lg
        font-medium transition-all duration-200
        ${b0(e.provider_type)}
        ${r||a?"opacity-50 cursor-not-allowed":"cursor-pointer"}
        focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary
        dark:focus:ring-offset-dark-bg
      `,children:[r?s.jsxs("svg",{className:"animate-spin h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):y0(e),s.jsx("span",{children:r?"Redirecting...":`Continue with ${e.display_name}`})]})},w0=({onSwitchToRegister:e})=>{const[n,r]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(!1),[c,d]=E.useState(""),[u,f]=E.useState(""),[h,p]=E.useState(!1),{isLoading:g}=dl(),[w,N]=E.useState(!1),[j,x]=E.useState([]),[y,v]=E.useState(!1),[b,_]=E.useState(null),k=ir(),[S]=oi(),{login:C}=Bn();E.useEffect(()=>{(async()=>{try{const D=await Ec.getProvidersForLogin();x(D.data)}catch(D){console.debug("SSO providers not available:",D)}})()},[]),E.useEffect(()=>{const R=S.get("token"),D=S.get("sso_error");if(D){J.error(decodeURIComponent(D)),window.history.replaceState({},document.title,window.location.pathname);return}R&&A(R)},[S]);const A=async R=>{var D,z;try{v(!0),localStorage.setItem("token",R);const G=(await Ha.me()).data;C(G,R),J.success("SSO login successful!"),window.history.replaceState({},document.title,window.location.pathname),k("/dashboard")}catch(F){localStorage.removeItem("token");const G=F;J.error(((z=(D=G.response)==null?void 0:D.data)==null?void 0:z.error)||"SSO login failed. Please try again."),window.history.replaceState({},document.title,window.location.pathname)}finally{v(!1)}},T=async R=>{var D,z;try{_(R.id);const F=await Ec.initiateLogin(R.id);window.location.href=F.data.redirect_url}catch(F){const G=F;J.error(((z=(D=G.response)==null?void 0:D.data)==null?void 0:z.error)||`Failed to initiate ${R.display_name} login`),_(null)}},P=async R=>{var D,z;if(R.preventDefault(),!n||!a){J.error("Please enter both username and password");return}N(!0);try{const G=(await Ha.login({username:n,password:a})).data;G.mfa_required&&G.mfa_token?(l(!0),d(G.mfa_token),J.info("Please enter your two-factor authentication code")):(C(G.user,G.token),J.success("Login successful!"),k("/dashboard"))}catch(F){const q=((z=(D=F.response)==null?void 0:D.data)==null?void 0:z.error)||"Login failed. Please check your credentials.";J.error(q)}finally{N(!1)}},O=async R=>{var D,z;if(R.preventDefault(),!u||(h?u.length===0:u.length!==6)){J.error(h?"Please enter a recovery code":"Please enter a valid 6-digit code");return}N(!0);try{const F=await u0.verify({mfa_token:c,...h?{recovery_code:u}:{totp_code:u}}),{token:G,user:q}=F.data;C(q,G),J.success("Login successful!"),k("/dashboard")}catch(F){const G=F;J.error(((z=(D=G.response)==null?void 0:D.data)==null?void 0:z.error)||"Invalid authentication code")}finally{N(!1)}},I=()=>{l(!1),d(""),f(""),p(!1)};return o?s.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:s.jsx(Ce,{className:"h-6 w-6 text-primary"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white mb-1",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:h?"Enter one of your recovery codes":"Enter the 6-digit code from your authenticator app"})]}),s.jsxs("form",{onSubmit:O,className:"space-y-4",children:[s.jsx(nt,{type:"text",placeholder:h?"Recovery Code":"000000",value:u,onChange:R=>{f(h?R.target.value:R.target.value.replace(/\D/g,"").slice(0,6))},icon:h?s.jsx(kn,{className:"h-5 w-5"}):s.jsx(Ce,{className:"h-5 w-5"}),className:h?"":"text-center tracking-widest font-mono",maxLength:h?void 0:6,required:!0,autoFocus:!0,autoComplete:"one-time-code"}),s.jsx("div",{className:"flex items-center justify-center",children:s.jsx("button",{type:"button",onClick:()=>{p(!h),f("")},className:"text-sm text-primary hover:text-primary-dark transition-colors",children:h?"Use authenticator code instead":"Use recovery code instead"})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(He,{type:"button",variant:"secondary",size:"lg",onClick:I,className:"flex-1",children:"Back"}),s.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:w,disabled:w,className:"flex-1",children:"Verify"})]})]})]}):y?s.jsxs("div",{className:"space-y-4 w-full max-w-md text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:s.jsxs("svg",{className:"animate-spin h-6 w-6 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-white",children:"Completing SSO Login"}),s.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Please wait while we verify your credentials..."})]}):s.jsxs("div",{className:"space-y-6 w-full max-w-md",children:[j.length>0&&s.jsx("div",{className:"space-y-3",children:j.map(R=>s.jsx(v0,{provider:R,onClick:T,loading:b===R.id,disabled:b!==null&&b!==R.id},R.id))}),j.length>0&&s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"w-full border-t border-gray-300 dark:border-gray-600"})}),s.jsx("div",{className:"relative flex justify-center text-sm",children:s.jsx("span",{className:"px-3 bg-light-surface dark:bg-dark-surface text-slate-500 dark:text-slate-400",children:"or sign in with credentials"})})]}),s.jsxs("form",{onSubmit:P,className:"space-y-4",onKeyDown:R=>{R.key==="Enter"&&!w&&!g&&b===null&&(R.preventDefault(),P(R))},children:[s.jsx(nt,{type:"text",placeholder:"Username",value:n,onChange:R=>r(R.target.value),icon:s.jsx(Tr,{className:"h-5 w-5"}),required:!0,autoComplete:"username"}),s.jsx(nt,{type:"password",placeholder:"Password",value:a,onChange:R=>i(R.target.value),icon:s.jsx(on,{className:"h-5 w-5"}),required:!0,autoComplete:"current-password"}),s.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:w||g,disabled:w||g||b!==null,className:"w-full",children:"Sign In"})]}),e&&s.jsxs("div",{className:"text-center mt-4",children:[s.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"Don't have an account? "}),s.jsx("button",{type:"button",onClick:e,className:"text-primary hover:text-primary-dark font-medium transition-colors",children:"Create Account"})]})]})},j0=()=>{const{isAuthenticated:e}=dl(),n=ir();return E.useEffect(()=>{e&&n("/dashboard")},[e,n]),s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-100 via-slate-50 to-white dark:from-dark-bg dark:via-slate-900 dark:to-slate-800 p-4",children:s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8 animate-fadeIn",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-lg mb-4",children:s.jsx(Ce,{className:"h-10 w-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold text-slate-900 dark:text-white mb-2",children:"HeroForge"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-lg",children:"Network Triage & Reconnaissance"})]}),s.jsxs("div",{className:"bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-2xl p-8 animate-fadeIn",children:[s.jsx("h2",{className:"text-2xl font-semibold text-slate-900 dark:text-white mb-6 text-center",children:"Sign In"}),s.jsx(w0,{onSwitchToRegister:()=>n("/register")})]}),s.jsxs("div",{className:"text-center mt-6 text-slate-500 dark:text-slate-400 text-sm space-y-2",children:[s.jsx("p",{children:"Authorized personnel only"}),s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(zn,{to:"/legal/terms",className:"hover:text-primary transition-colors",children:"Terms"}),s.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),s.jsx(zn,{to:"/legal/privacy",className:"hover:text-primary transition-colors",children:"Privacy"}),s.jsx("span",{className:"text-slate-300 dark:text-slate-600",children:"|"}),s.jsx(zn,{to:"/legal/acceptable-use",className:"hover:text-primary transition-colors",children:"Acceptable Use"})]}),s.jsx("p",{className:"text-xs text-slate-400 dark:text-slate-500",children:" 2025 Genial Architect Cybersecurity Research Associates. All rights reserved."})]})]})})},Ii=[{value:"light",label:"Light",icon:s.jsx(Wd,{className:"h-4 w-4"})},{value:"dark",label:"Dark",icon:s.jsx(Gd,{className:"h-4 w-4"})},{value:"system",label:"System",icon:s.jsx(Yd,{className:"h-4 w-4"})}],_0=({className:e=""})=>{const{theme:n,setTheme:r,resolvedTheme:a}=zh(),[i,o]=E.useState(!1),l=E.useRef(null),c=Ii.find(f=>f.value===n)||Ii[2];E.useEffect(()=>{const f=h=>{l.current&&!l.current.contains(h.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),E.useEffect(()=>{const f=h=>{h.key==="Escape"&&o(!1)};if(i)return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[i]);const d=f=>{r(f),o(!1)},u=()=>n==="system"?a==="dark"?s.jsx(Gd,{className:"h-4 w-4"}):s.jsx(Wd,{className:"h-4 w-4"}):c.icon;return s.jsxs("div",{className:`relative ${e}`,ref:l,children:[s.jsxs("button",{type:"button",onClick:()=>o(!i),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-lg transition-colors
          text-slate-400 hover:text-slate-100 dark:text-slate-400 dark:hover:text-slate-100
          hover:bg-slate-700 dark:hover:bg-dark-hover
          bg-transparent`,"aria-haspopup":"listbox","aria-expanded":i,"aria-label":"Select theme",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[u(),s.jsx("span",{className:"hidden sm:inline",children:c.label})]}),s.jsx(St,{className:`h-3 w-3 transition-transform ${i?"rotate-180":""}`})]}),i&&s.jsx("div",{className:`absolute right-0 mt-2 w-36 rounded-lg shadow-lg z-50
            bg-white dark:bg-dark-surface
            border border-slate-200 dark:border-dark-border
            animate-fade-in`,role:"listbox","aria-label":"Theme options",children:s.jsx("div",{className:"py-1",children:Ii.map(f=>s.jsxs("button",{type:"button",role:"option","aria-selected":n===f.value,onClick:()=>d(f.value),className:`w-full flex items-center gap-3 px-4 py-2 text-sm transition-colors
                  ${n===f.value?"bg-primary/10 text-primary dark:text-primary-light":"text-slate-700 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-dark-hover"}`,children:[f.icon,s.jsx("span",{children:f.label}),n===f.value&&s.jsx("span",{className:"ml-auto text-primary dark:text-primary-light",children:s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},f.value))})})]})},N0=Bs()(il((e,n)=>({currentOrg:null,currentOrgId:null,organizations:[],isLoading:!1,setCurrentOrg:r=>{e({currentOrg:r,currentOrgId:(r==null?void 0:r.id)??null})},setCurrentOrgId:r=>{const i=n().organizations.find(o=>o.id===r)??null;e({currentOrgId:r,currentOrg:i})},setOrganizations:r=>{e({organizations:r});const a=n().currentOrg;!a&&r.length>0&&e({currentOrg:r[0],currentOrgId:r[0].id}),a&&!r.find(i=>i.id===a.id)&&(r.length>0?e({currentOrg:r[0],currentOrgId:r[0].id}):e({currentOrg:null,currentOrgId:null}))},setLoading:r=>e({isLoading:r}),clearOrgState:()=>{e({currentOrg:null,currentOrgId:null,organizations:[],isLoading:!1})},isOrgOwner:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)==="owner"},isOrgAdmin:()=>{var a;const r=(a=n().currentOrg)==null?void 0:a.role;return r==="owner"||r==="admin"},isOrgMember:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)==="member"},getCurrentOrgRole:()=>{var r;return((r=n().currentOrg)==null?void 0:r.role)??null},getOrgById:r=>n().organizations.find(a=>a.id===r),hasMultipleOrgs:()=>n().organizations.length>1}),{name:"org-storage",partialize:e=>({currentOrgId:e.currentOrgId})})),k0=()=>{const[e,n]=E.useState(!1),r=E.useRef(null),a=ir(),{currentOrg:i,organizations:o,setCurrentOrg:l,setOrganizations:c}=N0(),{isLoading:d}=qd({queryKey:["organizations"],queryFn:async()=>{const g=await g0.list();return c(g.data),g.data},staleTime:300*1e3});E.useEffect(()=>{const g=w=>{r.current&&!r.current.contains(w.target)&&n(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const u=g=>{l(g),n(!1)},f=()=>{n(!1),a("/organization/new")},h=()=>{n(!1),i&&a(`/organization/${i.id}`)},p=g=>{switch(g){case"owner":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"admin":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return!d&&o.length===0?s.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[s.jsx(Ln,{className:"h-4 w-4"}),"Create Organization"]}):s.jsxs("div",{className:"relative",ref:r,children:[s.jsxs("button",{onClick:()=>n(!e),disabled:d,className:"flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors border border-light-border dark:border-dark-border",children:[s.jsx(Fn,{className:"h-4 w-4"}),s.jsx("span",{className:"max-w-[120px] truncate",children:d?"Loading...":(i==null?void 0:i.name)||"Select Organization"}),s.jsx(St,{className:`h-3 w-3 transition-transform ${e?"rotate-180":""}`})]}),e&&s.jsxs("div",{className:"absolute left-0 mt-1 w-64 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-lg z-50 overflow-hidden",children:[s.jsx("div",{className:"max-h-64 overflow-y-auto py-1",children:o.map(g=>s.jsxs("button",{onClick:()=>u(g),className:`w-full flex items-center justify-between px-3 py-2 text-sm transition-colors ${(i==null?void 0:i.id)===g.id?"bg-primary/10 text-primary":"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[s.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[s.jsx(Fn,{className:"h-4 w-4 flex-shrink-0"}),s.jsx("span",{className:"truncate",children:g.name})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[s.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded border ${p(g.role)}`,children:g.role}),(i==null?void 0:i.id)===g.id&&s.jsx(mt,{className:"h-4 w-4 text-primary"})]})]},g.id))}),s.jsx("div",{className:"border-t border-light-border dark:border-dark-border"}),s.jsxs("div",{className:"py-1",children:[i&&s.jsxs("button",{onClick:h,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[s.jsx(_r,{className:"h-4 w-4"}),"Manage Organization"]}),s.jsxs("button",{onClick:f,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover transition-colors",children:[s.jsx(Ln,{className:"h-4 w-4"}),"Create Organization"]})]})]})]})},S0={red:{active:"bg-red-500/10 text-red-600 dark:text-red-400",hover:"hover:bg-red-500/5 hover:text-red-600 dark:hover:text-red-400",border:"border-l-red-500",dot:"bg-red-500"},blue:{active:"bg-blue-500/10 text-blue-600 dark:text-blue-400",hover:"hover:bg-blue-500/5 hover:text-blue-600 dark:hover:text-blue-400",border:"border-l-blue-500",dot:"bg-blue-500"},purple:{active:"bg-purple-500/10 text-purple-600 dark:text-purple-400",hover:"hover:bg-purple-500/5 hover:text-purple-600 dark:hover:text-purple-400",border:"border-l-purple-500",dot:"bg-purple-500"},yellow:{active:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",hover:"hover:bg-yellow-500/5 hover:text-yellow-600 dark:hover:text-yellow-400",border:"border-l-yellow-500",dot:"bg-yellow-500"},orange:{active:"bg-orange-500/10 text-orange-600 dark:text-orange-400",hover:"hover:bg-orange-500/5 hover:text-orange-600 dark:hover:text-orange-400",border:"border-l-orange-500",dot:"bg-orange-500"},green:{active:"bg-green-500/10 text-green-600 dark:text-green-400",hover:"hover:bg-green-500/5 hover:text-green-600 dark:hover:text-green-400",border:"border-l-green-500",dot:"bg-green-500"},white:{active:"bg-slate-500/10 text-slate-700 dark:text-slate-300",hover:"hover:bg-slate-500/5 hover:text-slate-700 dark:hover:text-slate-300",border:"border-l-slate-400",dot:"bg-slate-400"},cyan:{active:"bg-cyan-500/10 text-cyan-600 dark:text-cyan-400",hover:"hover:bg-cyan-500/5 hover:text-cyan-600 dark:hover:text-cyan-400",border:"border-l-cyan-500",dot:"bg-cyan-500"},default:{active:"bg-primary/10 text-primary",hover:"hover:bg-light-hover dark:hover:bg-dark-hover hover:text-slate-900 dark:hover:text-white",border:"border-l-primary",dot:"bg-primary"}},Mt=({label:e,icon:n,items:r,isActive:a,teamColor:i="default"})=>{const[o,l]=E.useState(!1),c=E.useRef(null),d=Qo(),u=S0[i];E.useEffect(()=>{const h=p=>{c.current&&!c.current.contains(p.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const f=h=>h.matchPaths?h.matchPaths.some(p=>d.pathname.startsWith(p)):d.pathname===h.to||d.pathname.startsWith(h.to);return s.jsxs("div",{className:"relative",ref:c,children:[s.jsxs("button",{onClick:()=>l(!o),className:`flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm transition-colors ${a?`${u.active} font-medium`:`text-slate-600 dark:text-slate-400 ${u.hover}`}`,children:[s.jsx("span",{className:`w-2 h-2 rounded-full ${u.dot}`}),n,e,s.jsx(St,{className:`h-3 w-3 transition-transform ${o?"rotate-180":""}`})]}),o&&s.jsx("div",{className:`absolute left-0 mt-1 w-52 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-lg py-1 z-50 border-l-2 ${u.border}`,children:r.map(h=>s.jsxs(zn,{to:h.to,onClick:()=>l(!1),className:`flex items-center gap-2 px-3 py-2 text-sm transition-colors ${f(h)?`${u.active} font-medium`:`text-slate-600 dark:text-slate-400 ${u.hover}`}`,children:[h.icon,h.label]},h.to))})]})},C0=()=>{const{user:e,logout:n}=dl(),r=Bn(T=>T.isAdmin),a=Qo(),i=[{to:"/exploit-database",icon:s.jsx(As,{className:"h-4 w-4"}),label:"Exploit Database"},{to:"/poc-repository",icon:s.jsx(Ts,{className:"h-4 w-4"}),label:"PoC Repository"},{to:"/research-workspaces",icon:s.jsx(vp,{className:"h-4 w-4"}),label:"Research Workspaces"},{to:"/binary-analysis",icon:s.jsx(wp,{className:"h-4 w-4"}),label:"Binary Analysis"},{to:"/malware-analysis",icon:s.jsx(jp,{className:"h-4 w-4"}),label:"Malware Analysis"},{to:"/fuzzing",icon:s.jsx(xr,{className:"h-4 w-4"}),label:"Fuzzing"},{to:"/exploitation",icon:s.jsx(Mn,{className:"h-4 w-4"}),label:"Exploitation"},{to:"/exploitation/password-spray",icon:s.jsx(kn,{className:"h-4 w-4"}),label:"Password Spray"},{to:"/exploitation/kerberos",icon:s.jsx(Ce,{className:"h-4 w-4"}),label:"Kerberoasting"},{to:"/exploitation/asrep-roast",icon:s.jsx(Kd,{className:"h-4 w-4"}),label:"AS-REP Roast"},{to:"/exploitation/smb-relay",icon:s.jsx(Qn,{className:"h-4 w-4"}),label:"SMB Relay"},{to:"/exploitation/shells",icon:s.jsx(Jd,{className:"h-4 w-4"}),label:"Shell Generator"},{to:"/exploitation/credential-dump",icon:s.jsx(Qd,{className:"h-4 w-4"}),label:"Credential Dump"},{to:"/cracking",icon:s.jsx(kn,{className:"h-4 w-4"}),label:"Password Cracking"},{to:"/privesc",icon:s.jsx(rr,{className:"h-4 w-4"}),label:"Privilege Escalation"},{to:"/bloodhound",icon:s.jsx(_p,{className:"h-4 w-4"}),label:"BloodHound AD"},{to:"/phishing",icon:s.jsx(Mn,{className:"h-4 w-4"}),label:"Phishing Campaigns"},{to:"/c2",icon:s.jsx(mo,{className:"h-4 w-4"}),label:"C2 Management"},{to:"/wireless",icon:s.jsx(Us,{className:"h-4 w-4"}),label:"Wireless Attacks"},{to:"/attack-simulation",icon:s.jsx(Np,{className:"h-4 w-4"}),label:"Attack Simulation"}],o=[{to:"/siem",icon:s.jsx(pt,{className:"h-4 w-4"}),label:"SIEM"},{to:"/ueba",icon:s.jsx(kp,{className:"h-4 w-4"}),label:"UEBA"},{to:"/traffic-analysis",icon:s.jsx(Qn,{className:"h-4 w-4"}),label:"Traffic Analysis"},{to:"/netflow-analysis",icon:s.jsx(pt,{className:"h-4 w-4"}),label:"NetFlow Analysis"},{to:"/dns-analytics",icon:s.jsx(jn,{className:"h-4 w-4"}),label:"DNS Analytics"},{to:"/ot-ics-security",icon:s.jsx(Sp,{className:"h-4 w-4"}),label:"OT/ICS Security"},{to:"/iot-security",icon:s.jsx(Cp,{className:"h-4 w-4"}),label:"IoT Security"},{to:"/yara",icon:s.jsx(Ep,{className:"h-4 w-4"}),label:"YARA Rules"},{to:"/sigma-rules",icon:s.jsx(Ri,{className:"h-4 w-4"}),label:"Sigma Rules"},{to:"/forensics",icon:s.jsx(Pp,{className:"h-4 w-4"}),label:"Forensics"},{to:"/incident-response",icon:s.jsx(el,{className:"h-4 w-4"}),label:"Incident Response"},{to:"/detection-engineering",icon:s.jsx(Ap,{className:"h-4 w-4"}),label:"Detection Engineering"},{to:"/threat-hunting",icon:s.jsx(Tp,{className:"h-4 w-4"}),label:"Threat Hunting"},{to:"/threat-intel",icon:s.jsx(ho,{className:"h-4 w-4"}),label:"Threat Intel"},{to:"/agents",icon:s.jsx(mo,{className:"h-4 w-4"}),label:"Scan Agents"},{to:"/agents/mesh",icon:s.jsx(Rp,{className:"h-4 w-4"}),label:"Mesh Network"},{to:"/attack-surface",icon:s.jsx(Zd,{className:"h-4 w-4"}),label:"Attack Surface"}],l=[{to:"/purple-team",icon:s.jsx(Yl,{className:"h-4 w-4"}),label:"Purple Team Dashboard"},{to:"/attack-paths",icon:s.jsx(Qn,{className:"h-4 w-4"}),label:"Attack Paths"}],c=[{to:"/yellow-team",icon:s.jsx(Ri,{className:"h-4 w-4"}),label:"DevSecOps Dashboard"},{to:"/sast",icon:s.jsx(Ts,{className:"h-4 w-4"}),label:"SAST Scanner"},{to:"/sca",icon:s.jsx(Op,{className:"h-4 w-4"}),label:"SCA (Dependencies)"},{to:"/cicd-integration",icon:s.jsx(Dp,{className:"h-4 w-4"}),label:"CI/CD Integration"},{to:"/iac-security",icon:s.jsx(Ri,{className:"h-4 w-4"}),label:"IaC Security"},{to:"/container-security",icon:s.jsx($p,{className:"h-4 w-4"}),label:"Container Security"},{to:"/api-security",icon:s.jsx(zp,{className:"h-4 w-4"}),label:"API Security"}],d=[{to:"/orange-team",icon:s.jsx(Mp,{className:"h-4 w-4"}),label:"Security Awareness"},{to:"/phishing",icon:s.jsx(Mn,{className:"h-4 w-4"}),label:"Phishing Campaigns"}],u=[{to:"/green-team",icon:s.jsx(Ti,{className:"h-4 w-4"}),label:"SOAR Dashboard"},{to:"/soar-playbooks",icon:s.jsx(Ip,{className:"h-4 w-4"}),label:"Playbooks"},{to:"/workflows",icon:s.jsx(Ti,{className:"h-4 w-4"}),label:"Workflows"},{to:"/remediation",icon:s.jsx(eh,{className:"h-4 w-4"}),label:"Remediation"},{to:"/ai-security",icon:s.jsx(ys,{className:"h-4 w-4"}),label:"AI Security"},{to:"/llm-testing",icon:s.jsx(th,{className:"h-4 w-4"}),label:"LLM Testing"},{to:"/ai-reports",icon:s.jsx(st,{className:"h-4 w-4"}),label:"AI Reports"},{to:"/ml-models",icon:s.jsx(fo,{className:"h-4 w-4"}),label:"ML Models"}],f=[{to:"/white-team",icon:s.jsx(Kl,{className:"h-4 w-4"}),label:"GRC Dashboard"},{to:"/compliance",icon:s.jsx(Kl,{className:"h-4 w-4"}),label:"Compliance"},{to:"/evidence",icon:s.jsx(st,{className:"h-4 w-4"}),label:"Evidence"},{to:"/manual-assessments",icon:s.jsx(tl,{className:"h-4 w-4"}),label:"Assessments"},{to:"/methodology",icon:s.jsx(Xl,{className:"h-4 w-4"}),label:"Methodology"},{to:"/finding-templates",icon:s.jsx(Lp,{className:"h-4 w-4"}),label:"Finding Templates"},{to:"/executive-dashboard",icon:s.jsx(er,{className:"h-4 w-4"}),label:"Executive Dashboard"},{to:"/reports",icon:s.jsx(st,{className:"h-4 w-4"}),label:"Reports"}],h=[{to:"/dns-analytics",icon:s.jsx(er,{className:"h-4 w-4"}),label:"DNS Analytics"},{to:"/netflow-analysis",icon:s.jsx(pt,{className:"h-4 w-4"}),label:"NetFlow Analysis"}],p=[{to:"/crm",icon:s.jsx(Fn,{className:"h-4 w-4"}),label:"CRM Dashboard"},{to:"/crm/customers",icon:s.jsx(La,{className:"h-4 w-4"}),label:"Customers"},{to:"/crm/engagements",icon:s.jsx(Mn,{className:"h-4 w-4"}),label:"Engagements"},{to:"/crm/contracts",icon:s.jsx(st,{className:"h-4 w-4"}),label:"Contracts"},{to:"/crm/time-tracking",icon:s.jsx(pt,{className:"h-4 w-4"}),label:"Time Tracking"},{to:"/sales",icon:s.jsx(rr,{className:"h-4 w-4"}),label:"Sales"}],g=[{to:"/dashboard",icon:s.jsx(Xd,{className:"h-4 w-4"}),label:"Scans"},{to:"/discovery",icon:s.jsx(jn,{className:"h-4 w-4"}),label:"Asset Discovery"},{to:"/nuclei",icon:s.jsx(xr,{className:"h-4 w-4"}),label:"Nuclei Scanner"},{to:"/webapp-scan",icon:s.jsx(Nr,{className:"h-4 w-4"}),label:"Web App Scan"},{to:"/dns-tools",icon:s.jsx(Qn,{className:"h-4 w-4"}),label:"DNS Tools"},{to:"/compare",icon:s.jsx(bp,{className:"h-4 w-4"}),label:"Scan Compare"},{to:"/assets",icon:s.jsx(Gt,{className:"h-4 w-4"}),label:"Asset Inventory"}],w=[{to:"/settings",icon:s.jsx(_r,{className:"h-4 w-4"}),label:"Settings"},{to:"/plugins",icon:s.jsx(pp,{className:"h-4 w-4"}),label:"Plugins"},...r()?[{to:"/admin",icon:s.jsx(La,{className:"h-4 w-4"}),label:"Admin"}]:[]],N=h.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),j=p.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),x=g.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),y=i.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),v=o.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),b=l.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),_=c.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),k=d.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),S=u.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),C=f.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to)),A=w.some(T=>a.pathname===T.to||a.pathname.startsWith(T.to));return s.jsx("header",{className:"bg-light-surface dark:bg-dark-surface border-b border-light-border dark:border-dark-border shadow-lg",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-16",children:[s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-lg",children:s.jsx(Ce,{className:"h-6 w-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"HeroForge"}),s.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Network Triage Dashboard"})]})]}),e&&s.jsxs("nav",{className:"flex items-center space-x-1",children:[s.jsx(Mt,{label:"Analytics",icon:s.jsx(er,{className:"h-4 w-4"}),items:h,isActive:N,teamColor:"default"}),s.jsx(Mt,{label:"CRM",icon:s.jsx(Fn,{className:"h-4 w-4"}),items:p,isActive:j,teamColor:"default"}),s.jsx(Mt,{label:"Recon",icon:s.jsx(Nr,{className:"h-4 w-4"}),items:g,isActive:x,teamColor:"cyan"}),s.jsx(Mt,{label:"Red Team",icon:s.jsx(gp,{className:"h-4 w-4"}),items:i,isActive:y,teamColor:"red"}),s.jsx(Mt,{label:"Blue Team",icon:s.jsx(ho,{className:"h-4 w-4"}),items:o,isActive:v,teamColor:"blue"}),s.jsx(Mt,{label:"Purple Team",icon:s.jsx(Yl,{className:"h-4 w-4"}),items:l,isActive:b,teamColor:"purple"}),s.jsx(Mt,{label:"Yellow Team",icon:s.jsx(fo,{className:"h-4 w-4"}),items:c,isActive:_,teamColor:"yellow"}),s.jsx(Mt,{label:"Orange Team",icon:s.jsx(Xl,{className:"h-4 w-4"}),items:d,isActive:k,teamColor:"orange"}),s.jsx(Mt,{label:"Green Team",icon:s.jsx(Ti,{className:"h-4 w-4"}),items:u,isActive:S,teamColor:"green"}),s.jsx(Mt,{label:"White Team",icon:s.jsx(xp,{className:"h-4 w-4"}),items:f,isActive:C,teamColor:"white"}),s.jsx(Mt,{label:"System",icon:s.jsx(_r,{className:"h-4 w-4"}),items:w,isActive:A,teamColor:"default"})]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[e&&s.jsxs(s.Fragment,{children:[s.jsx(k0,{}),s.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Tr,{className:"h-5 w-5 text-slate-600 dark:text-slate-400"}),s.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:e.username})]}),e.roles&&e.roles.length>0&&s.jsx("div",{className:"flex gap-1",children:e.roles.map(T=>s.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded border bg-slate-500/20 text-slate-700 dark:text-slate-300 border-slate-500/30 capitalize",children:T},T))})]})]}),s.jsx(_0,{}),s.jsxs(He,{variant:"ghost",size:"sm",onClick:n,className:"text-slate-600 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white",children:[s.jsx(yp,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},E0=()=>s.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-auto",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"w-5 h-5 text-primary"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:" 2025 Genial Architect Cybersecurity Research Associates. All rights reserved."})]}),s.jsxs("nav",{className:"flex items-center gap-6 text-sm",children:[s.jsx(zn,{to:"/legal/terms",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Terms"}),s.jsx(zn,{to:"/legal/privacy",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Privacy"}),s.jsx(zn,{to:"/legal/acceptable-use",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Acceptable Use"}),s.jsx(zn,{to:"/legal/cookies",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Cookies"})]})]})})}),Mh=Bs()(il((e,n)=>({isOpen:!1,isMinimized:!1,isLoading:!1,messages:[],conversationId:null,error:null,setOpen:r=>e({isOpen:r}),setMinimized:r=>e({isMinimized:r}),toggle:()=>{const r=n();r.isOpen&&!r.isMinimized?e({isMinimized:!0}):e({isOpen:!0,isMinimized:!1})},addMessage:r=>e(a=>({messages:[...a.messages,r],error:null})),appendToLastMessage:r=>e(a=>{const i=[...a.messages],o=i.length-1;return o>=0&&i[o].role==="assistant"&&(i[o]={...i[o],content:i[o].content+r}),{messages:i}}),finalizeLastMessage:()=>e(r=>{const a=[...r.messages],i=a.length-1;return i>=0&&a[i].isStreaming&&(a[i]={...a[i],isStreaming:!1}),{messages:a}}),setLoading:r=>e({isLoading:r}),setError:r=>e({error:r}),clearMessages:()=>e({messages:[],conversationId:null,error:null}),setConversationId:r=>e({conversationId:r}),startNewConversation:()=>e({messages:[],conversationId:null,error:null,isLoading:!1})}),{name:"heroforge-chat",partialize:e=>({messages:e.messages.slice(-50),conversationId:e.conversationId})})),Hr="/api",P0={sendMessage:async(e,n,r,a,i,o,l)=>{var d;const c=localStorage.getItem("token");if(!c){l("Not authenticated");return}try{const u=await fetch(`${Hr}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${c}`},body:JSON.stringify({message:e,conversation_id:n,page_context:r})});if(!u.ok){const g=await u.json().catch(()=>({}));throw new Error(g.message||`Chat request failed: ${u.status}`)}const f=(d=u.body)==null?void 0:d.getReader(),h=new TextDecoder;if(!f)throw new Error("Response body is not readable");let p="";for(;;){const{done:g,value:w}=await f.read();if(g)break;p+=h.decode(w,{stream:!0});const N=p.split(`
`);p=N.pop()||"";for(const j of N)if(j.startsWith("data: ")){const x=j.slice(6).trim();if(!x)continue;try{const y=JSON.parse(x);if(y.type==="content"&&y.content)a(y.content),y.conversation_id&&i(y.conversation_id);else if(y.type==="done"){y.conversation_id&&i(y.conversation_id),o(y.tokens_used||0);return}else if(y.type==="error"&&y.error){l(y.error);return}}catch{console.debug("Non-JSON SSE data:",x)}}}o(0)}catch(u){l(u instanceof Error?u.message:"Failed to send message")}},getConversations:async()=>{const e=localStorage.getItem("token"),n=await fetch(`${Hr}/chat/conversations`,{headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Failed to fetch conversations");return(await n.json()).conversations},getMessages:async e=>{const n=localStorage.getItem("token"),r=await fetch(`${Hr}/chat/conversations/${e}/messages`,{headers:{Authorization:`Bearer ${n}`}});if(!r.ok)throw new Error("Failed to fetch messages");return(await r.json()).messages},deleteConversation:async e=>{const n=localStorage.getItem("token");if(!(await fetch(`${Hr}/chat/conversations/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}})).ok)throw new Error("Failed to delete conversation")},createConversation:async()=>{const e=localStorage.getItem("token"),n=await fetch(`${Hr}/chat/conversations`,{method:"POST",headers:{Authorization:`Bearer ${e}`}});if(!n.ok)throw new Error("Failed to create conversation");return(await n.json()).id}};function A0(e,n){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const T0=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R0=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,O0={};function Pc(e,n){return(O0.jsx?R0:T0).test(e)}const D0=/[ \t\n\f\r]/g;function $0(e){return typeof e=="object"?e.type==="text"?Ac(e.value):!1:Ac(e)}function Ac(e){return e.replace(D0,"")===""}class Ks{constructor(n,r,a){this.normal=r,this.property=n,a&&(this.space=a)}}Ks.prototype.normal={};Ks.prototype.property={};Ks.prototype.space=void 0;function Ih(e,n){const r={},a={};for(const i of e)Object.assign(r,i.property),Object.assign(a,i.normal);return new Ks(r,a,n)}function _o(e){return e.toLowerCase()}class bt{constructor(n,r){this.attribute=r,this.property=n}}bt.prototype.attribute="";bt.prototype.booleanish=!1;bt.prototype.boolean=!1;bt.prototype.commaOrSpaceSeparated=!1;bt.prototype.commaSeparated=!1;bt.prototype.defined=!1;bt.prototype.mustUseProperty=!1;bt.prototype.number=!1;bt.prototype.overloadedBoolean=!1;bt.prototype.property="";bt.prototype.spaceSeparated=!1;bt.prototype.space=void 0;let z0=0;const ke=or(),Ke=or(),No=or(),se=or(),Ie=or(),vr=or(),wt=or();function or(){return 2**++z0}const ko=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:Ke,commaOrSpaceSeparated:wt,commaSeparated:vr,number:se,overloadedBoolean:No,spaceSeparated:Ie},Symbol.toStringTag,{value:"Module"})),Li=Object.keys(ko);class hl extends bt{constructor(n,r,a,i){let o=-1;if(super(n,r),Tc(this,"space",i),typeof a=="number")for(;++o<Li.length;){const l=Li[o];Tc(this,Li[o],(a&ko[l])===ko[l])}}}hl.prototype.defined=!0;function Tc(e,n,r){r&&(e[n]=r)}function Dr(e){const n={},r={};for(const[a,i]of Object.entries(e.properties)){const o=new hl(a,e.transform(e.attributes||{},a),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(a)&&(o.mustUseProperty=!0),n[a]=o,r[_o(a)]=a,r[_o(o.attribute)]=a}return new Ks(n,r,e.space)}const Lh=Dr({properties:{ariaActiveDescendant:null,ariaAtomic:Ke,ariaAutoComplete:null,ariaBusy:Ke,ariaChecked:Ke,ariaColCount:se,ariaColIndex:se,ariaColSpan:se,ariaControls:Ie,ariaCurrent:null,ariaDescribedBy:Ie,ariaDetails:null,ariaDisabled:Ke,ariaDropEffect:Ie,ariaErrorMessage:null,ariaExpanded:Ke,ariaFlowTo:Ie,ariaGrabbed:Ke,ariaHasPopup:null,ariaHidden:Ke,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ie,ariaLevel:se,ariaLive:null,ariaModal:Ke,ariaMultiLine:Ke,ariaMultiSelectable:Ke,ariaOrientation:null,ariaOwns:Ie,ariaPlaceholder:null,ariaPosInSet:se,ariaPressed:Ke,ariaReadOnly:Ke,ariaRelevant:null,ariaRequired:Ke,ariaRoleDescription:Ie,ariaRowCount:se,ariaRowIndex:se,ariaRowSpan:se,ariaSelected:Ke,ariaSetSize:se,ariaSort:null,ariaValueMax:se,ariaValueMin:se,ariaValueNow:se,ariaValueText:null,role:null},transform(e,n){return n==="role"?n:"aria-"+n.slice(4).toLowerCase()}});function Fh(e,n){return n in e?e[n]:n}function Hh(e,n){return Fh(e,n.toLowerCase())}const M0=Dr({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:vr,acceptCharset:Ie,accessKey:Ie,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:Ie,autoFocus:ke,autoPlay:ke,blocking:Ie,capture:null,charSet:null,checked:ke,cite:null,className:Ie,cols:se,colSpan:null,content:null,contentEditable:Ke,controls:ke,controlsList:Ie,coords:se|vr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:No,draggable:Ke,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:Ie,height:se,hidden:No,high:se,href:null,hrefLang:null,htmlFor:Ie,httpEquiv:Ie,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:Ie,itemRef:Ie,itemScope:ke,itemType:Ie,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:se,manifest:null,max:null,maxLength:se,media:null,method:null,min:null,minLength:se,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:se,pattern:null,ping:Ie,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:Ie,required:ke,reversed:ke,rows:se,rowSpan:se,sandbox:Ie,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:se,sizes:null,slot:null,span:se,spellCheck:Ke,src:null,srcDoc:null,srcLang:null,srcSet:null,start:se,step:null,style:null,tabIndex:se,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:Ke,width:se,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ie,axis:null,background:null,bgColor:null,border:se,borderColor:null,bottomMargin:se,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:se,leftMargin:se,link:null,longDesc:null,lowSrc:null,marginHeight:se,marginWidth:se,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:se,rules:null,scheme:null,scrolling:Ke,standby:null,summary:null,text:null,topMargin:se,valueType:null,version:null,vAlign:null,vLink:null,vSpace:se,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:se,security:null,unselectable:null},space:"html",transform:Hh}),I0=Dr({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:wt,accentHeight:se,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:se,amplitude:se,arabicForm:null,ascent:se,attributeName:null,attributeType:null,azimuth:se,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:se,by:null,calcMode:null,capHeight:se,className:Ie,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:se,diffuseConstant:se,direction:null,display:null,dur:null,divisor:se,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:se,enableBackground:null,end:null,event:null,exponent:se,externalResourcesRequired:null,fill:null,fillOpacity:se,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:vr,g2:vr,glyphName:vr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:se,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:se,horizOriginX:se,horizOriginY:se,id:null,ideographic:se,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:se,k:se,k1:se,k2:se,k3:se,k4:se,kernelMatrix:wt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:se,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:se,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:se,overlineThickness:se,paintOrder:null,panose1:null,path:null,pathLength:se,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ie,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:se,pointsAtY:se,pointsAtZ:se,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:wt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:wt,rev:wt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:wt,requiredFeatures:wt,requiredFonts:wt,requiredFormats:wt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:se,specularExponent:se,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:se,strikethroughThickness:se,string:null,stroke:null,strokeDashArray:wt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:se,strokeOpacity:se,strokeWidth:null,style:null,surfaceScale:se,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:wt,tabIndex:se,tableValues:null,target:null,targetX:se,targetY:se,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:wt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:se,underlineThickness:se,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:se,values:null,vAlphabetic:se,vMathematical:se,vectorEffect:null,vHanging:se,vIdeographic:se,version:null,vertAdvY:se,vertOriginX:se,vertOriginY:se,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:se,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Fh}),Bh=Dr({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,n){return"xlink:"+n.slice(5).toLowerCase()}}),Uh=Dr({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Hh}),qh=Dr({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,n){return"xml:"+n.slice(3).toLowerCase()}}),L0={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},F0=/[A-Z]/g,Rc=/-[a-z]/g,H0=/^data[-\w.:]+$/i;function B0(e,n){const r=_o(n);let a=n,i=bt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&H0.test(n)){if(n.charAt(4)==="-"){const o=n.slice(5).replace(Rc,q0);a="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=n.slice(4);if(!Rc.test(o)){let l=o.replace(F0,U0);l.charAt(0)!=="-"&&(l="-"+l),n="data"+l}}i=hl}return new i(a,n)}function U0(e){return"-"+e.toLowerCase()}function q0(e){return e.charAt(1).toUpperCase()}const V0=Ih([Lh,M0,Bh,Uh,qh],"html"),fl=Ih([Lh,I0,Bh,Uh,qh],"svg");function W0(e){return e.join(" ").trim()}var lr={},Fi,Oc;function G0(){if(Oc)return Fi;Oc=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,a=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,l=/^[;\s]*/,c=/^\s+|\s+$/g,d=`
`,u="/",f="*",h="",p="comment",g="declaration";function w(j,x){if(typeof j!="string")throw new TypeError("First argument must be a string");if(!j)return[];x=x||{};var y=1,v=1;function b(R){var D=R.match(n);D&&(y+=D.length);var z=R.lastIndexOf(d);v=~z?R.length-z:v+R.length}function _(){var R={line:y,column:v};return function(D){return D.position=new k(R),A(),D}}function k(R){this.start=R,this.end={line:y,column:v},this.source=x.source}k.prototype.content=j;function S(R){var D=new Error(x.source+":"+y+":"+v+": "+R);if(D.reason=R,D.filename=x.source,D.line=y,D.column=v,D.source=j,!x.silent)throw D}function C(R){var D=R.exec(j);if(D){var z=D[0];return b(z),j=j.slice(z.length),D}}function A(){C(r)}function T(R){var D;for(R=R||[];D=P();)D!==!1&&R.push(D);return R}function P(){var R=_();if(!(u!=j.charAt(0)||f!=j.charAt(1))){for(var D=2;h!=j.charAt(D)&&(f!=j.charAt(D)||u!=j.charAt(D+1));)++D;if(D+=2,h===j.charAt(D-1))return S("End of comment missing");var z=j.slice(2,D-2);return v+=2,b(z),j=j.slice(D),v+=2,R({type:p,comment:z})}}function O(){var R=_(),D=C(a);if(D){if(P(),!C(i))return S("property missing ':'");var z=C(o),F=R({type:g,property:N(D[0].replace(e,h)),value:z?N(z[0].replace(e,h)):h});return C(l),F}}function I(){var R=[];T(R);for(var D;D=O();)D!==!1&&(R.push(D),T(R));return R}return A(),I()}function N(j){return j?j.replace(c,h):h}return Fi=w,Fi}var Dc;function Y0(){if(Dc)return lr;Dc=1;var e=lr&&lr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=r;const n=e(G0());function r(a,i){let o=null;if(!a||typeof a!="string")return o;const l=(0,n.default)(a),c=typeof i=="function";return l.forEach(d=>{if(d.type!=="declaration")return;const{property:u,value:f}=d;c?i(u,f,d):f&&(o=o||{},o[u]=f)}),o}return lr}var Br={},$c;function X0(){if($c)return Br;$c=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,n=/-([a-z])/g,r=/^[^-]+$/,a=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||r.test(u)||e.test(u)},l=function(u,f){return f.toUpperCase()},c=function(u,f){return"".concat(f,"-")},d=function(u,f){return f===void 0&&(f={}),o(u)?u:(u=u.toLowerCase(),f.reactCompat?u=u.replace(i,c):u=u.replace(a,c),u.replace(n,l))};return Br.camelCase=d,Br}var Ur,zc;function K0(){if(zc)return Ur;zc=1;var e=Ur&&Ur.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},n=e(Y0()),r=X0();function a(i,o){var l={};return!i||typeof i!="string"||(0,n.default)(i,function(c,d){c&&d&&(l[(0,r.camelCase)(c,o)]=d)}),l}return a.default=a,Ur=a,Ur}var J0=K0();const Q0=ii(J0),Vh=Wh("end"),ml=Wh("start");function Wh(e){return n;function n(r){const a=r&&r.position&&r.position[e]||{};if(typeof a.line=="number"&&a.line>0&&typeof a.column=="number"&&a.column>0)return{line:a.line,column:a.column,offset:typeof a.offset=="number"&&a.offset>-1?a.offset:void 0}}}function Z0(e){const n=ml(e),r=Vh(e);if(n&&r)return{start:n,end:r}}function _s(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Mc(e.position):"start"in e||"end"in e?Mc(e):"line"in e||"column"in e?So(e):""}function So(e){return Ic(e&&e.line)+":"+Ic(e&&e.column)}function Mc(e){return So(e&&e.start)+"-"+So(e&&e.end)}function Ic(e){return e&&typeof e=="number"?e:1}class at extends Error{constructor(n,r,a){super(),typeof r=="string"&&(a=r,r=void 0);let i="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof n=="string"?i=n:!o.cause&&n&&(l=!0,i=n.message,o.cause=n),!o.ruleId&&!o.source&&typeof a=="string"){const d=a.indexOf(":");d===-1?o.ruleId=a:(o.source=a.slice(0,d),o.ruleId=a.slice(d+1))}if(!o.place&&o.ancestors&&o.ancestors){const d=o.ancestors[o.ancestors.length-1];d&&(o.place=d.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=c?c.line:void 0,this.name=_s(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}at.prototype.file="";at.prototype.name="";at.prototype.reason="";at.prototype.message="";at.prototype.stack="";at.prototype.column=void 0;at.prototype.line=void 0;at.prototype.ancestors=void 0;at.prototype.cause=void 0;at.prototype.fatal=void 0;at.prototype.place=void 0;at.prototype.ruleId=void 0;at.prototype.source=void 0;const pl={}.hasOwnProperty,ey=new Map,ty=/[A-Z]/g,ny=new Set(["table","tbody","thead","tfoot","tr"]),ry=new Set(["td","th"]),Gh="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function sy(e,n){if(!n||n.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=n.filePath||void 0;let a;if(n.development){if(typeof n.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");a=hy(r,n.jsxDEV)}else{if(typeof n.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof n.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");a=dy(r,n.jsx,n.jsxs)}const i={Fragment:n.Fragment,ancestors:[],components:n.components||{},create:a,elementAttributeNameCase:n.elementAttributeNameCase||"react",evaluater:n.createEvaluater?n.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:n.ignoreInvalidStyle||!1,passKeys:n.passKeys!==!1,passNode:n.passNode||!1,schema:n.space==="svg"?fl:V0,stylePropertyNameCase:n.stylePropertyNameCase||"dom",tableCellAlignToStyle:n.tableCellAlignToStyle!==!1},o=Yh(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function Yh(e,n,r){if(n.type==="element")return ay(e,n,r);if(n.type==="mdxFlowExpression"||n.type==="mdxTextExpression")return iy(e,n);if(n.type==="mdxJsxFlowElement"||n.type==="mdxJsxTextElement")return ly(e,n,r);if(n.type==="mdxjsEsm")return oy(e,n);if(n.type==="root")return cy(e,n,r);if(n.type==="text")return uy(e,n)}function ay(e,n,r){const a=e.schema;let i=a;n.tagName.toLowerCase()==="svg"&&a.space==="html"&&(i=fl,e.schema=i),e.ancestors.push(n);const o=Kh(e,n.tagName,!1),l=fy(e,n);let c=xl(e,n);return ny.has(n.tagName)&&(c=c.filter(function(d){return typeof d=="string"?!$0(d):!0})),Xh(e,l,o,n),gl(l,c),e.ancestors.pop(),e.schema=a,e.create(n,o,l,r)}function iy(e,n){if(n.data&&n.data.estree&&e.evaluater){const a=n.data.estree.body[0];return a.type,e.evaluater.evaluateExpression(a.expression)}zs(e,n.position)}function oy(e,n){if(n.data&&n.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(n.data.estree);zs(e,n.position)}function ly(e,n,r){const a=e.schema;let i=a;n.name==="svg"&&a.space==="html"&&(i=fl,e.schema=i),e.ancestors.push(n);const o=n.name===null?e.Fragment:Kh(e,n.name,!0),l=my(e,n),c=xl(e,n);return Xh(e,l,o,n),gl(l,c),e.ancestors.pop(),e.schema=a,e.create(n,o,l,r)}function cy(e,n,r){const a={};return gl(a,xl(e,n)),e.create(n,e.Fragment,a,r)}function uy(e,n){return n.value}function Xh(e,n,r,a){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(n.node=a)}function gl(e,n){if(n.length>0){const r=n.length>1?n:n[0];r&&(e.children=r)}}function dy(e,n,r){return a;function a(i,o,l,c){const u=Array.isArray(l.children)?r:n;return c?u(o,l,c):u(o,l)}}function hy(e,n){return r;function r(a,i,o,l){const c=Array.isArray(o.children),d=ml(a);return n(i,o,l,c,{columnNumber:d?d.column-1:void 0,fileName:e,lineNumber:d?d.line:void 0},void 0)}}function fy(e,n){const r={};let a,i;for(i in n.properties)if(i!=="children"&&pl.call(n.properties,i)){const o=py(e,i,n.properties[i]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&ry.has(n.tagName)?a=c:r[l]=c}}if(a){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=a}return r}function my(e,n){const r={};for(const a of n.attributes)if(a.type==="mdxJsxExpressionAttribute")if(a.data&&a.data.estree&&e.evaluater){const o=a.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,e.evaluater.evaluateExpression(c.argument))}else zs(e,n.position);else{const i=a.name;let o;if(a.value&&typeof a.value=="object")if(a.value.data&&a.value.data.estree&&e.evaluater){const c=a.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else zs(e,n.position);else o=a.value===null?!0:a.value;r[i]=o}return r}function xl(e,n){const r=[];let a=-1;const i=e.passKeys?new Map:ey;for(;++a<n.children.length;){const o=n.children[a];let l;if(e.passKeys){const d=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(d){const u=i.get(d)||0;l=d+"-"+u,i.set(d,u+1)}}const c=Yh(e,o,l);c!==void 0&&r.push(c)}return r}function py(e,n,r){const a=B0(e.schema,n);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=a.commaSeparated?A0(r):W0(r)),a.property==="style"){let i=typeof r=="object"?r:gy(e,String(r));return e.stylePropertyNameCase==="css"&&(i=xy(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&a.space?L0[a.property]||a.property:a.attribute,r]}}function gy(e,n){try{return Q0(n,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const a=r,i=new at("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:a,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=Gh+"#cannot-parse-style-attribute",i}}function Kh(e,n,r){let a;if(!r)a={type:"Literal",value:n};else if(n.includes(".")){const i=n.split(".");let o=-1,l;for(;++o<i.length;){const c=Pc(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}a=l}else a=Pc(n)&&!/^[a-z]/.test(n)?{type:"Identifier",name:n}:{type:"Literal",value:n};if(a.type==="Literal"){const i=a.value;return pl.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(a);zs(e)}function zs(e,n){const r=new at("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:n,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=Gh+"#cannot-handle-mdx-estrees-without-createevaluater",r}function xy(e){const n={};let r;for(r in e)pl.call(e,r)&&(n[yy(r)]=e[r]);return n}function yy(e){let n=e.replace(ty,by);return n.slice(0,3)==="ms-"&&(n="-"+n),n}function by(e){return"-"+e.toLowerCase()}const Hi={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},vy={};function wy(e,n){const r=vy,a=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Jh(e,a,i)}function Jh(e,n,r){if(jy(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(n&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Lc(e.children,n,r)}return Array.isArray(e)?Lc(e,n,r):""}function Lc(e,n,r){const a=[];let i=-1;for(;++i<e.length;)a[i]=Jh(e[i],n,r);return a.join("")}function jy(e){return!!(e&&typeof e=="object")}const Fc=document.createElement("i");function yl(e){const n="&"+e+";";Fc.innerHTML=n;const r=Fc.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===n?!1:r}function ln(e,n,r,a){const i=e.length;let o=0,l;if(n<0?n=-n>i?0:i+n:n=n>i?i:n,r=r>0?r:0,a.length<1e4)l=Array.from(a),l.unshift(n,r),e.splice(...l);else for(r&&e.splice(n,r);o<a.length;)l=a.slice(o,o+1e4),l.unshift(n,0),e.splice(...l),o+=1e4,n+=1e4}function Tt(e,n){return e.length>0?(ln(e,e.length,0,n),e):n}const Hc={}.hasOwnProperty;function _y(e){const n={};let r=-1;for(;++r<e.length;)Ny(n,e[r]);return n}function Ny(e,n){let r;for(r in n){const i=(Hc.call(e,r)?e[r]:void 0)||(e[r]={}),o=n[r];let l;if(o)for(l in o){Hc.call(i,l)||(i[l]=[]);const c=o[l];ky(i[l],Array.isArray(c)?c:c?[c]:[])}}}function ky(e,n){let r=-1;const a=[];for(;++r<n.length;)(n[r].add==="after"?e:a).push(n[r]);ln(e,0,0,a)}function Qh(e,n){const r=Number.parseInt(e,n);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function wr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const tn=Vn(/[A-Za-z]/),_t=Vn(/[\dA-Za-z]/),Sy=Vn(/[#-'*+\--9=?A-Z^-~]/);function Co(e){return e!==null&&(e<32||e===127)}const Eo=Vn(/\d/),Cy=Vn(/[\dA-Fa-f]/),Ey=Vn(/[!-/:-@[-`{-~]/);function ve(e){return e!==null&&e<-2}function yt(e){return e!==null&&(e<0||e===32)}function Ae(e){return e===-2||e===-1||e===32}const Py=Vn(new RegExp("\\p{P}|\\p{S}","u")),Ay=Vn(/\s/);function Vn(e){return n;function n(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function $r(e){const n=[];let r=-1,a=0,i=0;for(;++r<e.length;){const o=e.charCodeAt(r);let l="";if(o===37&&_t(e.charCodeAt(r+1))&&_t(e.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),i=1):l=""}else l=String.fromCharCode(o);l&&(n.push(e.slice(a,r),encodeURIComponent(l)),a=r+i+1,l=""),i&&(r+=i,i=0)}return n.join("")+e.slice(a)}function Le(e,n,r,a){const i=a?a-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(d){return Ae(d)?(e.enter(r),c(d)):n(d)}function c(d){return Ae(d)&&o++<i?(e.consume(d),c):(e.exit(r),n(d))}}const Ty={tokenize:Ry};function Ry(e){const n=e.attempt(this.parser.constructs.contentInitial,a,i);let r;return n;function a(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),Le(e,n,"linePrefix")}function i(c){return e.enter("paragraph"),o(c)}function o(c){const d=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=d),r=d,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return ve(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const Oy={tokenize:Dy},Bc={tokenize:$y};function Dy(e){const n=this,r=[];let a=0,i,o,l;return c;function c(v){if(a<r.length){const b=r[a];return n.containerState=b[1],e.attempt(b[0].continuation,d,u)(v)}return u(v)}function d(v){if(a++,n.containerState._closeFlow){n.containerState._closeFlow=void 0,i&&y();const b=n.events.length;let _=b,k;for(;_--;)if(n.events[_][0]==="exit"&&n.events[_][1].type==="chunkFlow"){k=n.events[_][1].end;break}x(a);let S=b;for(;S<n.events.length;)n.events[S][1].end={...k},S++;return ln(n.events,_+1,0,n.events.slice(b)),n.events.length=S,u(v)}return c(v)}function u(v){if(a===r.length){if(!i)return p(v);if(i.currentConstruct&&i.currentConstruct.concrete)return w(v);n.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return n.containerState={},e.check(Bc,f,h)(v)}function f(v){return i&&y(),x(a),p(v)}function h(v){return n.parser.lazy[n.now().line]=a!==r.length,l=n.now().offset,w(v)}function p(v){return n.containerState={},e.attempt(Bc,g,w)(v)}function g(v){return a++,r.push([n.currentConstruct,n.containerState]),p(v)}function w(v){if(v===null){i&&y(),x(0),e.consume(v);return}return i=i||n.parser.flow(n.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),N(v)}function N(v){if(v===null){j(e.exit("chunkFlow"),!0),x(0),e.consume(v);return}return ve(v)?(e.consume(v),j(e.exit("chunkFlow")),a=0,n.interrupt=void 0,c):(e.consume(v),N)}function j(v,b){const _=n.sliceStream(v);if(b&&_.push(null),v.previous=o,o&&(o.next=v),o=v,i.defineSkip(v.start),i.write(_),n.parser.lazy[v.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<l&&(!i.events[k][1].end||i.events[k][1].end.offset>l))return;const S=n.events.length;let C=S,A,T;for(;C--;)if(n.events[C][0]==="exit"&&n.events[C][1].type==="chunkFlow"){if(A){T=n.events[C][1].end;break}A=!0}for(x(a),k=S;k<n.events.length;)n.events[k][1].end={...T},k++;ln(n.events,C+1,0,n.events.slice(S)),n.events.length=k}}function x(v){let b=r.length;for(;b-- >v;){const _=r[b];n.containerState=_[1],_[0].exit.call(n,e)}r.length=v}function y(){i.write([null]),o=void 0,i=void 0,n.containerState._closeFlow=void 0}}function $y(e,n,r){return Le(e,e.attempt(this.parser.constructs.document,n,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Uc(e){if(e===null||yt(e)||Ay(e))return 1;if(Py(e))return 2}function bl(e,n,r){const a=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!a.includes(o)&&(n=o(n,r),a.push(o))}return n}const Po={name:"attention",resolveAll:zy,tokenize:My};function zy(e,n){let r=-1,a,i,o,l,c,d,u,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(a=r;a--;)if(e[a][0]==="exit"&&e[a][1].type==="attentionSequence"&&e[a][1]._open&&n.sliceSerialize(e[a][1]).charCodeAt(0)===n.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[a][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[a][1].end.offset-e[a][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;d=e[a][1].end.offset-e[a][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[a][1].end},p={...e[r][1].start};qc(h,-d),qc(p,d),l={type:d>1?"strongSequence":"emphasisSequence",start:h,end:{...e[a][1].end}},c={type:d>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},o={type:d>1?"strongText":"emphasisText",start:{...e[a][1].end},end:{...e[r][1].start}},i={type:d>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},e[a][1].end={...l.start},e[r][1].start={...c.end},u=[],e[a][1].end.offset-e[a][1].start.offset&&(u=Tt(u,[["enter",e[a][1],n],["exit",e[a][1],n]])),u=Tt(u,[["enter",i,n],["enter",l,n],["exit",l,n],["enter",o,n]]),u=Tt(u,bl(n.parser.constructs.insideSpan.null,e.slice(a+1,r),n)),u=Tt(u,[["exit",o,n],["enter",c,n],["exit",c,n],["exit",i,n]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,u=Tt(u,[["enter",e[r][1],n],["exit",e[r][1],n]])):f=0,ln(e,a-1,r-a+3,u),r=a+u.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function My(e,n){const r=this.parser.constructs.attentionMarkers.null,a=this.previous,i=Uc(a);let o;return l;function l(d){return o=d,e.enter("attentionSequence"),c(d)}function c(d){if(d===o)return e.consume(d),c;const u=e.exit("attentionSequence"),f=Uc(d),h=!f||f===2&&i||r.includes(d),p=!i||i===2&&f||r.includes(a);return u._open=!!(o===42?h:h&&(i||!p)),u._close=!!(o===42?p:p&&(f||!h)),n(d)}}function qc(e,n){e.column+=n,e.offset+=n,e._bufferIndex+=n}const Iy={name:"autolink",tokenize:Ly};function Ly(e,n,r){let a=0;return i;function i(g){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(g){return tn(g)?(e.consume(g),l):g===64?r(g):u(g)}function l(g){return g===43||g===45||g===46||_t(g)?(a=1,c(g)):u(g)}function c(g){return g===58?(e.consume(g),a=0,d):(g===43||g===45||g===46||_t(g))&&a++<32?(e.consume(g),c):(a=0,u(g))}function d(g){return g===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):g===null||g===32||g===60||Co(g)?r(g):(e.consume(g),d)}function u(g){return g===64?(e.consume(g),f):Sy(g)?(e.consume(g),u):r(g)}function f(g){return _t(g)?h(g):r(g)}function h(g){return g===46?(e.consume(g),a=0,f):g===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(g),e.exit("autolinkMarker"),e.exit("autolink"),n):p(g)}function p(g){if((g===45||_t(g))&&a++<63){const w=g===45?p:h;return e.consume(g),w}return r(g)}}const xi={partial:!0,tokenize:Fy};function Fy(e,n,r){return a;function a(o){return Ae(o)?Le(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||ve(o)?n(o):r(o)}}const Zh={continuation:{tokenize:By},exit:Uy,name:"blockQuote",tokenize:Hy};function Hy(e,n,r){const a=this;return i;function i(l){if(l===62){const c=a.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return r(l)}function o(l){return Ae(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),n):(e.exit("blockQuotePrefix"),n(l))}}function By(e,n,r){const a=this;return i;function i(l){return Ae(l)?Le(e,o,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(Zh,n,r)(l)}}function Uy(e){e.exit("blockQuote")}const ef={name:"characterEscape",tokenize:qy};function qy(e,n,r){return a;function a(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return Ey(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),n):r(o)}}const tf={name:"characterReference",tokenize:Vy};function Vy(e,n,r){const a=this;let i=0,o,l;return c;function c(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),d}function d(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,l=_t,f(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=Cy,f):(e.enter("characterReferenceValue"),o=7,l=Eo,f(h))}function f(h){if(h===59&&i){const p=e.exit("characterReferenceValue");return l===_t&&!yl(a.sliceSerialize(p))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),n)}return l(h)&&i++<o?(e.consume(h),f):r(h)}}const Vc={partial:!0,tokenize:Gy},Wc={concrete:!0,name:"codeFenced",tokenize:Wy};function Wy(e,n,r){const a=this,i={partial:!0,tokenize:_};let o=0,l=0,c;return d;function d(k){return u(k)}function u(k){const S=a.events[a.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,c=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(k)}function f(k){return k===c?(l++,e.consume(k),f):l<3?r(k):(e.exit("codeFencedFenceSequence"),Ae(k)?Le(e,h,"whitespace")(k):h(k))}function h(k){return k===null||ve(k)?(e.exit("codeFencedFence"),a.interrupt?n(k):e.check(Vc,N,b)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(k)):Ae(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Le(e,g,"whitespace")(k)):k===96&&k===c?r(k):(e.consume(k),p)}function g(k){return k===null||ve(k)?h(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),w(k))}function w(k){return k===null||ve(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(k)):k===96&&k===c?r(k):(e.consume(k),w)}function N(k){return e.attempt(i,b,j)(k)}function j(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),x}function x(k){return o>0&&Ae(k)?Le(e,y,"linePrefix",o+1)(k):y(k)}function y(k){return k===null||ve(k)?e.check(Vc,N,b)(k):(e.enter("codeFlowValue"),v(k))}function v(k){return k===null||ve(k)?(e.exit("codeFlowValue"),y(k)):(e.consume(k),v)}function b(k){return e.exit("codeFenced"),n(k)}function _(k,S,C){let A=0;return T;function T(D){return k.enter("lineEnding"),k.consume(D),k.exit("lineEnding"),P}function P(D){return k.enter("codeFencedFence"),Ae(D)?Le(k,O,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):O(D)}function O(D){return D===c?(k.enter("codeFencedFenceSequence"),I(D)):C(D)}function I(D){return D===c?(A++,k.consume(D),I):A>=l?(k.exit("codeFencedFenceSequence"),Ae(D)?Le(k,R,"whitespace")(D):R(D)):C(D)}function R(D){return D===null||ve(D)?(k.exit("codeFencedFence"),S(D)):C(D)}}}function Gy(e,n,r){const a=this;return i;function i(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return a.parser.lazy[a.now().line]?r(l):n(l)}}const Bi={name:"codeIndented",tokenize:Xy},Yy={partial:!0,tokenize:Ky};function Xy(e,n,r){const a=this;return i;function i(u){return e.enter("codeIndented"),Le(e,o,"linePrefix",5)(u)}function o(u){const f=a.events[a.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?l(u):r(u)}function l(u){return u===null?d(u):ve(u)?e.attempt(Yy,l,d)(u):(e.enter("codeFlowValue"),c(u))}function c(u){return u===null||ve(u)?(e.exit("codeFlowValue"),l(u)):(e.consume(u),c)}function d(u){return e.exit("codeIndented"),n(u)}}function Ky(e,n,r){const a=this;return i;function i(l){return a.parser.lazy[a.now().line]?r(l):ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):Le(e,o,"linePrefix",5)(l)}function o(l){const c=a.events[a.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):ve(l)?i(l):r(l)}}const Jy={name:"codeText",previous:Zy,resolve:Qy,tokenize:eb};function Qy(e){let n=e.length-4,r=3,a,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[n][1].type==="lineEnding"||e[n][1].type==="space")){for(a=r;++a<n;)if(e[a][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[n][1].type="codeTextPadding",r+=2,n-=2;break}}for(a=r-1,n++;++a<=n;)i===void 0?a!==n&&e[a][1].type!=="lineEnding"&&(i=a):(a===n||e[a][1].type==="lineEnding")&&(e[i][1].type="codeTextData",a!==i+2&&(e[i][1].end=e[a-1][1].end,e.splice(i+2,a-i-2),n-=a-i-2,a=i+2),i=void 0);return e}function Zy(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eb(e,n,r){let a=0,i,o;return l;function l(h){return e.enter("codeText"),e.enter("codeTextSequence"),c(h)}function c(h){return h===96?(e.consume(h),a++,c):(e.exit("codeTextSequence"),d(h))}function d(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),d):h===96?(o=e.enter("codeTextSequence"),i=0,f(h)):ve(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),d):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ve(h)?(e.exit("codeTextData"),d(h)):(e.consume(h),u)}function f(h){return h===96?(e.consume(h),i++,f):i===a?(e.exit("codeTextSequence"),e.exit("codeText"),n(h)):(o.type="codeTextData",u(h))}}class tb{constructor(n){this.left=n?[...n]:[],this.right=[]}get(n){if(n<0||n>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+n+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return n<this.left.length?this.left[n]:this.right[this.right.length-n+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(n,r){const a=r??Number.POSITIVE_INFINITY;return a<this.left.length?this.left.slice(n,a):n>this.left.length?this.right.slice(this.right.length-a+this.left.length,this.right.length-n+this.left.length).reverse():this.left.slice(n).concat(this.right.slice(this.right.length-a+this.left.length).reverse())}splice(n,r,a){const i=r||0;this.setCursor(Math.trunc(n));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return a&&qr(this.left,a),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(n){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(n)}pushMany(n){this.setCursor(Number.POSITIVE_INFINITY),qr(this.left,n)}unshift(n){this.setCursor(0),this.right.push(n)}unshiftMany(n){this.setCursor(0),qr(this.right,n.reverse())}setCursor(n){if(!(n===this.left.length||n>this.left.length&&this.right.length===0||n<0&&this.left.length===0))if(n<this.left.length){const r=this.left.splice(n,Number.POSITIVE_INFINITY);qr(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-n,Number.POSITIVE_INFINITY);qr(this.left,r.reverse())}}}function qr(e,n){let r=0;if(n.length<1e4)e.push(...n);else for(;r<n.length;)e.push(...n.slice(r,r+1e4)),r+=1e4}function nf(e){const n={};let r=-1,a,i,o,l,c,d,u;const f=new tb(e);for(;++r<f.length;){for(;r in n;)r=n[r];if(a=f.get(r),r&&a[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(d=a[1]._tokenizer.events,o=0,o<d.length&&d[o][1].type==="lineEndingBlank"&&(o+=2),o<d.length&&d[o][1].type==="content"))for(;++o<d.length&&d[o][1].type!=="content";)d[o][1].type==="chunkText"&&(d[o][1]._isInFirstContentOfListItem=!0,o++);if(a[0]==="enter")a[1].contentType&&(Object.assign(n,nb(f,r)),r=n[r],u=!0);else if(a[1]._container){for(o=r,i=void 0;o--;)if(l=f.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;i&&(a[1].end={...f.get(i)[1].start},c=f.slice(i,r),c.unshift(a),f.splice(i,r-i+1,c))}}return ln(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function nb(e,n){const r=e.get(n)[1],a=e.get(n)[2];let i=n-1;const o=[];let l=r._tokenizer;l||(l=a.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));const c=l.events,d=[],u={};let f,h,p=-1,g=r,w=0,N=0;const j=[N];for(;g;){for(;e.get(++i)[1]!==g;);o.push(i),g._tokenizer||(f=a.sliceStream(g),g.next||f.push(null),h&&l.defineSkip(g.start),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(f),g._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),h=g,g=g.next}for(g=r;++p<c.length;)c[p][0]==="exit"&&c[p-1][0]==="enter"&&c[p][1].type===c[p-1][1].type&&c[p][1].start.line!==c[p][1].end.line&&(N=p+1,j.push(N),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(l.events=[],g?(g._tokenizer=void 0,g.previous=void 0):j.pop(),p=j.length;p--;){const x=c.slice(j[p],j[p+1]),y=o.pop();d.push([y,y+x.length-1]),e.splice(y,2,x)}for(d.reverse(),p=-1;++p<d.length;)u[w+d[p][0]]=w+d[p][1],w+=d[p][1]-d[p][0]-1;return u}const rb={resolve:ab,tokenize:ib},sb={partial:!0,tokenize:ob};function ab(e){return nf(e),e}function ib(e,n){let r;return a;function a(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?o(c):ve(c)?e.check(sb,l,o)(c):(e.consume(c),i)}function o(c){return e.exit("chunkContent"),e.exit("content"),n(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function ob(e,n,r){const a=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Le(e,o,"linePrefix")}function o(l){if(l===null||ve(l))return r(l);const c=a.events[a.events.length-1];return!a.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?n(l):e.interrupt(a.parser.constructs.flow,r,n)(l)}}function rf(e,n,r,a,i,o,l,c,d){const u=d||Number.POSITIVE_INFINITY;let f=0;return h;function h(x){return x===60?(e.enter(a),e.enter(i),e.enter(o),e.consume(x),e.exit(o),p):x===null||x===32||x===41||Co(x)?r(x):(e.enter(a),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),N(x))}function p(x){return x===62?(e.enter(o),e.consume(x),e.exit(o),e.exit(i),e.exit(a),n):(e.enter(c),e.enter("chunkString",{contentType:"string"}),g(x))}function g(x){return x===62?(e.exit("chunkString"),e.exit(c),p(x)):x===null||x===60||ve(x)?r(x):(e.consume(x),x===92?w:g)}function w(x){return x===60||x===62||x===92?(e.consume(x),g):g(x)}function N(x){return!f&&(x===null||x===41||yt(x))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(a),n(x)):f<u&&x===40?(e.consume(x),f++,N):x===41?(e.consume(x),f--,N):x===null||x===32||x===40||Co(x)?r(x):(e.consume(x),x===92?j:N)}function j(x){return x===40||x===41||x===92?(e.consume(x),N):N(x)}}function sf(e,n,r,a,i,o){const l=this;let c=0,d;return u;function u(g){return e.enter(a),e.enter(i),e.consume(g),e.exit(i),e.enter(o),f}function f(g){return c>999||g===null||g===91||g===93&&!d||g===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(g):g===93?(e.exit(o),e.enter(i),e.consume(g),e.exit(i),e.exit(a),n):ve(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),h(g))}function h(g){return g===null||g===91||g===93||ve(g)||c++>999?(e.exit("chunkString"),f(g)):(e.consume(g),d||(d=!Ae(g)),g===92?p:h)}function p(g){return g===91||g===92||g===93?(e.consume(g),c++,h):h(g)}}function af(e,n,r,a,i,o){let l;return c;function c(p){return p===34||p===39||p===40?(e.enter(a),e.enter(i),e.consume(p),e.exit(i),l=p===40?41:p,d):r(p)}function d(p){return p===l?(e.enter(i),e.consume(p),e.exit(i),e.exit(a),n):(e.enter(o),u(p))}function u(p){return p===l?(e.exit(o),d(l)):p===null?r(p):ve(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Le(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===l||p===null||ve(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?h:f)}function h(p){return p===l||p===92?(e.consume(p),f):f(p)}}function Ns(e,n){let r;return a;function a(i){return ve(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,a):Ae(i)?Le(e,a,r?"linePrefix":"lineSuffix")(i):n(i)}}const lb={name:"definition",tokenize:ub},cb={partial:!0,tokenize:db};function ub(e,n,r){const a=this;let i;return o;function o(g){return e.enter("definition"),l(g)}function l(g){return sf.call(a,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function c(g){return i=wr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)),g===58?(e.enter("definitionMarker"),e.consume(g),e.exit("definitionMarker"),d):r(g)}function d(g){return yt(g)?Ns(e,u)(g):u(g)}function u(g){return rf(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function f(g){return e.attempt(cb,h,h)(g)}function h(g){return Ae(g)?Le(e,p,"whitespace")(g):p(g)}function p(g){return g===null||ve(g)?(e.exit("definition"),a.parser.defined.push(i),n(g)):r(g)}}function db(e,n,r){return a;function a(c){return yt(c)?Ns(e,i)(c):r(c)}function i(c){return af(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return Ae(c)?Le(e,l,"whitespace")(c):l(c)}function l(c){return c===null||ve(c)?n(c):r(c)}}const hb={name:"hardBreakEscape",tokenize:fb};function fb(e,n,r){return a;function a(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return ve(o)?(e.exit("hardBreakEscape"),n(o)):r(o)}}const mb={name:"headingAtx",resolve:pb,tokenize:gb};function pb(e,n){let r=e.length-2,a=3,i,o;return e[a][1].type==="whitespace"&&(a+=2),r-2>a&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(a===r-1||r-4>a&&e[r-2][1].type==="whitespace")&&(r-=a+1===r?2:4),r>a&&(i={type:"atxHeadingText",start:e[a][1].start,end:e[r][1].end},o={type:"chunkText",start:e[a][1].start,end:e[r][1].end,contentType:"text"},ln(e,a,r-a+1,[["enter",i,n],["enter",o,n],["exit",o,n],["exit",i,n]])),e}function gb(e,n,r){let a=0;return i;function i(f){return e.enter("atxHeading"),o(f)}function o(f){return e.enter("atxHeadingSequence"),l(f)}function l(f){return f===35&&a++<6?(e.consume(f),l):f===null||yt(f)?(e.exit("atxHeadingSequence"),c(f)):r(f)}function c(f){return f===35?(e.enter("atxHeadingSequence"),d(f)):f===null||ve(f)?(e.exit("atxHeading"),n(f)):Ae(f)?Le(e,c,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function d(f){return f===35?(e.consume(f),d):(e.exit("atxHeadingSequence"),c(f))}function u(f){return f===null||f===35||yt(f)?(e.exit("atxHeadingText"),c(f)):(e.consume(f),u)}}const xb=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Gc=["pre","script","style","textarea"],yb={concrete:!0,name:"htmlFlow",resolveTo:wb,tokenize:jb},bb={partial:!0,tokenize:Nb},vb={partial:!0,tokenize:_b};function wb(e){let n=e.length;for(;n--&&!(e[n][0]==="enter"&&e[n][1].type==="htmlFlow"););return n>1&&e[n-2][1].type==="linePrefix"&&(e[n][1].start=e[n-2][1].start,e[n+1][1].start=e[n-2][1].start,e.splice(n-2,2)),e}function jb(e,n,r){const a=this;let i,o,l,c,d;return u;function u(M){return f(M)}function f(M){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(M),h}function h(M){return M===33?(e.consume(M),p):M===47?(e.consume(M),o=!0,N):M===63?(e.consume(M),i=3,a.interrupt?n:$):tn(M)?(e.consume(M),l=String.fromCharCode(M),j):r(M)}function p(M){return M===45?(e.consume(M),i=2,g):M===91?(e.consume(M),i=5,c=0,w):tn(M)?(e.consume(M),i=4,a.interrupt?n:$):r(M)}function g(M){return M===45?(e.consume(M),a.interrupt?n:$):r(M)}function w(M){const de="CDATA[";return M===de.charCodeAt(c++)?(e.consume(M),c===de.length?a.interrupt?n:O:w):r(M)}function N(M){return tn(M)?(e.consume(M),l=String.fromCharCode(M),j):r(M)}function j(M){if(M===null||M===47||M===62||yt(M)){const de=M===47,we=l.toLowerCase();return!de&&!o&&Gc.includes(we)?(i=1,a.interrupt?n(M):O(M)):xb.includes(l.toLowerCase())?(i=6,de?(e.consume(M),x):a.interrupt?n(M):O(M)):(i=7,a.interrupt&&!a.parser.lazy[a.now().line]?r(M):o?y(M):v(M))}return M===45||_t(M)?(e.consume(M),l+=String.fromCharCode(M),j):r(M)}function x(M){return M===62?(e.consume(M),a.interrupt?n:O):r(M)}function y(M){return Ae(M)?(e.consume(M),y):T(M)}function v(M){return M===47?(e.consume(M),T):M===58||M===95||tn(M)?(e.consume(M),b):Ae(M)?(e.consume(M),v):T(M)}function b(M){return M===45||M===46||M===58||M===95||_t(M)?(e.consume(M),b):_(M)}function _(M){return M===61?(e.consume(M),k):Ae(M)?(e.consume(M),_):v(M)}function k(M){return M===null||M===60||M===61||M===62||M===96?r(M):M===34||M===39?(e.consume(M),d=M,S):Ae(M)?(e.consume(M),k):C(M)}function S(M){return M===d?(e.consume(M),d=null,A):M===null||ve(M)?r(M):(e.consume(M),S)}function C(M){return M===null||M===34||M===39||M===47||M===60||M===61||M===62||M===96||yt(M)?_(M):(e.consume(M),C)}function A(M){return M===47||M===62||Ae(M)?v(M):r(M)}function T(M){return M===62?(e.consume(M),P):r(M)}function P(M){return M===null||ve(M)?O(M):Ae(M)?(e.consume(M),P):r(M)}function O(M){return M===45&&i===2?(e.consume(M),z):M===60&&i===1?(e.consume(M),F):M===62&&i===4?(e.consume(M),ee):M===63&&i===3?(e.consume(M),$):M===93&&i===5?(e.consume(M),q):ve(M)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(bb,Q,I)(M)):M===null||ve(M)?(e.exit("htmlFlowData"),I(M)):(e.consume(M),O)}function I(M){return e.check(vb,R,Q)(M)}function R(M){return e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),D}function D(M){return M===null||ve(M)?I(M):(e.enter("htmlFlowData"),O(M))}function z(M){return M===45?(e.consume(M),$):O(M)}function F(M){return M===47?(e.consume(M),l="",G):O(M)}function G(M){if(M===62){const de=l.toLowerCase();return Gc.includes(de)?(e.consume(M),ee):O(M)}return tn(M)&&l.length<8?(e.consume(M),l+=String.fromCharCode(M),G):O(M)}function q(M){return M===93?(e.consume(M),$):O(M)}function $(M){return M===62?(e.consume(M),ee):M===45&&i===2?(e.consume(M),$):O(M)}function ee(M){return M===null||ve(M)?(e.exit("htmlFlowData"),Q(M)):(e.consume(M),ee)}function Q(M){return e.exit("htmlFlow"),n(M)}}function _b(e,n,r){const a=this;return i;function i(l){return ve(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):r(l)}function o(l){return a.parser.lazy[a.now().line]?r(l):n(l)}}function Nb(e,n,r){return a;function a(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(xi,n,r)}}const kb={name:"htmlText",tokenize:Sb};function Sb(e,n,r){const a=this;let i,o,l;return c;function c($){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume($),d}function d($){return $===33?(e.consume($),u):$===47?(e.consume($),_):$===63?(e.consume($),v):tn($)?(e.consume($),C):r($)}function u($){return $===45?(e.consume($),f):$===91?(e.consume($),o=0,w):tn($)?(e.consume($),y):r($)}function f($){return $===45?(e.consume($),g):r($)}function h($){return $===null?r($):$===45?(e.consume($),p):ve($)?(l=h,F($)):(e.consume($),h)}function p($){return $===45?(e.consume($),g):h($)}function g($){return $===62?z($):$===45?p($):h($)}function w($){const ee="CDATA[";return $===ee.charCodeAt(o++)?(e.consume($),o===ee.length?N:w):r($)}function N($){return $===null?r($):$===93?(e.consume($),j):ve($)?(l=N,F($)):(e.consume($),N)}function j($){return $===93?(e.consume($),x):N($)}function x($){return $===62?z($):$===93?(e.consume($),x):N($)}function y($){return $===null||$===62?z($):ve($)?(l=y,F($)):(e.consume($),y)}function v($){return $===null?r($):$===63?(e.consume($),b):ve($)?(l=v,F($)):(e.consume($),v)}function b($){return $===62?z($):v($)}function _($){return tn($)?(e.consume($),k):r($)}function k($){return $===45||_t($)?(e.consume($),k):S($)}function S($){return ve($)?(l=S,F($)):Ae($)?(e.consume($),S):z($)}function C($){return $===45||_t($)?(e.consume($),C):$===47||$===62||yt($)?A($):r($)}function A($){return $===47?(e.consume($),z):$===58||$===95||tn($)?(e.consume($),T):ve($)?(l=A,F($)):Ae($)?(e.consume($),A):z($)}function T($){return $===45||$===46||$===58||$===95||_t($)?(e.consume($),T):P($)}function P($){return $===61?(e.consume($),O):ve($)?(l=P,F($)):Ae($)?(e.consume($),P):A($)}function O($){return $===null||$===60||$===61||$===62||$===96?r($):$===34||$===39?(e.consume($),i=$,I):ve($)?(l=O,F($)):Ae($)?(e.consume($),O):(e.consume($),R)}function I($){return $===i?(e.consume($),i=void 0,D):$===null?r($):ve($)?(l=I,F($)):(e.consume($),I)}function R($){return $===null||$===34||$===39||$===60||$===61||$===96?r($):$===47||$===62||yt($)?A($):(e.consume($),R)}function D($){return $===47||$===62||yt($)?A($):r($)}function z($){return $===62?(e.consume($),e.exit("htmlTextData"),e.exit("htmlText"),n):r($)}function F($){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume($),e.exit("lineEnding"),G}function G($){return Ae($)?Le(e,q,"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):q($)}function q($){return e.enter("htmlTextData"),l($)}}const vl={name:"labelEnd",resolveAll:Ab,resolveTo:Tb,tokenize:Rb},Cb={tokenize:Ob},Eb={tokenize:Db},Pb={tokenize:$b};function Ab(e){let n=-1;const r=[];for(;++n<e.length;){const a=e[n][1];if(r.push(e[n]),a.type==="labelImage"||a.type==="labelLink"||a.type==="labelEnd"){const i=a.type==="labelImage"?4:2;a.type="data",n+=i}}return e.length!==r.length&&ln(e,0,e.length,r),e}function Tb(e,n){let r=e.length,a=0,i,o,l,c;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){a=2;break}}else i.type==="labelEnd"&&(l=r);const d={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[l][1].end}},f={type:"labelText",start:{...e[o+a+2][1].end},end:{...e[l-2][1].start}};return c=[["enter",d,n],["enter",u,n]],c=Tt(c,e.slice(o+1,o+a+3)),c=Tt(c,[["enter",f,n]]),c=Tt(c,bl(n.parser.constructs.insideSpan.null,e.slice(o+a+4,l-3),n)),c=Tt(c,[["exit",f,n],e[l-2],e[l-1],["exit",u,n]]),c=Tt(c,e.slice(l+1)),c=Tt(c,[["exit",d,n]]),ln(e,o,e.length,c),e}function Rb(e,n,r){const a=this;let i=a.events.length,o,l;for(;i--;)if((a.events[i][1].type==="labelImage"||a.events[i][1].type==="labelLink")&&!a.events[i][1]._balanced){o=a.events[i][1];break}return c;function c(p){return o?o._inactive?h(p):(l=a.parser.defined.includes(wr(a.sliceSerialize({start:o.end,end:a.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),d):r(p)}function d(p){return p===40?e.attempt(Cb,f,l?f:h)(p):p===91?e.attempt(Eb,f,l?u:h)(p):l?f(p):h(p)}function u(p){return e.attempt(Pb,f,h)(p)}function f(p){return n(p)}function h(p){return o._balanced=!0,r(p)}}function Ob(e,n,r){return a;function a(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return yt(h)?Ns(e,o)(h):o(h)}function o(h){return h===41?f(h):rf(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function l(h){return yt(h)?Ns(e,d)(h):f(h)}function c(h){return r(h)}function d(h){return h===34||h===39||h===40?af(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):f(h)}function u(h){return yt(h)?Ns(e,f)(h):f(h)}function f(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),n):r(h)}}function Db(e,n,r){const a=this;return i;function i(c){return sf.call(a,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return a.parser.defined.includes(wr(a.sliceSerialize(a.events[a.events.length-1][1]).slice(1,-1)))?n(c):r(c)}function l(c){return r(c)}}function $b(e,n,r){return a;function a(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),n):r(o)}}const zb={name:"labelStartImage",resolveAll:vl.resolveAll,tokenize:Mb};function Mb(e,n,r){const a=this;return i;function i(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(c):n(c)}}const Ib={name:"labelStartLink",resolveAll:vl.resolveAll,tokenize:Lb};function Lb(e,n,r){const a=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in a.parser.constructs?r(l):n(l)}}const Ui={name:"lineEnding",tokenize:Fb};function Fb(e,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Le(e,n,"linePrefix")}}const Ra={name:"thematicBreak",tokenize:Hb};function Hb(e,n,r){let a=0,i;return o;function o(u){return e.enter("thematicBreak"),l(u)}function l(u){return i=u,c(u)}function c(u){return u===i?(e.enter("thematicBreakSequence"),d(u)):a>=3&&(u===null||ve(u))?(e.exit("thematicBreak"),n(u)):r(u)}function d(u){return u===i?(e.consume(u),a++,d):(e.exit("thematicBreakSequence"),Ae(u)?Le(e,c,"whitespace")(u):c(u))}}const ft={continuation:{tokenize:Vb},exit:Gb,name:"list",tokenize:qb},Bb={partial:!0,tokenize:Yb},Ub={partial:!0,tokenize:Wb};function qb(e,n,r){const a=this,i=a.events[a.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(g){const w=a.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!a.containerState.marker||g===a.containerState.marker:Eo(g)){if(a.containerState.type||(a.containerState.type=w,e.enter(w,{_container:!0})),w==="listUnordered")return e.enter("listItemPrefix"),g===42||g===45?e.check(Ra,r,u)(g):u(g);if(!a.interrupt||g===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),d(g)}return r(g)}function d(g){return Eo(g)&&++l<10?(e.consume(g),d):(!a.interrupt||l<2)&&(a.containerState.marker?g===a.containerState.marker:g===41||g===46)?(e.exit("listItemValue"),u(g)):r(g)}function u(g){return e.enter("listItemMarker"),e.consume(g),e.exit("listItemMarker"),a.containerState.marker=a.containerState.marker||g,e.check(xi,a.interrupt?r:f,e.attempt(Bb,p,h))}function f(g){return a.containerState.initialBlankLine=!0,o++,p(g)}function h(g){return Ae(g)?(e.enter("listItemPrefixWhitespace"),e.consume(g),e.exit("listItemPrefixWhitespace"),p):r(g)}function p(g){return a.containerState.size=o+a.sliceSerialize(e.exit("listItemPrefix"),!0).length,n(g)}}function Vb(e,n,r){const a=this;return a.containerState._closeFlow=void 0,e.check(xi,i,o);function i(c){return a.containerState.furtherBlankLines=a.containerState.furtherBlankLines||a.containerState.initialBlankLine,Le(e,n,"listItemIndent",a.containerState.size+1)(c)}function o(c){return a.containerState.furtherBlankLines||!Ae(c)?(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,l(c)):(a.containerState.furtherBlankLines=void 0,a.containerState.initialBlankLine=void 0,e.attempt(Ub,n,l)(c))}function l(c){return a.containerState._closeFlow=!0,a.interrupt=void 0,Le(e,e.attempt(ft,n,r),"linePrefix",a.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function Wb(e,n,r){const a=this;return Le(e,i,"listItemIndent",a.containerState.size+1);function i(o){const l=a.events[a.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===a.containerState.size?n(o):r(o)}}function Gb(e){e.exit(this.containerState.type)}function Yb(e,n,r){const a=this;return Le(e,i,"listItemPrefixWhitespace",a.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=a.events[a.events.length-1];return!Ae(o)&&l&&l[1].type==="listItemPrefixWhitespace"?n(o):r(o)}}const Yc={name:"setextUnderline",resolveTo:Xb,tokenize:Kb};function Xb(e,n){let r=e.length,a,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){a=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:{...e[a][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,n]),e.splice(o+1,0,["exit",e[a][1],n]),e[a][1].end={...e[o][1].end}):e[a][1]=l,e.push(["exit",l,n]),e}function Kb(e,n,r){const a=this;let i;return o;function o(u){let f=a.events.length,h;for(;f--;)if(a.events[f][1].type!=="lineEnding"&&a.events[f][1].type!=="linePrefix"&&a.events[f][1].type!=="content"){h=a.events[f][1].type==="paragraph";break}return!a.parser.lazy[a.now().line]&&(a.interrupt||h)?(e.enter("setextHeadingLine"),i=u,l(u)):r(u)}function l(u){return e.enter("setextHeadingLineSequence"),c(u)}function c(u){return u===i?(e.consume(u),c):(e.exit("setextHeadingLineSequence"),Ae(u)?Le(e,d,"lineSuffix")(u):d(u))}function d(u){return u===null||ve(u)?(e.exit("setextHeadingLine"),n(u)):r(u)}}const Jb={tokenize:Qb};function Qb(e){const n=this,r=e.attempt(xi,a,e.attempt(this.parser.constructs.flowInitial,i,Le(e,e.attempt(this.parser.constructs.flow,i,e.attempt(rb,i)),"linePrefix")));return r;function a(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),n.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n.currentConstruct=void 0,r}}const Zb={resolveAll:lf()},ev=of("string"),tv=of("text");function of(e){return{resolveAll:lf(e==="text"?nv:void 0),tokenize:n};function n(r){const a=this,i=this.parser.constructs[e],o=r.attempt(i,l,c);return l;function l(f){return u(f)?o(f):c(f)}function c(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),d}function d(f){return u(f)?(r.exit("data"),o(f)):(r.consume(f),d)}function u(f){if(f===null)return!0;const h=i[f];let p=-1;if(h)for(;++p<h.length;){const g=h[p];if(!g.previous||g.previous.call(a,a.previous))return!0}return!1}}}function lf(e){return n;function n(r,a){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,a):r}}function nv(e,n){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const a=e[r-1][1],i=n.sliceStream(a);let o=i.length,l=-1,c=0,d;for(;o--;){const u=i[o];if(typeof u=="string"){for(l=u.length;u.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(u===-2)d=!0,c++;else if(u!==-1){o++;break}}if(n._contentTypeTextTrailing&&r===e.length&&(c=0),c){const u={type:r===e.length||d||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?l:a.start._bufferIndex+l,_index:a.start._index+o,line:a.end.line,column:a.end.column-c,offset:a.end.offset-c},end:{...a.end}};a.end={...u.start},a.start.offset===a.end.offset?Object.assign(a,u):(e.splice(r,0,["enter",u,n],["exit",u,n]),r+=2)}r++}return e}const rv={42:ft,43:ft,45:ft,48:ft,49:ft,50:ft,51:ft,52:ft,53:ft,54:ft,55:ft,56:ft,57:ft,62:Zh},sv={91:lb},av={[-2]:Bi,[-1]:Bi,32:Bi},iv={35:mb,42:Ra,45:[Yc,Ra],60:yb,61:Yc,95:Ra,96:Wc,126:Wc},ov={38:tf,92:ef},lv={[-5]:Ui,[-4]:Ui,[-3]:Ui,33:zb,38:tf,42:Po,60:[Iy,kb],91:Ib,92:[hb,ef],93:vl,95:Po,96:Jy},cv={null:[Po,Zb]},uv={null:[42,95]},dv={null:[]},hv=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:uv,contentInitial:sv,disable:dv,document:rv,flow:iv,flowInitial:av,insideSpan:cv,string:ov,text:lv},Symbol.toStringTag,{value:"Module"}));function fv(e,n,r){let a={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},o=[];let l=[],c=[];const d={attempt:S(_),check:S(k),consume:y,enter:v,exit:b,interrupt:S(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:N,events:[],now:w,parser:e,previous:null,sliceSerialize:p,sliceStream:g,write:h};let f=n.tokenize.call(u,d);return n.resolveAll&&o.push(n),u;function h(P){return l=Tt(l,P),j(),l[l.length-1]!==null?[]:(C(n,0),u.events=bl(o,u.events,u),u.events)}function p(P,O){return pv(g(P),O)}function g(P){return mv(l,P)}function w(){const{_bufferIndex:P,_index:O,line:I,column:R,offset:D}=a;return{_bufferIndex:P,_index:O,line:I,column:R,offset:D}}function N(P){i[P.line]=P.column,T()}function j(){let P;for(;a._index<l.length;){const O=l[a._index];if(typeof O=="string")for(P=a._index,a._bufferIndex<0&&(a._bufferIndex=0);a._index===P&&a._bufferIndex<O.length;)x(O.charCodeAt(a._bufferIndex));else x(O)}}function x(P){f=f(P)}function y(P){ve(P)?(a.line++,a.column=1,a.offset+=P===-3?2:1,T()):P!==-1&&(a.column++,a.offset++),a._bufferIndex<0?a._index++:(a._bufferIndex++,a._bufferIndex===l[a._index].length&&(a._bufferIndex=-1,a._index++)),u.previous=P}function v(P,O){const I=O||{};return I.type=P,I.start=w(),u.events.push(["enter",I,u]),c.push(I),I}function b(P){const O=c.pop();return O.end=w(),u.events.push(["exit",O,u]),O}function _(P,O){C(P,O.from)}function k(P,O){O.restore()}function S(P,O){return I;function I(R,D,z){let F,G,q,$;return Array.isArray(R)?Q(R):"tokenize"in R?Q([R]):ee(R);function ee(he){return Ne;function Ne(te){const W=te!==null&&he[te],ie=te!==null&&he.null,ue=[...Array.isArray(W)?W:W?[W]:[],...Array.isArray(ie)?ie:ie?[ie]:[]];return Q(ue)(te)}}function Q(he){return F=he,G=0,he.length===0?z:M(he[G])}function M(he){return Ne;function Ne(te){return $=A(),q=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?we():he.tokenize.call(O?Object.assign(Object.create(u),O):u,d,de,we)(te)}}function de(he){return P(q,$),D}function we(he){return $.restore(),++G<F.length?M(F[G]):z}}}function C(P,O){P.resolveAll&&!o.includes(P)&&o.push(P),P.resolve&&ln(u.events,O,u.events.length-O,P.resolve(u.events.slice(O),u)),P.resolveTo&&(u.events=P.resolveTo(u.events,u))}function A(){const P=w(),O=u.previous,I=u.currentConstruct,R=u.events.length,D=Array.from(c);return{from:R,restore:z};function z(){a=P,u.previous=O,u.currentConstruct=I,u.events.length=R,c=D,T()}}function T(){a.line in i&&a.column<2&&(a.column=i[a.line],a.offset+=i[a.line]-1)}}function mv(e,n){const r=n.start._index,a=n.start._bufferIndex,i=n.end._index,o=n.end._bufferIndex;let l;if(r===i)l=[e[r].slice(a,o)];else{if(l=e.slice(r,i),a>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(a):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function pv(e,n){let r=-1;const a=[];let i;for(;++r<e.length;){const o=e[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=n?" ":"	";break}case-1:{if(!n&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,a.push(l)}return a.join("")}function gv(e){const a={constructs:_y([hv,...(e||{}).extensions||[]]),content:i(Ty),defined:[],document:i(Oy),flow:i(Jb),lazy:{},string:i(ev),text:i(tv)};return a;function i(o){return l;function l(c){return fv(a,o,c)}}}function xv(e){for(;!nf(e););return e}const Xc=/[\0\t\n\r]/g;function yv(){let e=1,n="",r=!0,a;return i;function i(o,l,c){const d=[];let u,f,h,p,g;for(o=n+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),h=0,n="",r&&(o.charCodeAt(0)===65279&&h++,r=void 0);h<o.length;){if(Xc.lastIndex=h,u=Xc.exec(o),p=u&&u.index!==void 0?u.index:o.length,g=o.charCodeAt(p),!u){n=o.slice(h);break}if(g===10&&h===p&&a)d.push(-3),a=void 0;else switch(a&&(d.push(-5),a=void 0),h<p&&(d.push(o.slice(h,p)),e+=p-h),g){case 0:{d.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,d.push(-2);e++<f;)d.push(-1);break}case 10:{d.push(-4),e=1;break}default:a=!0,e=1}h=p+1}return c&&(a&&d.push(-5),n&&d.push(n),d.push(null)),d}}const bv=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function vv(e){return e.replace(bv,wv)}function wv(e,n,r){if(n)return n;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return Qh(r.slice(o?2:1),o?16:10)}return yl(r)||e}const cf={}.hasOwnProperty;function jv(e,n,r){return typeof n!="string"&&(r=n,n=void 0),_v(r)(xv(gv(r).document().write(yv()(e,n,!0))))}function _v(e){const n={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(K),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(We),blockQuote:o(ie),characterEscape:A,characterReference:A,codeFenced:o(ue),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(ue,l),codeText:o(le,l),codeTextData:A,data:A,codeFlowValue:A,definition:o(Se),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o($e),hardBreakEscape:o(L),hardBreakTrailing:o(L),htmlFlow:o(B,l),htmlFlowData:A,htmlText:o(B,l),htmlTextData:A,image:o(V),label:l,link:o(K),listItem:o(fe),listItemValue:p,listOrdered:o(ce,h),listUnordered:o(ce),paragraph:o(xe),reference:M,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(We),strong:o(je),thematicBreak:o(Ge)},exit:{atxHeading:d(),atxHeadingSequence:_,autolink:d(),autolinkEmail:W,autolinkProtocol:te,blockQuote:d(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:we,characterReferenceMarkerNumeric:we,characterReferenceValue:he,characterReference:Ne,codeFenced:d(j),codeFencedFence:N,codeFencedFenceInfo:g,codeFencedFenceMeta:w,codeFlowValue:T,codeIndented:d(x),codeText:d(D),codeTextData:T,data:T,definition:d(),definitionDestinationString:b,definitionLabelString:y,definitionTitleString:v,emphasis:d(),hardBreakEscape:d(O),hardBreakTrailing:d(O),htmlFlow:d(I),htmlFlowData:T,htmlText:d(R),htmlTextData:T,image:d(F),label:q,labelText:G,lineEnding:P,link:d(z),listItem:d(),listOrdered:d(),listUnordered:d(),paragraph:d(),referenceString:de,resourceDestinationString:$,resourceTitleString:ee,resource:Q,setextHeading:d(C),setextHeadingLineSequence:S,setextHeadingText:k,strong:d(),thematicBreak:d()}};uf(n,(e||{}).mdastExtensions||[]);const r={};return a;function a(X){let ne={type:"root",children:[]};const pe={stack:[ne],tokenStack:[],config:n,enter:c,exit:u,buffer:l,resume:f,data:r},be=[];let Ee=-1;for(;++Ee<X.length;)if(X[Ee][1].type==="listOrdered"||X[Ee][1].type==="listUnordered")if(X[Ee][0]==="enter")be.push(Ee);else{const Je=be.pop();Ee=i(X,Je,Ee)}for(Ee=-1;++Ee<X.length;){const Je=n[X[Ee][0]];cf.call(Je,X[Ee][1].type)&&Je[X[Ee][1].type].call(Object.assign({sliceSerialize:X[Ee][2].sliceSerialize},pe),X[Ee][1])}if(pe.tokenStack.length>0){const Je=pe.tokenStack[pe.tokenStack.length-1];(Je[1]||Kc).call(pe,void 0,Je[0])}for(ne.position={start:En(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:En(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Ee=-1;++Ee<n.transforms.length;)ne=n.transforms[Ee](ne)||ne;return ne}function i(X,ne,pe){let be=ne-1,Ee=-1,Je=!1,zt,Be,Wn,Et;for(;++be<=pe;){const it=X[be];switch(it[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{it[0]==="enter"?Ee++:Ee--,Et=void 0;break}case"lineEndingBlank":{it[0]==="enter"&&(zt&&!Et&&!Ee&&!Wn&&(Wn=be),Et=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Et=void 0}if(!Ee&&it[0]==="enter"&&it[1].type==="listItemPrefix"||Ee===-1&&it[0]==="exit"&&(it[1].type==="listUnordered"||it[1].type==="listOrdered")){if(zt){let ot=be;for(Be=void 0;ot--;){const ht=X[ot];if(ht[1].type==="lineEnding"||ht[1].type==="lineEndingBlank"){if(ht[0]==="exit")continue;Be&&(X[Be][1].type="lineEndingBlank",Je=!0),ht[1].type="lineEnding",Be=ot}else if(!(ht[1].type==="linePrefix"||ht[1].type==="blockQuotePrefix"||ht[1].type==="blockQuotePrefixWhitespace"||ht[1].type==="blockQuoteMarker"||ht[1].type==="listItemIndent"))break}Wn&&(!Be||Wn<Be)&&(zt._spread=!0),zt.end=Object.assign({},Be?X[Be][1].start:it[1].end),X.splice(Be||be,0,["exit",zt,it[2]]),be++,pe++}if(it[1].type==="listItemPrefix"){const ot={type:"listItem",_spread:!1,start:Object.assign({},it[1].start),end:void 0};zt=ot,X.splice(be,0,["enter",ot,it[2]]),be++,pe++,Wn=void 0,Et=!0}}}return X[ne][1]._spread=Je,pe}function o(X,ne){return pe;function pe(be){c.call(this,X(be),be),ne&&ne.call(this,be)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(X,ne,pe){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ne,pe||void 0]),X.position={start:En(ne.start),end:void 0}}function d(X){return ne;function ne(pe){X&&X.call(this,pe),u.call(this,pe)}}function u(X,ne){const pe=this.stack.pop(),be=this.tokenStack.pop();if(be)be[0].type!==X.type&&(ne?ne.call(this,X,be[0]):(be[1]||Kc).call(this,X,be[0]));else throw new Error("Cannot close `"+X.type+"` ("+_s({start:X.start,end:X.end})+"): its not open");pe.position.end=En(X.end)}function f(){return wy(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(X){if(this.data.expectingFirstListItemValue){const ne=this.stack[this.stack.length-2];ne.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function g(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.lang=X}function w(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.meta=X}function N(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function j(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.value=X.replace(/(\r?\n|\r)$/g,"")}function y(X){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=wr(this.sliceSerialize(X)).toLowerCase()}function v(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.title=X}function b(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.url=X}function _(X){const ne=this.stack[this.stack.length-1];if(!ne.depth){const pe=this.sliceSerialize(X).length;ne.depth=pe}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function S(X){const ne=this.stack[this.stack.length-1];ne.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function C(){this.data.setextHeadingSlurpLineEnding=void 0}function A(X){const pe=this.stack[this.stack.length-1].children;let be=pe[pe.length-1];(!be||be.type!=="text")&&(be=Oe(),be.position={start:En(X.start),end:void 0},pe.push(be)),this.stack.push(be)}function T(X){const ne=this.stack.pop();ne.value+=this.sliceSerialize(X),ne.position.end=En(X.end)}function P(X){const ne=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=ne.children[ne.children.length-1];pe.position.end=En(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&n.canContainEols.includes(ne.type)&&(A.call(this,X),T.call(this,X))}function O(){this.data.atHardBreak=!0}function I(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.value=X}function R(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.value=X}function D(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.value=X}function z(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ne,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function F(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ne=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ne,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function G(X){const ne=this.sliceSerialize(X),pe=this.stack[this.stack.length-2];pe.label=vv(ne),pe.identifier=wr(ne).toLowerCase()}function q(){const X=this.stack[this.stack.length-1],ne=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const be=X.children;pe.children=be}else pe.alt=ne}function $(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.url=X}function ee(){const X=this.resume(),ne=this.stack[this.stack.length-1];ne.title=X}function Q(){this.data.inReference=void 0}function M(){this.data.referenceType="collapsed"}function de(X){const ne=this.resume(),pe=this.stack[this.stack.length-1];pe.label=ne,pe.identifier=wr(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function we(X){this.data.characterReferenceType=X.type}function he(X){const ne=this.sliceSerialize(X),pe=this.data.characterReferenceType;let be;pe?(be=Qh(ne,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):be=yl(ne);const Ee=this.stack[this.stack.length-1];Ee.value+=be}function Ne(X){const ne=this.stack.pop();ne.position.end=En(X.end)}function te(X){T.call(this,X);const ne=this.stack[this.stack.length-1];ne.url=this.sliceSerialize(X)}function W(X){T.call(this,X);const ne=this.stack[this.stack.length-1];ne.url="mailto:"+this.sliceSerialize(X)}function ie(){return{type:"blockquote",children:[]}}function ue(){return{type:"code",lang:null,meta:null,value:""}}function le(){return{type:"inlineCode",value:""}}function Se(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function $e(){return{type:"emphasis",children:[]}}function We(){return{type:"heading",depth:0,children:[]}}function L(){return{type:"break"}}function B(){return{type:"html",value:""}}function V(){return{type:"image",title:null,url:"",alt:null}}function K(){return{type:"link",title:null,url:"",children:[]}}function ce(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function fe(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function xe(){return{type:"paragraph",children:[]}}function je(){return{type:"strong",children:[]}}function Oe(){return{type:"text",value:""}}function Ge(){return{type:"thematicBreak"}}}function En(e){return{line:e.line,column:e.column,offset:e.offset}}function uf(e,n){let r=-1;for(;++r<n.length;){const a=n[r];Array.isArray(a)?uf(e,a):Nv(e,a)}}function Nv(e,n){let r;for(r in n)if(cf.call(n,r))switch(r){case"canContainEols":{const a=n[r];a&&e[r].push(...a);break}case"transforms":{const a=n[r];a&&e[r].push(...a);break}case"enter":case"exit":{const a=n[r];a&&Object.assign(e[r],a);break}}}function Kc(e,n){throw e?new Error("Cannot close `"+e.type+"` ("+_s({start:e.start,end:e.end})+"): a different token (`"+n.type+"`, "+_s({start:n.start,end:n.end})+") is open"):new Error("Cannot close document, a token (`"+n.type+"`, "+_s({start:n.start,end:n.end})+") is still open")}function kv(e){const n=this;n.parser=r;function r(a){return jv(a,{...n.data("settings"),...e,extensions:n.data("micromarkExtensions")||[],mdastExtensions:n.data("fromMarkdownExtensions")||[]})}}function Sv(e,n){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(n),!0)};return e.patch(n,r),e.applyData(n,r)}function Cv(e,n){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(n,r),[e.applyData(n,r),{type:"text",value:`
`}]}function Ev(e,n){const r=n.value?n.value+`
`:"",a={},i=n.lang?n.lang.split(/\s+/):[];i.length>0&&(a.className=["language-"+i[0]]);let o={type:"element",tagName:"code",properties:a,children:[{type:"text",value:r}]};return n.meta&&(o.data={meta:n.meta}),e.patch(n,o),o=e.applyData(n,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(n,o),o}function Pv(e,n){const r={type:"element",tagName:"del",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Av(e,n){const r={type:"element",tagName:"em",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Tv(e,n){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",a=String(n.identifier).toUpperCase(),i=$r(a.toLowerCase()),o=e.footnoteOrder.indexOf(a);let l,c=e.footnoteCounts.get(a);c===void 0?(c=0,e.footnoteOrder.push(a),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(a,c);const d={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(n,d);const u={type:"element",tagName:"sup",properties:{},children:[d]};return e.patch(n,u),e.applyData(n,u)}function Rv(e,n){const r={type:"element",tagName:"h"+n.depth,properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Ov(e,n){if(e.options.allowDangerousHtml){const r={type:"raw",value:n.value};return e.patch(n,r),e.applyData(n,r)}}function df(e,n){const r=n.referenceType;let a="]";if(r==="collapsed"?a+="[]":r==="full"&&(a+="["+(n.label||n.identifier)+"]"),n.type==="imageReference")return[{type:"text",value:"!["+n.alt+a}];const i=e.all(n),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=a:i.push({type:"text",value:a}),i}function Dv(e,n){const r=String(n.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return df(e,n);const i={src:$r(a.url||""),alt:n.alt};a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(n,o),e.applyData(n,o)}function $v(e,n){const r={src:$r(n.url)};n.alt!==null&&n.alt!==void 0&&(r.alt=n.alt),n.title!==null&&n.title!==void 0&&(r.title=n.title);const a={type:"element",tagName:"img",properties:r,children:[]};return e.patch(n,a),e.applyData(n,a)}function zv(e,n){const r={type:"text",value:n.value.replace(/\r?\n|\r/g," ")};e.patch(n,r);const a={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(n,a),e.applyData(n,a)}function Mv(e,n){const r=String(n.identifier).toUpperCase(),a=e.definitionById.get(r);if(!a)return df(e,n);const i={href:$r(a.url||"")};a.title!==null&&a.title!==void 0&&(i.title=a.title);const o={type:"element",tagName:"a",properties:i,children:e.all(n)};return e.patch(n,o),e.applyData(n,o)}function Iv(e,n){const r={href:$r(n.url)};n.title!==null&&n.title!==void 0&&(r.title=n.title);const a={type:"element",tagName:"a",properties:r,children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function Lv(e,n,r){const a=e.all(n),i=r?Fv(r):hf(n),o={},l=[];if(typeof n.checked=="boolean"){const f=a[0];let h;f&&f.type==="element"&&f.tagName==="p"?h=f:(h={type:"element",tagName:"p",properties:{},children:[]},a.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:n.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<a.length;){const f=a[c];(i||c!==0||f.type!=="element"||f.tagName!=="p")&&l.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!i?l.push(...f.children):l.push(f)}const d=a[a.length-1];d&&(i||d.type!=="element"||d.tagName!=="p")&&l.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:l};return e.patch(n,u),e.applyData(n,u)}function Fv(e){let n=!1;if(e.type==="list"){n=e.spread||!1;const r=e.children;let a=-1;for(;!n&&++a<r.length;)n=hf(r[a])}return n}function hf(e){const n=e.spread;return n??e.children.length>1}function Hv(e,n){const r={},a=e.all(n);let i=-1;for(typeof n.start=="number"&&n.start!==1&&(r.start=n.start);++i<a.length;){const l=a[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:n.ordered?"ol":"ul",properties:r,children:e.wrap(a,!0)};return e.patch(n,o),e.applyData(n,o)}function Bv(e,n){const r={type:"element",tagName:"p",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Uv(e,n){const r={type:"root",children:e.wrap(e.all(n))};return e.patch(n,r),e.applyData(n,r)}function qv(e,n){const r={type:"element",tagName:"strong",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}function Vv(e,n){const r=e.all(n),a=r.shift(),i=[];if(a){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([a],!0)};e.patch(n.children[0],l),i.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=ml(n.children[1]),d=Vh(n.children[n.children.length-1]);c&&d&&(l.position={start:c,end:d}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(n,o),e.applyData(n,o)}function Wv(e,n,r){const a=r?r.children:void 0,o=(a?a.indexOf(n):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:n.children.length;let d=-1;const u=[];for(;++d<c;){const h=n.children[d],p={},g=l?l[d]:void 0;g&&(p.align=g);let w={type:"element",tagName:o,properties:p,children:[]};h&&(w.children=e.all(h),e.patch(h,w),w=e.applyData(h,w)),u.push(w)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(n,f),e.applyData(n,f)}function Gv(e,n){const r={type:"element",tagName:"td",properties:{},children:e.all(n)};return e.patch(n,r),e.applyData(n,r)}const Jc=9,Qc=32;function Yv(e){const n=String(e),r=/\r?\n|\r/g;let a=r.exec(n),i=0;const o=[];for(;a;)o.push(Zc(n.slice(i,a.index),i>0,!0),a[0]),i=a.index+a[0].length,a=r.exec(n);return o.push(Zc(n.slice(i),i>0,!1)),o.join("")}function Zc(e,n,r){let a=0,i=e.length;if(n){let o=e.codePointAt(a);for(;o===Jc||o===Qc;)a++,o=e.codePointAt(a)}if(r){let o=e.codePointAt(i-1);for(;o===Jc||o===Qc;)i--,o=e.codePointAt(i-1)}return i>a?e.slice(a,i):""}function Xv(e,n){const r={type:"text",value:Yv(String(n.value))};return e.patch(n,r),e.applyData(n,r)}function Kv(e,n){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(n,r),e.applyData(n,r)}const Jv={blockquote:Sv,break:Cv,code:Ev,delete:Pv,emphasis:Av,footnoteReference:Tv,heading:Rv,html:Ov,imageReference:Dv,image:$v,inlineCode:zv,linkReference:Mv,link:Iv,listItem:Lv,list:Hv,paragraph:Bv,root:Uv,strong:qv,table:Vv,tableCell:Gv,tableRow:Wv,text:Xv,thematicBreak:Kv,toml:da,yaml:da,definition:da,footnoteDefinition:da};function da(){}const ff=-1,yi=0,ks=1,Ua=2,wl=3,jl=4,_l=5,Nl=6,mf=7,pf=8,eu=typeof self=="object"?self:globalThis,Qv=(e,n)=>{const r=(i,o)=>(e.set(o,i),i),a=i=>{if(e.has(i))return e.get(i);const[o,l]=n[i];switch(o){case yi:case ff:return r(l,i);case ks:{const c=r([],i);for(const d of l)c.push(a(d));return c}case Ua:{const c=r({},i);for(const[d,u]of l)c[a(d)]=a(u);return c}case wl:return r(new Date(l),i);case jl:{const{source:c,flags:d}=l;return r(new RegExp(c,d),i)}case _l:{const c=r(new Map,i);for(const[d,u]of l)c.set(a(d),a(u));return c}case Nl:{const c=r(new Set,i);for(const d of l)c.add(a(d));return c}case mf:{const{name:c,message:d}=l;return r(new eu[c](d),i)}case pf:return r(BigInt(l),i);case"BigInt":return r(Object(BigInt(l)),i);case"ArrayBuffer":return r(new Uint8Array(l).buffer,l);case"DataView":{const{buffer:c}=new Uint8Array(l);return r(new DataView(c),l)}}return r(new eu[o](l),i)};return a},tu=e=>Qv(new Map,e)(0),cr="",{toString:Zv}={},{keys:ew}=Object,Vr=e=>{const n=typeof e;if(n!=="object"||!e)return[yi,n];const r=Zv.call(e).slice(8,-1);switch(r){case"Array":return[ks,cr];case"Object":return[Ua,cr];case"Date":return[wl,cr];case"RegExp":return[jl,cr];case"Map":return[_l,cr];case"Set":return[Nl,cr];case"DataView":return[ks,r]}return r.includes("Array")?[ks,r]:r.includes("Error")?[mf,r]:[Ua,r]},ha=([e,n])=>e===yi&&(n==="function"||n==="symbol"),tw=(e,n,r,a)=>{const i=(l,c)=>{const d=a.push(l)-1;return r.set(c,d),d},o=l=>{if(r.has(l))return r.get(l);let[c,d]=Vr(l);switch(c){case yi:{let f=l;switch(d){case"bigint":c=pf,f=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+d);f=null;break;case"undefined":return i([ff],l)}return i([c,f],l)}case ks:{if(d){let p=l;return d==="DataView"?p=new Uint8Array(l.buffer):d==="ArrayBuffer"&&(p=new Uint8Array(l)),i([d,[...p]],l)}const f=[],h=i([c,f],l);for(const p of l)f.push(o(p));return h}case Ua:{if(d)switch(d){case"BigInt":return i([d,l.toString()],l);case"Boolean":case"Number":case"String":return i([d,l.valueOf()],l)}if(n&&"toJSON"in l)return o(l.toJSON());const f=[],h=i([c,f],l);for(const p of ew(l))(e||!ha(Vr(l[p])))&&f.push([o(p),o(l[p])]);return h}case wl:return i([c,l.toISOString()],l);case jl:{const{source:f,flags:h}=l;return i([c,{source:f,flags:h}],l)}case _l:{const f=[],h=i([c,f],l);for(const[p,g]of l)(e||!(ha(Vr(p))||ha(Vr(g))))&&f.push([o(p),o(g)]);return h}case Nl:{const f=[],h=i([c,f],l);for(const p of l)(e||!ha(Vr(p)))&&f.push(o(p));return h}}const{message:u}=l;return i([c,{name:d,message:u}],l)};return o},nu=(e,{json:n,lossy:r}={})=>{const a=[];return tw(!(n||r),!!n,new Map,a)(e),a},qa=typeof structuredClone=="function"?(e,n)=>n&&("json"in n||"lossy"in n)?tu(nu(e,n)):structuredClone(e):(e,n)=>tu(nu(e,n));function nw(e,n){const r=[{type:"text",value:""}];return n>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(n)}]}),r}function rw(e,n){return"Back to reference "+(e+1)+(n>1?"-"+n:"")}function sw(e){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||nw,a=e.options.footnoteBackLabel||rw,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let d=-1;for(;++d<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[d]);if(!u)continue;const f=e.all(u),h=String(u.identifier).toUpperCase(),p=$r(h.toLowerCase());let g=0;const w=[],N=e.footnoteCounts.get(h);for(;N!==void 0&&++g<=N;){w.length>0&&w.push({type:"text",value:" "});let y=typeof r=="string"?r:r(d,g);typeof y=="string"&&(y={type:"text",value:y}),w.push({type:"element",tagName:"a",properties:{href:"#"+n+"fnref-"+p+(g>1?"-"+g:""),dataFootnoteBackref:"",ariaLabel:typeof a=="string"?a:a(d,g),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const j=f[f.length-1];if(j&&j.type==="element"&&j.tagName==="p"){const y=j.children[j.children.length-1];y&&y.type==="text"?y.value+=" ":j.children.push({type:"text",value:" "}),j.children.push(...w)}else f.push(...w);const x={type:"element",tagName:"li",properties:{id:n+"fn-"+p},children:e.wrap(f,!0)};e.patch(u,x),c.push(x)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...qa(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const gf=(function(e){if(e==null)return lw;if(typeof e=="function")return bi(e);if(typeof e=="object")return Array.isArray(e)?aw(e):iw(e);if(typeof e=="string")return ow(e);throw new Error("Expected function, string, or object as test")});function aw(e){const n=[];let r=-1;for(;++r<e.length;)n[r]=gf(e[r]);return bi(a);function a(...i){let o=-1;for(;++o<n.length;)if(n[o].apply(this,i))return!0;return!1}}function iw(e){const n=e;return bi(r);function r(a){const i=a;let o;for(o in e)if(i[o]!==n[o])return!1;return!0}}function ow(e){return bi(n);function n(r){return r&&r.type===e}}function bi(e){return n;function n(r,a,i){return!!(cw(r)&&e.call(this,r,typeof a=="number"?a:void 0,i||void 0))}}function lw(){return!0}function cw(e){return e!==null&&typeof e=="object"&&"type"in e}const xf=[],uw=!0,ru=!1,dw="skip";function hw(e,n,r,a){let i;typeof n=="function"&&typeof r!="function"?(a=r,r=n):i=n;const o=gf(i),l=a?-1:1;c(e,void 0,[])();function c(d,u,f){const h=d&&typeof d=="object"?d:{};if(typeof h.type=="string"){const g=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(d.type+(g?"<"+g+">":""))+")"})}return p;function p(){let g=xf,w,N,j;if((!n||o(d,u,f[f.length-1]||void 0))&&(g=fw(r(d,f)),g[0]===ru))return g;if("children"in d&&d.children){const x=d;if(x.children&&g[0]!==dw)for(N=(a?x.children.length:-1)+l,j=f.concat(x);N>-1&&N<x.children.length;){const y=x.children[N];if(w=c(y,N,j)(),w[0]===ru)return w;N=typeof w[1]=="number"?w[1]:N+l}}return g}}}function fw(e){return Array.isArray(e)?e:typeof e=="number"?[uw,e]:e==null?xf:[e]}function yf(e,n,r,a){let i,o,l;typeof n=="function"&&typeof r!="function"?(o=void 0,l=n,i=r):(o=n,l=r,i=a),hw(e,o,c,i);function c(d,u){const f=u[u.length-1],h=f?f.children.indexOf(d):void 0;return l(d,h,f)}}const Ao={}.hasOwnProperty,mw={};function pw(e,n){const r=n||mw,a=new Map,i=new Map,o=new Map,l={...Jv,...r.handlers},c={all:u,applyData:xw,definitionById:a,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:d,options:r,patch:gw,wrap:bw};return yf(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const h=f.type==="definition"?a:i,p=String(f.identifier).toUpperCase();h.has(p)||h.set(p,f)}}),c;function d(f,h){const p=f.type,g=c.handlers[p];if(Ao.call(c.handlers,p)&&g)return g(c,f,h);if(c.options.passThrough&&c.options.passThrough.includes(p)){if("children"in f){const{children:N,...j}=f,x=qa(j);return x.children=c.all(f),x}return qa(f)}return(c.options.unknownHandler||yw)(c,f,h)}function u(f){const h=[];if("children"in f){const p=f.children;let g=-1;for(;++g<p.length;){const w=c.one(p[g],f);if(w){if(g&&p[g-1].type==="break"&&(!Array.isArray(w)&&w.type==="text"&&(w.value=su(w.value)),!Array.isArray(w)&&w.type==="element")){const N=w.children[0];N&&N.type==="text"&&(N.value=su(N.value))}Array.isArray(w)?h.push(...w):h.push(w)}}}return h}}function gw(e,n){e.position&&(n.position=Z0(e))}function xw(e,n){let r=n;if(e&&e.data){const a=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof a=="string")if(r.type==="element")r.tagName=a;else{const l="children"in r?r.children:[r];r={type:"element",tagName:a,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,qa(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function yw(e,n){const r=n.data||{},a="value"in n&&!(Ao.call(r,"hProperties")||Ao.call(r,"hChildren"))?{type:"text",value:n.value}:{type:"element",tagName:"div",properties:{},children:e.all(n)};return e.patch(n,a),e.applyData(n,a)}function bw(e,n){const r=[];let a=-1;for(n&&r.push({type:"text",value:`
`});++a<e.length;)a&&r.push({type:"text",value:`
`}),r.push(e[a]);return n&&e.length>0&&r.push({type:"text",value:`
`}),r}function su(e){let n=0,r=e.charCodeAt(n);for(;r===9||r===32;)n++,r=e.charCodeAt(n);return e.slice(n)}function au(e,n){const r=pw(e,n),a=r.one(e,void 0),i=sw(r),o=Array.isArray(a)?{type:"root",children:a}:a||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function vw(e,n){return e&&"run"in e?async function(r,a){const i=au(r,{file:a,...n});await e.run(i,a)}:function(r,a){return au(r,{file:a,...e||n})}}function iu(e){if(e)throw e}var qi,ou;function ww(){if(ou)return qi;ou=1;var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,a=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):n.call(u)==="[object Array]"},o=function(u){if(!u||n.call(u)!=="[object Object]")return!1;var f=e.call(u,"constructor"),h=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!f&&!h)return!1;var p;for(p in u);return typeof p>"u"||e.call(u,p)},l=function(u,f){r&&f.name==="__proto__"?r(u,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):u[f.name]=f.newValue},c=function(u,f){if(f==="__proto__")if(e.call(u,f)){if(a)return a(u,f).value}else return;return u[f]};return qi=function d(){var u,f,h,p,g,w,N=arguments[0],j=1,x=arguments.length,y=!1;for(typeof N=="boolean"&&(y=N,N=arguments[1]||{},j=2),(N==null||typeof N!="object"&&typeof N!="function")&&(N={});j<x;++j)if(u=arguments[j],u!=null)for(f in u)h=c(N,f),p=c(u,f),N!==p&&(y&&p&&(o(p)||(g=i(p)))?(g?(g=!1,w=h&&i(h)?h:[]):w=h&&o(h)?h:{},l(N,{name:f,newValue:d(y,w,p)})):typeof p<"u"&&l(N,{name:f,newValue:p}));return N},qi}var jw=ww();const Vi=ii(jw);function To(e){if(typeof e!="object"||e===null)return!1;const n=Object.getPrototypeOf(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function _w(){const e=[],n={run:r,use:a};return n;function r(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(d,...u){const f=e[++o];let h=-1;if(d){l(d);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,f?Nw(f,c)(...u):l(null,...u)}}function a(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),n}}function Nw(e,n){let r;return a;function a(...l){const c=e.length>l.length;let d;c&&l.push(i);try{d=e.apply(this,l)}catch(u){const f=u;if(c&&r)throw f;return i(f)}c||(d&&d.then&&typeof d.then=="function"?d.then(o,i):d instanceof Error?i(d):o(d))}function i(l,...c){r||(r=!0,n(l,...c))}function o(l){i(null,l)}}const Qt={basename:kw,dirname:Sw,extname:Cw,join:Ew,sep:"/"};function kw(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Js(e);let r=0,a=-1,i=e.length,o;if(n===void 0||n.length===0||n.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else a<0&&(o=!0,a=i+1);return a<0?"":e.slice(r,a)}if(n===e)return"";let l=-1,c=n.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else l<0&&(o=!0,l=i+1),c>-1&&(e.codePointAt(i)===n.codePointAt(c--)?c<0&&(a=i):(c=-1,a=l));return r===a?a=l:a<0&&(a=e.length),e.slice(r,a)}function Sw(e){if(Js(e),e.length===0)return".";let n=-1,r=e.length,a;for(;--r;)if(e.codePointAt(r)===47){if(a){n=r;break}}else a||(a=!0);return n<0?e.codePointAt(0)===47?"/":".":n===1&&e.codePointAt(0)===47?"//":e.slice(0,n)}function Cw(e){Js(e);let n=e.length,r=-1,a=0,i=-1,o=0,l;for(;n--;){const c=e.codePointAt(n);if(c===47){if(l){a=n+1;break}continue}r<0&&(l=!0,r=n+1),c===46?i<0?i=n:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===a+1?"":e.slice(i,r)}function Ew(...e){let n=-1,r;for(;++n<e.length;)Js(e[n]),e[n]&&(r=r===void 0?e[n]:r+"/"+e[n]);return r===void 0?".":Pw(r)}function Pw(e){Js(e);const n=e.codePointAt(0)===47;let r=Aw(e,!n);return r.length===0&&!n&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),n?"/"+r:r}function Aw(e,n){let r="",a=0,i=-1,o=0,l=-1,c,d;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(r.length<2||a!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(d=r.lastIndexOf("/"),d!==r.length-1){d<0?(r="",a=0):(r=r.slice(0,d),a=r.length-1-r.lastIndexOf("/")),i=l,o=0;continue}}else if(r.length>0){r="",a=0,i=l,o=0;continue}}n&&(r=r.length>0?r+"/..":"..",a=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),a=l-i-1;i=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function Js(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Tw={cwd:Rw};function Rw(){return"/"}function Ro(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Ow(e){if(typeof e=="string")e=new URL(e);else if(!Ro(e)){const n=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw n.code="ERR_INVALID_ARG_TYPE",n}if(e.protocol!=="file:"){const n=new TypeError("The URL must be of scheme file");throw n.code="ERR_INVALID_URL_SCHEME",n}return Dw(e)}function Dw(e){if(e.hostname!==""){const a=new TypeError('File URL host must be "localhost" or empty on darwin');throw a.code="ERR_INVALID_FILE_URL_HOST",a}const n=e.pathname;let r=-1;for(;++r<n.length;)if(n.codePointAt(r)===37&&n.codePointAt(r+1)===50){const a=n.codePointAt(r+2);if(a===70||a===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(n)}const Wi=["history","path","basename","stem","extname","dirname"];class bf{constructor(n){let r;n?Ro(n)?r={path:n}:typeof n=="string"||$w(n)?r={value:n}:r=n:r={},this.cwd="cwd"in r?"":Tw.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let a=-1;for(;++a<Wi.length;){const o=Wi[a];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)Wi.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Qt.basename(this.path):void 0}set basename(n){Yi(n,"basename"),Gi(n,"basename"),this.path=Qt.join(this.dirname||"",n)}get dirname(){return typeof this.path=="string"?Qt.dirname(this.path):void 0}set dirname(n){lu(this.basename,"dirname"),this.path=Qt.join(n||"",this.basename)}get extname(){return typeof this.path=="string"?Qt.extname(this.path):void 0}set extname(n){if(Gi(n,"extname"),lu(this.dirname,"extname"),n){if(n.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(n.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qt.join(this.dirname,this.stem+(n||""))}get path(){return this.history[this.history.length-1]}set path(n){Ro(n)&&(n=Ow(n)),Yi(n,"path"),this.path!==n&&this.history.push(n)}get stem(){return typeof this.path=="string"?Qt.basename(this.path,this.extname):void 0}set stem(n){Yi(n,"stem"),Gi(n,"stem"),this.path=Qt.join(this.dirname||"",n+(this.extname||""))}fail(n,r,a){const i=this.message(n,r,a);throw i.fatal=!0,i}info(n,r,a){const i=this.message(n,r,a);return i.fatal=void 0,i}message(n,r,a){const i=new at(n,r,a);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(n){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(n||void 0).decode(this.value)}}function Gi(e,n){if(e&&e.includes(Qt.sep))throw new Error("`"+n+"` cannot be a path: did not expect `"+Qt.sep+"`")}function Yi(e,n){if(!e)throw new Error("`"+n+"` cannot be empty")}function lu(e,n){if(!e)throw new Error("Setting `"+n+"` requires `path` to be set too")}function $w(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const zw=(function(e){const a=this.constructor.prototype,i=a[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,a),o}),Mw={}.hasOwnProperty;class kl extends zw{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=_w()}copy(){const n=new kl;let r=-1;for(;++r<this.attachers.length;){const a=this.attachers[r];n.use(...a)}return n.data(Vi(!0,{},this.namespace)),n}data(n,r){return typeof n=="string"?arguments.length===2?(Ji("data",this.frozen),this.namespace[n]=r,this):Mw.call(this.namespace,n)&&this.namespace[n]||void 0:n?(Ji("data",this.frozen),this.namespace=n,this):this.namespace}freeze(){if(this.frozen)return this;const n=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...a]=this.attachers[this.freezeIndex];if(a[0]===!1)continue;a[0]===!0&&(a[0]=void 0);const i=r.call(n,...a);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(n){this.freeze();const r=fa(n),a=this.parser||this.Parser;return Xi("parse",a),a(String(r),r)}process(n,r){const a=this;return this.freeze(),Xi("process",this.parser||this.Parser),Ki("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,l){const c=fa(n),d=a.parse(c);a.run(d,c,function(f,h,p){if(f||!h||!p)return u(f);const g=h,w=a.stringify(g,p);Fw(w)?p.value=w:p.result=w,u(f,p)});function u(f,h){f||!h?l(f):o?o(h):r(void 0,h)}}}processSync(n){let r=!1,a;return this.freeze(),Xi("processSync",this.parser||this.Parser),Ki("processSync",this.compiler||this.Compiler),this.process(n,i),uu("processSync","process",r),a;function i(o,l){r=!0,iu(o),a=l}}run(n,r,a){cu(n),this.freeze();const i=this.transformers;return!a&&typeof r=="function"&&(a=r,r=void 0),a?o(void 0,a):new Promise(o);function o(l,c){const d=fa(r);i.run(n,d,u);function u(f,h,p){const g=h||n;f?c(f):l?l(g):a(void 0,g,p)}}}runSync(n,r){let a=!1,i;return this.run(n,r,o),uu("runSync","run",a),i;function o(l,c){iu(l),i=c,a=!0}}stringify(n,r){this.freeze();const a=fa(r),i=this.compiler||this.Compiler;return Ki("stringify",i),cu(n),i(n,a)}use(n,...r){const a=this.attachers,i=this.namespace;if(Ji("use",this.frozen),n!=null)if(typeof n=="function")d(n,r);else if(typeof n=="object")Array.isArray(n)?c(n):l(n);else throw new TypeError("Expected usable value, not `"+n+"`");return this;function o(u){if(typeof u=="function")d(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...h]=u;d(f,h)}else l(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function l(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(u.plugins),u.settings&&(i.settings=Vi(!0,i.settings,u.settings))}function c(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const h=u[f];o(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function d(u,f){let h=-1,p=-1;for(;++h<a.length;)if(a[h][0]===u){p=h;break}if(p===-1)a.push([u,...f]);else if(f.length>0){let[g,...w]=f;const N=a[p][1];To(N)&&To(g)&&(g=Vi(!0,N,g)),a[p]=[u,g,...w]}}}}const Iw=new kl().freeze();function Xi(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Ki(e,n){if(typeof n!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ji(e,n){if(n)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function cu(e){if(!To(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function uu(e,n,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+n+"` instead")}function fa(e){return Lw(e)?e:new bf(e)}function Lw(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Fw(e){return typeof e=="string"||Hw(e)}function Hw(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Bw="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",du=[],hu={allowDangerousHtml:!0},Uw=/^(https?|ircs?|mailto|xmpp)$/i,qw=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vw(e){const n=Ww(e),r=Gw(e);return Yw(n.runSync(n.parse(r),r),e)}function Ww(e){const n=e.rehypePlugins||du,r=e.remarkPlugins||du,a=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...hu}:hu;return Iw().use(kv).use(r).use(vw,a).use(n)}function Gw(e){const n=e.children||"",r=new bf;return typeof n=="string"&&(r.value=n),r}function Yw(e,n){const r=n.allowedElements,a=n.allowElement,i=n.components,o=n.disallowedElements,l=n.skipHtml,c=n.unwrapDisallowed,d=n.urlTransform||Xw;for(const f of qw)Object.hasOwn(n,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+Bw+f.id,void 0);return yf(e,u),sy(e,{Fragment:s.Fragment,components:i,ignoreInvalidStyle:!0,jsx:s.jsx,jsxs:s.jsxs,passKeys:!0,passNode:!0});function u(f,h,p){if(f.type==="raw"&&p&&typeof h=="number")return l?p.children.splice(h,1):p.children[h]={type:"text",value:f.value},h;if(f.type==="element"){let g;for(g in Hi)if(Object.hasOwn(Hi,g)&&Object.hasOwn(f.properties,g)){const w=f.properties[g],N=Hi[g];(N===null||N.includes(f.tagName))&&(f.properties[g]=d(String(w||""),g,f))}}if(f.type==="element"){let g=r?!r.includes(f.tagName):o?o.includes(f.tagName):!1;if(!g&&a&&typeof h=="number"&&(g=!a(f,h,p)),g&&p&&typeof h=="number")return c&&f.children?p.children.splice(h,1,...f.children):p.children.splice(h,1),h}}}function Xw(e){const n=e.indexOf(":"),r=e.indexOf("?"),a=e.indexOf("#"),i=e.indexOf("/");return n===-1||i!==-1&&n>i||r!==-1&&n>r||a!==-1&&n>a||Uw.test(e.slice(0,n))?e:""}const Kw=({message:e})=>{const n=e.role==="user";return s.jsxs("div",{className:`flex gap-3 ${n?"flex-row-reverse":""}`,children:[s.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${n?"bg-cyan-600":"bg-gradient-to-br from-purple-600 to-indigo-600"}`,children:n?s.jsx(Tr,{className:"w-4 h-4 text-white"}):s.jsx(Fp,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{className:`flex-1 max-w-[80%] ${n?"text-right":"text-left"}`,children:[s.jsx("div",{className:`inline-block p-3 rounded-lg ${n?"bg-cyan-600 text-white rounded-tr-sm":"bg-gray-700 text-gray-100 rounded-tl-sm"}`,children:n?s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:e.content}):s.jsxs("div",{className:"text-sm prose prose-sm prose-invert max-w-none",children:[s.jsx(Vw,{components:{a:({href:r,children:a})=>s.jsx("a",{href:r,className:"text-cyan-400 hover:text-cyan-300 underline",onClick:i=>{r!=null&&r.startsWith("/")&&(i.preventDefault(),window.location.href=r)},children:a}),code:({className:r,children:a})=>!r?s.jsx("code",{className:"bg-gray-800 px-1 py-0.5 rounded text-cyan-300 text-xs",children:a}):s.jsx("code",{className:"block bg-gray-800 p-2 rounded text-xs overflow-x-auto",children:a}),ul:({children:r})=>s.jsx("ul",{className:"list-disc list-inside space-y-1 my-2",children:r}),ol:({children:r})=>s.jsx("ol",{className:"list-decimal list-inside space-y-1 my-2",children:r}),p:({children:r})=>s.jsx("p",{className:"mb-2 last:mb-0",children:r})},children:e.content}),e.isStreaming&&s.jsx("span",{className:"inline-block w-2 h-4 bg-cyan-400 animate-pulse ml-1"})]})}),s.jsx("div",{className:`text-xs text-gray-500 mt-1 ${n?"text-right":"text-left"}`,children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},Jw=({onSend:e,isLoading:n,disabled:r})=>{const[a,i]=E.useState(""),o=E.useRef(null);E.useEffect(()=>{o.current&&(o.current.style.height="auto",o.current.style.height=`${Math.min(o.current.scrollHeight,120)}px`)},[a]);const l=d=>{d.preventDefault(),a.trim()&&!n&&!r&&(e(a.trim()),i(""),o.current&&(o.current.style.height="auto"))},c=d=>{d.key==="Enter"&&!d.shiftKey&&(d.preventDefault(),l(d))};return s.jsxs("form",{onSubmit:l,className:"flex items-end gap-2",children:[s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{ref:o,value:a,onChange:d=>i(d.target.value),onKeyDown:c,placeholder:"Ask anything about your security data...",disabled:n||r,className:`w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg
                     text-white placeholder-gray-400 resize-none
                     focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent
                     disabled:opacity-50 disabled:cursor-not-allowed
                     text-sm min-h-[40px] max-h-[120px]`,rows:1})}),s.jsx("button",{type:"submit",disabled:!a.trim()||n||r,className:`flex-shrink-0 p-2 bg-cyan-600 hover:bg-cyan-700
                   disabled:bg-gray-600 disabled:cursor-not-allowed
                   rounded-lg transition-colors`,children:n?s.jsx(Nn,{className:"w-5 h-5 text-white animate-spin"}):s.jsx(Hp,{className:"w-5 h-5 text-white"})})]})},Qw=()=>{const e=Qo(),n=E.useRef(null),{messages:r,conversationId:a,isLoading:i,error:o,addMessage:l,appendToLastMessage:c,finalizeLastMessage:d,setLoading:u,setError:f,setConversationId:h}=Mh();E.useEffect(()=>{var g;(g=n.current)==null||g.scrollIntoView({behavior:"smooth"})},[r]);const p=async g=>{const w={id:crypto.randomUUID(),role:"user",content:g,timestamp:new Date().toISOString()};l(w);const N={id:crypto.randomUUID(),role:"assistant",content:"",timestamp:new Date().toISOString(),isStreaming:!0};l(N),u(!0),f(null);try{await P0.sendMessage(g,a,e.pathname,j=>{c(j)},j=>{h(j)},()=>{d(),u(!1)},j=>{f(j),d(),u(!1)})}catch(j){f(j instanceof Error?j.message:"Failed to send message"),u(!1)}};return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[r.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center mb-4",children:s.jsx(th,{className:"w-6 h-6 text-white"})}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Zeus"}),s.jsx("p",{className:"text-sm text-gray-400 max-w-xs",children:"I have access to your security data and can help you understand vulnerabilities, plan scans, and navigate the platform."}),s.jsxs("div",{className:"mt-4 space-y-2 text-xs text-gray-500",children:[s.jsx("p",{children:"Try asking:"}),s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{children:'"What are my most critical vulnerabilities?"'}),s.jsx("li",{children:'"How do I start a new scan?"'}),s.jsx("li",{children:'"Explain CVE-2024-1234 to me"'})]})]})]}):s.jsx(s.Fragment,{children:r.map(g=>s.jsx(Kw,{message:g},g.id))}),s.jsx("div",{ref:n})]}),o&&s.jsxs("div",{className:"mx-4 mb-2 p-2 bg-red-900/50 border border-red-700 rounded-lg flex items-center gap-2 text-sm text-red-300",children:[s.jsx(el,{className:"w-4 h-4 flex-shrink-0"}),s.jsx("span",{children:o})]}),s.jsx("div",{className:"p-4 border-t border-gray-700",children:s.jsx(Jw,{onSend:p,isLoading:i})})]})},Zw=()=>{const{isOpen:e,isMinimized:n,messages:r,setOpen:a,setMinimized:i,startNewConversation:o}=Mh();if(!Bn(f=>f.isAuthenticated))return null;const c=()=>{a(!1),i(!1)},d=()=>{i(!0)},u=()=>{o()};return!e||n?s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsxs("button",{onClick:()=>{a(!0),i(!1)},className:`group relative w-14 h-14 bg-gradient-to-br from-purple-600 to-indigo-600
                     hover:from-purple-500 hover:to-indigo-500
                     text-white rounded-full shadow-lg
                     flex items-center justify-center transition-all duration-200
                     hover:scale-105 hover:shadow-xl`,"aria-label":"Open Zeus AI Assistant",children:[s.jsx(Jl,{className:"w-6 h-6"}),r.length>0&&s.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full
                           text-xs font-medium flex items-center justify-center`,children:r.length>99?"99+":r.length}),s.jsx("span",{className:`absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-800 text-white
                         text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity
                         whitespace-nowrap pointer-events-none`,children:"Zeus"})]})}):s.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:s.jsxs("div",{className:`w-96 h-[500px] bg-gray-800 border border-gray-700
                      rounded-lg shadow-2xl flex flex-col overflow-hidden
                      animate-in slide-in-from-bottom-4 duration-200`,children:[s.jsxs("div",{className:`flex items-center justify-between px-4 py-3
                        bg-gradient-to-r from-purple-600 to-indigo-600`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jl,{className:"w-5 h-5 text-white"}),s.jsx("span",{className:"font-medium text-white",children:"Zeus"})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:u,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"New conversation",children:s.jsx(nh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:d,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Minimize",children:s.jsx(rh,{className:"w-4 h-4"})}),s.jsx("button",{onClick:c,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Close",children:s.jsx($t,{className:"w-4 h-4"})})]})]}),s.jsx(Qw,{})]})})},ej=({children:e})=>s.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors flex flex-col",children:[s.jsx(C0,{}),s.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex-1 w-full",children:e}),s.jsx(E0,{}),s.jsx(Zw,{})]}),mr=({id:e,label:n,checked:r,onChange:a,className:i="",disabled:o=!1})=>s.jsxs("label",{className:`inline-flex items-center ${o?"opacity-50 cursor-not-allowed":"cursor-pointer"} ${i}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:e,type:"checkbox",checked:r,onChange:l=>a(l.target.checked),disabled:o,className:"sr-only"}),s.jsx("div",{className:`
            w-5 h-5 border-2 rounded transition-all
            ${r?"bg-primary border-primary":"bg-light-surface dark:bg-dark-surface border-light-border dark:border-dark-border hover:border-primary"}
          `,children:r&&s.jsx(mt,{className:"h-full w-full text-white p-0.5"})})]}),n&&s.jsx("span",{className:"ml-2 text-sm text-slate-700 dark:text-slate-300",children:n})]}),ye=({children:e,variant:n="default",className:r="",onClick:a})=>{const i="bg-dark-surface border border-dark-border rounded-lg p-4 shadow-lg",o={default:"",interactive:"cursor-pointer hover:border-primary hover:shadow-xl transition-all duration-200"};return s.jsx("div",{className:`${i} ${o[n]} ${r}`,onClick:a,children:e})},tj=({selectedTagIds:e,onChange:n,existingTags:r,onTagsChange:a})=>{const[i,o]=E.useState(!1),[l,c]=E.useState(""),[d,u]=E.useState([]),[f,h]=E.useState(!1),[p,g]=E.useState(""),[w,N]=E.useState("#06b6d4"),[j,x]=E.useState(!1),y=E.useRef(null),v=["#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444","#ec4899","#3b82f6","#84cc16"];E.useEffect(()=>{b()},[]),E.useEffect(()=>{const P=O=>{y.current&&!y.current.contains(O.target)&&(o(!1),h(!1))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]);const b=async()=>{try{const P=await Ht.getSuggestions();u(P.data)}catch(P){console.error("Failed to load tag suggestions:",P)}},_=r.filter(P=>e.includes(P.id)),k=r.filter(P=>!e.includes(P.id)&&P.name.toLowerCase().includes(l.toLowerCase())),S=d.reduce((P,O)=>(P[O.category]||(P[O.category]=[]),!r.some(R=>R.name.toLowerCase()===O.name.toLowerCase())&&O.name.toLowerCase().includes(l.toLowerCase())&&P[O.category].push(O),P),{}),C=P=>{e.includes(P)?n(e.filter(O=>O!==P)):n([...e,P])},A=async P=>{x(!0);try{const I=(await Ht.create({name:P.name,color:P.color})).data;a&&a([...r,I]),n([...e,I.id]),c("")}catch(O){console.error("Failed to create tag:",O)}finally{x(!1)}},T=async()=>{if(p.trim()){x(!0);try{const O=(await Ht.create({name:p.trim(),color:w})).data;a&&a([...r,O]),n([...e,O.id]),g(""),h(!1)}catch(P){console.error("Failed to create tag:",P)}finally{x(!1)}}};return s.jsxs("div",{className:"relative",ref:y,children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rs,{className:"h-4 w-4 text-primary"}),"Tags (Optional)"]})}),s.jsxs("div",{className:"min-h-[42px] px-3 py-2 bg-dark-surface border border-dark-border rounded-lg cursor-pointer flex flex-wrap gap-2 items-center",onClick:()=>o(!i),children:[_.length>0?s.jsx(s.Fragment,{children:_.map(P=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-sm",style:{backgroundColor:P.color+"20",color:P.color},children:[P.name,s.jsx("button",{type:"button",onClick:O=>{O.stopPropagation(),C(P.id)},className:"hover:opacity-70",children:s.jsx($t,{className:"h-3 w-3"})})]},P.id))}):s.jsx("span",{className:"text-slate-500",children:"Click to add tags..."}),s.jsx(St,{className:`h-4 w-4 text-slate-400 ml-auto transition-transform ${i?"rotate-180":""}`})]}),i&&s.jsxs("div",{className:"absolute z-50 mt-1 w-full bg-dark-bg border border-dark-border rounded-lg shadow-xl max-h-80 overflow-y-auto",children:[s.jsx("div",{className:"p-2 border-b border-dark-border",children:s.jsx("input",{type:"text",placeholder:"Search or create tags...",value:l,onChange:P=>c(P.target.value),className:"w-full px-3 py-1.5 bg-dark-surface border border-dark-border rounded text-sm text-white focus:outline-none focus:border-primary",autoFocus:!0})}),s.jsxs("div",{className:"p-2 space-y-3",children:[k.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Your Tags"}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:k.map(P=>s.jsxs("button",{type:"button",onClick:()=>C(P.id),className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm transition-opacity hover:opacity-80",style:{backgroundColor:P.color+"20",color:P.color},children:[s.jsx(Ln,{className:"h-3 w-3"}),P.name]},P.id))})]}),Object.entries(S).map(([P,O])=>O.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:P}),s.jsx("div",{className:"flex flex-wrap gap-1.5",children:O.map(I=>s.jsxs("button",{type:"button",onClick:()=>A(I),disabled:j,className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm transition-opacity hover:opacity-80 disabled:opacity-50",style:{backgroundColor:I.color+"15",color:I.color,border:`1px dashed ${I.color}40`},children:[s.jsx(Ln,{className:"h-3 w-3"}),I.name]},I.name))})]},P)),f?s.jsxs("div",{className:"space-y-2 p-2 bg-dark-surface rounded-lg",children:[s.jsx("input",{type:"text",placeholder:"Tag name",value:p,onChange:P=>g(P.target.value),className:"w-full px-3 py-1.5 bg-dark-bg border border-dark-border rounded text-sm text-white focus:outline-none focus:border-primary",autoFocus:!0}),s.jsx("div",{className:"flex gap-1",children:v.map(P=>s.jsx("button",{type:"button",onClick:()=>N(P),className:`w-6 h-6 rounded-full border-2 ${w===P?"border-white":"border-transparent"}`,style:{backgroundColor:P}},P))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:T,disabled:!p.trim()||j,className:"flex-1 px-3 py-1.5 bg-primary text-white rounded text-sm hover:bg-primary/80 disabled:opacity-50",children:"Create"}),s.jsx("button",{type:"button",onClick:()=>{h(!1),g("")},className:"px-3 py-1.5 bg-dark-bg border border-dark-border text-slate-400 rounded text-sm hover:text-white",children:"Cancel"})]})]}):s.jsxs("button",{type:"button",onClick:()=>{h(!0),l&&g(l)},className:"w-full px-3 py-2 text-sm text-slate-400 border border-dashed border-dark-border rounded hover:border-primary hover:text-primary transition-colors flex items-center justify-center gap-2",children:[s.jsx(Ln,{className:"h-4 w-4"}),"Create new tag",l?`: "${l}"`:""]})]})]})]})},ma={quick:{label:"Quick",icon:xr,color:"text-yellow-400",description:"Fast, lightweight scans"},standard:{label:"Standard",icon:_r,color:"text-blue-400",description:"Balanced scanning approach"},comprehensive:{label:"Comprehensive",icon:Ce,color:"text-green-400",description:"Thorough security assessment"},web:{label:"Web",icon:jn,color:"text-purple-400",description:"Web application focused"},stealth:{label:"Stealth",icon:sh,color:"text-orange-400",description:"Low-profile reconnaissance"},custom:{label:"Custom",icon:st,color:"text-slate-400",description:"User-defined templates"}},nj=({onSelect:e,selectedTemplateId:n,className:r=""})=>{const[a,i]=E.useState([]),[o,l]=E.useState([]),[c,d]=E.useState(null),[u,f]=E.useState(!0),[h,p]=E.useState(!1),[g,w]=E.useState(null),[N,j]=E.useState("all");E.useEffect(()=>{x()},[]);const x=async()=>{try{f(!0);const[P,O,I]=await Promise.all([js.getAll(),js.getSystem(),js.getDefault().catch(()=>({data:null}))]);i(P.data),l(O.data),d(I.data)}catch(P){console.error("Failed to load templates:",P),J.error("Failed to load scan templates")}finally{f(!1)}},y=[...o,...a],v=N==="all"?y:y.filter(P=>P.category===N),b=y.find(P=>P.id===n),_=P=>{e(P),p(!1),w(null),J.success(`Applied "${P.name}" template`)},k=()=>{e(null),p(!1),w(null)},S=P=>{var O;return((O=ma[P])==null?void 0:O.icon)||st},C=P=>{var O;return((O=ma[P])==null?void 0:O.color)||"text-slate-400"},A=P=>{if(!P)return null;if(P<60)return`~${P}m`;const O=Math.floor(P/60),I=P%60;return I>0?`~${O}h ${I}m`:`~${O}h`},T=P=>{const O=[];return P.enable_os_detection&&O.push("OS Detection"),P.enable_service_detection&&O.push("Service Detection"),P.enable_vuln_scan&&O.push("Vulnerability Scan"),P.enable_enumeration&&O.push(`Enumeration (${P.enum_depth||"light"})`),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"text-slate-400",children:[s.jsx("span",{className:"text-slate-500",children:"Ports:"})," ",P.port_range[0],"-",P.port_range[1]]}),s.jsxs("div",{className:"text-slate-400",children:[s.jsx("span",{className:"text-slate-500",children:"Threads:"})," ",P.threads]}),P.scan_type&&s.jsxs("div",{className:"text-slate-400",children:[s.jsx("span",{className:"text-slate-500",children:"Type:"})," ",P.scan_type.replace("_"," ")]}),P.udp_port_range&&s.jsxs("div",{className:"text-slate-400",children:[s.jsx("span",{className:"text-slate-500",children:"UDP:"})," ",P.udp_port_range[0],"-",P.udp_port_range[1]]})]}),O.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1.5 pt-1",children:O.map(I=>s.jsx("span",{className:"px-2 py-0.5 text-xs bg-dark-surface rounded-full text-slate-400 border border-dark-border",children:I},I))})]})};return u?s.jsx("div",{className:`bg-dark-card border border-dark-border rounded-lg p-4 ${r}`,children:s.jsxs("div",{className:"animate-pulse flex items-center space-x-3",children:[s.jsx("div",{className:"h-8 w-8 bg-dark-surface rounded-lg"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-dark-surface rounded w-1/3 mb-2"}),s.jsx("div",{className:"h-3 bg-dark-surface rounded w-1/2"})]})]})}):s.jsxs("div",{className:`space-y-3 ${r}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(eh,{className:"h-5 w-5 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-slate-300",children:"Scan Template"})]}),c&&!n&&s.jsxs("button",{type:"button",onClick:()=>_(c),className:"text-xs text-yellow-400 hover:text-yellow-300 flex items-center gap-1",children:[s.jsx(Oi,{className:"h-3 w-3"}),"Use Default"]})]}),s.jsx("button",{type:"button",onClick:()=>p(!h),className:`w-full p-3 rounded-lg border transition-all text-left ${h?"bg-primary/10 border-primary":"bg-dark-card border-dark-border hover:border-slate-500"}`,children:b?s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[Zo.createElement(S(b.category),{className:`h-5 w-5 ${C(b.category)}`}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:b.name}),b.is_system&&s.jsx(on,{className:"h-3 w-3 text-slate-500"}),b.is_default&&s.jsx(Oi,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"})]}),b.description&&s.jsx("p",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:b.description})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[b.estimated_duration_mins&&s.jsxs("span",{className:"text-xs text-slate-500 flex items-center gap-1",children:[s.jsx(qt,{className:"h-3 w-3"}),A(b.estimated_duration_mins)]}),h?s.jsx(Hn,{className:"h-4 w-4 text-slate-400"}):s.jsx(St,{className:"h-4 w-4 text-slate-400"})]})]}):s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(po,{className:"h-5 w-5 text-slate-500"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-slate-400",children:"Start from scratch"}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Or select a template to pre-configure scan settings"})]})]}),h?s.jsx(Hn,{className:"h-4 w-4 text-slate-400"}):s.jsx(St,{className:"h-4 w-4 text-slate-400"})]})}),h&&s.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg overflow-hidden animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-dark-border bg-dark-surface overflow-x-auto",children:[s.jsx("button",{type:"button",onClick:()=>j("all"),className:`px-3 py-1.5 text-xs rounded-md whitespace-nowrap transition-colors ${N==="all"?"bg-primary text-white":"text-slate-400 hover:text-white hover:bg-dark-border"}`,children:"All"}),Object.keys(ma).map(P=>{const O=ma[P],I=y.filter(D=>D.category===P).length;if(I===0)return null;const R=O.icon;return s.jsxs("button",{type:"button",onClick:()=>j(P),className:`px-3 py-1.5 text-xs rounded-md whitespace-nowrap transition-colors flex items-center gap-1.5 ${N===P?"bg-primary text-white":"text-slate-400 hover:text-white hover:bg-dark-border"}`,children:[s.jsx(R,{className:"h-3 w-3"}),O.label,s.jsxs("span",{className:"text-slate-500",children:["(",I,")"]})]},P)})]}),s.jsxs("div",{className:"max-h-80 overflow-y-auto",children:[s.jsxs("button",{type:"button",onClick:k,className:`w-full p-3 border-b border-dark-border text-left transition-colors hover:bg-dark-surface flex items-center gap-3 ${n?"":"bg-dark-surface"}`,children:[s.jsx("div",{className:"p-2 rounded-lg bg-dark-surface border border-dark-border",children:s.jsx(po,{className:"h-5 w-5 text-slate-400"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:"Start from scratch"}),!n&&s.jsx(mt,{className:"h-4 w-4 text-green-400"})]}),s.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Configure all scan settings manually"})]})]}),v.map(P=>{const O=S(P.category),I=n===P.id,R=(g==null?void 0:g.id)===P.id;return s.jsxs("div",{className:`border-b border-dark-border transition-colors ${I?"bg-primary/10":"hover:bg-dark-surface"}`,children:[s.jsxs("button",{type:"button",onClick:()=>_(P),onMouseEnter:()=>w(P),onMouseLeave:()=>w(null),className:"w-full p-3 text-left flex items-start gap-3",children:[s.jsx("div",{className:`p-2 rounded-lg border ${I?"bg-primary/20 border-primary":"bg-dark-surface border-dark-border"}`,children:s.jsx(O,{className:`h-5 w-5 ${C(P.category)}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-white",children:P.name}),P.is_system&&s.jsx("span",{title:"System Template",children:s.jsx(on,{className:"h-3 w-3 text-slate-500"})}),P.is_default&&s.jsx("span",{title:"Default Template",children:s.jsx(Oi,{className:"h-3 w-3 text-yellow-400 fill-yellow-400"})}),I&&s.jsx(mt,{className:"h-4 w-4 text-green-400"})]}),P.description&&s.jsx("p",{className:"text-xs text-slate-500 mt-0.5 line-clamp-1",children:P.description}),s.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-slate-500",children:[P.estimated_duration_mins&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(qt,{className:"h-3 w-3"}),A(P.estimated_duration_mins)]}),P.use_count>0&&s.jsxs("span",{children:["Used ",P.use_count," time",P.use_count!==1?"s":""]})]})]})]}),R&&s.jsx("div",{className:"px-3 pb-3 animate-fadeIn",children:s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg border border-dark-border",children:[s.jsx("div",{className:"text-xs font-medium text-slate-400 mb-2",children:"Configuration Preview"}),T(P.config)]})})]},P.id)}),v.length===0&&s.jsxs("div",{className:"p-8 text-center text-slate-500",children:[s.jsx(st,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No templates in this category"})]})]}),s.jsxs("div",{className:"p-2 border-t border-dark-border bg-dark-surface flex items-center justify-between",children:[s.jsxs("span",{className:"text-xs text-slate-500",children:[y.length," template",y.length!==1?"s":""," available"]}),s.jsxs("button",{type:"button",onClick:()=>p(!1),className:"text-xs text-slate-400 hover:text-white flex items-center gap-1",children:[s.jsx($t,{className:"h-3 w-3"}),"Close"]})]})]})]})},Ut=Bs(e=>({scans:[],activeScan:null,results:new Map,liveUpdates:new Map,setScans:n=>e({scans:n}),addScan:n=>e(r=>({scans:[n,...r.scans]})),setActiveScan:n=>e({activeScan:n}),updateScanStatus:(n,r)=>e(a=>{var o;const i=r;return{scans:a.scans.map(l=>l.id===n?{...l,status:i}:l),activeScan:((o=a.activeScan)==null?void 0:o.id)===n?{...a.activeScan,status:i}:a.activeScan}}),setResults:(n,r)=>e(a=>{const i=new Map(a.results);return i.set(n,r),{results:i}}),addHostToResults:(n,r)=>e(a=>{const i=new Map(a.results),o=i.get(n)||[],l=o.findIndex(c=>c.target.ip===r.target.ip);return l>=0?o[l]=r:o.push(r),i.set(n,o),{results:i}}),updateHostInResults:(n,r,a)=>e(i=>{const o=new Map(i.results),c=(o.get(n)||[]).map(d=>d.target.ip===r?{...d,...a}:d);return o.set(n,c),{results:o}}),addLiveUpdate:(n,r)=>e(a=>{const i=new Map(a.liveUpdates),o=i.get(n)||[];return o.push(r),i.set(n,o),{liveUpdates:i}}),clearLiveUpdates:n=>e(r=>{const a=new Map(r.liveUpdates);return a.delete(n),{liveUpdates:a}})})),rj=[{id:"tcp_connect",label:"TCP Connect",description:"Standard TCP scan (most reliable)"},{id:"udp",label:"UDP Only",description:"UDP port scanning (requires root)"},{id:"comprehensive",label:"Comprehensive",description:"TCP + UDP scanning (thorough)"},{id:"syn",label:"SYN Stealth",description:"Half-open TCP scan (requires root)"}],sj=[{id:"http",label:"HTTP",category:"Web"},{id:"https",label:"HTTPS",category:"Web"},{id:"dns",label:"DNS",category:"Network"},{id:"smb",label:"SMB",category:"Network"},{id:"ftp",label:"FTP",category:"Network"},{id:"ssh",label:"SSH",category:"Network"},{id:"smtp",label:"SMTP",category:"Network"},{id:"ldap",label:"LDAP",category:"Network"},{id:"rdp",label:"RDP",category:"Remote"},{id:"vnc",label:"VNC",category:"Remote"},{id:"telnet",label:"Telnet",category:"Remote"},{id:"snmp",label:"SNMP",category:"Network"},{id:"mysql",label:"MySQL",category:"Database"},{id:"postgresql",label:"PostgreSQL",category:"Database"},{id:"mongodb",label:"MongoDB",category:"Database"},{id:"redis",label:"Redis",category:"Database"},{id:"elasticsearch",label:"Elasticsearch",category:"Database"}],aj=()=>{const[e]=oi(),[n,r]=E.useState(""),[a,i]=E.useState(""),[o,l]=E.useState(1),[c,d]=E.useState(1e3),[u,f]=E.useState(100),[h,p]=E.useState("tcp_connect"),[g,w]=E.useState(53),[N,j]=E.useState(500),[x,y]=E.useState(2),[v,b]=E.useState(!0),[_,k]=E.useState(!0),[S,C]=E.useState(!1),[A,T]=E.useState(!1),[P,O]=E.useState("light"),[I,R]=E.useState([]),[D,z]=E.useState(!1),[F,G]=E.useState([]),[q,$]=E.useState(!1),[ee,Q]=E.useState(""),[M,de]=E.useState(""),[we,he]=E.useState([]),[Ne,te]=E.useState(null),[W,ie]=E.useState(null),[ue,le]=E.useState([]),[Se,$e]=E.useState(""),[We,L]=E.useState([]),[B,V]=E.useState(""),[K,ce]=E.useState([]),[fe,xe]=E.useState(""),[je,Oe]=E.useState([]),[Ge,X]=E.useState([]),[ne,pe]=E.useState([]),[be,Ee]=E.useState([]),[Je,zt]=E.useState(!1),[Be,Wn]=E.useState([]),[Et,it]=E.useState([]),[ot,ht]=E.useState("local"),[na,ra]=E.useState(""),[sa,aa]=E.useState(""),{addScan:qm}=Ut(),Mr=h==="udp"||h==="comprehensive";E.useEffect(()=>{Vm(),Wm(),Gm(),Ym(),Xm(),Km(),Jm()},[]),E.useEffect(()=>{const U=e.get("customer");U&&We.length>0&&We.find(et=>et.id===U)&&V(U)},[e,We]),E.useEffect(()=>{B?Qm(B):(ce([]),xe(""))},[B]);const Vm=async()=>{try{const U=await d0.getAll();G(U.data)}catch(U){console.error("Failed to load target groups:",U)}},Wm=async()=>{try{const U=await sn.getPresets();he(U.data)}catch(U){console.error("Failed to load scan presets:",U)}},Gm=async()=>{try{const U=await f0.getConfigs();le(U.data);const ge=U.data.find(et=>et.is_default);ge&&$e(ge.id)}catch(U){console.error("Failed to load VPN configs:",U)}},Ym=async()=>{try{const U=await Sc.customers.getAll("active");L(U.data)}catch(U){console.error("Failed to load customers:",U)}},Xm=async()=>{try{const U=await Ht.getAll();Oe(U.data)}catch(U){console.error("Failed to load tags:",U)}},Km=async()=>{try{const U=await p0.getAll();pe(U.data)}catch(U){console.error("Failed to load exclusions:",U)}},Jm=async()=>{try{const[U,ge]=await Promise.all([Cc.list(),Cc.groups.list()]),et=U.data.filter(dn=>dn.status==="online");Wn(et),it(ge.data)}catch(U){console.error("Failed to load agents:",U)}},Qm=async U=>{try{const et=(await Sc.engagements.getByCustomer(U)).data.filter(dn=>dn.status==="planning"||dn.status==="in_progress");ce(et)}catch(ge){console.error("Failed to load engagements:",ge),ce([])}},Zm=U=>{const ge=JSON.parse(U.targets||"[]");i(ge.join(", "))},ep=U=>{te(U.id),U.id==="webapp"?(l(80),d(8443)):(l(U.port_range[0]),d(U.port_range[1])),f(U.threads),p(U.scan_type),b(U.enable_os_detection),k(U.enable_service_detection),C(U.enable_vuln_scan),T(U.enable_enumeration),U.enum_depth&&O(U.enum_depth),U.udp_port_range&&(w(U.udp_port_range[0]),j(U.udp_port_range[1])),U.udp_retries&&y(U.udp_retries),U.enum_services?R(U.enum_services):R([]),J.success(`Applied "${U.name}" preset`)},tp=U=>{if(!U){ie(null),te(null),l(1),d(1e3),f(100),p("tcp_connect"),w(53),j(500),y(2),b(!0),k(!0),C(!1),T(!1),O("light"),R([]);return}ie(U.id),te(null);const ge=U.config;l(ge.port_range[0]),d(ge.port_range[1]),f(ge.threads),ge.scan_type&&p(ge.scan_type),b(ge.enable_os_detection),k(ge.enable_service_detection),C(ge.enable_vuln_scan),T(ge.enable_enumeration),ge.enum_depth&&O(ge.enum_depth),ge.enum_services&&ge.enum_services.length>0?R(ge.enum_services):R([]),ge.udp_port_range&&(w(ge.udp_port_range[0]),j(ge.udp_port_range[1])),ge.udp_retries!==void 0&&ge.udp_retries!==null&&y(ge.udp_retries),js.createScan(U.id,"",[]).catch(()=>{})},np=U=>{switch(U){case"Zap":return xr;case"Radar":return Zd;case"Globe":return jn;case"EyeOff":return sh;default:return xr}},rp=U=>{const ge=U.trim(),et=/^(\d{1,3}\.){3}\d{1,3}$/,dn=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,Ir=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/,ia=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/;return et.test(ge)||dn.test(ge)||Ir.test(ge)||ia.test(ge)},Gl=U=>U.split(/[,\n]/).map(ge=>ge.trim()).filter(ge=>ge.length>0),sp=U=>{const ge=Gl(U);return ge.length===0?!1:ge.every(rp)},ap=async U=>{var et,dn;if(U.preventDefault(),!n.trim()){J.error("Please enter a scan name");return}if(!a.trim()){J.error("Please enter a target");return}if(!sp(a)){J.error("Invalid target format. Use IP (192.168.1.1), CIDR (192.168.1.0/24), range, or hostname. Separate multiple targets with commas.");return}if(o<1||c>65535||o>c){J.error("Invalid port range");return}const ge=Gl(a);z(!0);try{const Ir=await sn.create({name:n.trim(),targets:ge,port_range:[o,c],threads:u,scan_type:h,udp_port_range:Mr?[g,N]:void 0,udp_retries:Mr?x:void 0,enable_os_detection:v,enable_service_detection:_,enable_vuln_scan:S,enable_enumeration:A,enum_depth:A?P:void 0,enum_services:A&&I.length>0?I:void 0,vpn_config_id:Se||void 0,customer_id:B||void 0,engagement_id:fe||void 0,tag_ids:Ge.length>0?Ge:void 0,exclusion_ids:be.length>0?be:void 0,skip_global_exclusions:Je||void 0,execution_mode:ot,agent_id:ot==="agent"&&na?na:void 0,agent_group_id:ot==="agent_group"&&sa?sa:void 0});if(qm(Ir.data),J.success("Scan started successfully!"),q&&ee.trim())try{await js.create({name:ee.trim(),description:M.trim()||void 0,config:{port_range:[o,c],threads:u,scan_type:h,udp_port_range:Mr?[g,N]:void 0,udp_retries:Mr?x:void 0,enable_os_detection:v,enable_service_detection:_,enable_vuln_scan:S,enable_enumeration:A,enum_depth:A?P:void 0,enum_services:A&&I.length>0?I:void 0}}),J.success("Template saved!")}catch(ia){console.error("Failed to save template:",ia),J.warning("Scan started but template save failed")}r(""),i(""),l(1),d(1e3),f(100),p("tcp_connect"),w(53),j(500),y(2),T(!1),O("light"),R([]),$(!1),Q(""),de(""),V(""),xe(""),X([]),ie(null),te(null),ht("local"),ra(""),aa("")}catch(Ir){const op=((dn=(et=Ir.response)==null?void 0:et.data)==null?void 0:dn.error)||"Failed to start scan";J.error(op)}finally{z(!1)}},ip=U=>{R(ge=>ge.includes(U)?ge.filter(et=>et!==U):[...ge,U])};return s.jsxs(ye,{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Scan"}),s.jsxs("form",{onSubmit:ap,className:"space-y-4",children:[s.jsx("div",{className:"pb-4 border-b border-dark-border",children:s.jsx(nj,{onSelect:tp,selectedTemplateId:W})}),we.length>0&&!W&&s.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(xr,{className:"h-5 w-5 text-yellow-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Quick Presets"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:we.map(U=>{const ge=np(U.icon);return s.jsxs("button",{type:"button",onClick:()=>ep(U),className:`px-3 py-3 text-sm rounded-lg border transition-all text-left ${Ne===U.id?"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 border-yellow-500 text-white shadow-lg":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500 hover:bg-dark-surface/50"}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[s.jsx(ge,{className:`h-4 w-4 ${Ne===U.id?"text-yellow-400":"text-slate-500"}`}),s.jsx("div",{className:"font-medium",children:U.name})]}),s.jsx("div",{className:"text-xs opacity-70 line-clamp-2",children:U.description})]},U.id)})}),s.jsx("p",{className:"text-xs text-slate-500 italic",children:"Select a preset to auto-configure scan settings, or customize manually below."})]}),s.jsx(nt,{label:"Scan Name",type:"text",placeholder:"Production Network Scan",value:n,onChange:U=>r(U.target.value),required:!0}),s.jsx(tj,{selectedTagIds:Ge,onChange:X,existingTags:je,onTagsChange:Oe}),s.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Fn,{className:"h-5 w-5 text-indigo-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Customer Association (Optional)"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Customer"}),s.jsxs("select",{value:B,onChange:U=>{V(U.target.value),xe("")},className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No customer"}),We.map(U=>s.jsx("option",{value:U.id,children:U.name},U.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Engagement"}),s.jsxs("select",{value:fe,onChange:U=>xe(U.target.value),disabled:!B||K.length===0,className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-indigo-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:B?K.length===0?"No active engagements":"No engagement":"Select customer first"}),K.map(U=>s.jsxs("option",{value:U.id,children:[U.name," (",U.engagement_type.replace("_"," "),")"]},U.id))]})]})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Link this scan to a customer and engagement for tracking and reporting."})]}),ne.length>0&&s.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Bp,{className:"h-5 w-5 text-orange-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Exclusions (Optional)"})]}),ne.filter(U=>U.is_global).length>0&&s.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jn,{className:"h-4 w-4 text-green-400"}),s.jsxs("span",{className:"text-sm text-green-400",children:[ne.filter(U=>U.is_global).length," global exclusion(s) will be applied"]})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:Je,onChange:U=>zt(U.target.checked),className:"w-4 h-4 rounded bg-dark-bg border-dark-border text-orange-500 focus:ring-orange-500 focus:ring-offset-dark-bg"}),s.jsx("span",{className:"text-xs text-slate-400",children:"Skip global exclusions"})]})]}),ne.filter(U=>!U.is_global).length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Additional exclusions for this scan"}),s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:ne.filter(U=>!U.is_global).map(U=>s.jsxs("label",{className:"flex items-center gap-3 p-2 bg-dark-surface rounded-lg cursor-pointer hover:bg-dark-border/30 transition-colors",children:[s.jsx("input",{type:"checkbox",checked:be.includes(U.id),onChange:ge=>{ge.target.checked?Ee([...be,U.id]):Ee(be.filter(et=>et!==U.id))},className:"w-4 h-4 rounded bg-dark-bg border-dark-border text-primary focus:ring-primary focus:ring-offset-dark-bg"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:U.name}),s.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-orange-500/20 text-orange-400",children:U.exclusion_type.replace("_"," ")})]}),s.jsx("code",{className:"text-xs text-slate-400 font-mono",children:U.value})]})]},U.id))})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Exclusions prevent scanning specific hosts or ports. Configure them in Settings."})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Target"}),F.length>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Up,{className:"h-3 w-3 text-slate-500"}),s.jsx("span",{className:"text-xs text-slate-500",children:"Use group:"}),F.slice(0,3).map(U=>s.jsx("button",{type:"button",onClick:()=>Zm(U),className:"px-2 py-0.5 text-xs rounded border border-dark-border text-slate-400 hover:text-white hover:border-primary transition-colors",style:{borderLeftColor:U.color,borderLeftWidth:3},children:U.name},U.id)),F.length>3&&s.jsxs("span",{className:"text-xs text-slate-500",children:["+",F.length-3]})]})]}),s.jsx(nt,{type:"text",placeholder:"192.168.1.0/24, 10.0.0.1-10.0.0.100, or hostname",value:a,onChange:U=>i(U.target.value),icon:s.jsx(Mn,{className:"h-5 w-5"}),required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(nt,{label:"Start Port",type:"number",min:1,max:65535,value:o,onChange:U=>{l(Number(U.target.value)),te(null),ie(null)}}),s.jsx(nt,{label:"End Port",type:"number",min:1,max:65535,value:c,onChange:U=>{d(Number(U.target.value)),te(null),ie(null)}})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Threads: ",u]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fo,{className:"h-5 w-5 text-slate-400"}),s.jsx("input",{type:"range",min:1,max:100,value:u,onChange:U=>{f(Number(U.target.value)),te(null),ie(null)},className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]}),s.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(mo,{className:"h-5 w-5 text-primary"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Type"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:rj.map(U=>s.jsxs("button",{type:"button",onClick:()=>{p(U.id),te(null),ie(null)},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${h===U.id?"bg-primary/20 border-primary text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[s.jsx("div",{className:"font-medium",children:U.label}),s.jsx("div",{className:"text-xs opacity-70",children:U.description})]},U.id))}),Mr&&s.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Us,{className:"h-4 w-4 text-cyan-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-400",children:"UDP Options"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(nt,{label:"UDP Start Port",type:"number",min:1,max:65535,value:g,onChange:U=>w(Number(U.target.value))}),s.jsx(nt,{label:"UDP End Port",type:"number",min:1,max:65535,value:N,onChange:U=>j(Number(U.target.value))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["UDP Retries: ",x]}),s.jsx("input",{type:"range",min:1,max:5,value:x,onChange:U=>y(Number(U.target.value)),className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]})]}),ue.length>0&&s.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ce,{className:"h-5 w-5 text-green-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"VPN Connection"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Route scan through VPN (optional)"}),s.jsxs("select",{value:Se,onChange:U=>$e(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-green-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"No VPN - Direct connection"}),ue.map(U=>s.jsxs("option",{value:U.id,children:[U.name," (",U.vpn_type.toUpperCase(),")",U.is_default?" (Default)":""]},U.id))]}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"VPN connects before scan and disconnects when complete. Configure VPNs in Settings."})]})]}),(Be.length>0||Et.length>0)&&s.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Gt,{className:"h-5 w-5 text-purple-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Execution"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>{ht("local"),ra(""),aa("")},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${ot==="local"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[s.jsx("div",{className:"font-medium",children:"Local"}),s.jsx("div",{className:"text-xs opacity-70",children:"Run on this server"})]}),s.jsxs("button",{type:"button",onClick:()=>{ht("agent"),aa("")},disabled:Be.length===0,className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${ot==="agent"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"} ${Be.length===0?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"font-medium",children:"Agent"}),s.jsxs("div",{className:"text-xs opacity-70",children:[Be.length," online"]})]}),s.jsxs("button",{type:"button",onClick:()=>{ht("agent_group"),ra("")},disabled:Et.length===0,className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${ot==="agent_group"?"bg-purple-600/20 border-purple-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"} ${Et.length===0?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx("div",{className:"font-medium",children:"Group"}),s.jsxs("div",{className:"text-xs opacity-70",children:[Et.length," groups"]})]})]}),ot==="agent"&&Be.length>0&&s.jsxs("div",{className:"ml-4 animate-fadeIn",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Select Agent"}),s.jsxs("select",{value:na,onChange:U=>ra(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select an agent..."}),Be.map(U=>s.jsxs("option",{value:U.id,children:[U.name,U.network_zones?` (${JSON.parse(U.network_zones).join(", ")})`:""]},U.id))]}),na&&s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Scan will be executed by the selected agent in its network zone."})]}),ot==="agent_group"&&Et.length>0&&s.jsxs("div",{className:"ml-4 animate-fadeIn",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Select Agent Group"}),s.jsxs("select",{value:sa,onChange:U=>aa(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Select a group..."}),Et.map(U=>s.jsxs("option",{value:U.id,children:[U.name,U.network_ranges?` (${JSON.parse(U.network_ranges).join(", ")})`:""]},U.id))]}),sa&&s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"Scan tasks will be distributed across agents in this group based on network zones."})]}),s.jsx("p",{className:"text-xs text-slate-500",children:"Configure agents in Settings > Agents for distributed scanning across network zones."})]}),s.jsxs("div",{className:"space-y-2 border-t border-dark-border pt-4",children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Scan Options"}),s.jsx(mr,{label:"Enable OS Detection",checked:v,onChange:b}),s.jsx(mr,{label:"Enable Service Detection",checked:_,onChange:k}),s.jsx(mr,{label:"Enable Vulnerability Scanning",checked:S,onChange:C})]}),s.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Nr,{className:"h-5 w-5 text-cyan-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Service Enumeration"})]}),s.jsx(mr,{label:"Enable Deep Service Enumeration",checked:A,onChange:T}),A&&s.jsxs("div",{className:"ml-4 space-y-4 animate-fadeIn",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Enumeration Depth"}),s.jsxs("select",{value:P,onChange:U=>O(U.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[s.jsx("option",{value:"passive",children:"Passive - Banner analysis only"}),s.jsx("option",{value:"light",children:"Light - Common checks (default)"}),s.jsx("option",{value:"aggressive",children:"Aggressive - Full enumeration"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Services to Enumerate (leave empty for all detected)"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:sj.map(U=>s.jsx("button",{type:"button",onClick:()=>ip(U.id),className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${I.includes(U.id)?"bg-cyan-600 border-cyan-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:U.label},U.id))}),I.length>0&&s.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",I.join(", ")]})]})]})]}),s.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(nl,{className:"h-5 w-5 text-purple-400"}),s.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Save Configuration"})]}),s.jsx(mr,{label:"Save this scan configuration as a template",checked:q,onChange:$}),q&&s.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[s.jsx(nt,{label:"Template Name",type:"text",placeholder:"Production Network Scan Template",value:ee,onChange:U=>Q(U.target.value)}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Template Description (Optional)"}),s.jsx("textarea",{value:M,onChange:U=>de(U.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2,placeholder:"Quick template for scanning production servers"})]})]})]}),s.jsx(He,{type:"submit",variant:"primary",size:"lg",loading:D,className:"w-full",children:"Start Scan"})]})]})},kt=({children:e,variant:n="status",type:r="pending",className:a="",size:i="md"})=>{const l=`inline-flex items-center rounded-full font-medium ${{sm:"px-1.5 py-0.5 text-[10px]",md:"px-2.5 py-0.5 text-xs"}[i]}`,c={pending:"bg-status-pending/20 text-status-pending border border-status-pending/30",running:"bg-status-running/20 text-status-running border border-status-running/30",completed:"bg-status-completed/20 text-status-completed border border-status-completed/30",failed:"bg-status-failed/20 text-status-failed border border-status-failed/30"},d={critical:"bg-severity-critical/20 text-severity-critical border border-severity-critical/30",high:"bg-severity-high/20 text-severity-high border border-severity-high/30",medium:"bg-severity-medium/20 text-severity-medium border border-severity-medium/30",low:"bg-severity-low/20 text-severity-low border border-severity-low/30"},u={primary:"bg-blue-500/20 text-blue-400 border border-blue-500/30",success:"bg-green-500/20 text-green-400 border border-green-500/30",warning:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",danger:"bg-red-500/20 text-red-400 border border-red-500/30",secondary:"bg-slate-500/20 text-slate-400 border border-slate-500/30",info:"bg-cyan-500/20 text-cyan-400 border border-cyan-500/30",default:"bg-slate-500/20 text-slate-400 border border-slate-500/30",green:"bg-green-500/20 text-green-400 border border-green-500/30",yellow:"bg-yellow-500/20 text-yellow-400 border border-yellow-500/30",red:"bg-red-500/20 text-red-400 border border-red-500/30",gray:"bg-slate-500/20 text-slate-400 border border-slate-500/30",blue:"bg-blue-500/20 text-blue-400 border border-blue-500/30"};if(n&&u[n])return s.jsx("span",{className:`${l} ${u[n]} ${a}`,children:e});const h=(n==="status"?c:d)[r]||c.pending;return s.jsx("span",{className:`${l} ${h} ${a}`,children:e})};function Me(e){const n=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&n==="[object Date]"?new e.constructor(+e):typeof e=="number"||n==="[object Number]"||typeof e=="string"||n==="[object String]"?new Date(e):new Date(NaN)}function Un(e,n){return e instanceof Date?new e.constructor(n):new Date(n)}const vf=6048e5,ij=864e5,pa=43200,fu=1440;let oj={};function Qs(){return oj}function Ms(e,n){var c,d,u,f;const r=Qs(),a=(n==null?void 0:n.weekStartsOn)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,i=Me(e),o=i.getDay(),l=(o<a?7:0)+o-a;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Va(e){return Ms(e,{weekStartsOn:1})}function wf(e){const n=Me(e),r=n.getFullYear(),a=Un(e,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=Va(a),o=Un(e,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Va(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function mu(e){const n=Me(e);return n.setHours(0,0,0,0),n}function Wa(e){const n=Me(e),r=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return r.setUTCFullYear(n.getFullYear()),+e-+r}function lj(e,n){const r=mu(e),a=mu(n),i=+r-Wa(r),o=+a-Wa(a);return Math.round((i-o)/ij)}function cj(e){const n=wf(e),r=Un(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Va(r)}function Oa(e,n){const r=Me(e),a=Me(n),i=r.getTime()-a.getTime();return i<0?-1:i>0?1:i}function uj(e){return Un(e,Date.now())}function dj(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hj(e){if(!dj(e)&&typeof e!="number")return!1;const n=Me(e);return!isNaN(Number(n))}function fj(e,n){const r=Me(e),a=Me(n),i=r.getFullYear()-a.getFullYear(),o=r.getMonth()-a.getMonth();return i*12+o}function mj(e){return n=>{const a=(e?Math[e]:Math.trunc)(n);return a===0?0:a}}function pj(e,n){return+Me(e)-+Me(n)}function gj(e){const n=Me(e);return n.setHours(23,59,59,999),n}function xj(e){const n=Me(e),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function yj(e){const n=Me(e);return+gj(n)==+xj(n)}function bj(e,n){const r=Me(e),a=Me(n),i=Oa(r,a),o=Math.abs(fj(r,a));let l;if(o<1)l=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*o);let c=Oa(r,a)===-i;yj(Me(e))&&o===1&&Oa(e,a)===1&&(c=!1),l=i*(o-Number(c))}return l===0?0:l}function vj(e,n,r){const a=pj(e,n)/1e3;return mj(r==null?void 0:r.roundingMethod)(a)}function wj(e){const n=Me(e),r=Un(e,0);return r.setFullYear(n.getFullYear(),0,1),r.setHours(0,0,0,0),r}const jj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_j=(e,n,r)=>{let a;const i=jj[e];return typeof i=="string"?a=i:n===1?a=i.one:a=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+a:a+" ago":a};function Qi(e){return(n={})=>{const r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Nj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sj={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cj={date:Qi({formats:Nj,defaultWidth:"full"}),time:Qi({formats:kj,defaultWidth:"full"}),dateTime:Qi({formats:Sj,defaultWidth:"full"})},Ej={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Pj=(e,n,r,a)=>Ej[e];function Wr(e){return(n,r)=>{const a=r!=null&&r.context?String(r.context):"standalone";let i;if(a==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):l;i=e.formattingValues[c]||e.formattingValues[l]}else{const l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;i=e.values[c]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(n):n;return i[o]}}const Aj={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tj={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Rj={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Oj={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dj={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$j={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zj=(e,n)=>{const r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Mj={ordinalNumber:zj,era:Wr({values:Aj,defaultWidth:"wide"}),quarter:Wr({values:Tj,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wr({values:Rj,defaultWidth:"wide"}),day:Wr({values:Oj,defaultWidth:"wide"}),dayPeriod:Wr({values:Dj,defaultWidth:"wide",formattingValues:$j,defaultFormattingWidth:"wide"})};function Gr(e){return(n,r={})=>{const a=r.width,i=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],o=n.match(i);if(!o)return null;const l=o[0],c=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(c)?Lj(c,h=>h.test(l)):Ij(c,h=>h.test(l));let u;u=e.valueCallback?e.valueCallback(d):d,u=r.valueCallback?r.valueCallback(u):u;const f=n.slice(l.length);return{value:u,rest:f}}}function Ij(e,n){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n(e[r]))return r}function Lj(e,n){for(let r=0;r<e.length;r++)if(n(e[r]))return r}function Fj(e){return(n,r={})=>{const a=n.match(e.matchPattern);if(!a)return null;const i=a[0],o=n.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const c=n.slice(i.length);return{value:l,rest:c}}}const Hj=/^(\d+)(th|st|nd|rd)?/i,Bj=/\d+/i,Uj={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qj={any:[/^b/i,/^(a|c)/i]},Vj={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wj={any:[/1/i,/2/i,/3/i,/4/i]},Gj={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xj={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kj={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Jj={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qj={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zj={ordinalNumber:Fj({matchPattern:Hj,parsePattern:Bj,valueCallback:e=>parseInt(e,10)}),era:Gr({matchPatterns:Uj,defaultMatchWidth:"wide",parsePatterns:qj,defaultParseWidth:"any"}),quarter:Gr({matchPatterns:Vj,defaultMatchWidth:"wide",parsePatterns:Wj,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Gr({matchPatterns:Gj,defaultMatchWidth:"wide",parsePatterns:Yj,defaultParseWidth:"any"}),day:Gr({matchPatterns:Xj,defaultMatchWidth:"wide",parsePatterns:Kj,defaultParseWidth:"any"}),dayPeriod:Gr({matchPatterns:Jj,defaultMatchWidth:"any",parsePatterns:Qj,defaultParseWidth:"any"})},jf={code:"en-US",formatDistance:_j,formatLong:Cj,formatRelative:Pj,localize:Mj,match:Zj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function e_(e){const n=Me(e);return lj(n,wj(n))+1}function t_(e){const n=Me(e),r=+Va(n)-+cj(n);return Math.round(r/vf)+1}function _f(e,n){var f,h,p,g;const r=Me(e),a=r.getFullYear(),i=Qs(),o=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(p=i.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,l=Un(e,0);l.setFullYear(a+1,0,o),l.setHours(0,0,0,0);const c=Ms(l,n),d=Un(e,0);d.setFullYear(a,0,o),d.setHours(0,0,0,0);const u=Ms(d,n);return r.getTime()>=c.getTime()?a+1:r.getTime()>=u.getTime()?a:a-1}function n_(e,n){var c,d,u,f;const r=Qs(),a=(n==null?void 0:n.firstWeekContainsDate)??((d=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,i=_f(e,n),o=Un(e,0);return o.setFullYear(i,0,a),o.setHours(0,0,0,0),Ms(o,n)}function r_(e,n){const r=Me(e),a=+Ms(r,n)-+n_(r,n);return Math.round(a/vf)+1}function Re(e,n){const r=e<0?"-":"",a=Math.abs(e).toString().padStart(n,"0");return r+a}const Pn={y(e,n){const r=e.getFullYear(),a=r>0?r:1-r;return Re(n==="yy"?a%100:a,n.length)},M(e,n){const r=e.getMonth();return n==="M"?String(r+1):Re(r+1,2)},d(e,n){return Re(e.getDate(),n.length)},a(e,n){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,n){return Re(e.getHours()%12||12,n.length)},H(e,n){return Re(e.getHours(),n.length)},m(e,n){return Re(e.getMinutes(),n.length)},s(e,n){return Re(e.getSeconds(),n.length)},S(e,n){const r=n.length,a=e.getMilliseconds(),i=Math.trunc(a*Math.pow(10,r-3));return Re(i,n.length)}},ur={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pu={G:function(e,n,r){const a=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});case"GGGG":default:return r.era(a,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){const a=e.getFullYear(),i=a>0?a:1-a;return r.ordinalNumber(i,{unit:"year"})}return Pn.y(e,n)},Y:function(e,n,r,a){const i=_f(e,a),o=i>0?i:1-i;if(n==="YY"){const l=o%100;return Re(l,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Re(o,n.length)},R:function(e,n){const r=wf(e);return Re(r,n.length)},u:function(e,n){const r=e.getFullYear();return Re(r,n.length)},Q:function(e,n,r){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return Re(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,n,r){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return Re(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,n,r){const a=e.getMonth();switch(n){case"M":case"MM":return Pn.M(e,n);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,n,r){const a=e.getMonth();switch(n){case"L":return String(a+1);case"LL":return Re(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,n,r,a){const i=r_(e,a);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Re(i,n.length)},I:function(e,n,r){const a=t_(e);return n==="Io"?r.ordinalNumber(a,{unit:"week"}):Re(a,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Pn.d(e,n)},D:function(e,n,r){const a=e_(e);return n==="Do"?r.ordinalNumber(a,{unit:"dayOfYear"}):Re(a,n.length)},E:function(e,n,r){const a=e.getDay();switch(n){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});case"EEEE":default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,n,r,a){const i=e.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Re(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,a){const i=e.getDay(),o=(i-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Re(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){const a=e.getDay(),i=a===0?7:a;switch(n){case"i":return String(i);case"ii":return Re(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});case"iiii":default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,n,r){const i=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){const a=e.getHours();let i;switch(a===12?i=ur.noon:a===0?i=ur.midnight:i=a/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){const a=e.getHours();let i;switch(a>=17?i=ur.evening:a>=12?i=ur.afternoon:a>=4?i=ur.morning:i=ur.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){let a=e.getHours()%12;return a===0&&(a=12),r.ordinalNumber(a,{unit:"hour"})}return Pn.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Pn.H(e,n)},K:function(e,n,r){const a=e.getHours()%12;return n==="Ko"?r.ordinalNumber(a,{unit:"hour"}):Re(a,n.length)},k:function(e,n,r){let a=e.getHours();return a===0&&(a=24),n==="ko"?r.ordinalNumber(a,{unit:"hour"}):Re(a,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Pn.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Pn.s(e,n)},S:function(e,n){return Pn.S(e,n)},X:function(e,n,r){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return xu(a);case"XXXX":case"XX":return Kn(a);case"XXXXX":case"XXX":default:return Kn(a,":")}},x:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"x":return xu(a);case"xxxx":case"xx":return Kn(a);case"xxxxx":case"xxx":default:return Kn(a,":")}},O:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+gu(a,":");case"OOOO":default:return"GMT"+Kn(a,":")}},z:function(e,n,r){const a=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+gu(a,":");case"zzzz":default:return"GMT"+Kn(a,":")}},t:function(e,n,r){const a=Math.trunc(e.getTime()/1e3);return Re(a,n.length)},T:function(e,n,r){const a=e.getTime();return Re(a,n.length)}};function gu(e,n=""){const r=e>0?"-":"+",a=Math.abs(e),i=Math.trunc(a/60),o=a%60;return o===0?r+String(i):r+String(i)+n+Re(o,2)}function xu(e,n){return e%60===0?(e>0?"-":"+")+Re(Math.abs(e)/60,2):Kn(e,n)}function Kn(e,n=""){const r=e>0?"-":"+",a=Math.abs(e),i=Re(Math.trunc(a/60),2),o=Re(a%60,2);return r+i+n+o}const yu=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Nf=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},s_=(e,n)=>{const r=e.match(/(P+)(p+)?/)||[],a=r[1],i=r[2];if(!i)return yu(e,n);let o;switch(a){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",yu(a,n)).replace("{{time}}",Nf(i,n))},a_={p:Nf,P:s_},i_=/^D+$/,o_=/^Y+$/,l_=["D","DD","YY","YYYY"];function c_(e){return i_.test(e)}function u_(e){return o_.test(e)}function d_(e,n,r){const a=h_(e,n,r);if(console.warn(a),l_.includes(e))throw new RangeError(a)}function h_(e,n,r){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,p_=/^'([^]*?)'?$/,g_=/''/g,x_=/[a-zA-Z]/;function $n(e,n,r){var f,h,p,g;const a=Qs(),i=a.locale??jf,o=a.firstWeekContainsDate??((h=(f=a.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??1,l=a.weekStartsOn??((g=(p=a.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,c=Me(e);if(!hj(c))throw new RangeError("Invalid time value");let d=n.match(m_).map(w=>{const N=w[0];if(N==="p"||N==="P"){const j=a_[N];return j(w,i.formatLong)}return w}).join("").match(f_).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:y_(w)};if(pu[N])return{isToken:!0,value:w};if(N.match(x_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(d=i.localize.preprocessor(c,d));const u={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return d.map(w=>{if(!w.isToken)return w.value;const N=w.value;(u_(N)||c_(N))&&d_(N,n,String(e));const j=pu[N[0]];return j(c,N,i.localize,u)}).join("")}function y_(e){const n=e.match(p_);return n?n[1].replace(g_,"'"):e}function b_(e,n,r){const a=Qs(),i=(r==null?void 0:r.locale)??a.locale??jf,o=2520,l=Oa(e,n);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:l});let d,u;l>0?(d=Me(n),u=Me(e)):(d=Me(e),u=Me(n));const f=vj(u,d),h=(Wa(u)-Wa(d))/1e3,p=Math.round((f-h)/60);let g;if(p<2)return r!=null&&r.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,c):f<10?i.formatDistance("lessThanXSeconds",10,c):f<20?i.formatDistance("lessThanXSeconds",20,c):f<40?i.formatDistance("halfAMinute",0,c):f<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):p===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",p,c);if(p<45)return i.formatDistance("xMinutes",p,c);if(p<90)return i.formatDistance("aboutXHours",1,c);if(p<fu){const w=Math.round(p/60);return i.formatDistance("aboutXHours",w,c)}else{if(p<o)return i.formatDistance("xDays",1,c);if(p<pa){const w=Math.round(p/fu);return i.formatDistance("xDays",w,c)}else if(p<pa*2)return g=Math.round(p/pa),i.formatDistance("aboutXMonths",g,c)}if(g=bj(u,d),g<12){const w=Math.round(p/pa);return i.formatDistance("xMonths",w,c)}else{const w=g%12,N=Math.trunc(g/12);return w<3?i.formatDistance("aboutXYears",N,c):w<9?i.formatDistance("overXYears",N,c):i.formatDistance("almostXYears",N+1,c)}}function vi(e,n){return b_(e,uj(e),n)}const v_=({scan:e,isActive:n,onClick:r,tags:a,onTagClick:i})=>{const o=JSON.parse(e.targets),l=e.status,c=()=>({pending:"Pending",running:"Running",completed:"Completed",failed:"Failed"})[e.status]||e.status;return s.jsxs("div",{onClick:r,className:`
        p-4 border rounded-lg cursor-pointer transition-all duration-200
        ${n?"bg-primary/10 border-primary shadow-lg":"bg-dark-surface border-dark-border hover:border-primary/50 hover:shadow-md"}
      `,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h4",{className:"text-white font-semibold truncate flex-1",children:e.name}),s.jsxs(kt,{variant:"status",type:l,children:[l==="running"&&s.jsx("span",{className:"inline-block w-2 h-2 bg-primary rounded-full animate-pulse-dot mr-1"}),c()]})]}),a&&a.length>0&&s.jsxs("div",{className:"flex flex-wrap gap-1 mb-2",children:[a.slice(0,3).map(d=>s.jsxs("button",{type:"button",onClick:u=>{u.stopPropagation(),i==null||i(d.id)},className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium hover:opacity-80 transition-opacity",style:{backgroundColor:d.color+"20",color:d.color},title:`Filter by ${d.name}`,children:[s.jsx(Rs,{className:"h-3 w-3 mr-1"}),d.name]},d.id)),a.length>3&&s.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs text-slate-400",children:["+",a.length-3," more"]})]}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("div",{className:"flex items-center text-slate-400",children:[s.jsx(Mn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"font-mono text-xs",children:o[0]})]}),s.jsxs("div",{className:"flex items-center text-slate-500",children:[s.jsx(qt,{className:"h-4 w-4 mr-2"}),s.jsx("span",{children:$n(new Date(e.created_at),"MMM d, yyyy HH:mm")})]})]})]})},an=({size:e="md",className:n=""})=>{const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return s.jsx(Nn,{className:`${r[e]} animate-spin text-primary ${n}`})},w_=({selectedIds:e,onSelectionChange:n})=>{const{scans:r,activeScan:a,setScans:i,setActiveScan:o}=Ut(),[l,c]=E.useState(!0),[d,u]=E.useState(""),[f,h]=E.useState("all"),[p,g]=E.useState("all"),[w,N]=E.useState([]),[j,x]=E.useState({}),[y,v]=E.useState(!1),[b,_]=E.useState(""),[k,S]=E.useState("#06b6d4"),[C,A]=E.useState(null);E.useEffect(()=>{T(),P()},[]);const T=async()=>{try{const $=(await sn.getAllWithTags()).data;i($.map(Q=>({...Q,tags:void 0})));const ee={};$.forEach(Q=>{ee[Q.id]=Q.tags||[]}),x(ee)}catch{try{const $=await sn.getAll();i($.data)}catch{J.error("Failed to load scans")}}finally{c(!1)}},P=async()=>{try{const q=await Ht.getAll();N(q.data)}catch(q){console.error("Failed to load tags:",q)}},O=async()=>{if(b.trim())try{const q=await Ht.create({name:b.trim(),color:k});N([...w,q.data]),_(""),J.success("Tag created successfully")}catch{J.error("Failed to create tag")}},I=async q=>{try{await Ht.delete(q),N(w.filter($=>$.id!==q)),p===q&&g("all"),J.success("Tag deleted")}catch{J.error("Failed to delete tag")}},R=async(q,$)=>{q.stopPropagation(),A($);try{const Q=(await sn.duplicate($)).data;i([Q,...r]),j[$]&&x({...j,[Q.id]:j[$]}),J.success("Scan duplicated successfully")}catch{J.error("Failed to duplicate scan")}finally{A(null)}},D=r.filter(q=>{const $=q.name.toLowerCase().includes(d.toLowerCase())||q.targets.toLowerCase().includes(d.toLowerCase()),ee=f==="all"||q.status===f,Q=p==="all"||j[q.id]&&j[q.id].some(M=>M.id===p);return $&&ee&&Q}),z=q=>{n&&(q.target.checked?n(new Set(D.map($=>$.id))):n(new Set))},F=(q,$)=>{if(!n||!e)return;const ee=new Set(e);$?ee.add(q):ee.delete(q),n(ee)},G=["#06b6d4","#8b5cf6","#f59e0b","#10b981","#ef4444","#ec4899","#3b82f6","#84cc16"];return l?s.jsx(ye,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(an,{})})}):s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-xl font-semibold text-white",children:"Scan History"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>v(!y),className:"text-sm text-slate-400 hover:text-primary flex items-center gap-1",title:"Manage tags",children:[s.jsx(Rs,{className:"h-4 w-4"}),"Tags"]}),s.jsxs("span",{className:"text-sm text-slate-400",children:[r.length," scans",e&&e.size>0&&` (${e.size} selected)`]})]})]}),y&&s.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(nt,{type:"text",placeholder:"New tag name...",value:b,onChange:q=>_(q.target.value),className:"flex-1"}),s.jsx("div",{className:"flex gap-1",children:G.map(q=>s.jsx("button",{onClick:()=>S(q),className:`w-6 h-6 rounded-full border-2 ${k===q?"border-white":"border-transparent"}`,style:{backgroundColor:q},title:q},q))}),s.jsx("button",{onClick:O,disabled:!b.trim(),className:"px-3 py-1.5 bg-primary text-white rounded hover:bg-primary/80 disabled:opacity-50 disabled:cursor-not-allowed",children:s.jsx(Ln,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[w.map(q=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm",style:{backgroundColor:q.color+"20",color:q.color},children:[q.name,s.jsx("button",{onClick:()=>I(q.id),className:"hover:opacity-70",children:s.jsx($t,{className:"h-3 w-3"})})]},q.id)),w.length===0&&s.jsx("span",{className:"text-sm text-slate-500",children:"No tags yet"})]})]}),s.jsx(nt,{type:"text",placeholder:"Search by name, target, or customer...",value:d,onChange:q=>u(q.target.value),icon:s.jsx(Nr,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ah,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-slate-400",children:"Status:"}),s.jsxs("select",{value:f,onChange:q=>h(q.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[s.jsx("option",{value:"all",children:"All"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"running",children:"Running"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"failed",children:"Failed"})]})]}),w.length>0&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Rs,{className:"h-4 w-4 text-slate-400"}),s.jsx("span",{className:"text-slate-400",children:"Tag:"}),s.jsxs("select",{value:p,onChange:q=>g(q.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[s.jsx("option",{value:"all",children:"All Tags"}),w.map(q=>s.jsx("option",{value:q.id,children:q.name},q.id))]})]})]}),n&&s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:"select-all",checked:(e==null?void 0:e.size)===D.length&&D.length>0,onChange:z,className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary"}),s.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-400 cursor-pointer",children:"Select All"})]})]}),s.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:D.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:d||f!=="all"||p!=="all"?"No scans match your filters":"No scans yet. Create your first scan above."}):D.map(q=>s.jsxs("div",{className:"flex items-center space-x-2",children:[n&&s.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.has(q.id))||!1,onChange:$=>F(q.id,$.target.checked),className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary flex-shrink-0"}),s.jsxs("div",{className:"flex-1 relative group",children:[s.jsx(v_,{scan:q,isActive:(a==null?void 0:a.id)===q.id,onClick:()=>o(q),tags:j[q.id],onTagClick:$=>g($)}),s.jsx("button",{onClick:$=>R($,q.id),disabled:C===q.id,className:"absolute top-2 right-12 p-1.5 bg-dark-bg/90 border border-dark-border rounded opacity-0 group-hover:opacity-100 transition-opacity hover:border-primary hover:text-primary disabled:opacity-50",title:"Duplicate scan",children:C===q.id?s.jsx(an,{className:"h-4 w-4"}):s.jsx(li,{className:"h-4 w-4"})})]})]},q.id))})]})})},Yr=[{name:"host_discovery",label:"Host Discovery",progressStart:0,progressEnd:20},{name:"port_scanning",label:"Port Scanning",progressStart:20,progressEnd:40},{name:"service_detection",label:"Service Detection",progressStart:40,progressEnd:60},{name:"enumeration",label:"Enumeration",progressStart:60,progressEnd:75},{name:"os_fingerprinting",label:"OS Fingerprinting",progressStart:75,progressEnd:85},{name:"vulnerability_scanning",label:"Vulnerability Scanning",progressStart:85,progressEnd:100}],j_=({currentPhase:e,progress:n=0,isComplete:r=!1})=>{var c;const a=d=>d.toLowerCase().replace(/\s+/g,"_"),o=(()=>{if(r)return Yr.length;if(!e)return-1;const d=a(e);return Yr.findIndex(u=>u.name===d||a(u.label)===d)})(),l=d=>r||d<o?"completed":d===o?"active":"pending";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-dark-border"}),s.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${r?100:o/Yr.length*100}%`}}),s.jsx("div",{className:"relative grid grid-cols-6 gap-2",children:Yr.map((d,u)=>{const f=l(u);return s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`
                    relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300
                    ${f==="completed"?"bg-green-500 border-green-500 shadow-lg shadow-green-500/50":f==="active"?"bg-primary border-primary shadow-lg shadow-primary/50 animate-pulse-glow":"bg-dark-surface border-dark-border"}
                  `,children:f==="completed"?s.jsx(mt,{className:"h-6 w-6 text-white"}):f==="active"?s.jsx(Nn,{className:"h-6 w-6 text-white animate-spin"}):s.jsx(qp,{className:"h-6 w-6 text-slate-600"})}),s.jsxs("div",{className:"mt-3 text-center",children:[s.jsx("p",{className:`text-xs font-medium transition-colors ${f==="completed"?"text-green-500":f==="active"?"text-primary":"text-slate-500"}`,children:d.label}),f==="active"&&s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"In Progress..."}),f==="completed"&&s.jsx("p",{className:"text-xs text-green-500/70 mt-1",children:"Complete"})]})]},d.name)})})]}),s.jsxs("div",{className:"space-y-2 pt-4 border-t border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{className:"text-slate-400",children:r?s.jsx("span",{className:"text-green-500 font-medium",children:"Scan Complete"}):e?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-primary font-medium",children:((c=Yr[o])==null?void 0:c.label)||e})," in progress..."]}):s.jsx("span",{className:"text-slate-500",children:"Initializing..."})}),s.jsxs("span",{className:"text-white font-semibold tabular-nums",children:[Math.round(n),"%"]})]}),s.jsx("div",{className:"relative h-3 bg-dark-surface rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary via-primary-light to-primary transition-all duration-500 ease-out",style:{width:`${r?100:n}%`},children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})})})]})]})},Xr=({value:e,duration:n=500})=>{const[r,a]=E.useState(0);return E.useEffect(()=>{if(r===e)return;const i=r,o=e-i,l=Date.now(),c=()=>{const d=Date.now()-l,u=Math.min(d/n,1),f=1-Math.pow(1-u,3),h=Math.round(i+o*f);a(h),u<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,n]),s.jsx("span",{className:"tabular-nums",children:r.toLocaleString()})},__=({hostsFound:e,portsOpen:n,servicesDetected:r,vulnerabilitiesFound:a,criticalVulns:i=0,highVulns:o=0,mediumVulns:l=0,lowVulns:c=0})=>{const d=[{label:"Hosts Found",value:e,icon:Gt,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},{label:"Open Ports",value:n,icon:Us,color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30"},{label:"Services Detected",value:r,icon:Ts,color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30"},{label:"Vulnerabilities",value:a,icon:De,color:a>0?"text-red-400":"text-slate-500",bgColor:a>0?"bg-red-500/10":"bg-slate-500/10",borderColor:a>0?"border-red-500/30":"border-slate-500/30"}],u=f=>{switch(f){case"critical":return"bg-severity-critical text-white";case"high":return"bg-severity-high text-white";case"medium":return"bg-severity-medium text-white";case"low":return"bg-severity-low text-white";default:return"bg-slate-600 text-white"}};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:d.map(f=>{const h=f.icon;return s.jsxs("div",{className:`relative overflow-hidden rounded-lg border ${f.borderColor} ${f.bgColor} p-4 transition-all duration-300 hover:scale-105`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(h,{className:`h-5 w-5 ${f.color}`}),f.value>0&&s.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-current animate-pulse-dot"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-2xl font-bold text-white",children:s.jsx(Xr,{value:f.value})}),s.jsx("p",{className:"text-xs text-slate-400 font-medium",children:f.label})]}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"})]},f.label)})}),a>0&&s.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[s.jsx(Ce,{className:"h-4 w-4 text-red-400"}),s.jsx("h4",{className:"text-sm font-semibold text-white",children:"Vulnerability Breakdown"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[i>0&&s.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("critical")}`,children:[s.jsx("span",{className:"font-bold",children:s.jsx(Xr,{value:i})})," Critical"]}),o>0&&s.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("high")}`,children:[s.jsx("span",{className:"font-bold",children:s.jsx(Xr,{value:o})})," High"]}),l>0&&s.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("medium")}`,children:[s.jsx("span",{className:"font-bold",children:s.jsx(Xr,{value:l})})," Medium"]}),c>0&&s.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${u("low")}`,children:[s.jsx("span",{className:"font-bold",children:s.jsx(Xr,{value:c})})," Low"]})]})]})]})};class N_{constructor(n,r){hn(this,"ws",null);hn(this,"scanId");hn(this,"token");hn(this,"reconnectAttempts",0);hn(this,"maxReconnectAttempts",10);hn(this,"reconnectDelay",1e3);hn(this,"messageHandlers",[]);hn(this,"statusHandlers",[]);this.scanId=n,this.token=r||localStorage.getItem("token")||""}connect(){if(!this.token){console.error("WebSocket connection failed: No authentication token available"),this.updateStatus("failed");return}const n=window.location.protocol==="https:"?"wss:":"ws:",r=window.location.hostname,a=window.location.port||(n==="wss:"?"443":"80"),i=`${n}//${r}:${a}/api/ws/scans/${this.scanId}?token=${encodeURIComponent(this.token)}`;this.updateStatus("connecting");try{this.ws=new WebSocket(i),this.ws.onopen=()=>{console.log(`WebSocket connected for scan: ${this.scanId}`),this.reconnectAttempts=0,this.reconnectDelay=1e3,this.updateStatus("connected")},this.ws.onmessage=o=>{try{const l=JSON.parse(o.data);this.messageHandlers.forEach(c=>c(l))}catch(l){console.error("Failed to parse WebSocket message:",l)}},this.ws.onerror=o=>{console.error("WebSocket error:",o)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.updateStatus("disconnected"),this.attemptReconnect()}}catch(o){console.error("Failed to create WebSocket:",o),this.updateStatus("failed")}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnection attempts reached"),this.updateStatus("failed");return}this.reconnectAttempts++;const n=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),8e3);console.log(`Reconnecting in ${n}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect()},n)}onMessage(n){this.messageHandlers.push(n)}onStatusChange(n){this.statusHandlers.push(n)}updateStatus(n){this.statusHandlers.forEach(r=>r(n))}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.messageHandlers=[],this.statusHandlers=[]}reconnect(){this.disconnect(),this.reconnectAttempts=0,this.connect()}}const k_=e=>{const[n,r]=E.useState("disconnected"),[a,i]=E.useState(null),o=E.useRef(null),{updateScanStatus:l,addHostToResults:c,updateHostInResults:d,results:u}=Ut();E.useEffect(()=>{if(!e)return;const p=new N_(e);return o.current=p,p.onStatusChange(g=>{r(g),i(g==="failed"?"Failed to connect to WebSocket":null)}),p.onMessage(g=>{f(e,g)}),p.connect(),()=>{p.disconnect(),o.current=null}},[e]);const f=(p,g)=>{switch(console.log("WebSocket message:",g),g.type){case"scanStarted":l(p,"running"),J.info("Scan started");break;case"phaseStarted":break;case"hostDiscovered":const w={target:{ip:g.ip,hostname:g.hostname||null},is_alive:!0,os_guess:null,ports:[],vulnerabilities:[],scan_duration:{secs:0,nanos:0}};c(p,w);break;case"portFound":const j=(u.get(p)||[]).find(_=>_.target.ip===g.ip);if(j){const _={port:g.port,protocol:g.protocol==="TCP"?"TCP":"UDP",state:g.state,service:null},k=[...j.ports,_];d(p,g.ip,{ports:k})}break;case"serviceDetected":const y=(u.get(p)||[]).find(_=>_.target.ip===g.ip);if(y){const _=y.ports.map(k=>k.port===g.port?{...k,service:{name:g.service_name,version:g.version||null,banner:null,cpe:null,ssl_info:null}}:k);d(p,g.ip,{ports:_})}break;case"vulnerabilityFound":const b=(u.get(p)||[]).find(_=>_.target.ip===g.ip);if(b){const _={cve_id:g.cve_id||null,title:g.title,severity:g.severity,description:"",affected_service:null},k=[...b.vulnerabilities,_];d(p,g.ip,{vulnerabilities:k}),g.severity==="Critical"?J.error(` CRITICAL vulnerability found on ${g.ip}: ${g.title}`,{autoClose:8e3}):g.severity==="High"&&J.warning(` HIGH severity vulnerability found on ${g.ip}: ${g.title}`,{autoClose:6e3})}break;case"scanCompleted":l(p,"completed"),J.success(`Scan completed! Found ${g.total_hosts} hosts`);break;case"error":l(p,"failed"),J.error(`Scan error: ${g.message}`);break;default:console.log("Unknown message type:",g.type)}};return{status:n,error:a,reconnect:()=>{o.current&&o.current.reconnect()}}},S_=({scanId:e})=>{const{status:n,error:r,reconnect:a}=k_(e),{liveUpdates:i,scans:o}=Ut(),[l,c]=E.useState(!0),d=E.useMemo(()=>o.find(b=>b.id===e),[o,e]),{currentPhase:u,progress:f,isComplete:h,metrics:p,currentActivity:g,estimatedTime:w}=E.useMemo(()=>{var $,ee,Q,M,de,we;if(!e)return{currentPhase:void 0,progress:0,isComplete:!1,metrics:{hostsFound:0,portsOpen:0,servicesDetected:0,vulnerabilitiesFound:0,criticalVulns:0,highVulns:0,mediumVulns:0,lowVulns:0},currentActivity:"",estimatedTime:null};const b=i.get(e)||[],_=(d==null?void 0:d.status)==="completed",k=b.filter(he=>he.type==="phaseStarted"),S=k.length>0?k[k.length-1]:null,C=b.filter(he=>he.type==="scanProgress"),A=C.length>0?C[C.length-1]:null,T=b.filter(he=>he.type==="hostDiscovered"),P=b.filter(he=>he.type==="portFound"),O=b.filter(he=>he.type==="serviceDetected"),I=b.filter(he=>he.type==="vulnerabilityFound"),R=I.filter(he=>{var Ne;return((Ne=he.data)==null?void 0:Ne.severity)==="Critical"}).length,D=I.filter(he=>{var Ne;return((Ne=he.data)==null?void 0:Ne.severity)==="High"}).length,z=I.filter(he=>{var Ne;return((Ne=he.data)==null?void 0:Ne.severity)==="Medium"}).length,F=I.filter(he=>{var Ne;return((Ne=he.data)==null?void 0:Ne.severity)==="Low"}).length,G=(($=A==null?void 0:A.data)==null?void 0:$.message)||((ee=S==null?void 0:S.data)==null?void 0:ee.phase)||"";let q=null;if(!_&&A&&((Q=A.data)==null?void 0:Q.progress)>0){const he=A.data.progress,Ne=b.find(te=>te.type==="scanStarted");if(Ne){const te=new Date(Ne.timestamp).getTime(),ie=(Date.now()-te)/1e3,ue=ie/he*100;q=Math.max(0,ue-ie)}}return{currentPhase:(M=S==null?void 0:S.data)==null?void 0:M.phase,progress:((de=A==null?void 0:A.data)==null?void 0:de.progress)||((we=S==null?void 0:S.data)==null?void 0:we.progress)||0,isComplete:_,metrics:{hostsFound:T.length,portsOpen:P.length,servicesDetected:O.length,vulnerabilitiesFound:I.length,criticalVulns:R,highVulns:D,mediumVulns:z,lowVulns:F},currentActivity:G,estimatedTime:q}},[e,i,d]),N=b=>b===null?"Calculating...":b<60?`~${Math.round(b)}s remaining`:b<3600?`~${Math.round(b/60)}m remaining`:`~${Math.round(b/3600)}h ${Math.round(b%3600/60)}m remaining`;if(!e)return s.jsx(ye,{children:s.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a scan to view real-time progress"})});const j=()=>{switch(n){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"disconnected":case"failed":return"text-red-500";default:return"text-slate-500"}},x=()=>n==="connected"?s.jsx(Us,{className:"h-5 w-5"}):s.jsx(go,{className:"h-5 w-5"}),y=()=>{switch(n){case"connected":return"Connected - Receiving live updates";case"connecting":return"Connecting to scan...";case"disconnected":return"Disconnected";case"failed":return"Connection failed";default:return"Unknown"}},v=(d==null?void 0:d.status)==="running"||(d==null?void 0:d.status)==="completed";return s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(pt,{className:"h-5 w-5 mr-2"}),"Real-Time Scan Progress"]}),s.jsxs(kt,{variant:"status",type:n==="connected"?"running":"pending",children:[n==="connected"&&s.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse-dot mr-1"}),"Live"]})]}),s.jsx("button",{onClick:()=>c(!l),className:"p-2 hover:bg-dark-hover rounded-lg transition-colors",children:l?s.jsx(Hn,{className:"h-5 w-5 text-slate-400"}):s.jsx(St,{className:"h-5 w-5 text-slate-400"})})]}),s.jsxs("div",{className:`flex items-center space-x-2 ${j()}`,children:[x(),s.jsx("span",{className:"text-sm",children:y()})]}),r&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[s.jsx("p",{className:"text-red-500 text-sm",children:r}),s.jsx("button",{onClick:a,className:"mt-2 text-xs text-red-400 hover:text-red-300 underline",children:"Try reconnecting"})]}),l&&s.jsxs(s.Fragment,{children:[v&&!h&&g&&s.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-3 space-y-2",children:[s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx(pt,{className:"h-4 w-4 text-primary mt-0.5 animate-pulse"}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsx("p",{className:"text-sm text-slate-300",children:g})})]}),w!==null&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[s.jsx(qt,{className:"h-3 w-3"}),s.jsx("span",{children:N(w)})]})]}),v&&s.jsx(__,{hostsFound:p.hostsFound,portsOpen:p.portsOpen,servicesDetected:p.servicesDetected,vulnerabilitiesFound:p.vulnerabilitiesFound,criticalVulns:p.criticalVulns,highVulns:p.highVulns,mediumVulns:p.mediumVulns,lowVulns:p.lowVulns}),v&&s.jsx("div",{className:"border-t border-dark-border pt-4",children:s.jsx(j_,{currentPhase:u,progress:f,isComplete:h})}),n==="connected"&&!v&&s.jsxs("div",{className:"border-t border-dark-border pt-4 text-sm text-slate-400",children:[s.jsx("p",{children:"Listening for scan events:"}),s.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[s.jsx("li",{children:" Host discoveries"}),s.jsx("li",{children:" Open ports"}),s.jsx("li",{children:" Service detections"}),s.jsx("li",{children:" Vulnerability findings"})]})]})]})]})})},C_=({onScanSelect:e})=>{const{scans:n,liveUpdates:r,activeScan:a}=Ut(),i=E.useMemo(()=>n.filter(u=>u.status==="running"),[n]),o=E.useMemo(()=>{const u=new Map;return i.forEach(f=>{var w;const p=(r.get(f.id)||[]).filter(N=>N.type==="scanProgress"||N.type==="phaseStarted"),g=p.length>0?p[p.length-1]:null;u.set(f.id,((w=g==null?void 0:g.data)==null?void 0:w.progress)||0)}),u},[i,r]),l=E.useMemo(()=>{let u=0,f=0,h=0;i.forEach(g=>{const w=r.get(g.id)||[];u+=o.get(g.id)||0,f+=w.filter(N=>N.type==="hostDiscovered").length,h+=w.filter(N=>N.type==="vulnerabilityFound").length});const p=i.length>0?u/i.length:0;return{totalScans:i.length,avgProgress:p,totalHosts:f,totalVulns:h}},[i,r,o]),c=u=>{switch(u){case"running":return s.jsx(Nn,{className:"h-4 w-4 text-primary animate-spin"});case"completed":return s.jsx(Qe,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Vt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(pt,{className:"h-4 w-4 text-slate-400"})}},d=u=>{if(!u.started_at)return"";const f=new Date(u.started_at).getTime(),h=u.completed_at?new Date(u.completed_at).getTime():Date.now(),p=Math.floor((h-f)/1e3);return p<60?`${p}s`:p<3600?`${Math.floor(p/60)}m`:`${Math.floor(p/3600)}h ${Math.floor(p%3600/60)}m`};return i.length===0?null:s.jsx(ye,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Scans"}),s.jsxs(kt,{variant:"status",type:"running",children:[l.totalScans," Running"]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-3 pb-3 border-b border-dark-border",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(l.avgProgress),"%"]}),s.jsx("p",{className:"text-xs text-slate-400",children:"Avg Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-blue-400",children:l.totalHosts}),s.jsx("p",{className:"text-xs text-slate-400",children:"Total Hosts"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-2xl font-bold text-red-400",children:l.totalVulns}),s.jsx("p",{className:"text-xs text-slate-400",children:"Total Vulns"})]})]}),s.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar",children:i.map(u=>{const f=o.get(u.id)||0,h=(a==null?void 0:a.id)===u.id;return s.jsxs("div",{onClick:()=>e==null?void 0:e(u.id),className:`
                  group relative p-3 rounded-lg border transition-all cursor-pointer
                  ${h?"bg-primary/10 border-primary":"bg-dark-surface border-dark-border hover:border-primary/50 hover:bg-dark-hover"}
                `,children:[s.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-lg transition-all duration-300",style:{width:`${f}%`}}),s.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c(u.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:u.name}),s.jsx("p",{className:"text-xs text-slate-400 truncate",children:u.targets})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"text-sm font-semibold text-primary tabular-nums",children:[Math.round(f),"%"]}),s.jsx("p",{className:"text-xs text-slate-500",children:d(u)})]}),s.jsx(qs,{className:`h-4 w-4 text-slate-400 transition-transform ${h?"text-primary":"group-hover:translate-x-1"}`})]})]}),s.jsx("div",{className:"relative mt-2 h-1 bg-dark-bg rounded-full overflow-hidden",children:s.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${f}%`}})})]},u.id)})})]})})},E_=({scanId:e,maxItems:n=50})=>{const{liveUpdates:r}=Ut(),[a,i]=E.useState(!1),o=E.useRef(null),[l,c]=E.useState(!0),d=e?r.get(e)||[]:[],f=(a?d.filter(w=>{var N,j;return w.type==="vulnerabilityFound"&&(((N=w.data)==null?void 0:N.severity)==="Critical"||((j=w.data)==null?void 0:j.severity)==="High")}):d).slice(-n);E.useEffect(()=>{l&&o.current&&o.current.scrollIntoView({behavior:"smooth"})},[f.length,l]);const h=w=>{switch(w){case"hostDiscovered":return s.jsx(Gt,{className:"h-4 w-4 text-blue-400"});case"portFound":return s.jsx(Us,{className:"h-4 w-4 text-green-400"});case"serviceDetected":return s.jsx(Ts,{className:"h-4 w-4 text-purple-400"});case"vulnerabilityFound":return s.jsx(De,{className:"h-4 w-4 text-red-400"});case"phaseStarted":return s.jsx(pt,{className:"h-4 w-4 text-primary"});case"scanStarted":case"scanCompleted":return s.jsx(Ce,{className:"h-4 w-4 text-green-400"});case"vpnConnecting":return s.jsx(jn,{className:"h-4 w-4 text-yellow-400 animate-pulse"});case"vpnConnected":return s.jsx(jn,{className:"h-4 w-4 text-green-400"});case"vpnDisconnecting":return s.jsx(go,{className:"h-4 w-4 text-yellow-400"});case"vpnDisconnected":return s.jsx(go,{className:"h-4 w-4 text-slate-400"});case"vpnError":return s.jsx(jn,{className:"h-4 w-4 text-red-400"});default:return s.jsx(pt,{className:"h-4 w-4 text-slate-400"})}},p=w=>{var N,j,x,y,v,b,_,k,S,C,A,T,P,O,I,R,D,z,F,G,q,$,ee,Q;switch(w.type){case"hostDiscovered":return s.jsxs(s.Fragment,{children:["Discovered host ",s.jsx("code",{className:"text-primary font-mono",children:(N=w.data)==null?void 0:N.ip}),((j=w.data)==null?void 0:j.hostname)&&` (${w.data.hostname})`]});case"portFound":return s.jsxs(s.Fragment,{children:["Found open port"," ",s.jsxs("code",{className:"text-green-400 font-mono",children:[(x=w.data)==null?void 0:x.port,"/",(y=w.data)==null?void 0:y.protocol]})," ","on ",s.jsx("code",{className:"text-primary font-mono",children:(v=w.data)==null?void 0:v.ip})]});case"serviceDetected":return s.jsxs(s.Fragment,{children:["Detected service ",s.jsx("code",{className:"text-purple-400",children:(b=w.data)==null?void 0:b.service_name})," on"," ",s.jsx("code",{className:"text-primary font-mono",children:(_=w.data)==null?void 0:_.ip}),":",(k=w.data)==null?void 0:k.port]});case"vulnerabilityFound":return s.jsxs(s.Fragment,{children:["Found"," ",s.jsx(kt,{variant:"severity",type:((C=(S=w.data)==null?void 0:S.severity)==null?void 0:C.toLowerCase())||"low",children:(A=w.data)==null?void 0:A.severity})," ","vulnerability on ",s.jsx("code",{className:"text-primary font-mono",children:(T=w.data)==null?void 0:T.ip}),":"," ",s.jsx("span",{className:"text-white",children:(P=w.data)==null?void 0:P.title})]});case"phaseStarted":return s.jsxs(s.Fragment,{children:["Started phase: ",s.jsx("span",{className:"text-primary font-medium",children:(O=w.data)==null?void 0:O.phase})]});case"scanStarted":return s.jsx("span",{className:"text-green-400 font-medium",children:"Scan started"});case"scanCompleted":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-green-400 font-medium",children:"Scan completed"})," - Found"," ",((I=w.data)==null?void 0:I.total_hosts)||0," hosts in ",((R=w.data)==null?void 0:R.duration)||0,"s"]});case"error":return s.jsxs("span",{className:"text-red-400",children:["Error: ",(D=w.data)==null?void 0:D.message]});case"vpnConnecting":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-yellow-400",children:"Connecting to VPN:"})," ",s.jsx("span",{className:"text-white",children:(z=w.data)==null?void 0:z.config_name})]});case"vpnConnected":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-green-400 font-medium",children:"VPN connected"})," - ",(F=w.data)==null?void 0:F.config_name,((G=w.data)==null?void 0:G.assigned_ip)&&s.jsxs(s.Fragment,{children:[" (IP: ",s.jsx("code",{className:"text-primary font-mono",children:w.data.assigned_ip}),")"]})]});case"vpnDisconnecting":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-yellow-400",children:"Disconnecting from VPN:"})," ",s.jsx("span",{className:"text-white",children:(q=w.data)==null?void 0:q.config_name})]});case"vpnDisconnected":return s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-slate-400",children:"VPN disconnected:"})," ",s.jsx("span",{className:"text-white",children:($=w.data)==null?void 0:$.config_name})]});case"vpnError":return s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"text-red-400",children:["VPN Error (",(ee=w.data)==null?void 0:ee.config_name,"):"]})," ",(Q=w.data)==null?void 0:Q.message]});default:return s.jsx("span",{className:"text-slate-400",children:w.type})}},g=w=>{var N;if(w.type==="vulnerabilityFound")switch((N=w.data)==null?void 0:N.severity){case"Critical":return"border-l-severity-critical bg-severity-critical/5";case"High":return"border-l-severity-high bg-severity-high/5";case"Medium":return"border-l-severity-medium bg-severity-medium/5";default:return"border-l-severity-low bg-severity-low/5"}return w.type==="vpnConnecting"||w.type==="vpnDisconnecting"?"border-l-yellow-500 bg-yellow-500/5":w.type==="vpnConnected"?"border-l-green-500 bg-green-500/5":w.type==="vpnError"?"border-l-red-500 bg-red-500/5":"border-l-slate-600 bg-dark-bg"};return e?s.jsxs(ye,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pt,{className:"h-5 w-5 text-primary"}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"}),s.jsxs("span",{className:"text-sm text-slate-400",children:["(",f.length," events)"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>i(!a),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${a?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-dark-surface text-slate-400 border border-dark-border hover:border-primary"}`,children:[s.jsx(ah,{className:"h-3 w-3"}),a?"Critical/High Only":"All Events"]}),s.jsx("button",{onClick:()=>c(!l),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${l?"bg-primary text-white":"bg-dark-surface text-slate-400 border border-dark-border"}`,children:"Auto-scroll"})]})]}),s.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[f.length===0?s.jsx("div",{className:"text-center py-8 text-slate-500",children:a?"No critical/high severity findings yet":"Waiting for scan events..."}):f.map((w,N)=>s.jsx("div",{className:`border-l-4 rounded-r-lg p-3 transition-all hover:bg-dark-surface/50 ${g(w)}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"mt-0.5",children:h(w.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm text-slate-300",children:p(w)}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:$n(new Date(w.timestamp),"HH:mm:ss.SSS")})]})]})},N)),s.jsx("div",{ref:o})]})]}):s.jsx(ye,{children:s.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a running scan to view live activity"})})},P_={Critical:10,High:7,Medium:4,Low:1};function Zi(e){let n=0;const r=e.vulnerabilities.reduce((o,l)=>o+P_[l.severity],0),a=e.ports.filter(o=>o.state==="Open").length,i=Math.min(a*2,30);return n=r+i,Math.min(Math.round(n),100)}function A_(e){return e>=70?"Critical":e>=50?"High":e>=25?"Medium":"Low"}function kf(e){const n={Critical:0,High:0,Medium:0,Low:0};return e.forEach(r=>{r.vulnerabilities.forEach(a=>{n[a.severity]++})}),n}function T_(e){const n=new Map;return e.forEach(r=>{r.ports.filter(a=>a.state==="Open").forEach(a=>{var o;const i=n.get(a.port);i?i.count++:n.set(a.port,{count:1,service:((o=a.service)==null?void 0:o.name)||`Port ${a.port}`})})}),Array.from(n.entries()).map(([r,a])=>({port:r,...a})).sort((r,a)=>a.count-r.count).slice(0,10)}function R_(e){const n=e.length,r=e.reduce((l,c)=>l+c.ports.filter(d=>d.state==="Open").length,0),a=kf(e),i=Object.values(a).reduce((l,c)=>l+c,0),o=a.Critical;return{totalHosts:n,totalPorts:r,totalVulnerabilities:i,criticalVulnerabilities:o,vulnerabilities:a}}function Sf(e){switch(e.toLowerCase()){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":case"info":case"informational":return"low";default:return"low"}}const O_=({vulnerability:e,compact:n=!1})=>{const[r,a]=E.useState(!1),i=()=>{e.cve_id&&(navigator.clipboard.writeText(e.cve_id),J.success("CVE ID copied to clipboard"))},o=c=>`https://nvd.nist.gov/vuln/detail/${c}`,l=c=>{switch(c){case"Critical":return"border-severity-critical bg-severity-critical/10";case"High":return"border-severity-high bg-severity-high/10";case"Medium":return"border-severity-medium bg-severity-medium/10";case"Low":return"border-severity-low bg-severity-low/10";default:return"border-slate-600 bg-slate-600/10"}};return s.jsx("div",{className:`border-l-4 rounded-lg p-4 ${l(e.severity)}`,children:s.jsx("div",{className:"flex items-start justify-between gap-3",children:s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(Ce,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),s.jsx("h4",{className:"text-white font-semibold text-sm truncate",children:e.title})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.cve_id&&s.jsxs("div",{className:"flex items-center gap-1 bg-dark-surface px-2 py-1 rounded",children:[s.jsx("code",{className:"text-xs text-primary font-mono",children:e.cve_id}),s.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors",title:"Copy CVE ID",children:s.jsx(li,{className:"h-3 w-3"})}),s.jsx("a",{href:o(e.cve_id),target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",title:"View on NVD",children:s.jsx(ih,{className:"h-3 w-3"})})]}),s.jsx(kt,{variant:"severity",type:Sf(e.severity),children:e.severity}),e.affected_service&&s.jsxs("span",{className:"text-xs text-slate-400",children:["Affects: ",s.jsx("span",{className:"text-slate-300 font-mono",children:e.affected_service})]})]}),!n&&e.description&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`text-sm text-slate-300 mt-2 ${r?"":"line-clamp-2"}`,children:e.description}),e.description.length>100&&s.jsx("button",{onClick:()=>a(!r),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:r?s.jsxs(s.Fragment,{children:["Show less ",s.jsx(Hn,{className:"h-3 w-3"})]}):s.jsxs(s.Fragment,{children:["Show more ",s.jsx(St,{className:"h-3 w-3"})]})})]})]})})})},D_=({banner:e,service:n})=>{const[r,a]=E.useState(!1),i=()=>{navigator.clipboard.writeText(e),J.success("Service banner copied to clipboard")},o=e.length>100,l=r||!o?e:e.substring(0,100)+"...";return s.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 mt-2",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Jd,{className:"h-4 w-4 text-green-400"}),s.jsxs("span",{className:"text-xs font-semibold text-slate-300",children:["Service Banner ",n&&`(${n})`]})]}),s.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors p-1 rounded hover:bg-dark-surface",title:"Copy banner",children:s.jsx(li,{className:"h-3 w-3"})})]}),s.jsx("pre",{className:"bg-slate-900 rounded p-2 overflow-x-auto",children:s.jsx("code",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:l})}),o&&s.jsx("button",{onClick:()=>a(!r),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:r?s.jsxs(s.Fragment,{children:["Show less ",s.jsx(Hn,{className:"h-3 w-3"})]}):s.jsxs(s.Fragment,{children:["Show full banner ",s.jsx(St,{className:"h-3 w-3"})]})})]})};function $_(e){switch(e){case"A+":return{bg:"bg-emerald-500",text:"text-white",border:"border-emerald-600",glow:"shadow-emerald-500/50"};case"A":return{bg:"bg-green-500",text:"text-white",border:"border-green-600",glow:"shadow-green-500/50"};case"A-":return{bg:"bg-green-400",text:"text-white",border:"border-green-500",glow:"shadow-green-400/50"};case"B+":return{bg:"bg-lime-500",text:"text-white",border:"border-lime-600",glow:"shadow-lime-500/50"};case"B":return{bg:"bg-yellow-500",text:"text-gray-900",border:"border-yellow-600",glow:"shadow-yellow-500/50"};case"B-":return{bg:"bg-yellow-400",text:"text-gray-900",border:"border-yellow-500",glow:"shadow-yellow-400/50"};case"C":return{bg:"bg-orange-500",text:"text-white",border:"border-orange-600",glow:"shadow-orange-500/50"};case"D":return{bg:"bg-red-400",text:"text-white",border:"border-red-500",glow:"shadow-red-400/50"};case"F":return{bg:"bg-red-600",text:"text-white",border:"border-red-700",glow:"shadow-red-600/50"};case"T":return{bg:"bg-purple-600",text:"text-white",border:"border-purple-700",glow:"shadow-purple-600/50"};case"M":return{bg:"bg-fuchsia-600",text:"text-white",border:"border-fuchsia-700",glow:"shadow-fuchsia-600/50"};default:return{bg:"bg-gray-500",text:"text-white",border:"border-gray-600"}}}function bu(e){switch(e){case"A+":return"Excellent - Best possible SSL/TLS configuration with HSTS";case"A":return"Very Good - Strong SSL/TLS configuration";case"A-":return"Good - Minor improvements possible";case"B+":case"B":case"B-":return"Acceptable - Some security issues present";case"C":return"Weak - Significant security issues";case"D":return"Poor - Serious security vulnerabilities";case"F":return"Failed - Critical security issues";case"T":return"Trust Issue - Certificate not from a trusted CA (self-signed)";case"M":return"Mismatch - Certificate hostname does not match";default:return"Unknown - Grade could not be determined"}}function z_(e){switch(e){case"T":return ho;case"M":return Vp;default:return null}}function M_(e){return e>=90?"bg-emerald-500":e>=80?"bg-green-500":e>=70?"bg-lime-500":e>=60?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500"}function I_(e){switch(e){case"Critical":return{bg:"bg-red-600",text:"text-white"};case"High":return{bg:"bg-orange-500",text:"text-white"};case"Medium":return{bg:"bg-yellow-500",text:"text-gray-900"};case"Low":return{bg:"bg-blue-500",text:"text-white"};case"Informational":return{bg:"bg-gray-500",text:"text-white"};default:return{bg:"bg-gray-500",text:"text-white"}}}function ga({label:e,score:n,icon:r}){return s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(r,{className:"w-4 h-4"}),s.jsx("span",{children:e})]}),s.jsxs("span",{className:"font-mono text-gray-200",children:[n,"/100"]})]}),s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${M_(n)} transition-all duration-300`,style:{width:`${n}%`}})})]})}function L_({vuln:e}){const n=I_(e.severity);return s.jsx("div",{className:"bg-gray-800 rounded-lg p-3 border border-gray-700",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded ${n.bg} ${n.text}`,children:e.severity}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"font-medium text-gray-200",children:e.name}),e.cve&&s.jsx("span",{className:"text-xs text-cyan-400 font-mono",children:e.cve})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:e.description})]})]})})}function F_({grade:e,showDetails:n=!0,compact:r=!1,animate:a=!0}){const[i,o]=E.useState(!1),[l,c]=E.useState(!a),d=$_(e.grade),u=z_(e.grade),f=e.grade==="T"||e.grade==="M";return E.useEffect(()=>{if(a&&!l){const h=setTimeout(()=>c(!0),100);return()=>clearTimeout(h)}},[a,l]),r?s.jsx("div",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg font-bold text-sm
          ${d.bg} ${d.text} border ${d.border}
          ${l?"opacity-100 scale-100":"opacity-0 scale-75"}
          ${d.glow?`shadow-lg ${d.glow}`:""}
          transition-all duration-300 ease-out`,title:`SSL/TLS Grade: ${e.grade} - ${bu(e.grade)} (Score: ${e.overall_score}/100)`,children:u?s.jsx(u,{className:"w-4 h-4"}):e.grade}):s.jsxs("div",{className:"bg-gray-800/50 rounded-lg border border-gray-700",children:[s.jsxs("div",{className:`flex items-center justify-between p-3 ${n?"cursor-pointer hover:bg-gray-800/80":""} transition-colors`,onClick:()=>n&&o(!i),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg font-bold text-xl
              ${d.bg} ${d.text} border-2 ${d.border}
              ${l?"opacity-100 scale-100":"opacity-0 scale-75"}
              ${d.glow?`shadow-lg ${d.glow}`:""}
              transition-all duration-500 ease-out`,children:u?s.jsx(u,{className:"w-6 h-6"}):e.grade}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-200 font-medium",children:"SSL/TLS Grade"}),f&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.grade==="T"?"bg-purple-500/20 text-purple-400":"bg-fuchsia-500/20 text-fuchsia-400"}`,children:e.grade==="T"?"Trust Issue":"Hostname Mismatch"}),!f&&e.grade_capped&&s.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Capped"})]}),s.jsx("div",{className:"text-sm text-gray-400",children:f?s.jsx("span",{children:bu(e.grade)}):s.jsxs(s.Fragment,{children:["Overall Score: ",e.overall_score,"/100",e.vulnerabilities_found.length>0&&s.jsxs("span",{className:"ml-2 text-red-400",children:["(",e.vulnerabilities_found.length," issue",e.vulnerabilities_found.length!==1?"s":"",")"]})]})})]})]}),n&&s.jsx("button",{className:"text-gray-400 hover:text-gray-200 p-1 transition-colors",children:i?s.jsx(Hn,{className:"w-5 h-5"}):s.jsx(St,{className:"w-5 h-5"})})]}),n&&i&&s.jsxs("div",{className:"border-t border-gray-700 p-4 space-y-4",children:[e.grade_capped&&e.cap_reason&&s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3 flex items-start gap-2",children:[s.jsx(De,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-yellow-400 font-medium",children:"Grade Capped"}),s.jsx("p",{className:"text-sm text-yellow-300/80 mt-1",children:e.cap_reason})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[s.jsx(Ce,{className:"w-4 h-4"}),"Score Breakdown"]}),s.jsxs("div",{className:"grid gap-3",children:[s.jsx(ga,{label:"Protocol",score:e.protocol_score,icon:on}),s.jsx(ga,{label:"Cipher Suites",score:e.cipher_score,icon:kn}),s.jsx(ga,{label:"Certificate",score:e.certificate_score,icon:xo}),s.jsx(ga,{label:"Key Exchange",score:e.key_exchange_score,icon:Ce})]})]}),e.vulnerabilities_found.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[s.jsx(De,{className:"w-4 h-4 text-red-400"}),"Issues Found (",e.vulnerabilities_found.length,")"]}),s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:e.vulnerabilities_found.map((h,p)=>s.jsx(L_,{vuln:h},`${h.id}-${p}`))})]}),e.recommendations.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-300 flex items-center gap-2",children:[s.jsx(Qe,{className:"w-4 h-4 text-green-400"}),"Recommendations (",e.recommendations.length,")"]}),s.jsx("ul",{className:"space-y-2",children:e.recommendations.map((h,p)=>s.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-400",children:[s.jsx(rl,{className:"w-4 h-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:h})]},p))})]}),e.vulnerabilities_found.length===0&&e.recommendations.length===0&&s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-3 flex items-center gap-2",children:[s.jsx(Qe,{className:"w-5 h-5 text-emerald-500"}),s.jsx("span",{className:"text-emerald-400",children:"Excellent! No security issues or recommendations found."})]})]})]})}function H_(e){return e>=90?"text-emerald-400":e>=80?"text-green-400":e>=70?"text-lime-400":e>=60?"text-yellow-400":e>=50?"text-orange-400":"text-red-400"}function B_(e){return e>=90?"bg-emerald-500":e>=80?"bg-green-500":e>=70?"bg-lime-500":e>=60?"bg-yellow-500":e>=50?"bg-orange-500":"bg-red-500"}function U_(e){switch(e){case"A+":return{bg:"bg-emerald-500",text:"text-white",border:"border-emerald-600"};case"A":return{bg:"bg-green-500",text:"text-white",border:"border-green-600"};case"A-":return{bg:"bg-green-400",text:"text-white",border:"border-green-500"};case"B+":return{bg:"bg-lime-500",text:"text-white",border:"border-lime-600"};case"B":return{bg:"bg-yellow-500",text:"text-gray-900",border:"border-yellow-600"};case"B-":return{bg:"bg-yellow-400",text:"text-gray-900",border:"border-yellow-500"};case"C":return{bg:"bg-orange-500",text:"text-white",border:"border-orange-600"};case"D":return{bg:"bg-red-400",text:"text-white",border:"border-red-500"};case"F":return{bg:"bg-red-600",text:"text-white",border:"border-red-700"};case"T":return{bg:"bg-purple-600",text:"text-white",border:"border-purple-700"};case"M":return{bg:"bg-fuchsia-600",text:"text-white",border:"border-fuchsia-700"};default:return{bg:"bg-gray-500",text:"text-white",border:"border-gray-600"}}}function q_(e){switch(e){case"Critical":return"bg-red-600 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-gray-900";case"Low":return"bg-blue-500 text-white";case"Informational":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}}function xa({label:e,score:n,icon:r,description:a}){return s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(r,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"font-medium text-gray-200",children:e})]}),s.jsxs("span",{className:`font-bold text-lg ${H_(n)}`,children:[n,"/100"]})]}),s.jsx("div",{className:"h-3 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:`h-full ${B_(n)} transition-all duration-500`,style:{width:`${n}%`}})}),a&&s.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a})]})}function V_({protocol:e,isWeak:n}){return s.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 rounded-lg ${n?"bg-red-500/10 border border-red-500/30":"bg-green-500/10 border border-green-500/30"}`,children:[n?s.jsx(Vt,{className:"w-4 h-4 text-red-400"}):s.jsx(Qe,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:n?"text-red-300":"text-green-300",children:e}),n&&s.jsx("span",{className:"text-xs text-red-400 ml-auto",children:"Weak"})]})}function W_({cipher:e,isWeak:n}){return s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm ${n?"bg-red-500/10 text-red-300":"bg-gray-700/50 text-gray-300"}`,children:[n&&s.jsx(De,{className:"w-3 h-3 text-red-400"}),s.jsx("span",{className:"font-mono text-xs truncate",children:e})]})}function G_({sslInfo:e,hostname:n}){const r=e.ssl_grade;if(!r)return s.jsx("div",{className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:s.jsx("p",{className:"text-gray-400 text-center",children:"SSL grade information not available"})});const a=U_(r.grade),i=r.grade==="T"||r.grade==="M";return s.jsxs("div",{className:"bg-gray-900 rounded-xl border border-gray-700 overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-gray-800 to-gray-900 p-6 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-6",children:[s.jsx("div",{className:`flex items-center justify-center w-24 h-24 rounded-xl font-bold text-4xl shadow-xl ${a.bg} ${a.text} border-4 ${a.border}`,children:r.grade}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h2",{className:"text-xl font-bold text-white mb-2",children:["SSL/TLS Security Grade",n&&s.jsxs("span",{className:"text-gray-400 font-normal ml-2",children:["for ",n]})]}),i?s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ${r.grade==="T"?"bg-purple-500/20 text-purple-300":"bg-fuchsia-500/20 text-fuchsia-300"}`,children:[s.jsx(De,{className:"w-4 h-4"}),s.jsx("span",{children:r.grade==="T"?"Certificate not trusted (self-signed or untrusted CA)":"Certificate hostname mismatch"})]}):s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-gray-400",children:[s.jsx("span",{className:"text-2xl font-bold text-white",children:r.overall_score}),s.jsx("span",{className:"text-gray-500",children:"/100"})]}),r.grade_capped&&r.cap_reason&&s.jsxs("div",{className:"flex items-center gap-2 text-yellow-400 text-sm",children:[s.jsx(De,{className:"w-4 h-4"}),s.jsx("span",{children:"Grade capped"})]})]})]})]})}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Ce,{className:"w-5 h-5 text-cyan-400"}),"Score Breakdown"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(xa,{label:"Protocol Support",score:r.protocol_score,icon:on,description:"TLS version support and configuration"}),s.jsx(xa,{label:"Cipher Strength",score:r.cipher_score,icon:kn,description:"Encryption algorithms and key sizes"}),s.jsx(xa,{label:"Certificate",score:r.certificate_score,icon:xo,description:"Certificate validity and chain"}),s.jsx(xa,{label:"Key Exchange",score:r.key_exchange_score,icon:Ce,description:"Forward secrecy and key exchange methods"})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(xo,{className:"w-5 h-5 text-cyan-400"}),"Certificate Details"]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Subject"}),s.jsx("p",{className:"text-gray-200 font-mono text-sm truncate",title:e.subject,children:e.subject})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Issuer"}),s.jsx("p",{className:"text-gray-200 font-mono text-sm truncate",title:e.issuer,children:e.issuer})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Valid From"}),s.jsx("p",{className:"text-gray-200",children:new Date(e.valid_from).toLocaleDateString()})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Valid Until"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("p",{className:e.cert_expired?"text-red-400":"text-gray-200",children:new Date(e.valid_until).toLocaleDateString()}),e.days_until_expiry!==null&&s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${e.cert_expired?"bg-red-500/20 text-red-400":e.days_until_expiry<30?"bg-yellow-500/20 text-yellow-400":"bg-green-500/20 text-green-400"}`,children:e.cert_expired?`Expired ${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`})]})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-gray-700",children:[e.self_signed&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-purple-500/20 text-purple-400 text-xs rounded",children:[s.jsx(De,{className:"w-3 h-3"}),"Self-Signed"]}),e.hostname_mismatch&&s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-fuchsia-500/20 text-fuchsia-400 text-xs rounded",children:[s.jsx(Vt,{className:"w-3 h-3"}),"Hostname Mismatch"]}),e.hsts_enabled?s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded",children:[s.jsx(Qe,{className:"w-3 h-3"}),"HSTS Enabled"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-500/20 text-yellow-400 text-xs rounded",children:[s.jsx(De,{className:"w-3 h-3"}),"HSTS Not Enabled"]})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(on,{className:"w-5 h-5 text-cyan-400"}),"Protocol Support"]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2",children:e.protocols.map(o=>s.jsx(V_,{protocol:o,isWeak:e.weak_protocols.includes(o)},o))})]}),e.cipher_suites.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(kn,{className:"w-5 h-5 text-cyan-400"}),"Cipher Suites",s.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["(",e.cipher_suites.length,")"]})]}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-4 max-h-48 overflow-y-auto",children:s.jsx("div",{className:"flex flex-wrap gap-2",children:e.cipher_suites.map(o=>s.jsx(W_,{cipher:o,isWeak:e.weak_ciphers.includes(o)},o))})})]}),r.vulnerabilities_found.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(De,{className:"w-5 h-5 text-red-400"}),"Security Issues",s.jsxs("span",{className:"text-sm font-normal text-red-400",children:["(",r.vulnerabilities_found.length,")"]})]}),s.jsx("div",{className:"space-y-3",children:r.vulnerabilities_found.map((o,l)=>s.jsx("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded flex-shrink-0 ${q_(o.severity)}`,children:o.severity}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"font-medium text-gray-200",children:o.name}),o.cve&&s.jsxs("a",{href:`https://nvd.nist.gov/vuln/detail/${o.cve}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-cyan-400 font-mono hover:underline flex items-center gap-1",children:[o.cve,s.jsx(ih,{className:"w-3 h-3"})]})]}),s.jsx("p",{className:"text-sm text-gray-400 mt-1",children:o.description})]})]})},`${o.id}-${l}`))})]}),r.recommendations.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Qe,{className:"w-5 h-5 text-green-400"}),"Recommendations"]}),s.jsx("div",{className:"bg-gray-800 rounded-lg p-4 space-y-2",children:r.recommendations.map((o,l)=>s.jsxs("div",{className:"flex items-start gap-3 text-sm",children:[s.jsx(rl,{className:"w-4 h-4 text-cyan-400 flex-shrink-0 mt-0.5"}),s.jsx("span",{className:"text-gray-300",children:o})]},l))})]}),e.chain_issues.length>0&&s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-200 mb-4 flex items-center gap-2",children:[s.jsx(Gt,{className:"w-5 h-5 text-yellow-400"}),"Certificate Chain Issues"]}),s.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4 space-y-2",children:e.chain_issues.map((o,l)=>s.jsxs("div",{className:"flex items-start gap-2 text-sm text-yellow-300",children:[s.jsx(De,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),s.jsx("span",{children:o})]},l))})]}),r.vulnerabilities_found.length===0&&r.recommendations.length===0&&e.chain_issues.length===0&&s.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-lg p-6 flex items-center justify-center gap-3",children:[s.jsx(Qe,{className:"w-6 h-6 text-emerald-400"}),s.jsx("span",{className:"text-emerald-300 text-lg",children:"Excellent! SSL/TLS configuration meets best practices."})]})]})]})}const Y_=({sslInfo:e,port:n,hostname:r})=>{const[a,i]=E.useState(!1),l=e.cert_expired||e.hostname_mismatch?"critical":e.weak_protocols.length>0||e.weak_ciphers.length>0||e.self_signed?"warning":!e.hsts_enabled&&n===443?"info":"good",c=()=>e.cert_expired?"text-red-400":e.days_until_expiry?e.days_until_expiry<30?"text-yellow-400":e.days_until_expiry<90?"text-blue-400":"text-green-400":"text-slate-400";return a?s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",children:s.jsxs("div",{className:"relative w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 z-10 p-2 bg-gray-800 hover:bg-gray-700 rounded-lg text-gray-400 hover:text-white transition-colors",children:s.jsx(Vt,{className:"w-6 h-6"})}),s.jsx(G_,{sslInfo:e,hostname:r})]})}):s.jsxs("div",{className:"mt-3 space-y-3 border-t border-dark-border pt-3",children:[e.ssl_grade&&s.jsxs("div",{className:"relative",children:[s.jsx(F_,{grade:e.ssl_grade,showDetails:!0,animate:!0}),s.jsx("button",{onClick:()=>i(!0),className:"absolute top-3 right-12 p-1.5 text-gray-400 hover:text-cyan-400 hover:bg-gray-700/50 rounded transition-colors",title:"View detailed SSL/TLS breakdown",children:s.jsx(oh,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(on,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-semibold text-white",children:"SSL/TLS Certificate"}),!e.ssl_grade&&s.jsxs(s.Fragment,{children:[l==="critical"&&s.jsx(kt,{variant:"severity",type:"critical",children:"Critical Issues"}),l==="warning"&&s.jsx(kt,{variant:"severity",type:"high",children:"Security Issues"}),l==="good"&&s.jsx(kt,{variant:"severity",type:"low",children:"Secure"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.cert_valid&&!e.cert_expired?s.jsx(Qe,{className:"h-3 w-3 text-green-500"}):s.jsx(Vt,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:"font-medium text-slate-300",children:"Certificate Status"})]}),s.jsx("div",{className:e.cert_expired?"text-red-400":"text-green-400",children:e.cert_expired?"Expired":"Valid"})]}),s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(qt,{className:"h-3 w-3 text-slate-400"}),s.jsx("span",{className:"font-medium text-slate-300",children:"Expires In"})]}),s.jsx("div",{className:c(),children:e.days_until_expiry!==null?e.cert_expired?`${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`:"Unknown"})]}),s.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Gt,{className:"h-3 w-3 text-slate-400"}),s.jsx("span",{className:"font-medium text-slate-300",children:"Subject"})]}),s.jsx("div",{className:"text-slate-400 truncate",title:e.subject,children:e.subject})]}),s.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[s.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[s.jsx(Ce,{className:"h-3 w-3 text-slate-400"}),s.jsx("span",{className:"font-medium text-slate-300",children:"Issuer"})]}),s.jsx("div",{className:"text-slate-400 truncate",title:e.issuer,children:e.issuer})]}),s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsx("span",{className:"font-medium text-slate-300",children:"Valid From"}),s.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_from).toLocaleDateString()})]}),s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsx("span",{className:"font-medium text-slate-300",children:"Valid Until"}),s.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(e.self_signed||e.hostname_mismatch||e.weak_protocols.length>0||e.weak_ciphers.length>0||!e.hsts_enabled||e.chain_issues.length>0)&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-yellow-400",children:[s.jsx(De,{className:"h-4 w-4"}),"Security Findings"]}),e.self_signed&&s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-yellow-400 font-medium",children:"Self-Signed Certificate"}),s.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate is not from a trusted Certificate Authority"})]}),e.hostname_mismatch&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-red-400 font-medium",children:"Hostname Mismatch"}),s.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate does not match the hostname"})]}),e.weak_protocols.length>0&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-red-400 font-medium",children:"Weak Protocols"}),s.jsx("div",{className:"text-slate-400 mt-1",children:e.weak_protocols.join(", ")})]}),e.weak_ciphers.length>0&&s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-yellow-400 font-medium",children:"Weak Ciphers"}),s.jsx("div",{className:"text-slate-400 mt-1 max-h-16 overflow-y-auto",children:e.weak_ciphers.join(", ")})]}),!e.hsts_enabled&&n===443&&s.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-blue-400 font-medium",children:"HSTS Not Enabled"}),s.jsx("div",{className:"text-slate-400 mt-1",children:"HTTP Strict Transport Security header not detected"})]}),e.chain_issues.length>0&&s.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[s.jsx("div",{className:"text-yellow-400 font-medium",children:"Certificate Chain Issues"}),s.jsx("div",{className:"text-slate-400 mt-1",children:e.chain_issues.join(", ")})]})]}),e.protocols.length>0&&s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"Supported Protocols"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:e.protocols.map(d=>s.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${e.weak_protocols.includes(d)?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:d},d))})]}),e.hsts_enabled&&s.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[s.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"HSTS"}),s.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx(Qe,{className:"h-3 w-3 text-green-500"}),s.jsx("span",{className:"text-green-400",children:"Enabled"}),e.hsts_max_age&&s.jsxs("span",{className:"text-slate-400",children:["(max-age: ",e.hsts_max_age.toLocaleString(),"s)"]})]})]})]})},X_=({hosts:e,scanName:n="scan",scanId:r,disabled:a=!1})=>{const[i,o]=E.useState(!1),[l,c]=E.useState(!1),d=()=>{const w={scan:n,exportedAt:new Date().toISOString(),totalHosts:e.length,hosts:e.map(N=>({ip:N.target.ip,hostname:N.target.hostname,isAlive:N.is_alive,osGuess:N.os_guess,ports:N.ports.map(j=>({port:j.port,protocol:j.protocol,state:j.state,service:j.service})),vulnerabilities:N.vulnerabilities}))};p(JSON.stringify(w,null,2),`${n}_${$n(new Date,"yyyy-MM-dd_HHmmss")}.json`,"application/json"),J.success("Exported as JSON")},u=()=>{let w=`IP,Hostname,Alive,OS,Ports,Vulnerabilities,Critical,High,Medium,Low
`;e.forEach(N=>{var y;const j=N.ports.filter(v=>v.state==="Open").map(v=>v.port).join(";"),x={Critical:N.vulnerabilities.filter(v=>v.severity==="Critical").length,High:N.vulnerabilities.filter(v=>v.severity==="High").length,Medium:N.vulnerabilities.filter(v=>v.severity==="Medium").length,Low:N.vulnerabilities.filter(v=>v.severity==="Low").length};w+=`"${N.target.ip}",`,w+=`"${N.target.hostname||""}",`,w+=`${N.is_alive},`,w+=`"${((y=N.os_guess)==null?void 0:y.os_family)||""}",`,w+=`"${j}",`,w+=`${N.vulnerabilities.length},`,w+=`${x.Critical},`,w+=`${x.High},`,w+=`${x.Medium},`,w+=`${x.Low}
`}),p(w,`${n}_${$n(new Date,"yyyy-MM-dd_HHmmss")}.csv`,"text/csv"),J.success("Exported as CSV")},f=()=>{const w=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HeroForge Scan Report - ${n}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      padding: 2rem;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: #3b82f6; margin-bottom: 0.5rem; }
    .meta { color: #94a3b8; margin-bottom: 2rem; }
    .summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
    }
    .card h3 { color: #cbd5e1; font-size: 0.875rem; margin-bottom: 0.5rem; }
    .card .value { font-size: 2rem; font-weight: bold; }
    .host {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .host-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #334155;
    }
    .host-ip { font-family: monospace; font-size: 1.25rem; color: #3b82f6; }
    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-critical { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
    .badge-high { background: rgba(249, 115, 22, 0.2); color: #f97316; }
    .badge-medium { background: rgba(234, 179, 8, 0.2); color: #eab308; }
    .badge-low { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .section { margin-top: 1rem; }
    .section h4 { color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.875rem; }
    .ports { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; }
    .port {
      background: #0f172a;
      padding: 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.875rem;
    }
    .vuln {
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #ef4444;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    .vuln-title { color: #fff; font-weight: 600; margin-bottom: 0.25rem; }
    .vuln-cve { color: #3b82f6; font-family: monospace; font-size: 0.875rem; }
    @media print {
      body { background: white; color: black; }
      .card, .host { border-color: #ccc; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1> HeroForge Scan Report</h1>
    <p class="meta">
      Scan: ${n} |
      Generated: ${$n(new Date,"PPpp")} |
      Hosts: ${e.length}
    </p>

    <div class="summary">
      <div class="card">
        <h3>Total Hosts</h3>
        <div class="value" style="color: #3b82f6;">${e.length}</div>
      </div>
      <div class="card">
        <h3>Open Ports</h3>
        <div class="value" style="color: #22c55e;">
          ${e.reduce((N,j)=>N+j.ports.filter(x=>x.state==="Open").length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Total Vulnerabilities</h3>
        <div class="value" style="color: #eab308;">
          ${e.reduce((N,j)=>N+j.vulnerabilities.length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Critical Findings</h3>
        <div class="value" style="color: #ef4444;">
          ${e.reduce((N,j)=>N+j.vulnerabilities.filter(x=>x.severity==="Critical").length,0)}
        </div>
      </div>
    </div>

    <h2 style="color: #cbd5e1; margin-bottom: 1rem;">Discovered Hosts</h2>
    ${e.map(N=>`
      <div class="host">
        <div class="host-header">
          <div>
            <div class="host-ip">${N.target.ip}</div>
            ${N.target.hostname?`<div style="color: #94a3b8; font-size: 0.875rem;">${N.target.hostname}</div>`:""}
          </div>
          <div>
            ${N.vulnerabilities.length>0?`<span class="badge badge-critical">${N.vulnerabilities.length} vulnerabilities</span>`:""}
          </div>
        </div>

        ${N.os_guess?`
          <div class="section">
            <h4>OS Detection</h4>
            <p style="color: #94a3b8; font-size: 0.875rem;">
              ${N.os_guess.os_family} ${N.os_guess.os_version||""} (${N.os_guess.confidence}% confidence)
            </p>
          </div>
        `:""}

        ${N.ports.filter(j=>j.state==="Open").length>0?`
          <div class="section">
            <h4>Open Ports (${N.ports.filter(j=>j.state==="Open").length})</h4>
            <div class="ports">
              ${N.ports.filter(j=>j.state==="Open").map(j=>`
                <div class="port">
                  <strong>${j.port}/${j.protocol}</strong><br>
                  ${j.service?`<span style="color: #94a3b8;">${j.service.name} ${j.service.version||""}</span>`:""}
                </div>
              `).join("")}
            </div>
          </div>
        `:""}

        ${N.vulnerabilities.length>0?`
          <div class="section">
            <h4>Vulnerabilities (${N.vulnerabilities.length})</h4>
            ${N.vulnerabilities.map(j=>`
              <div class="vuln">
                <div class="vuln-title">${j.title}</div>
                ${j.cve_id?`<div class="vuln-cve">${j.cve_id}</div>`:""}
                <span class="badge badge-${j.severity.toLowerCase()}">${j.severity}</span>
              </div>
            `).join("")}
          </div>
        `:""}
      </div>
    `).join("")}

    <footer style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #334155; text-align: center; color: #64748b;">
      <p>Generated by HeroForge - Network Reconnaissance Tool</p>
      <p style="font-size: 0.875rem;">For authorized security testing only</p>
    </footer>
  </div>
</body>
</html>`;p(w,`${n}_${$n(new Date,"yyyy-MM-dd_HHmmss")}.html`,"text/html"),J.success("Exported as HTML report")},h=async()=>{if(!r){J.error("Scan ID required for Markdown export");return}c(!0);try{const w=localStorage.getItem("token"),N=await Ve.get(`/api/scans/${r}/export/markdown`,{headers:{Authorization:`Bearer ${w}`},responseType:"blob"}),j=N.headers["content-disposition"];let x=`${n}_${$n(new Date,"yyyy-MM-dd_HHmmss")}.md`;if(j){const b=j.match(/filename="?([^";\n]+)"?/);b&&(x=b[1])}const y=window.URL.createObjectURL(new Blob([N.data])),v=document.createElement("a");v.href=y,v.setAttribute("download",x),document.body.appendChild(v),v.click(),v.remove(),window.URL.revokeObjectURL(y),J.success("Exported as Markdown")}catch(w){console.error("Markdown export failed:",w),J.error("Failed to export as Markdown")}finally{c(!1)}},p=(w,N,j)=>{const x=new Blob([w],{type:j}),y=URL.createObjectURL(x),v=document.createElement("a");v.href=y,v.download=N,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(y)},g=w=>{if(o(!1),e.length===0){J.error("No results to export");return}switch(w){case"json":d();break;case"csv":u();break;case"html":f();break;case"markdown":h();break}};return s.jsxs("div",{className:"relative",children:[s.jsxs(He,{onClick:()=>o(!i),disabled:a||e.length===0,variant:"secondary",children:[s.jsx(kr,{className:"h-4 w-4 mr-2"}),"Export Results"]}),i&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>o(!1)}),s.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-20 overflow-hidden",children:s.jsxs("div",{className:"p-2",children:[s.jsxs("button",{onClick:()=>g("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[s.jsx(Wp,{className:"h-4 w-4 text-blue-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"JSON"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Full data export"})]})]}),s.jsxs("button",{onClick:()=>g("csv"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[s.jsx(st,{className:"h-4 w-4 text-green-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"CSV"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Spreadsheet format"})]})]}),s.jsxs("button",{onClick:()=>g("html"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[s.jsx(Ts,{className:"h-4 w-4 text-purple-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"HTML"}),s.jsx("div",{className:"text-xs text-slate-500",children:"Printable report"})]})]}),s.jsxs("button",{onClick:()=>g("markdown"),disabled:!r||l,className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Gp,{className:"h-4 w-4 text-cyan-400"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:"Markdown"}),s.jsx("div",{className:"text-xs text-slate-500",children:"GitHub-flavored MD"})]})]})]})})]})]})},K_={tableOfContents:"Table of Contents",executiveSummary:"Executive Summary",riskOverview:"Risk Overview",hostInventory:"Host Inventory",portAnalysis:"Port Analysis",vulnerabilityFindings:"Vulnerability Findings",serviceEnumeration:"Service Enumeration",remediationRecommendations:"Remediation Recommendations",appendix:"Appendix"},J_=({scanId:e,scanName:n,onClose:r,onReportCreated:a})=>{const[i,o]=E.useState([]),[l,c]=E.useState(!0),[d,u]=E.useState(!1),[f,h]=E.useState(!1),[p,g]=E.useState(`${n} Report`),[w,N]=E.useState(""),[j,x]=E.useState("pdf"),[y,v]=E.useState("technical"),[b,_]=E.useState([]),[k,S]=E.useState({include_charts:!0,company_name:"",assessor_name:"",classification:"Confidential"});E.useEffect(()=>{C()},[]),E.useEffect(()=>{const O=i.find(I=>I.id===y);O&&_(O.default_sections)},[y,i]);const C=async()=>{try{const O=await ws.getTemplates();o(O.data);const I=O.data.find(R=>R.id==="technical");I&&_(I.default_sections)}catch{J.error("Failed to load report templates")}finally{c(!1)}},A=O=>{_(I=>I.includes(O)?I.filter(R=>R!==O):[...I,O])},T=async()=>{var O,I;if(!p.trim()){J.error("Please enter a report name");return}if(b.length===0){J.error("Please select at least one section");return}u(!0);try{const R={scan_id:e,name:p.trim(),description:w.trim()||void 0,format:j,template_id:y,sections:b,options:k};await ws.create(R),J.success("Report generation started"),a==null||a(),r()}catch(R){const z=((I=(O=R.response)==null?void 0:O.data)==null?void 0:I.error)||"Failed to create report";J.error(z)}finally{u(!1)}},P=i.find(O=>O.id===y);return l?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsx(ye,{className:"w-full max-w-2xl mx-4",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(an,{})})})}):s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:s.jsxs(ye,{className:"w-full max-w-2xl my-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(st,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-xl font-semibold text-white",children:"Generate Report"})]}),s.jsx("button",{onClick:r,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",children:s.jsx($t,{className:"h-5 w-5 text-slate-400"})})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Name"}),s.jsx(nt,{type:"text",value:p,onChange:O=>g(O.target.value),placeholder:"Enter report name"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description (optional)"}),s.jsx("textarea",{value:w,onChange:O=>N(O.target.value),placeholder:"Brief description of the report",className:"w-full bg-dark-surface border border-dark-border rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Template"}),s.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map(O=>s.jsxs("button",{onClick:()=>v(O.id),className:`p-4 rounded-lg border text-left transition-all ${y===O.id?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[s.jsx("p",{className:"font-medium text-white",children:O.name}),s.jsx("p",{className:"text-xs text-slate-400 mt-1",children:O.description})]},O.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Format"}),s.jsx("div",{className:"flex gap-3",children:P==null?void 0:P.supports_formats.map(O=>s.jsxs("button",{onClick:()=>x(O),className:`px-6 py-3 rounded-lg border font-medium transition-all flex items-center gap-2 ${j===O?"border-primary bg-primary/10 text-primary":"border-dark-border text-slate-400 hover:border-primary/50"}`,children:[s.jsx(kr,{className:"h-4 w-4"}),O.toUpperCase()]},O))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Included Sections"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(K_).map(([O,I])=>s.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${b.includes(I)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[s.jsx("input",{type:"checkbox",checked:b.includes(I),onChange:()=>A(I),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),s.jsx("span",{className:"text-sm text-white",children:I})]},O))})]}),s.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[s.jsx(_r,{className:"h-4 w-4"}),f?"Hide":"Show"," Advanced Options"]}),f&&s.jsxs("div",{className:"space-y-4 p-4 bg-dark-surface rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Company Name"}),s.jsx(nt,{type:"text",value:k.company_name||"",onChange:O=>S({...k,company_name:O.target.value}),placeholder:"Your Company"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Assessor Name"}),s.jsx(nt,{type:"text",value:k.assessor_name||"",onChange:O=>S({...k,assessor_name:O.target.value}),placeholder:"Security Analyst"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Classification"}),s.jsxs("select",{value:k.classification||"",onChange:O=>S({...k,classification:O.target.value}),className:"w-full bg-dark-bg border border-dark-border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"",children:"None"}),s.jsx("option",{value:"Public",children:"Public"}),s.jsx("option",{value:"Internal",children:"Internal"}),s.jsx("option",{value:"Confidential",children:"Confidential"}),s.jsx("option",{value:"Restricted",children:"Restricted"})]})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:k.include_charts,onChange:O=>S({...k,include_charts:O.target.checked}),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),s.jsx("span",{className:"text-sm text-white",children:"Include visual charts"})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-border",children:[s.jsx(He,{variant:"ghost",onClick:r,children:"Cancel"}),s.jsx(He,{onClick:T,disabled:d,children:d?s.jsxs(s.Fragment,{children:[s.jsx(an,{size:"sm",className:"mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})},Q_=({isOpen:e,onClose:n,onConfirm:r,title:a,message:i,confirmLabel:o="Confirm",cancelLabel:l="Cancel",variant:c="danger",itemCount:d,loading:u=!1})=>{const f=E.useRef(null),h=E.useRef(null);if(E.useEffect(()=>{var N;if(e){h.current=document.activeElement,(N=f.current)==null||N.focus();const j=x=>{var y;if(x.key==="Escape"&&n(),x.key==="Tab"){const v=(y=f.current)==null?void 0:y.querySelectorAll('button:not([disabled]), [tabindex]:not([tabindex="-1"])');if(v&&v.length>0){const b=v[0],_=v[v.length-1];x.shiftKey&&document.activeElement===b?(x.preventDefault(),_.focus()):!x.shiftKey&&document.activeElement===_&&(x.preventDefault(),b.focus())}}};return document.addEventListener("keydown",j),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",j),document.body.style.overflow="",h.current instanceof HTMLElement&&h.current.focus()}}},[e,n]),!e)return null;const p={danger:s.jsx(ci,{className:"h-6 w-6 text-red-400"}),warning:s.jsx(De,{className:"h-6 w-6 text-yellow-400"}),info:s.jsx(rl,{className:"h-6 w-6 text-blue-400"})},g={danger:"danger",warning:"primary",info:"primary"},w={danger:"bg-red-500/10",warning:"bg-yellow-500/10",info:"bg-blue-500/10"};return s.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100]",onClick:N=>{N.target===N.currentTarget&&n()},role:"presentation",children:s.jsxs("div",{ref:f,role:"alertdialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",tabIndex:-1,className:"bg-dark-card border border-dark-border rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl animate-scale-in focus:outline-none",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`p-3 rounded-full ${w[c]}`,children:p[c]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{id:"dialog-title",className:"text-lg font-semibold text-white",children:a}),s.jsx("p",{id:"dialog-description",className:"text-slate-400 mt-2",children:i}),d!==void 0&&d>0&&s.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["This will affect ",s.jsx("span",{className:"font-medium text-slate-300",children:d})," item",d!==1?"s":"","."]}),c==="danger"&&s.jsxs("p",{className:"text-sm text-red-400/80 mt-2 flex items-center gap-1",children:[s.jsx(De,{className:"h-3.5 w-3.5"}),"This action cannot be undone."]})]}),s.jsx("button",{onClick:n,disabled:u,className:"text-slate-500 hover:text-slate-300 transition-colors p-1 rounded hover:bg-dark-hover disabled:opacity-50","aria-label":"Close dialog",children:s.jsx($t,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[s.jsx(He,{variant:"secondary",onClick:n,disabled:u,children:l}),s.jsx(He,{variant:g[c],onClick:r,loading:u,children:o})]})]})})},Z_=({scanId:e,onGenerateNew:n})=>{const[r,a]=E.useState([]),[i,o]=E.useState(!0),[l,c]=E.useState(null),[d,u]=E.useState(null),[f,h]=E.useState(null);E.useEffect(()=>{p();const y=setInterval(()=>{r.filter(b=>b.status==="pending"||b.status==="generating").length>0&&p()},5e3);return()=>clearInterval(y)},[e]);const p=async()=>{try{const y=await ws.getAll(e);a(y.data)}catch{J.error("Failed to load reports")}finally{o(!1)}},g=async y=>{if(y.status!=="completed"){J.warning("Report is not ready for download");return}c(y.id);try{const v=await ws.download(y.id),b=new Blob([v.data],{type:v.headers["content-type"]}),_=window.URL.createObjectURL(b),k=document.createElement("a");k.href=_,k.download=`${y.name.replace(/\s+/g,"_")}.${y.format}`,document.body.appendChild(k),k.click(),window.URL.revokeObjectURL(_),document.body.removeChild(k),J.success("Report downloaded")}catch{J.error("Failed to download report")}finally{c(null)}},w=async()=>{if(f){u(f.id);try{await ws.delete(f.id),a(y=>y.filter(v=>v.id!==f.id)),J.success(`Report "${f.name}" deleted`),h(null)}catch{J.error("Failed to delete report")}finally{u(null)}}},N=y=>{switch(y){case"completed":return s.jsx(Qe,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Vt,{className:"h-4 w-4 text-red-500"});case"generating":return s.jsx(Nt,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return s.jsx(qt,{className:"h-4 w-4 text-slate-400"})}},j=y=>{switch(y){case"completed":return"completed";case"generating":return"running";case"failed":return"failed";default:return"pending"}},x=y=>y?y<1024?`${y} B`:y<1024*1024?`${(y/1024).toFixed(1)} KB`:`${(y/(1024*1024)).toFixed(1)} MB`:"-";return i?s.jsx(ye,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(an,{})})}):r.length===0?s.jsx(ye,{children:s.jsxs("div",{className:"text-center py-12",children:[s.jsx(st,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Reports Yet"}),s.jsx("p",{className:"text-slate-400 mb-4",children:"Generate a professional report from your scan results."}),n&&s.jsxs(He,{onClick:n,children:[s.jsx(st,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})}):s.jsxs(ye,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[s.jsx(st,{className:"h-5 w-5 text-primary"}),"Reports"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:p,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",title:"Refresh",children:s.jsx(bs,{className:"h-4 w-4 text-slate-400"})}),n&&s.jsxs(He,{size:"sm",onClick:n,children:[s.jsx(st,{className:"h-4 w-4 mr-1"}),"New Report"]})]})]}),s.jsx("div",{className:"space-y-3",children:r.map(y=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-surface rounded-lg border border-dark-border hover:border-primary/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 bg-dark-bg rounded-lg",children:N(y.status)}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-white",children:y.name}),s.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 mt-1",children:[s.jsx("span",{className:"uppercase font-mono",children:y.format}),s.jsx("span",{children:"|"}),s.jsx("span",{children:y.template_id}),s.jsx("span",{children:"|"}),s.jsx("span",{children:$n(new Date(y.created_at),"MMM d, yyyy HH:mm")}),y.file_size&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:"|"}),s.jsx("span",{children:x(y.file_size)})]})]}),y.error_message&&s.jsx("p",{className:"text-sm text-red-400 mt-1",children:y.error_message})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(kt,{variant:"status",type:j(y.status),children:y.status}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>g(y),disabled:y.status!=="completed"||l===y.id,className:`p-2 rounded-lg transition-colors ${y.status==="completed"?"hover:bg-dark-bg text-slate-400 hover:text-white":"text-slate-600 cursor-not-allowed"}`,title:"Download",children:l===y.id?s.jsx(Nt,{className:"h-4 w-4 animate-spin"}):s.jsx(kr,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>h(y),disabled:d===y.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-dark-bg transition-colors",title:"Delete","aria-label":`Delete report ${y.name}`,children:d===y.id?s.jsx(Nt,{className:"h-4 w-4 animate-spin"}):s.jsx(ci,{className:"h-4 w-4"})})]})]})]},y.id))}),s.jsx(Q_,{isOpen:!!f,onClose:()=>h(null),onConfirm:w,title:"Delete Report",message:`Are you sure you want to delete the report "${f==null?void 0:f.name}"?`,confirmLabel:"Delete Report",variant:"danger",loading:!!d})]})},e1=({scanId:e,scanName:n,onClose:r})=>{const[a,i]=E.useState([]),[o,l]=E.useState(new Set),[c,d]=E.useState(!1),[u,f]=E.useState(!1),[h,p]=E.useState(null),[g,w]=E.useState(null),[N,j]=E.useState(!1),[x,y]=E.useState("pdf");E.useEffect(()=>{v()},[]);const v=async()=>{d(!0);try{const A=await ca.getFrameworks();i(A.data.frameworks),l(new Set(["pci_dss","nist_800_53","owasp_top10"]))}catch{J.error("Failed to load compliance frameworks")}finally{d(!1)}},b=async()=>{var A,T;if(o.size===0){J.warning("Please select at least one framework");return}f(!0);try{const P=await ca.analyzeScan(e,{frameworks:Array.from(o)});p(P.data),J.success("Compliance analysis completed")}catch(P){const O=P;J.error(((T=(A=O.response)==null?void 0:A.data)==null?void 0:T.error)||"Analysis failed")}finally{f(!1)}},_=A=>{const T=new Set(o);T.has(A)?T.delete(A):T.add(A),l(T)},k=A=>A>=80?"text-green-400":A>=60?"text-yellow-400":A>=40?"text-orange-400":"text-red-400",S=A=>A>=80?"completed":A>=60?"running":"failed",C=async()=>{var A,T;if(h){j(!0);try{const P=h.summary.frameworks.map(F=>String(F.framework).toLowerCase().replace(/_/g,"_")),O=await ca.generateReport(e,{frameworks:P,format:x,include_evidence:!0}),I=await ca.downloadReport(O.data.report_id),R=new Blob([I.data],{type:x==="pdf"?"application/pdf":x==="html"?"text/html":"application/json"}),D=window.URL.createObjectURL(R),z=document.createElement("a");z.href=D,z.download=`compliance_report_${e}.${x}`,document.body.appendChild(z),z.click(),document.body.removeChild(z),window.URL.revokeObjectURL(D),J.success(`${x.toUpperCase()} report generated and downloaded successfully`)}catch(P){const O=P;J.error(((T=(A=O.response)==null?void 0:A.data)==null?void 0:T.error)||"Failed to generate report")}finally{j(!1)}}};return c?s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:s.jsx(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(an,{})})})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:s.jsxs(ye,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Ce,{className:"h-6 w-6 text-primary"}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-white",children:"Compliance Analysis"}),s.jsxs("p",{className:"text-sm text-slate-400",children:["Scan: ",n]})]})]}),s.jsx("button",{onClick:r,className:"text-slate-400 hover:text-white transition-colors",children:s.jsx(Vt,{className:"h-6 w-6"})})]}),h?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"mb-6 p-4 bg-dark-bg rounded-lg border border-dark-border",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsxs("p",{className:`text-3xl font-bold ${k(h.summary.overall_score)}`,children:[h.summary.overall_score.toFixed(0),"%"]}),s.jsx("p",{className:"text-sm text-slate-400",children:"Overall Score"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-white",children:h.summary.total_findings}),s.jsx("p",{className:"text-sm text-slate-400",children:"Total Findings"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-red-400",children:h.summary.critical_findings+h.summary.high_findings}),s.jsx("p",{className:"text-sm text-slate-400",children:"Critical/High"})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:h.summary.medium_findings+h.summary.low_findings}),s.jsx("p",{className:"text-sm text-slate-400",children:"Medium/Low"})]})]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Framework Results"}),h.summary.frameworks.map(A=>s.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[s.jsxs("div",{onClick:()=>w(g===A.framework?null:A.framework),className:"flex items-center justify-between p-4 bg-dark-surface cursor-pointer hover:bg-dark-hover transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[g===A.framework?s.jsx(St,{className:"h-5 w-5 text-slate-400"}):s.jsx(qs,{className:"h-5 w-5 text-slate-400"}),s.jsx("span",{className:"font-medium text-white",children:A.framework})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Yp,{className:"h-4 w-4 text-green-400"}),s.jsx("span",{className:"text-green-400",children:A.compliant})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(Vt,{className:"h-4 w-4 text-red-400"}),s.jsx("span",{className:"text-red-400",children:A.non_compliant})]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsx(De,{className:"h-4 w-4 text-yellow-400"}),s.jsx("span",{className:"text-yellow-400",children:A.partially_compliant})]}),s.jsxs(kt,{variant:"status",type:S(A.compliance_score),children:[A.compliance_score.toFixed(0),"%"]})]})]}),g===A.framework&&s.jsxs("div",{className:"p-4 bg-dark-bg border-t border-dark-border",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4 text-sm",children:[s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Total Controls"}),s.jsx("p",{className:"text-xl font-bold text-white",children:A.total_controls})]}),s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Compliant"}),s.jsx("p",{className:"text-xl font-bold text-green-400",children:A.compliant})]}),s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Non-Compliant"}),s.jsx("p",{className:"text-xl font-bold text-red-400",children:A.non_compliant})]}),s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Partially Compliant"}),s.jsx("p",{className:"text-xl font-bold text-yellow-400",children:A.partially_compliant})]}),s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Not Applicable"}),s.jsx("p",{className:"text-xl font-bold text-slate-400",children:A.not_applicable})]}),s.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[s.jsx("p",{className:"text-slate-400",children:"Not Assessed"}),s.jsx("p",{className:"text-xl font-bold text-slate-500",children:A.not_assessed})]})]}),A.by_category&&A.by_category.length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"By Category"}),s.jsx("div",{className:"space-y-2",children:A.by_category.map(T=>s.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-surface rounded",children:[s.jsx("span",{className:"text-sm text-white",children:T.category}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-xs text-slate-400",children:[T.compliant,"/",T.total," compliant"]}),s.jsx("div",{className:"w-24 bg-dark-border rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full ${T.percentage>=80?"bg-green-500":T.percentage>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${T.percentage}%`}})}),s.jsxs("span",{className:"text-xs text-slate-300 w-12 text-right",children:[T.percentage.toFixed(0),"%"]})]})]},T.category))})]})]})]},A.framework))]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-dark-border",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Generate Compliance Report"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"flex gap-2",children:["pdf","html","json"].map(A=>s.jsx("button",{onClick:()=>y(A),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x===A?"bg-primary text-white":"bg-dark-surface text-slate-400 hover:bg-dark-hover"}`,children:A.toUpperCase()},A))}),s.jsx(He,{onClick:C,disabled:N,className:"ml-auto",children:N?s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xp,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]}),s.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[s.jsxs(He,{variant:"secondary",onClick:()=>p(null),children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Run New Analysis"]}),s.jsx(He,{onClick:r,children:"Close"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Compliance Frameworks"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:a.map(A=>s.jsx("div",{onClick:()=>_(A.id),className:`p-4 rounded-lg border cursor-pointer transition-all ${o.has(A.id)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(mr,{checked:o.has(A.id),onChange:()=>_(A.id)}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"font-medium text-white",children:A.name}),s.jsxs(kt,{variant:"status",type:"running",children:["v",A.version]})]}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:A.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[s.jsxs("span",{children:[A.control_count," controls"]}),s.jsxs("span",{children:[A.automated_percentage.toFixed(0),"% automated"]})]})]})]})},A.id))})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(He,{variant:"secondary",onClick:r,children:"Cancel"}),s.jsx(He,{onClick:b,disabled:u||o.size===0,children:u?s.jsxs(s.Fragment,{children:[s.jsx(bs,{className:"h-4 w-4 animate-spin mr-2"}),"Analyzing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tl,{className:"h-4 w-4 mr-2"}),"Run Analysis"]})})]})]})]})})};function t1(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n===0){if(Object(r)!==r)return;d=!1}else for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function n1(e,n,r){return n=u1(n),n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function vu(e,n){return a1(e)||t1(e,n)||Cf(e,n)||l1()}function r1(e){return s1(e)||i1(e)||Cf(e)||o1()}function s1(e){if(Array.isArray(e))return Oo(e)}function a1(e){if(Array.isArray(e))return e}function i1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Cf(e,n){if(e){if(typeof e=="string")return Oo(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oo(e,n)}}function Oo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function o1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c1(e,n){if(typeof e!="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function u1(e){var n=c1(e,"string");return typeof n=="symbol"?n:String(n)}var d1=function(n,r){var a=new Set(r);return Object.assign.apply(Object,[{}].concat(r1(Object.entries(n).filter(function(i){var o=vu(i,1),l=o[0];return!a.has(l)}).map(function(i){var o=vu(i,2),l=o[0],c=o[1];return n1({},l,c)}))))};function Do(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function h1(e){if(Array.isArray(e))return e}function f1(e){if(Array.isArray(e))return Do(e)}function m1(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p1(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function g1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1(e,n){return h1(e)||p1(e,n)||Ef(e,n)||g1()}function wu(e){return f1(e)||m1(e)||Ef(e)||x1()}function Ef(e,n){if(e){if(typeof e=="string")return Do(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Do(e,n):void 0}}function b1(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.wrapperElementType,a=r===void 0?"div":r,i=n.nodeMapper,o=i===void 0?function(f){return f}:i,l=n.methodNames,c=l===void 0?[]:l,d=n.initPropNames,u=d===void 0?[]:d;return E.forwardRef(function(f,h){var p=E.useRef(),g=E.useMemo(function(){var j=Object.fromEntries(u.filter(function(x){return f.hasOwnProperty(x)}).map(function(x){return[x,f[x]]}));return e(j)},[]);ju(function(){g(o(p.current))},E.useLayoutEffect),ju(function(){return g._destructor instanceof Function?g._destructor:void 0});var w=E.useCallback(function(j){for(var x=arguments.length,y=new Array(x>1?x-1:0),v=1;v<x;v++)y[v-1]=arguments[v];return g[j]instanceof Function?g[j].apply(g,y):void 0},[g]),N=E.useRef({});return Object.keys(d1(f,[].concat(wu(c),wu(u)))).filter(function(j){return N.current[j]!==f[j]}).forEach(function(j){return w(j,f[j])}),N.current=f,E.useImperativeHandle(h,function(){return Object.fromEntries(c.map(function(j){return[j,function(){for(var x=arguments.length,y=new Array(x),v=0;v<x;v++)y[v]=arguments[v];return w.apply(void 0,[j].concat(y))}]}))},[w]),Zo.createElement(a,{ref:p})})}function ju(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:E.useEffect,r=E.useRef(),a=E.useRef(!1),i=E.useRef(!1),o=E.useState(0),l=y1(o,2);l[0];var c=l[1];a.current&&(i.current=!0),n(function(){return a.current||(r.current=e(),a.current=!0),c(function(d){return d+1}),function(){i.current&&r.current&&r.current()}},[])}var $o="http://www.w3.org/1999/xhtml";const _u={svg:"http://www.w3.org/2000/svg",xhtml:$o,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wi(e){var n=e+="",r=n.indexOf(":");return r>=0&&(n=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),_u.hasOwnProperty(n)?{space:_u[n],local:e}:e}function v1(e){return function(){var n=this.ownerDocument,r=this.namespaceURI;return r===$o&&n.documentElement.namespaceURI===$o?n.createElement(e):n.createElementNS(r,e)}}function w1(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pf(e){var n=wi(e);return(n.local?w1:v1)(n)}function j1(){}function Sl(e){return e==null?j1:function(){return this.querySelector(e)}}function _1(e){typeof e!="function"&&(e=Sl(e));for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i)for(var o=n[i],l=o.length,c=a[i]=new Array(l),d,u,f=0;f<l;++f)(d=o[f])&&(u=e.call(d,d.__data__,f,o))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u);return new Ct(a,this._parents)}function N1(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function k1(){return[]}function Af(e){return e==null?k1:function(){return this.querySelectorAll(e)}}function S1(e){return function(){return N1(e.apply(this,arguments))}}function C1(e){typeof e=="function"?e=S1(e):e=Af(e);for(var n=this._groups,r=n.length,a=[],i=[],o=0;o<r;++o)for(var l=n[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&(a.push(e.call(d,d.__data__,u,l)),i.push(d));return new Ct(a,i)}function Tf(e){return function(){return this.matches(e)}}function Rf(e){return function(n){return n.matches(e)}}var E1=Array.prototype.find;function P1(e){return function(){return E1.call(this.children,e)}}function A1(){return this.firstElementChild}function T1(e){return this.select(e==null?A1:P1(typeof e=="function"?e:Rf(e)))}var R1=Array.prototype.filter;function O1(){return Array.from(this.children)}function D1(e){return function(){return R1.call(this.children,e)}}function $1(e){return this.selectAll(e==null?O1:D1(typeof e=="function"?e:Rf(e)))}function z1(e){typeof e!="function"&&(e=Tf(e));for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i)for(var o=n[i],l=o.length,c=a[i]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new Ct(a,this._parents)}function Of(e){return new Array(e.length)}function M1(){return new Ct(this._enter||this._groups.map(Of),this._parents)}function Ga(e,n){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=n}Ga.prototype={constructor:Ga,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,n){return this._parent.insertBefore(e,n)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function I1(e){return function(){return e}}function L1(e,n,r,a,i,o){for(var l=0,c,d=n.length,u=o.length;l<u;++l)(c=n[l])?(c.__data__=o[l],a[l]=c):r[l]=new Ga(e,o[l]);for(;l<d;++l)(c=n[l])&&(i[l]=c)}function F1(e,n,r,a,i,o,l){var c,d,u=new Map,f=n.length,h=o.length,p=new Array(f),g;for(c=0;c<f;++c)(d=n[c])&&(p[c]=g=l.call(d,d.__data__,c,n)+"",u.has(g)?i[c]=d:u.set(g,d));for(c=0;c<h;++c)g=l.call(e,o[c],c,o)+"",(d=u.get(g))?(a[c]=d,d.__data__=o[c],u.delete(g)):r[c]=new Ga(e,o[c]);for(c=0;c<f;++c)(d=n[c])&&u.get(p[c])===d&&(i[c]=d)}function H1(e){return e.__data__}function B1(e,n){if(!arguments.length)return Array.from(this,H1);var r=n?F1:L1,a=this._parents,i=this._groups;typeof e!="function"&&(e=I1(e));for(var o=i.length,l=new Array(o),c=new Array(o),d=new Array(o),u=0;u<o;++u){var f=a[u],h=i[u],p=h.length,g=U1(e.call(f,f&&f.__data__,u,a)),w=g.length,N=c[u]=new Array(w),j=l[u]=new Array(w),x=d[u]=new Array(p);r(f,h,N,j,x,g,n);for(var y=0,v=0,b,_;y<w;++y)if(b=N[y]){for(y>=v&&(v=y+1);!(_=j[v])&&++v<w;);b._next=_||null}}return l=new Ct(l,a),l._enter=c,l._exit=d,l}function U1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function q1(){return new Ct(this._exit||this._groups.map(Of),this._parents)}function V1(e,n,r){var a=this.enter(),i=this,o=this.exit();return typeof e=="function"?(a=e(a),a&&(a=a.selection())):a=a.append(e+""),n!=null&&(i=n(i),i&&(i=i.selection())),r==null?o.remove():r(o),a&&i?a.merge(i).order():i}function W1(e){for(var n=e.selection?e.selection():e,r=this._groups,a=n._groups,i=r.length,o=a.length,l=Math.min(i,o),c=new Array(i),d=0;d<l;++d)for(var u=r[d],f=a[d],h=u.length,p=c[d]=new Array(h),g,w=0;w<h;++w)(g=u[w]||f[w])&&(p[w]=g);for(;d<i;++d)c[d]=r[d];return new Ct(c,this._parents)}function G1(){for(var e=this._groups,n=-1,r=e.length;++n<r;)for(var a=e[n],i=a.length-1,o=a[i],l;--i>=0;)(l=a[i])&&(o&&l.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(l,o),o=l);return this}function Y1(e){e||(e=X1);function n(h,p){return h&&p?e(h.__data__,p.__data__):!h-!p}for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o){for(var l=r[o],c=l.length,d=i[o]=new Array(c),u,f=0;f<c;++f)(u=l[f])&&(d[f]=u);d.sort(n)}return new Ct(i,this._parents).order()}function X1(e,n){return e<n?-1:e>n?1:e>=n?0:NaN}function K1(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function J1(){return Array.from(this)}function Q1(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,o=a.length;i<o;++i){var l=a[i];if(l)return l}return null}function Z1(){let e=0;for(const n of this)++e;return e}function eN(){return!this.node()}function tN(e){for(var n=this._groups,r=0,a=n.length;r<a;++r)for(var i=n[r],o=0,l=i.length,c;o<l;++o)(c=i[o])&&e.call(c,c.__data__,o,i);return this}function nN(e){return function(){this.removeAttribute(e)}}function rN(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sN(e,n){return function(){this.setAttribute(e,n)}}function aN(e,n){return function(){this.setAttributeNS(e.space,e.local,n)}}function iN(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function oN(e,n){return function(){var r=n.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function lN(e,n){var r=wi(e);if(arguments.length<2){var a=this.node();return r.local?a.getAttributeNS(r.space,r.local):a.getAttribute(r)}return this.each((n==null?r.local?rN:nN:typeof n=="function"?r.local?oN:iN:r.local?aN:sN)(r,n))}function Df(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function cN(e){return function(){this.style.removeProperty(e)}}function uN(e,n,r){return function(){this.style.setProperty(e,n,r)}}function dN(e,n,r){return function(){var a=n.apply(this,arguments);a==null?this.style.removeProperty(e):this.style.setProperty(e,a,r)}}function hN(e,n,r){return arguments.length>1?this.each((n==null?cN:typeof n=="function"?dN:uN)(e,n,r??"")):Cr(this.node(),e)}function Cr(e,n){return e.style.getPropertyValue(n)||Df(e).getComputedStyle(e,null).getPropertyValue(n)}function fN(e){return function(){delete this[e]}}function mN(e,n){return function(){this[e]=n}}function pN(e,n){return function(){var r=n.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function gN(e,n){return arguments.length>1?this.each((n==null?fN:typeof n=="function"?pN:mN)(e,n)):this.node()[e]}function $f(e){return e.trim().split(/^|\s+/)}function Cl(e){return e.classList||new zf(e)}function zf(e){this._node=e,this._names=$f(e.getAttribute("class")||"")}zf.prototype={add:function(e){var n=this._names.indexOf(e);n<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var n=this._names.indexOf(e);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Mf(e,n){for(var r=Cl(e),a=-1,i=n.length;++a<i;)r.add(n[a])}function If(e,n){for(var r=Cl(e),a=-1,i=n.length;++a<i;)r.remove(n[a])}function xN(e){return function(){Mf(this,e)}}function yN(e){return function(){If(this,e)}}function bN(e,n){return function(){(n.apply(this,arguments)?Mf:If)(this,e)}}function vN(e,n){var r=$f(e+"");if(arguments.length<2){for(var a=Cl(this.node()),i=-1,o=r.length;++i<o;)if(!a.contains(r[i]))return!1;return!0}return this.each((typeof n=="function"?bN:n?xN:yN)(r,n))}function wN(){this.textContent=""}function jN(e){return function(){this.textContent=e}}function _N(e){return function(){var n=e.apply(this,arguments);this.textContent=n??""}}function NN(e){return arguments.length?this.each(e==null?wN:(typeof e=="function"?_N:jN)(e)):this.node().textContent}function kN(){this.innerHTML=""}function SN(e){return function(){this.innerHTML=e}}function CN(e){return function(){var n=e.apply(this,arguments);this.innerHTML=n??""}}function EN(e){return arguments.length?this.each(e==null?kN:(typeof e=="function"?CN:SN)(e)):this.node().innerHTML}function PN(){this.nextSibling&&this.parentNode.appendChild(this)}function AN(){return this.each(PN)}function TN(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function RN(){return this.each(TN)}function ON(e){var n=typeof e=="function"?e:Pf(e);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function DN(){return null}function $N(e,n){var r=typeof e=="function"?e:Pf(e),a=n==null?DN:typeof n=="function"?n:Sl(n);return this.select(function(){return this.insertBefore(r.apply(this,arguments),a.apply(this,arguments)||null)})}function zN(){var e=this.parentNode;e&&e.removeChild(this)}function MN(){return this.each(zN)}function IN(){var e=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function LN(){var e=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(e,this.nextSibling):e}function FN(e){return this.select(e?LN:IN)}function HN(e){return arguments.length?this.property("__data__",e):this.node().__data__}function BN(e){return function(n){e.call(this,n,this.__data__)}}function UN(e){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");return a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),{type:n,name:r}})}function qN(e){return function(){var n=this.__on;if(n){for(var r=0,a=-1,i=n.length,o;r<i;++r)o=n[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):n[++a]=o;++a?n.length=a:delete this.__on}}}function VN(e,n,r){return function(){var a=this.__on,i,o=BN(n);if(a){for(var l=0,c=a.length;l<c;++l)if((i=a[l]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=n;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:n,listener:o,options:r},a?a.push(i):this.__on=[i]}}function WN(e,n,r){var a=UN(e+""),i,o=a.length,l;if(arguments.length<2){var c=this.node().__on;if(c){for(var d=0,u=c.length,f;d<u;++d)for(i=0,f=c[d];i<o;++i)if((l=a[i]).type===f.type&&l.name===f.name)return f.value}return}for(c=n?VN:qN,i=0;i<o;++i)this.each(c(a[i],n,r));return this}function Lf(e,n,r){var a=Df(e),i=a.CustomEvent;typeof i=="function"?i=new i(n,r):(i=a.document.createEvent("Event"),r?(i.initEvent(n,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(n,!1,!1)),e.dispatchEvent(i)}function GN(e,n){return function(){return Lf(this,e,n)}}function YN(e,n){return function(){return Lf(this,e,n.apply(this,arguments))}}function XN(e,n){return this.each((typeof n=="function"?YN:GN)(e,n))}function*KN(){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var a=e[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&(yield l)}var Ff=[null];function Ct(e,n){this._groups=e,this._parents=n}function Zs(){return new Ct([[document.documentElement]],Ff)}function JN(){return this}Ct.prototype=Zs.prototype={constructor:Ct,select:_1,selectAll:C1,selectChild:T1,selectChildren:$1,filter:z1,data:B1,enter:M1,exit:q1,join:V1,merge:W1,selection:JN,order:G1,sort:Y1,call:K1,nodes:J1,node:Q1,size:Z1,empty:eN,each:tN,attr:lN,style:hN,property:gN,classed:vN,text:NN,html:EN,raise:AN,lower:RN,append:ON,insert:$N,remove:MN,clone:FN,datum:HN,on:WN,dispatch:XN,[Symbol.iterator]:KN};function Ot(e){return typeof e=="string"?new Ct([[document.querySelector(e)]],[document.documentElement]):new Ct([[e]],Ff)}function QN(e){let n;for(;n=e.sourceEvent;)e=n;return e}function en(e,n){if(e=QN(e),n===void 0&&(n=e.currentTarget),n){var r=n.ownerSVGElement||n;if(r.createSVGPoint){var a=r.createSVGPoint();return a.x=e.clientX,a.y=e.clientY,a=a.matrixTransform(n.getScreenCTM().inverse()),[a.x,a.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[e.clientX-i.left-n.clientLeft,e.clientY-i.top-n.clientTop]}}return[e.pageX,e.pageY]}var ZN={value:()=>{}};function ea(){for(var e=0,n=arguments.length,r={},a;e<n;++e){if(!(a=arguments[e]+"")||a in r||/[\s.]/.test(a))throw new Error("illegal type: "+a);r[a]=[]}return new Da(r)}function Da(e){this._=e}function ek(e,n){return e.trim().split(/^|\s+/).map(function(r){var a="",i=r.indexOf(".");if(i>=0&&(a=r.slice(i+1),r=r.slice(0,i)),r&&!n.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:a}})}Da.prototype=ea.prototype={constructor:Da,on:function(e,n){var r=this._,a=ek(e+"",r),i,o=-1,l=a.length;if(arguments.length<2){for(;++o<l;)if((i=(e=a[o]).type)&&(i=tk(r[i],e.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<l;)if(i=(e=a[o]).type)r[i]=Nu(r[i],e.name,n);else if(n==null)for(i in r)r[i]=Nu(r[i],e.name,null);return this},copy:function(){var e={},n=this._;for(var r in n)e[r]=n[r].slice();return new Da(e)},call:function(e,n){if((i=arguments.length-2)>0)for(var r=new Array(i),a=0,i,o;a<i;++a)r[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],a=0,i=o.length;a<i;++a)o[a].value.apply(n,r)},apply:function(e,n,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var a=this._[e],i=0,o=a.length;i<o;++i)a[i].value.apply(n,r)}};function tk(e,n){for(var r=0,a=e.length,i;r<a;++r)if((i=e[r]).name===n)return i.value}function Nu(e,n,r){for(var a=0,i=e.length;a<i;++a)if(e[a].name===n){e[a]=ZN,e=e.slice(0,a).concat(e.slice(a+1));break}return r!=null&&e.push({name:n,value:r}),e}const nk={passive:!1},Is={capture:!0,passive:!1};function eo(e){e.stopImmediatePropagation()}function jr(e){e.preventDefault(),e.stopImmediatePropagation()}function Hf(e){var n=e.document.documentElement,r=Ot(e).on("dragstart.drag",jr,Is);"onselectstart"in n?r.on("selectstart.drag",jr,Is):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function Bf(e,n){var r=e.document.documentElement,a=Ot(e).on("dragstart.drag",null);n&&(a.on("click.drag",jr,Is),setTimeout(function(){a.on("click.drag",null)},0)),"onselectstart"in r?a.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}const ya=e=>()=>e;function zo(e,{sourceEvent:n,subject:r,target:a,identifier:i,active:o,x:l,y:c,dx:d,dy:u,dispatch:f}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:a,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:u,enumerable:!0,configurable:!0},_:{value:f}})}zo.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function rk(e){return!e.ctrlKey&&!e.button}function sk(){return this.parentNode}function ak(e,n){return n??{x:e.x,y:e.y}}function ik(){return navigator.maxTouchPoints||"ontouchstart"in this}function ok(){var e=rk,n=sk,r=ak,a=ik,i={},o=ea("start","drag","end"),l=0,c,d,u,f,h=0;function p(b){b.on("mousedown.drag",g).filter(a).on("touchstart.drag",j).on("touchmove.drag",x,nk).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,_){if(!(f||!e.call(this,b,_))){var k=v(this,n.call(this,b,_),b,_,"mouse");k&&(Ot(b.view).on("mousemove.drag",w,Is).on("mouseup.drag",N,Is),Hf(b.view),eo(b),u=!1,c=b.clientX,d=b.clientY,k("start",b))}}function w(b){if(jr(b),!u){var _=b.clientX-c,k=b.clientY-d;u=_*_+k*k>h}i.mouse("drag",b)}function N(b){Ot(b.view).on("mousemove.drag mouseup.drag",null),Bf(b.view,u),jr(b),i.mouse("end",b)}function j(b,_){if(e.call(this,b,_)){var k=b.changedTouches,S=n.call(this,b,_),C=k.length,A,T;for(A=0;A<C;++A)(T=v(this,S,b,_,k[A].identifier,k[A]))&&(eo(b),T("start",b,k[A]))}}function x(b){var _=b.changedTouches,k=_.length,S,C;for(S=0;S<k;++S)(C=i[_[S].identifier])&&(jr(b),C("drag",b,_[S]))}function y(b){var _=b.changedTouches,k=_.length,S,C;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),S=0;S<k;++S)(C=i[_[S].identifier])&&(eo(b),C("end",b,_[S]))}function v(b,_,k,S,C,A){var T=o.copy(),P=en(A||k,_),O,I,R;if((R=r.call(b,new zo("beforestart",{sourceEvent:k,target:p,identifier:C,active:l,x:P[0],y:P[1],dx:0,dy:0,dispatch:T}),S))!=null)return O=R.x-P[0]||0,I=R.y-P[1]||0,function D(z,F,G){var q=P,$;switch(z){case"start":i[C]=D,$=l++;break;case"end":delete i[C],--l;case"drag":P=en(G||F,_),$=l;break}T.call(z,b,new zo(z,{sourceEvent:F,subject:R,target:p,identifier:C,active:$,x:P[0]+O,y:P[1]+I,dx:P[0]-q[0],dy:P[1]-q[1],dispatch:T}),S)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:ya(!!b),p):e},p.container=function(b){return arguments.length?(n=typeof b=="function"?b:ya(b),p):n},p.subject=function(b){return arguments.length?(r=typeof b=="function"?b:ya(b),p):r},p.touchable=function(b){return arguments.length?(a=typeof b=="function"?b:ya(!!b),p):a},p.on=function(){var b=o.on.apply(o,arguments);return b===o?p:b},p.clickDistance=function(b){return arguments.length?(h=(b=+b)*b,p):Math.sqrt(h)},p}var Er=0,fs=0,Kr=0,Uf=1e3,Ya,ms,Xa=0,ar=0,ji=0,Ls=typeof performance=="object"&&performance.now?performance:Date,qf=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function El(){return ar||(qf(lk),ar=Ls.now()+ji)}function lk(){ar=0}function Ka(){this._call=this._time=this._next=null}Ka.prototype=Pl.prototype={constructor:Ka,restart:function(e,n,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?El():+r)+(n==null?0:+n),!this._next&&ms!==this&&(ms?ms._next=this:Ya=this,ms=this),this._call=e,this._time=r,Mo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mo())}};function Pl(e,n,r){var a=new Ka;return a.restart(e,n,r),a}function ck(){El(),++Er;for(var e=Ya,n;e;)(n=ar-e._time)>=0&&e._call.call(void 0,n),e=e._next;--Er}function ku(){ar=(Xa=Ls.now())+ji,Er=fs=0;try{ck()}finally{Er=0,dk(),ar=0}}function uk(){var e=Ls.now(),n=e-Xa;n>Uf&&(ji-=n,Xa=e)}function dk(){for(var e,n=Ya,r,a=1/0;n;)n._call?(a>n._time&&(a=n._time),e=n,n=n._next):(r=n._next,n._next=null,n=e?e._next=r:Ya=r);ms=e,Mo(a)}function Mo(e){if(!Er){fs&&(fs=clearTimeout(fs));var n=e-ar;n>24?(e<1/0&&(fs=setTimeout(ku,e-Ls.now()-ji)),Kr&&(Kr=clearInterval(Kr))):(Kr||(Xa=Ls.now(),Kr=setInterval(uk,Uf)),Er=1,qf(ku))}}function Su(e,n,r){var a=new Ka;return n=n==null?0:+n,a.restart(i=>{a.stop(),e(i+n)},n,r),a}var hk=ea("start","end","cancel","interrupt"),fk=[],Vf=0,Cu=1,Io=2,$a=3,Eu=4,Lo=5,za=6;function _i(e,n,r,a,i,o){var l=e.__transition;if(!l)e.__transition={};else if(r in l)return;mk(e,r,{name:n,index:a,group:i,on:hk,tween:fk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Vf})}function Al(e,n){var r=Xt(e,n);if(r.state>Vf)throw new Error("too late; already scheduled");return r}function un(e,n){var r=Xt(e,n);if(r.state>$a)throw new Error("too late; already running");return r}function Xt(e,n){var r=e.__transition;if(!r||!(r=r[n]))throw new Error("transition not found");return r}function mk(e,n,r){var a=e.__transition,i;a[n]=r,r.timer=Pl(o,0,r.time);function o(u){r.state=Cu,r.timer.restart(l,r.delay,r.time),r.delay<=u&&l(u-r.delay)}function l(u){var f,h,p,g;if(r.state!==Cu)return d();for(f in a)if(g=a[f],g.name===r.name){if(g.state===$a)return Su(l);g.state===Eu?(g.state=za,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete a[f]):+f<n&&(g.state=za,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete a[f])}if(Su(function(){r.state===$a&&(r.state=Eu,r.timer.restart(c,r.delay,r.time),c(u))}),r.state=Io,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Io){for(r.state=$a,i=new Array(p=r.tween.length),f=0,h=-1;f<p;++f)(g=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(i[++h]=g);i.length=h+1}}function c(u){for(var f=u<r.duration?r.ease.call(null,u/r.duration):(r.timer.restart(d),r.state=Lo,1),h=-1,p=i.length;++h<p;)i[h].call(e,f);r.state===Lo&&(r.on.call("end",e,e.__data__,r.index,r.group),d())}function d(){r.state=za,r.timer.stop(),delete a[n];for(var u in a)return;delete e.__transition}}function Ma(e,n){var r=e.__transition,a,i,o=!0,l;if(r){n=n==null?null:n+"";for(l in r){if((a=r[l]).name!==n){o=!1;continue}i=a.state>Io&&a.state<Lo,a.state=za,a.timer.stop(),a.on.call(i?"interrupt":"cancel",e,e.__data__,a.index,a.group),delete r[l]}o&&delete e.__transition}}function pk(e){return this.each(function(){Ma(this,e)})}function gk(e,n){var r,a;return function(){var i=un(this,e),o=i.tween;if(o!==r){a=r=o;for(var l=0,c=a.length;l<c;++l)if(a[l].name===n){a=a.slice(),a.splice(l,1);break}}i.tween=a}}function xk(e,n,r){var a,i;if(typeof r!="function")throw new Error;return function(){var o=un(this,e),l=o.tween;if(l!==a){i=(a=l).slice();for(var c={name:n,value:r},d=0,u=i.length;d<u;++d)if(i[d].name===n){i[d]=c;break}d===u&&i.push(c)}o.tween=i}}function yk(e,n){var r=this._id;if(e+="",arguments.length<2){for(var a=Xt(this.node(),r).tween,i=0,o=a.length,l;i<o;++i)if((l=a[i]).name===e)return l.value;return null}return this.each((n==null?gk:xk)(r,e,n))}function Tl(e,n,r){var a=e._id;return e.each(function(){var i=un(this,a);(i.value||(i.value={}))[n]=r.apply(this,arguments)}),function(i){return Xt(i,a).value[n]}}function Wf(e,n){var r;return(typeof n=="number"?cg:n instanceof sc?rc:(r=sc(n))?(n=r,rc):ug)(e,n)}function bk(e){return function(){this.removeAttribute(e)}}function vk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wk(e,n,r){var a,i=r+"",o;return function(){var l=this.getAttribute(e);return l===i?null:l===a?o:o=n(a=l,r)}}function jk(e,n,r){var a,i=r+"",o;return function(){var l=this.getAttributeNS(e.space,e.local);return l===i?null:l===a?o:o=n(a=l,r)}}function _k(e,n,r){var a,i,o;return function(){var l,c=r(this),d;return c==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=c+"",l===d?null:l===a&&d===i?o:(i=d,o=n(a=l,c)))}}function Nk(e,n,r){var a,i,o;return function(){var l,c=r(this),d;return c==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=c+"",l===d?null:l===a&&d===i?o:(i=d,o=n(a=l,c)))}}function kk(e,n){var r=wi(e),a=r==="transform"?dg:Wf;return this.attrTween(e,typeof n=="function"?(r.local?Nk:_k)(r,a,Tl(this,"attr."+e,n)):n==null?(r.local?vk:bk)(r):(r.local?jk:wk)(r,a,n))}function Sk(e,n){return function(r){this.setAttribute(e,n.call(this,r))}}function Ck(e,n){return function(r){this.setAttributeNS(e.space,e.local,n.call(this,r))}}function Ek(e,n){var r,a;function i(){var o=n.apply(this,arguments);return o!==a&&(r=(a=o)&&Ck(e,o)),r}return i._value=n,i}function Pk(e,n){var r,a;function i(){var o=n.apply(this,arguments);return o!==a&&(r=(a=o)&&Sk(e,o)),r}return i._value=n,i}function Ak(e,n){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;var a=wi(e);return this.tween(r,(a.local?Ek:Pk)(a,n))}function Tk(e,n){return function(){Al(this,e).delay=+n.apply(this,arguments)}}function Rk(e,n){return n=+n,function(){Al(this,e).delay=n}}function Ok(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Tk:Rk)(n,e)):Xt(this.node(),n).delay}function Dk(e,n){return function(){un(this,e).duration=+n.apply(this,arguments)}}function $k(e,n){return n=+n,function(){un(this,e).duration=n}}function zk(e){var n=this._id;return arguments.length?this.each((typeof e=="function"?Dk:$k)(n,e)):Xt(this.node(),n).duration}function Mk(e,n){if(typeof n!="function")throw new Error;return function(){un(this,e).ease=n}}function Ik(e){var n=this._id;return arguments.length?this.each(Mk(n,e)):Xt(this.node(),n).ease}function Lk(e,n){return function(){var r=n.apply(this,arguments);if(typeof r!="function")throw new Error;un(this,e).ease=r}}function Fk(e){if(typeof e!="function")throw new Error;return this.each(Lk(this._id,e))}function Hk(e){typeof e!="function"&&(e=Tf(e));for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i)for(var o=n[i],l=o.length,c=a[i]=[],d,u=0;u<l;++u)(d=o[u])&&e.call(d,d.__data__,u,o)&&c.push(d);return new Sn(a,this._parents,this._name,this._id)}function Bk(e){if(e._id!==this._id)throw new Error;for(var n=this._groups,r=e._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),c=0;c<o;++c)for(var d=n[c],u=r[c],f=d.length,h=l[c]=new Array(f),p,g=0;g<f;++g)(p=d[g]||u[g])&&(h[g]=p);for(;c<a;++c)l[c]=n[c];return new Sn(l,this._parents,this._name,this._id)}function Uk(e){return(e+"").trim().split(/^|\s+/).every(function(n){var r=n.indexOf(".");return r>=0&&(n=n.slice(0,r)),!n||n==="start"})}function qk(e,n,r){var a,i,o=Uk(n)?Al:un;return function(){var l=o(this,e),c=l.on;c!==a&&(i=(a=c).copy()).on(n,r),l.on=i}}function Vk(e,n){var r=this._id;return arguments.length<2?Xt(this.node(),r).on.on(e):this.each(qk(r,e,n))}function Wk(e){return function(){var n=this.parentNode;for(var r in this.__transition)if(+r!==e)return;n&&n.removeChild(this)}}function Gk(){return this.on("end.remove",Wk(this._id))}function Yk(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Sl(e));for(var a=this._groups,i=a.length,o=new Array(i),l=0;l<i;++l)for(var c=a[l],d=c.length,u=o[l]=new Array(d),f,h,p=0;p<d;++p)(f=c[p])&&(h=e.call(f,f.__data__,p,c))&&("__data__"in f&&(h.__data__=f.__data__),u[p]=h,_i(u[p],n,r,p,u,Xt(f,r)));return new Sn(o,this._parents,n,r)}function Xk(e){var n=this._name,r=this._id;typeof e!="function"&&(e=Af(e));for(var a=this._groups,i=a.length,o=[],l=[],c=0;c<i;++c)for(var d=a[c],u=d.length,f,h=0;h<u;++h)if(f=d[h]){for(var p=e.call(f,f.__data__,h,d),g,w=Xt(f,r),N=0,j=p.length;N<j;++N)(g=p[N])&&_i(g,n,r,N,p,w);o.push(p),l.push(f)}return new Sn(o,l,n,r)}var Kk=Zs.prototype.constructor;function Jk(){return new Kk(this._groups,this._parents)}function Qk(e,n){var r,a,i;return function(){var o=Cr(this,e),l=(this.style.removeProperty(e),Cr(this,e));return o===l?null:o===r&&l===a?i:i=n(r=o,a=l)}}function Gf(e){return function(){this.style.removeProperty(e)}}function Zk(e,n,r){var a,i=r+"",o;return function(){var l=Cr(this,e);return l===i?null:l===a?o:o=n(a=l,r)}}function eS(e,n,r){var a,i,o;return function(){var l=Cr(this,e),c=r(this),d=c+"";return c==null&&(d=c=(this.style.removeProperty(e),Cr(this,e))),l===d?null:l===a&&d===i?o:(i=d,o=n(a=l,c))}}function tS(e,n){var r,a,i,o="style."+n,l="end."+o,c;return function(){var d=un(this,e),u=d.on,f=d.value[o]==null?c||(c=Gf(n)):void 0;(u!==r||i!==f)&&(a=(r=u).copy()).on(l,i=f),d.on=a}}function nS(e,n,r){var a=(e+="")=="transform"?hg:Wf;return n==null?this.styleTween(e,Qk(e,a)).on("end.style."+e,Gf(e)):typeof n=="function"?this.styleTween(e,eS(e,a,Tl(this,"style."+e,n))).each(tS(this._id,e)):this.styleTween(e,Zk(e,a,n),r).on("end.style."+e,null)}function rS(e,n,r){return function(a){this.style.setProperty(e,n.call(this,a),r)}}function sS(e,n,r){var a,i;function o(){var l=n.apply(this,arguments);return l!==i&&(a=(i=l)&&rS(e,l,r)),a}return o._value=n,o}function aS(e,n,r){var a="style."+(e+="");if(arguments.length<2)return(a=this.tween(a))&&a._value;if(n==null)return this.tween(a,null);if(typeof n!="function")throw new Error;return this.tween(a,sS(e,n,r??""))}function iS(e){return function(){this.textContent=e}}function oS(e){return function(){var n=e(this);this.textContent=n??""}}function lS(e){return this.tween("text",typeof e=="function"?oS(Tl(this,"text",e)):iS(e==null?"":e+""))}function cS(e){return function(n){this.textContent=e.call(this,n)}}function uS(e){var n,r;function a(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&cS(i)),n}return a._value=e,a}function dS(e){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;return this.tween(n,uS(e))}function hS(){for(var e=this._name,n=this._id,r=Yf(),a=this._groups,i=a.length,o=0;o<i;++o)for(var l=a[o],c=l.length,d,u=0;u<c;++u)if(d=l[u]){var f=Xt(d,n);_i(d,e,r,u,l,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Sn(a,this._parents,e,r)}function fS(){var e,n,r=this,a=r._id,i=r.size();return new Promise(function(o,l){var c={value:l},d={value:function(){--i===0&&o()}};r.each(function(){var u=un(this,a),f=u.on;f!==e&&(n=(e=f).copy(),n._.cancel.push(c),n._.interrupt.push(c),n._.end.push(d)),u.on=n}),i===0&&o()})}var mS=0;function Sn(e,n,r,a){this._groups=e,this._parents=n,this._name=r,this._id=a}function Yf(){return++mS}var fn=Zs.prototype;Sn.prototype={constructor:Sn,select:Yk,selectAll:Xk,selectChild:fn.selectChild,selectChildren:fn.selectChildren,filter:Hk,merge:Bk,selection:Jk,transition:hS,call:fn.call,nodes:fn.nodes,node:fn.node,size:fn.size,empty:fn.empty,each:fn.each,on:Vk,attr:kk,attrTween:Ak,style:nS,styleTween:aS,text:lS,textTween:dS,remove:Gk,tween:yk,delay:Ok,duration:zk,ease:Ik,easeVarying:Fk,end:fS,[Symbol.iterator]:fn[Symbol.iterator]};function pS(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gS={time:null,delay:0,duration:250,ease:pS};function xS(e,n){for(var r;!(r=e.__transition)||!(r=r[n]);)if(!(e=e.parentNode))throw new Error(`transition ${n} not found`);return r}function yS(e){var n,r;e instanceof Sn?(n=e._id,e=e._name):(n=Yf(),(r=gS).time=El(),e=e==null?null:e+"");for(var a=this._groups,i=a.length,o=0;o<i;++o)for(var l=a[o],c=l.length,d,u=0;u<c;++u)(d=l[u])&&_i(d,e,n,u,l,r||xS(d,n));return new Sn(a,this._parents,e,n)}Zs.prototype.interrupt=pk;Zs.prototype.transition=yS;const ba=e=>()=>e;function bS(e,{sourceEvent:n,target:r,transform:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}function vn(e,n,r){this.k=e,this.x=n,this.y=r}vn.prototype={constructor:vn,scale:function(e){return e===1?this:new vn(this.k*e,this.x,this.y)},translate:function(e,n){return e===0&n===0?this:new vn(this.k,this.x+this.k*e,this.y+this.k*n)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Rl=new vn(1,0,0);Zt.prototype=vn.prototype;function Zt(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Rl;return e.__zoom}function to(e){e.stopImmediatePropagation()}function Jr(e){e.preventDefault(),e.stopImmediatePropagation()}function vS(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function wS(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Pu(){return this.__zoom||Rl}function jS(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function _S(){return navigator.maxTouchPoints||"ontouchstart"in this}function NS(e,n,r){var a=e.invertX(n[0][0])-r[0][0],i=e.invertX(n[1][0])-r[1][0],o=e.invertY(n[0][1])-r[0][1],l=e.invertY(n[1][1])-r[1][1];return e.translate(i>a?(a+i)/2:Math.min(0,a)||Math.max(0,i),l>o?(o+l)/2:Math.min(0,o)||Math.max(0,l))}function kS(){var e=vS,n=wS,r=NS,a=jS,i=_S,o=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,d=fg,u=ea("start","zoom","end"),f,h,p,g=500,w=150,N=0,j=10;function x(R){R.property("__zoom",Pu).on("wheel.zoom",C,{passive:!1}).on("mousedown.zoom",A).on("dblclick.zoom",T).filter(i).on("touchstart.zoom",P).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(R,D,z,F){var G=R.selection?R.selection():R;G.property("__zoom",Pu),R!==G?_(R,D,z,F):G.interrupt().each(function(){k(this,arguments).event(F).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},x.scaleBy=function(R,D,z,F){x.scaleTo(R,function(){var G=this.__zoom.k,q=typeof D=="function"?D.apply(this,arguments):D;return G*q},z,F)},x.scaleTo=function(R,D,z,F){x.transform(R,function(){var G=n.apply(this,arguments),q=this.__zoom,$=z==null?b(G):typeof z=="function"?z.apply(this,arguments):z,ee=q.invert($),Q=typeof D=="function"?D.apply(this,arguments):D;return r(v(y(q,Q),$,ee),G,l)},z,F)},x.translateBy=function(R,D,z,F){x.transform(R,function(){return r(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof z=="function"?z.apply(this,arguments):z),n.apply(this,arguments),l)},null,F)},x.translateTo=function(R,D,z,F,G){x.transform(R,function(){var q=n.apply(this,arguments),$=this.__zoom,ee=F==null?b(q):typeof F=="function"?F.apply(this,arguments):F;return r(Rl.translate(ee[0],ee[1]).scale($.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof z=="function"?-z.apply(this,arguments):-z),q,l)},F,G)};function y(R,D){return D=Math.max(o[0],Math.min(o[1],D)),D===R.k?R:new vn(D,R.x,R.y)}function v(R,D,z){var F=D[0]-z[0]*R.k,G=D[1]-z[1]*R.k;return F===R.x&&G===R.y?R:new vn(R.k,F,G)}function b(R){return[(+R[0][0]+ +R[1][0])/2,(+R[0][1]+ +R[1][1])/2]}function _(R,D,z,F){R.on("start.zoom",function(){k(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){k(this,arguments).event(F).end()}).tween("zoom",function(){var G=this,q=arguments,$=k(G,q).event(F),ee=n.apply(G,q),Q=z==null?b(ee):typeof z=="function"?z.apply(G,q):z,M=Math.max(ee[1][0]-ee[0][0],ee[1][1]-ee[0][1]),de=G.__zoom,we=typeof D=="function"?D.apply(G,q):D,he=d(de.invert(Q).concat(M/de.k),we.invert(Q).concat(M/we.k));return function(Ne){if(Ne===1)Ne=we;else{var te=he(Ne),W=M/te[2];Ne=new vn(W,Q[0]-te[0]*W,Q[1]-te[1]*W)}$.zoom(null,Ne)}})}function k(R,D,z){return!z&&R.__zooming||new S(R,D)}function S(R,D){this.that=R,this.args=D,this.active=0,this.sourceEvent=null,this.extent=n.apply(R,D),this.taps=0}S.prototype={event:function(R){return R&&(this.sourceEvent=R),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(R,D){return this.mouse&&R!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&R!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&R!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(R){var D=Ot(this.that).datum();u.call(R,this.that,new bS(R,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:u}),D)}};function C(R,...D){if(!e.apply(this,arguments))return;var z=k(this,D).event(R),F=this.__zoom,G=Math.max(o[0],Math.min(o[1],F.k*Math.pow(2,a.apply(this,arguments)))),q=en(R);if(z.wheel)(z.mouse[0][0]!==q[0]||z.mouse[0][1]!==q[1])&&(z.mouse[1]=F.invert(z.mouse[0]=q)),clearTimeout(z.wheel);else{if(F.k===G)return;z.mouse=[q,F.invert(q)],Ma(this),z.start()}Jr(R),z.wheel=setTimeout($,w),z.zoom("mouse",r(v(y(F,G),z.mouse[0],z.mouse[1]),z.extent,l));function $(){z.wheel=null,z.end()}}function A(R,...D){if(p||!e.apply(this,arguments))return;var z=R.currentTarget,F=k(this,D,!0).event(R),G=Ot(R.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",M,!0),q=en(R,z),$=R.clientX,ee=R.clientY;Hf(R.view),to(R),F.mouse=[q,this.__zoom.invert(q)],Ma(this),F.start();function Q(de){if(Jr(de),!F.moved){var we=de.clientX-$,he=de.clientY-ee;F.moved=we*we+he*he>N}F.event(de).zoom("mouse",r(v(F.that.__zoom,F.mouse[0]=en(de,z),F.mouse[1]),F.extent,l))}function M(de){G.on("mousemove.zoom mouseup.zoom",null),Bf(de.view,F.moved),Jr(de),F.event(de).end()}}function T(R,...D){if(e.apply(this,arguments)){var z=this.__zoom,F=en(R.changedTouches?R.changedTouches[0]:R,this),G=z.invert(F),q=z.k*(R.shiftKey?.5:2),$=r(v(y(z,q),F,G),n.apply(this,D),l);Jr(R),c>0?Ot(this).transition().duration(c).call(_,$,F,R):Ot(this).call(x.transform,$,F,R)}}function P(R,...D){if(e.apply(this,arguments)){var z=R.touches,F=z.length,G=k(this,D,R.changedTouches.length===F).event(R),q,$,ee,Q;for(to(R),$=0;$<F;++$)ee=z[$],Q=en(ee,this),Q=[Q,this.__zoom.invert(Q),ee.identifier],G.touch0?!G.touch1&&G.touch0[2]!==Q[2]&&(G.touch1=Q,G.taps=0):(G.touch0=Q,q=!0,G.taps=1+!!f);f&&(f=clearTimeout(f)),q&&(G.taps<2&&(h=Q[0],f=setTimeout(function(){f=null},g)),Ma(this),G.start())}}function O(R,...D){if(this.__zooming){var z=k(this,D).event(R),F=R.changedTouches,G=F.length,q,$,ee,Q;for(Jr(R),q=0;q<G;++q)$=F[q],ee=en($,this),z.touch0&&z.touch0[2]===$.identifier?z.touch0[0]=ee:z.touch1&&z.touch1[2]===$.identifier&&(z.touch1[0]=ee);if($=z.that.__zoom,z.touch1){var M=z.touch0[0],de=z.touch0[1],we=z.touch1[0],he=z.touch1[1],Ne=(Ne=we[0]-M[0])*Ne+(Ne=we[1]-M[1])*Ne,te=(te=he[0]-de[0])*te+(te=he[1]-de[1])*te;$=y($,Math.sqrt(Ne/te)),ee=[(M[0]+we[0])/2,(M[1]+we[1])/2],Q=[(de[0]+he[0])/2,(de[1]+he[1])/2]}else if(z.touch0)ee=z.touch0[0],Q=z.touch0[1];else return;z.zoom("touch",r(v($,ee,Q),z.extent,l))}}function I(R,...D){if(this.__zooming){var z=k(this,D).event(R),F=R.changedTouches,G=F.length,q,$;for(to(R),p&&clearTimeout(p),p=setTimeout(function(){p=null},g),q=0;q<G;++q)$=F[q],z.touch0&&z.touch0[2]===$.identifier?delete z.touch0:z.touch1&&z.touch1[2]===$.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&($=en($,this),Math.hypot(h[0]-$[0],h[1]-$[1])<j)){var ee=Ot(this).on("dblclick.zoom");ee&&ee.apply(this,arguments)}}}return x.wheelDelta=function(R){return arguments.length?(a=typeof R=="function"?R:ba(+R),x):a},x.filter=function(R){return arguments.length?(e=typeof R=="function"?R:ba(!!R),x):e},x.touchable=function(R){return arguments.length?(i=typeof R=="function"?R:ba(!!R),x):i},x.extent=function(R){return arguments.length?(n=typeof R=="function"?R:ba([[+R[0][0],+R[0][1]],[+R[1][0],+R[1][1]]]),x):n},x.scaleExtent=function(R){return arguments.length?(o[0]=+R[0],o[1]=+R[1],x):[o[0],o[1]]},x.translateExtent=function(R){return arguments.length?(l[0][0]=+R[0][0],l[1][0]=+R[1][0],l[0][1]=+R[0][1],l[1][1]=+R[1][1],x):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},x.constrain=function(R){return arguments.length?(r=R,x):r},x.duration=function(R){return arguments.length?(c=+R,x):c},x.interpolate=function(R){return arguments.length?(d=R,x):d},x.on=function(){var R=u.on.apply(u,arguments);return R===u?x:R},x.clickDistance=function(R){return arguments.length?(N=(R=+R)*R,x):Math.sqrt(N)},x.tapDistance=function(R){return arguments.length?(j=+R,x):j},x}var SS=typeof global=="object"&&global&&global.Object===Object&&global,CS=typeof self=="object"&&self&&self.Object===Object&&self,Xf=SS||CS||Function("return this")(),Ja=Xf.Symbol,Kf=Object.prototype,ES=Kf.hasOwnProperty,PS=Kf.toString,Qr=Ja?Ja.toStringTag:void 0;function AS(e){var n=ES.call(e,Qr),r=e[Qr];try{e[Qr]=void 0;var a=!0}catch{}var i=PS.call(e);return a&&(n?e[Qr]=r:delete e[Qr]),i}var TS=Object.prototype,RS=TS.toString;function OS(e){return RS.call(e)}var DS="[object Null]",$S="[object Undefined]",Au=Ja?Ja.toStringTag:void 0;function zS(e){return e==null?e===void 0?$S:DS:Au&&Au in Object(e)?AS(e):OS(e)}function MS(e){return e!=null&&typeof e=="object"}var IS="[object Symbol]";function LS(e){return typeof e=="symbol"||MS(e)&&zS(e)==IS}var FS=/\s/;function HS(e){for(var n=e.length;n--&&FS.test(e.charAt(n)););return n}var BS=/^\s+/;function US(e){return e&&e.slice(0,HS(e)+1).replace(BS,"")}function Qa(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var Tu=NaN,qS=/^[-+]0x[0-9a-f]+$/i,VS=/^0b[01]+$/i,WS=/^0o[0-7]+$/i,GS=parseInt;function Ru(e){if(typeof e=="number")return e;if(LS(e))return Tu;if(Qa(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Qa(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=US(e);var r=VS.test(e);return r||WS.test(e)?GS(e.slice(2),r?2:8):qS.test(e)?Tu:+e}var no=function(){return Xf.Date.now()},YS="Expected a function",XS=Math.max,KS=Math.min;function Jf(e,n,r){var a,i,o,l,c,d,u=0,f=!1,h=!1,p=!0;if(typeof e!="function")throw new TypeError(YS);n=Ru(n)||0,Qa(r)&&(f=!!r.leading,h="maxWait"in r,o=h?XS(Ru(r.maxWait)||0,n):o,p="trailing"in r?!!r.trailing:p);function g(k){var S=a,C=i;return a=i=void 0,u=k,l=e.apply(C,S),l}function w(k){return u=k,c=setTimeout(x,n),f?g(k):l}function N(k){var S=k-d,C=k-u,A=n-S;return h?KS(A,o-C):A}function j(k){var S=k-d,C=k-u;return d===void 0||S>=n||S<0||h&&C>=o}function x(){var k=no();if(j(k))return y(k);c=setTimeout(x,N(k))}function y(k){return c=void 0,p&&a?g(k):(a=i=void 0,l)}function v(){c!==void 0&&clearTimeout(c),u=0,a=d=i=c=void 0}function b(){return c===void 0?l:y(no())}function _(){var k=no(),S=j(k);if(a=arguments,i=this,d=k,S){if(c===void 0)return w(d);if(h)return clearTimeout(c),c=setTimeout(x,n),g(d)}return c===void 0&&(c=setTimeout(x,n)),l}return _.cancel=v,_.flush=b,_}var JS="Expected a function";function QS(e,n,r){var a=!0,i=!0;if(typeof e!="function")throw new TypeError(JS);return Qa(r)&&(a="leading"in r?!!r.leading:a,i="trailing"in r?!!r.trailing:i),Jf(e,n,{leading:a,maxWait:n,trailing:i})}var nr=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-nr.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?nr.Bounce.In(e*2)*.5:nr.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),ps=function(){return performance.now()},Qf=(function(){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,n)}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(r){return n._tweens[r]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var n,r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];for(var i=0,o=r;i<o.length;i++){var l=o[i];(n=l._group)===null||n===void 0||n.remove(l),l._group=this,this._tweens[l.getId()]=l,this._tweensAddedDuringUpdate[l.getId()]=l}},e.prototype.remove=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];o._group=void 0,delete this._tweens[o.getId()],delete this._tweensAddedDuringUpdate[o.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(n){return!n.isPlaying()})},e.prototype.update=function(n,r){n===void 0&&(n=ps()),r===void 0&&(r=!0);var a=Object.keys(this._tweens);if(a.length!==0)for(;a.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<a.length;i++){var o=this._tweens[a[i]],l=!r;o&&o.update(n,l)===!1&&!r&&this.remove(o)}a=Object.keys(this._tweensAddedDuringUpdate)}},e})(),Fo={Linear:function(e,n){var r=e.length-1,a=r*n,i=Math.floor(a),o=Fo.Utils.Linear;return n<0?o(e[0],e[1],a):n>1?o(e[r],e[r-1],r-a):o(e[i],e[i+1>r?r:i+1],a-i)},Utils:{Linear:function(e,n,r){return(n-e)*r+e}}},Zf=(function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e})(),Ho=new Qf,Ou=(function(){function e(n,r){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=nr.Linear.None,this._interpolationFunction=Fo.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Zf.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=n,typeof r=="object"?(this._group=r,r.add(this)):r===!0&&(this._group=Ho,Ho.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,r){if(r===void 0&&(r=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=r<0?0:r,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,r){if(n===void 0&&(n=ps()),r===void 0&&(r=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var a in this._valuesStartRepeat)this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||r){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var o in this._valuesEnd)i[o]=this._valuesEnd[o];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,r)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,r,a,i,o){for(var l in a){var c=n[l],d=Array.isArray(c),u=d?"array":typeof c,f=!d&&Array.isArray(a[l]);if(!(u==="undefined"||u==="function")){if(f){var h=a[l];if(h.length===0)continue;for(var p=[c],g=0,w=h.length;g<w;g+=1){var N=this._handleRelativeValue(c,h[g]);if(isNaN(N)){f=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(N)}f&&(a[l]=p)}if((u==="object"||d)&&c&&!f){r[l]=d?[]:{};var j=c;for(var x in j)r[l][x]=j[x];i[l]=d?[]:{};var h=a[l];if(!this._isDynamic){var y={};for(var x in h)y[x]=h[x];a[l]=h=y}this._setupProperties(j,r[l],h,i[l],o)}else(typeof r[l]>"u"||o)&&(r[l]=c),d||(r[l]*=1),f?i[l]=a[l].slice().reverse():i[l]=r[l]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(n){return n===void 0&&(n=ps()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this)},e.prototype.resume=function(n){return n===void 0&&(n=ps()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var n=0,r=this._chainedTweens.length;n<r;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n?(n.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var n;return(n=this._group)===null||n===void 0||n.remove(this),this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=nr.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=Fo.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,r){var a=this,i;if(n===void 0&&(n=ps()),r===void 0&&(r=e.autoStartOnUpdate),this._isPaused)return!0;var o;if(!this._goToEnd&&!this._isPlaying)if(r)this.start(n,!0);else return!1;if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=n-this._startTime,c=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),d=this._duration+this._repeat*c,u=function(){if(a._duration===0||l>d)return 1;var N=Math.trunc(l/c),j=l-N*c,x=Math.min(j/a._duration,1);return x===0&&l===a._duration?1:x},f=u(),h=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,h),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||l>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((l-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(o in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[o]=="string"&&(this._valuesStartRepeat[o]=this._valuesStartRepeat[o]+parseFloat(this._valuesEnd[o])),this._yoyo&&this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var g=0,w=this._chainedTweens.length;g<w;g++)this._chainedTweens[g].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,r,a,i){for(var o in a)if(r[o]!==void 0){var l=r[o]||0,c=a[o],d=Array.isArray(n[o]),u=Array.isArray(c),f=!d&&u;f?n[o]=this._interpolationFunction(c,i):typeof c=="object"&&c?this._updateProperties(n[o],l,c,i):(c=this._handleRelativeValue(l,c),typeof c=="number"&&(n[o]=l+(c-l)*i))}},e.prototype._handleRelativeValue=function(n,r){return typeof r!="string"?r:r.charAt(0)==="+"||r.charAt(0)==="-"?n+parseFloat(r):parseFloat(r)},e.prototype._swapEndStartRepeatValues=function(n){var r=this._valuesStartRepeat[n],a=this._valuesEnd[n];typeof a=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(a):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=r},e.autoStartOnUpdate=!1,e})();Zf.nextId;var cn=Ho;cn.getAll.bind(cn);cn.removeAll.bind(cn);cn.add.bind(cn);cn.remove.bind(cn);cn.update.bind(cn);function Du(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function ZS(e){if(Array.isArray(e))return e}function e4(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function t4(e,n,r){return Object.defineProperty(e,"prototype",{writable:!1}),e}function n4(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function r4(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s4(e,n){return ZS(e)||n4(e,n)||a4(e,n)||r4()}function a4(e,n){if(e){if(typeof e=="string")return Du(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Du(e,n):void 0}}var i4=t4(function e(n,r){var a=r.default,i=a===void 0?null:a,o=r.triggerUpdate,l=o===void 0?!0:o,c=r.onChange,d=c===void 0?function(u,f){}:c;e4(this,e),this.name=n,this.defaultVal=i,this.triggerUpdate=l,this.onChange=d});function Ol(e){var n=e.stateInit,r=n===void 0?function(){return{}}:n,a=e.props,i=a===void 0?{}:a,o=e.methods,l=o===void 0?{}:o,c=e.aliases,d=c===void 0?{}:c,u=e.init,f=u===void 0?function(){}:u,h=e.update,p=h===void 0?function(){}:h,g=Object.keys(i).map(function(w){return new i4(w,i[w])});return function w(){for(var N=arguments.length,j=new Array(N),x=0;x<N;x++)j[x]=arguments[x];var y=!!(this instanceof w&&this.constructor),v=y?j.shift():void 0,b=j[0],_=b===void 0?{}:b,k=Object.assign({},r instanceof Function?r(_):r,{initialised:!1}),S={};function C(P){return A(P,_),T(),C}var A=function(O,I){f.call(C,O,k,I),k.initialised=!0},T=Jf(function(){k.initialised&&(p.call(C,k,S),S={})},1);return g.forEach(function(P){C[P.name]=O(P);function O(I){var R=I.name,D=I.triggerUpdate,z=D===void 0?!1:D,F=I.onChange,G=F===void 0?function(ee,Q){}:F,q=I.defaultVal,$=q===void 0?null:q;return function(ee){var Q=k[R];if(!arguments.length)return Q;var M=ee===void 0?$:ee;return k[R]=M,G.call(C,M,k,Q),!S.hasOwnProperty(R)&&(S[R]=Q),z&&T(),C}}}),Object.keys(l).forEach(function(P){C[P]=function(){for(var O,I=arguments.length,R=new Array(I),D=0;D<I;D++)R[D]=arguments[D];return(O=l[P]).call.apply(O,[C,k].concat(R))}}),Object.entries(d).forEach(function(P){var O=s4(P,2),I=O[0],R=O[1];return C[I]=C[R]}),C.resetProps=function(){return g.forEach(function(P){C[P.name](P.defaultVal)}),C},C.resetProps(),k._rerender=T,y&&v&&C(v),C}}var Te=(function(e){return typeof e=="function"?e:typeof e=="string"?function(n){return n[e]}:function(n){return e}});function Za(e){"@babel/helpers - typeof";return Za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Za(e)}var o4=/^\s+/,l4=/\s+$/;function me(e,n){if(e=e||"",n=n||{},e instanceof me)return e;if(!(this instanceof me))return new me(e,n);var r=c4(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=n.format||r.format,this._gradientType=n.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},getLuminance:function(){var n=this.toRgb(),r,a,i,o,l,c;return r=n.r/255,a=n.g/255,i=n.b/255,r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),a<=.03928?l=a/12.92:l=Math.pow((a+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*o+.7152*l+.0722*c},setAlpha:function(n){return this._a=em(n),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var n=zu(this._r,this._g,this._b);return{h:n.h*360,s:n.s,v:n.v,a:this._a}},toHsvString:function(){var n=zu(this._r,this._g,this._b),r=Math.round(n.h*360),a=Math.round(n.s*100),i=Math.round(n.v*100);return this._a==1?"hsv("+r+", "+a+"%, "+i+"%)":"hsva("+r+", "+a+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var n=$u(this._r,this._g,this._b);return{h:n.h*360,s:n.s,l:n.l,a:this._a}},toHslString:function(){var n=$u(this._r,this._g,this._b),r=Math.round(n.h*360),a=Math.round(n.s*100),i=Math.round(n.l*100);return this._a==1?"hsl("+r+", "+a+"%, "+i+"%)":"hsla("+r+", "+a+"%, "+i+"%, "+this._roundA+")"},toHex:function(n){return Mu(this._r,this._g,this._b,n)},toHexString:function(n){return"#"+this.toHex(n)},toHex8:function(n){return f4(this._r,this._g,this._b,this._a,n)},toHex8String:function(n){return"#"+this.toHex8(n)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Ue(this._r,255)*100)+"%",g:Math.round(Ue(this._g,255)*100)+"%",b:Math.round(Ue(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%)":"rgba("+Math.round(Ue(this._r,255)*100)+"%, "+Math.round(Ue(this._g,255)*100)+"%, "+Math.round(Ue(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:k4[Mu(this._r,this._g,this._b,!0)]||!1},toFilter:function(n){var r="#"+Iu(this._r,this._g,this._b,this._a),a=r,i=this._gradientType?"GradientType = 1, ":"";if(n){var o=me(n);a="#"+Iu(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+a+")"},toString:function(n){var r=!!n;n=n||this._format;var a=!1,i=this._a<1&&this._a>=0,o=!r&&i&&(n==="hex"||n==="hex6"||n==="hex3"||n==="hex4"||n==="hex8"||n==="name");return o?n==="name"&&this._a===0?this.toName():this.toRgbString():(n==="rgb"&&(a=this.toRgbString()),n==="prgb"&&(a=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(a=this.toHexString()),n==="hex3"&&(a=this.toHexString(!0)),n==="hex4"&&(a=this.toHex8String(!0)),n==="hex8"&&(a=this.toHex8String()),n==="name"&&(a=this.toName()),n==="hsl"&&(a=this.toHslString()),n==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},clone:function(){return me(this.toString())},_applyModification:function(n,r){var a=n.apply(null,[this].concat([].slice.call(r)));return this._r=a._r,this._g=a._g,this._b=a._b,this.setAlpha(a._a),this},lighten:function(){return this._applyModification(x4,arguments)},brighten:function(){return this._applyModification(y4,arguments)},darken:function(){return this._applyModification(b4,arguments)},desaturate:function(){return this._applyModification(m4,arguments)},saturate:function(){return this._applyModification(p4,arguments)},greyscale:function(){return this._applyModification(g4,arguments)},spin:function(){return this._applyModification(v4,arguments)},_applyCombination:function(n,r){return n.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(_4,arguments)},complement:function(){return this._applyCombination(w4,arguments)},monochromatic:function(){return this._applyCombination(N4,arguments)},splitcomplement:function(){return this._applyCombination(j4,arguments)},triad:function(){return this._applyCombination(Lu,[3])},tetrad:function(){return this._applyCombination(Lu,[4])}};me.fromRatio=function(e,n){if(Za(e)=="object"){var r={};for(var a in e)e.hasOwnProperty(a)&&(a==="a"?r[a]=e[a]:r[a]=gs(e[a]));e=r}return me(e,n)};function c4(e){var n={r:0,g:0,b:0},r=1,a=null,i=null,o=null,l=!1,c=!1;return typeof e=="string"&&(e=P4(e)),Za(e)=="object"&&(mn(e.r)&&mn(e.g)&&mn(e.b)?(n=u4(e.r,e.g,e.b),l=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):mn(e.h)&&mn(e.s)&&mn(e.v)?(a=gs(e.s),i=gs(e.v),n=h4(e.h,a,i),l=!0,c="hsv"):mn(e.h)&&mn(e.s)&&mn(e.l)&&(a=gs(e.s),o=gs(e.l),n=d4(e.h,a,o),l=!0,c="hsl"),e.hasOwnProperty("a")&&(r=e.a)),r=em(r),{ok:l,format:e.format||c,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}function u4(e,n,r){return{r:Ue(e,255)*255,g:Ue(n,255)*255,b:Ue(r,255)*255}}function $u(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var a=Math.max(e,n,r),i=Math.min(e,n,r),o,l,c=(a+i)/2;if(a==i)o=l=0;else{var d=a-i;switch(l=c>.5?d/(2-a-i):d/(a+i),a){case e:o=(n-r)/d+(n<r?6:0);break;case n:o=(r-e)/d+2;break;case r:o=(e-n)/d+4;break}o/=6}return{h:o,s:l,l:c}}function d4(e,n,r){var a,i,o;e=Ue(e,360),n=Ue(n,100),r=Ue(r,100);function l(u,f,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?u+(f-u)*6*h:h<1/2?f:h<2/3?u+(f-u)*(2/3-h)*6:u}if(n===0)a=i=o=r;else{var c=r<.5?r*(1+n):r+n-r*n,d=2*r-c;a=l(d,c,e+1/3),i=l(d,c,e),o=l(d,c,e-1/3)}return{r:a*255,g:i*255,b:o*255}}function zu(e,n,r){e=Ue(e,255),n=Ue(n,255),r=Ue(r,255);var a=Math.max(e,n,r),i=Math.min(e,n,r),o,l,c=a,d=a-i;if(l=a===0?0:d/a,a==i)o=0;else{switch(a){case e:o=(n-r)/d+(n<r?6:0);break;case n:o=(r-e)/d+2;break;case r:o=(e-n)/d+4;break}o/=6}return{h:o,s:l,v:c}}function h4(e,n,r){e=Ue(e,360)*6,n=Ue(n,100),r=Ue(r,100);var a=Math.floor(e),i=e-a,o=r*(1-n),l=r*(1-i*n),c=r*(1-(1-i)*n),d=a%6,u=[r,l,o,o,c,r][d],f=[c,r,r,l,o,o][d],h=[o,o,c,r,r,l][d];return{r:u*255,g:f*255,b:h*255}}function Mu(e,n,r,a){var i=[Bt(Math.round(e).toString(16)),Bt(Math.round(n).toString(16)),Bt(Math.round(r).toString(16))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function f4(e,n,r,a,i){var o=[Bt(Math.round(e).toString(16)),Bt(Math.round(n).toString(16)),Bt(Math.round(r).toString(16)),Bt(tm(a))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function Iu(e,n,r,a){var i=[Bt(tm(a)),Bt(Math.round(e).toString(16)),Bt(Math.round(n).toString(16)),Bt(Math.round(r).toString(16))];return i.join("")}me.equals=function(e,n){return!e||!n?!1:me(e).toRgbString()==me(n).toRgbString()};me.random=function(){return me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function m4(e,n){n=n===0?0:n||10;var r=me(e).toHsl();return r.s-=n/100,r.s=Ni(r.s),me(r)}function p4(e,n){n=n===0?0:n||10;var r=me(e).toHsl();return r.s+=n/100,r.s=Ni(r.s),me(r)}function g4(e){return me(e).desaturate(100)}function x4(e,n){n=n===0?0:n||10;var r=me(e).toHsl();return r.l+=n/100,r.l=Ni(r.l),me(r)}function y4(e,n){n=n===0?0:n||10;var r=me(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),me(r)}function b4(e,n){n=n===0?0:n||10;var r=me(e).toHsl();return r.l-=n/100,r.l=Ni(r.l),me(r)}function v4(e,n){var r=me(e).toHsl(),a=(r.h+n)%360;return r.h=a<0?360+a:a,me(r)}function w4(e){var n=me(e).toHsl();return n.h=(n.h+180)%360,me(n)}function Lu(e,n){if(isNaN(n)||n<=0)throw new Error("Argument to polyad must be a positive number");for(var r=me(e).toHsl(),a=[me(e)],i=360/n,o=1;o<n;o++)a.push(me({h:(r.h+o*i)%360,s:r.s,l:r.l}));return a}function j4(e){var n=me(e).toHsl(),r=n.h;return[me(e),me({h:(r+72)%360,s:n.s,l:n.l}),me({h:(r+216)%360,s:n.s,l:n.l})]}function _4(e,n,r){n=n||6,r=r||30;var a=me(e).toHsl(),i=360/r,o=[me(e)];for(a.h=(a.h-(i*n>>1)+720)%360;--n;)a.h=(a.h+i)%360,o.push(me(a));return o}function N4(e,n){n=n||6;for(var r=me(e).toHsv(),a=r.h,i=r.s,o=r.v,l=[],c=1/n;n--;)l.push(me({h:a,s:i,v:o})),o=(o+c)%1;return l}me.mix=function(e,n,r){r=r===0?0:r||50;var a=me(e).toRgb(),i=me(n).toRgb(),o=r/100,l={r:(i.r-a.r)*o+a.r,g:(i.g-a.g)*o+a.g,b:(i.b-a.b)*o+a.b,a:(i.a-a.a)*o+a.a};return me(l)};me.readability=function(e,n){var r=me(e),a=me(n);return(Math.max(r.getLuminance(),a.getLuminance())+.05)/(Math.min(r.getLuminance(),a.getLuminance())+.05)};me.isReadable=function(e,n,r){var a=me.readability(e,n),i,o;switch(o=!1,i=A4(r),i.level+i.size){case"AAsmall":case"AAAlarge":o=a>=4.5;break;case"AAlarge":o=a>=3;break;case"AAAsmall":o=a>=7;break}return o};me.mostReadable=function(e,n,r){var a=null,i=0,o,l,c,d;r=r||{},l=r.includeFallbackColors,c=r.level,d=r.size;for(var u=0;u<n.length;u++)o=me.readability(e,n[u]),o>i&&(i=o,a=me(n[u]));return me.isReadable(e,a,{level:c,size:d})||!l?a:(r.includeFallbackColors=!1,me.mostReadable(e,["#fff","#000"],r))};var Bo=me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},k4=me.hexNames=S4(Bo);function S4(e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[e[r]]=r);return n}function em(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function Ue(e,n){C4(e)&&(e="100%");var r=E4(e);return e=Math.min(n,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*n,10)/100),Math.abs(e-n)<1e-6?1:e%n/parseFloat(n)}function Ni(e){return Math.min(1,Math.max(0,e))}function jt(e){return parseInt(e,16)}function C4(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function E4(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Bt(e){return e.length==1?"0"+e:""+e}function gs(e){return e<=1&&(e=e*100+"%"),e}function tm(e){return Math.round(parseFloat(e)*255).toString(16)}function Fu(e){return jt(e)/255}var Lt=(function(){var e="[-\\+]?\\d+%?",n="[-\\+]?\\d*\\.\\d+%?",r="(?:"+n+")|(?:"+e+")",a="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function mn(e){return!!Lt.CSS_UNIT.exec(e)}function P4(e){e=e.replace(o4,"").replace(l4,"").toLowerCase();var n=!1;if(Bo[e])e=Bo[e],n=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Lt.rgb.exec(e))?{r:r[1],g:r[2],b:r[3]}:(r=Lt.rgba.exec(e))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Lt.hsl.exec(e))?{h:r[1],s:r[2],l:r[3]}:(r=Lt.hsla.exec(e))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Lt.hsv.exec(e))?{h:r[1],s:r[2],v:r[3]}:(r=Lt.hsva.exec(e))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Lt.hex8.exec(e))?{r:jt(r[1]),g:jt(r[2]),b:jt(r[3]),a:Fu(r[4]),format:n?"name":"hex8"}:(r=Lt.hex6.exec(e))?{r:jt(r[1]),g:jt(r[2]),b:jt(r[3]),format:n?"name":"hex"}:(r=Lt.hex4.exec(e))?{r:jt(r[1]+""+r[1]),g:jt(r[2]+""+r[2]),b:jt(r[3]+""+r[3]),a:Fu(r[4]+""+r[4]),format:n?"name":"hex8"}:(r=Lt.hex3.exec(e))?{r:jt(r[1]+""+r[1]),g:jt(r[2]+""+r[2]),b:jt(r[3]+""+r[3]),format:n?"name":"hex"}:!1}function A4(e){var n,r;return e=e||{level:"AA",size:"small"},n=(e.level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),n!=="AA"&&n!=="AAA"&&(n="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:n,size:r}}function Uo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function T4(e){if(Array.isArray(e))return Uo(e)}function nm(e,n,r){if(typeof e=="function"?e===n:e.has(n))return arguments.length<3?n:r;throw new TypeError("Private element is not present on this object")}function R4(e,n){if(n.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function O4(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Pt(e,n){return e.get(nm(e,n))}function Hu(e,n,r){R4(e,n),n.set(e,r)}function Bu(e,n,r){return e.set(nm(e,n),r),r}function D4(e,n){for(var r=0;r<n.length;r++){var a=n[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,F4(a.key),a)}}function $4(e,n,r){return n&&D4(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z4(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M4(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I4(e){return T4(e)||z4(e)||H4(e)||M4()}function L4(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function F4(e){var n=L4(e,"string");return typeof n=="symbol"?n:n+""}function H4(e,n){if(e){if(typeof e=="string")return Uo(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Uo(e,n):void 0}}var B4=123,U4=function(n){return"#".concat(Math.min(n,Math.pow(2,24)).toString(16).padStart(6,"0"))},rm=function(n,r,a){return(n<<16)+(r<<8)+a},q4=function(n){var r=me(n).toRgb(),a=r.r,i=r.g,o=r.b;return rm(a,i,o)},Uu=function(n,r){return n*B4%Math.pow(2,r)},Gn=new WeakMap,pn=new WeakMap,V4=(function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;O4(this,e),Hu(this,Gn,void 0),Hu(this,pn,void 0),Bu(pn,this,n),this.reset()}return $4(e,[{key:"reset",value:function(){Bu(Gn,this,["__reserved for background__"])}},{key:"register",value:function(r){if(Pt(Gn,this).length>=Math.pow(2,24-Pt(pn,this)))return null;var a=Pt(Gn,this).length,i=Uu(a,Pt(pn,this)),o=U4(a+(i<<24-Pt(pn,this)));return Pt(Gn,this).push(r),o}},{key:"lookup",value:function(r){if(!r)return null;var a=typeof r=="string"?q4(r):rm.apply(void 0,I4(r));if(!a)return null;var i=a&Math.pow(2,24-Pt(pn,this))-1,o=a>>24-Pt(pn,this)&Math.pow(2,Pt(pn,this))-1;return Uu(i,Pt(pn,this))!==o||i>=Pt(Gn,this).length?null:Pt(Gn,this)[i]}}])})(),ta,qe,sm,am,Jn,qu,im,om,lm,Dl,qo,Vo,Fs={},cm=[],W4=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ki=Array.isArray;function rn(e,n){for(var r in n)e[r]=n[r];return e}function $l(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function G4(e,n,r){var a,i,o,l={};for(o in n)o=="key"?a=n[o]:o=="ref"?i=n[o]:l[o]=n[o];if(arguments.length>2&&(l.children=arguments.length>3?ta.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)l[o]===void 0&&(l[o]=e.defaultProps[o]);return Ss(e,l,a,i,null)}function Ss(e,n,r,a,i){var o={type:e,props:n,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++sm,__i:-1,__u:0};return i==null&&qe.vnode!=null&&qe.vnode(o),o}function Si(e){return e.children}function Ia(e,n){this.props=e,this.context=n}function Pr(e,n){if(n==null)return e.__?Pr(e.__,e.__i+1):null;for(var r;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?Pr(e):null}function um(e){var n,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if((r=e.__k[n])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return um(e)}}function Vu(e){(!e.__d&&(e.__d=!0)&&Jn.push(e)&&!ei.__r++||qu!=qe.debounceRendering)&&((qu=qe.debounceRendering)||im)(ei)}function ei(){for(var e,n,r,a,i,o,l,c=1;Jn.length;)Jn.length>c&&Jn.sort(om),e=Jn.shift(),c=Jn.length,e.__d&&(r=void 0,a=void 0,i=(a=(n=e).__v).__e,o=[],l=[],n.__P&&((r=rn({},a)).__v=a.__v+1,qe.vnode&&qe.vnode(r),zl(n.__P,r,a,n.__n,n.__P.namespaceURI,32&a.__u?[i]:null,o,i??Pr(a),!!(32&a.__u),l),r.__v=a.__v,r.__.__k[r.__i]=r,fm(o,r,l),a.__e=a.__=null,r.__e!=i&&um(r)));ei.__r=0}function dm(e,n,r,a,i,o,l,c,d,u,f){var h,p,g,w,N,j,x,y=a&&a.__k||cm,v=n.length;for(d=Y4(r,n,y,d,v),h=0;h<v;h++)(g=r.__k[h])!=null&&(p=g.__i==-1?Fs:y[g.__i]||Fs,g.__i=h,j=zl(e,g,p,i,o,l,c,d,u,f),w=g.__e,g.ref&&p.ref!=g.ref&&(p.ref&&Ml(p.ref,null,g),f.push(g.ref,g.__c||w,g)),N==null&&w!=null&&(N=w),(x=!!(4&g.__u))||p.__k===g.__k?d=hm(g,d,e,x):typeof g.type=="function"&&j!==void 0?d=j:w&&(d=w.nextSibling),g.__u&=-7);return r.__e=N,d}function Y4(e,n,r,a,i){var o,l,c,d,u,f=r.length,h=f,p=0;for(e.__k=new Array(i),o=0;o<i;o++)(l=n[o])!=null&&typeof l!="boolean"&&typeof l!="function"?(typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?l=e.__k[o]=Ss(null,l,null,null,null):ki(l)?l=e.__k[o]=Ss(Si,{children:l},null,null,null):l.constructor==null&&l.__b>0?l=e.__k[o]=Ss(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[o]=l,d=o+p,l.__=e,l.__b=e.__b+1,(u=l.__i=X4(l,r,d,h))!=-1&&(h--,(c=r[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(i>f?p--:i<f&&p++),typeof l.type!="function"&&(l.__u|=4)):u!=d&&(u==d-1?p--:u==d+1?p++:(u>d?p--:p++,l.__u|=4))):e.__k[o]=null;if(h)for(o=0;o<f;o++)(c=r[o])!=null&&(2&c.__u)==0&&(c.__e==a&&(a=Pr(c)),pm(c,c));return a}function hm(e,n,r,a){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,n=hm(i[o],n,r,a));return n}e.__e!=n&&(a&&(n&&e.type&&!n.parentNode&&(n=Pr(e)),r.insertBefore(e.__e,n||null)),n=e.__e);do n=n&&n.nextSibling;while(n!=null&&n.nodeType==8);return n}function X4(e,n,r,a){var i,o,l,c=e.key,d=e.type,u=n[r],f=u!=null&&(2&u.__u)==0;if(u===null&&c==null||f&&c==u.key&&d==u.type)return r;if(a>(f?1:0)){for(i=r-1,o=r+1;i>=0||o<n.length;)if((u=n[l=i>=0?i--:o++])!=null&&(2&u.__u)==0&&c==u.key&&d==u.type)return l}return-1}function Wu(e,n,r){n[0]=="-"?e.setProperty(n,r??""):e[n]=r==null?"":typeof r!="number"||W4.test(n)?r:r+"px"}function va(e,n,r,a,i){var o,l;e:if(n=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof a=="string"&&(e.style.cssText=a=""),a)for(n in a)r&&n in r||Wu(e.style,n,"");if(r)for(n in r)a&&r[n]==a[n]||Wu(e.style,n,r[n])}else if(n[0]=="o"&&n[1]=="n")o=n!=(n=n.replace(lm,"$1")),l=n.toLowerCase(),n=l in e||n=="onFocusOut"||n=="onFocusIn"?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+o]=r,r?a?r.u=a.u:(r.u=Dl,e.addEventListener(n,o?Vo:qo,o)):e.removeEventListener(n,o?Vo:qo,o);else{if(i=="http://www.w3.org/2000/svg")n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!="width"&&n!="height"&&n!="href"&&n!="list"&&n!="form"&&n!="tabIndex"&&n!="download"&&n!="rowSpan"&&n!="colSpan"&&n!="role"&&n!="popover"&&n in e)try{e[n]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&n[4]!="-"?e.removeAttribute(n):e.setAttribute(n,n=="popover"&&r==1?"":r))}}function Gu(e){return function(n){if(this.l){var r=this.l[n.type+e];if(n.t==null)n.t=Dl++;else if(n.t<r.u)return;return r(qe.event?qe.event(n):n)}}}function zl(e,n,r,a,i,o,l,c,d,u){var f,h,p,g,w,N,j,x,y,v,b,_,k,S,C,A,T,P=n.type;if(n.constructor!=null)return null;128&r.__u&&(d=!!(32&r.__u),o=[c=n.__e=r.__e]),(f=qe.__b)&&f(n);e:if(typeof P=="function")try{if(x=n.props,y="prototype"in P&&P.prototype.render,v=(f=P.contextType)&&a[f.__c],b=f?v?v.props.value:f.__:a,r.__c?j=(h=n.__c=r.__c).__=h.__E:(y?n.__c=h=new P(x,b):(n.__c=h=new Ia(x,b),h.constructor=P,h.render=J4),v&&v.sub(h),h.state||(h.state={}),h.__n=a,p=h.__d=!0,h.__h=[],h._sb=[]),y&&h.__s==null&&(h.__s=h.state),y&&P.getDerivedStateFromProps!=null&&(h.__s==h.state&&(h.__s=rn({},h.__s)),rn(h.__s,P.getDerivedStateFromProps(x,h.__s))),g=h.props,w=h.state,h.__v=n,p)y&&P.getDerivedStateFromProps==null&&h.componentWillMount!=null&&h.componentWillMount(),y&&h.componentDidMount!=null&&h.__h.push(h.componentDidMount);else{if(y&&P.getDerivedStateFromProps==null&&x!==g&&h.componentWillReceiveProps!=null&&h.componentWillReceiveProps(x,b),n.__v==r.__v||!h.__e&&h.shouldComponentUpdate!=null&&h.shouldComponentUpdate(x,h.__s,b)===!1){for(n.__v!=r.__v&&(h.props=x,h.state=h.__s,h.__d=!1),n.__e=r.__e,n.__k=r.__k,n.__k.some(function(O){O&&(O.__=n)}),_=0;_<h._sb.length;_++)h.__h.push(h._sb[_]);h._sb=[],h.__h.length&&l.push(h);break e}h.componentWillUpdate!=null&&h.componentWillUpdate(x,h.__s,b),y&&h.componentDidUpdate!=null&&h.__h.push(function(){h.componentDidUpdate(g,w,N)})}if(h.context=b,h.props=x,h.__P=e,h.__e=!1,k=qe.__r,S=0,y){for(h.state=h.__s,h.__d=!1,k&&k(n),f=h.render(h.props,h.state,h.context),C=0;C<h._sb.length;C++)h.__h.push(h._sb[C]);h._sb=[]}else do h.__d=!1,k&&k(n),f=h.render(h.props,h.state,h.context),h.state=h.__s;while(h.__d&&++S<25);h.state=h.__s,h.getChildContext!=null&&(a=rn(rn({},a),h.getChildContext())),y&&!p&&h.getSnapshotBeforeUpdate!=null&&(N=h.getSnapshotBeforeUpdate(g,w)),A=f,f!=null&&f.type===Si&&f.key==null&&(A=mm(f.props.children)),c=dm(e,ki(A)?A:[A],n,r,a,i,o,l,c,d,u),h.base=n.__e,n.__u&=-161,h.__h.length&&l.push(h),j&&(h.__E=h.__=null)}catch(O){if(n.__v=null,d||o!=null)if(O.then){for(n.__u|=d?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,n.__e=c}else{for(T=o.length;T--;)$l(o[T]);Wo(n)}else n.__e=r.__e,n.__k=r.__k,O.then||Wo(n);qe.__e(O,n,r)}else o==null&&n.__v==r.__v?(n.__k=r.__k,n.__e=r.__e):c=n.__e=K4(r.__e,n,r,a,i,o,l,d,u);return(f=qe.diffed)&&f(n),128&n.__u?void 0:c}function Wo(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Wo)}function fm(e,n,r){for(var a=0;a<r.length;a++)Ml(r[a],r[++a],r[++a]);qe.__c&&qe.__c(n,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){qe.__e(o,i.__v)}})}function mm(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:ki(e)?e.map(mm):rn({},e)}function K4(e,n,r,a,i,o,l,c,d){var u,f,h,p,g,w,N,j=r.props||Fs,x=n.props,y=n.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((g=o[u])&&"setAttribute"in g==!!y&&(y?g.localName==y:g.nodeType==3)){e=g,o[u]=null;break}}if(e==null){if(y==null)return document.createTextNode(x);e=document.createElementNS(i,y,x.is&&x),c&&(qe.__m&&qe.__m(n,o),c=!1),o=null}if(y==null)j===x||c&&e.data==x||(e.data=x);else{if(o=o&&ta.call(e.childNodes),!c&&o!=null)for(j={},u=0;u<e.attributes.length;u++)j[(g=e.attributes[u]).name]=g.value;for(u in j)if(g=j[u],u!="children"){if(u=="dangerouslySetInnerHTML")h=g;else if(!(u in x)){if(u=="value"&&"defaultValue"in x||u=="checked"&&"defaultChecked"in x)continue;va(e,u,null,g,i)}}for(u in x)g=x[u],u=="children"?p=g:u=="dangerouslySetInnerHTML"?f=g:u=="value"?w=g:u=="checked"?N=g:c&&typeof g!="function"||j[u]===g||va(e,u,g,j[u],i);if(f)c||h&&(f.__html==h.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),n.__k=[];else if(h&&(e.innerHTML=""),dm(n.type=="template"?e.content:e,ki(p)?p:[p],n,r,a,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,l,o?o[0]:r.__k&&Pr(r,0),c,d),o!=null)for(u=o.length;u--;)$l(o[u]);c||(u="value",y=="progress"&&w==null?e.removeAttribute("value"):w!=null&&(w!==e[u]||y=="progress"&&!w||y=="option"&&w!=j[u])&&va(e,u,w,j[u],i),u="checked",N!=null&&N!=e[u]&&va(e,u,N,j[u],i))}return e}function Ml(e,n,r){try{if(typeof e=="function"){var a=typeof e.__u=="function";a&&e.__u(),a&&n==null||(e.__u=e(n))}else e.current=n}catch(i){qe.__e(i,r)}}function pm(e,n,r){var a,i;if(qe.unmount&&qe.unmount(e),(a=e.ref)&&(a.current&&a.current!=e.__e||Ml(a,null,n)),(a=e.__c)!=null){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(o){qe.__e(o,n)}a.base=a.__P=null}if(a=e.__k)for(i=0;i<a.length;i++)a[i]&&pm(a[i],n,r||typeof e.type!="function");r||$l(e.__e),e.__c=e.__=e.__e=void 0}function J4(e,n,r){return this.constructor(e,r)}function Q4(e,n,r){var a,i,o,l;n==document&&(n=document.documentElement),qe.__&&qe.__(e,n),i=(a=!1)?null:n.__k,o=[],l=[],zl(n,e=n.__k=G4(Si,null,[e]),i||Fs,Fs,n.namespaceURI,i?null:n.firstChild?ta.call(n.childNodes):null,o,i?i.__e:n.firstChild,a,l),fm(o,e,l)}function gm(e,n,r){var a,i,o,l,c=rn({},e.props);for(o in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),n)o=="key"?a=n[o]:o=="ref"?i=n[o]:c[o]=n[o]===void 0&&l!=null?l[o]:n[o];return arguments.length>2&&(c.children=arguments.length>3?ta.call(arguments,2):r),Ss(e.type,c,a||e.key,i||e.ref,null)}ta=cm.slice,qe={__e:function(e,n,r,a){for(var i,o,l;n=n.__;)if((i=n.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,a||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},sm=0,am=function(e){return e!=null&&e.constructor==null},Ia.prototype.setState=function(e,n){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=rn({},this.state),typeof e=="function"&&(e=e(rn({},r),this.props)),e&&rn(r,e),e!=null&&this.__v&&(n&&this._sb.push(n),Vu(this))},Ia.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Vu(this))},Ia.prototype.render=Si,Jn=[],im=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,om=function(e,n){return e.__v.__b-n.__v.__b},ei.__r=0,lm=/(PointerCapture)$|Capture$/i,Dl=0,qo=Gu(!1),Vo=Gu(!0);function Yu(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function Z4(e){if(Array.isArray(e))return e}function e2(e,n,r){return(n=i2(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function t2(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function n2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xu(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function r2(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Xu(Object(r),!0).forEach(function(a){e2(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function s2(e,n){return Z4(e)||t2(e,n)||o2(e,n)||n2()}function a2(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function i2(e){var n=a2(e,"string");return typeof n=="symbol"?n:n+""}function ti(e){"@babel/helpers - typeof";return ti=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ti(e)}function o2(e,n){if(e){if(typeof e=="string")return Yu(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yu(e,n):void 0}}var Go=function(n){if(ti(n)!=="object")return n;var r=gm(n);if(r.props){var a;r.props=r2({},r.props),r!=null&&(a=r.props)!==null&&a!==void 0&&a.children&&(r.props.children=Array.isArray(r.props.children)?r.props.children.map(Go):Go(r.props.children))}return r},l2=function(n){return am(gm(n))},c2=function(n,r){delete r.__k,Q4(Go(n),r)};function u2(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var d2=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;u2(d2);var h2=Ol({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=a.style,o=i===void 0?{}:i,l=!!n&&ti(n)==="object"&&!!n.node&&typeof n.node=="function",c=Ot(l?n.node():n);c.style("position")==="static"&&c.style("position","relative"),r.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(o).forEach(function(u){var f=s2(u,2),h=f[0],p=f[1];return r.tooltipEl.style(h,p)}),r.tooltipEl.style("left","-10000px").style("display","none");var d="tooltip-".concat(Math.round(Math.random()*1e12));r.mouseInside=!1,c.on("mousemove.".concat(d),function(u){r.mouseInside=!0;var f=en(u),h=c.node(),p=h.offsetWidth,g=h.offsetHeight,w=[r.offsetX===null||r.offsetX===void 0?"-".concat(f[0]/p*100,"%"):typeof r.offsetX=="number"?"calc(-50% + ".concat(r.offsetX,"px)"):r.offsetX,r.offsetY===null||r.offsetY===void 0?g>130&&g-f[1]<100?"calc(-100% - 6px)":"21px":typeof r.offsetY=="number"?r.offsetY<0?"calc(-100% - ".concat(Math.abs(r.offsetY),"px)"):"".concat(r.offsetY,"px"):r.offsetY];r.tooltipEl.style("left",f[0]+"px").style("top",f[1]+"px").style("transform","translate(".concat(w.join(","),")")),r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(d),function(){r.mouseInside=!0,r.content&&r.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(d),function(){r.mouseInside=!1,r.tooltipEl.style("display","none")})},update:function(n){n.tooltipEl.style("display",n.content&&n.mouseInside?"inline":"none"),n.content?n.content instanceof HTMLElement?(n.tooltipEl.text(""),n.tooltipEl.append(function(){return n.content})):typeof n.content=="string"?n.tooltipEl.html(n.content):l2(n.content)?(n.tooltipEl.text(""),c2(n.content,n.tooltipEl.node())):(n.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",n.content,n.content.toString())):n.tooltipEl.text("")}});function f2(e,n,r){var a,i=1;e==null&&(e=0),n==null&&(n=0),r==null&&(r=0);function o(){var l,c=a.length,d,u=0,f=0,h=0;for(l=0;l<c;++l)d=a[l],u+=d.x||0,f+=d.y||0,h+=d.z||0;for(u=(u/c-e)*i,f=(f/c-n)*i,h=(h/c-r)*i,l=0;l<c;++l)d=a[l],u&&(d.x-=u),f&&(d.y-=f),h&&(d.z-=h)}return o.initialize=function(l){a=l},o.x=function(l){return arguments.length?(e=+l,o):e},o.y=function(l){return arguments.length?(n=+l,o):n},o.z=function(l){return arguments.length?(r=+l,o):r},o.strength=function(l){return arguments.length?(i=+l,o):i},o}function m2(e){const n=+this._x.call(null,e);return xm(this.cover(n),n,e)}function xm(e,n,r){if(isNaN(n))return e;var a,i=e._root,o={data:r},l=e._x0,c=e._x1,d,u,f,h,p;if(!i)return e._root=o,e;for(;i.length;)if((f=n>=(d=(l+c)/2))?l=d:c=d,a=i,!(i=i[h=+f]))return a[h]=o,e;if(u=+e._x.call(null,i.data),n===u)return o.next=i,a?a[h]=o:e._root=o,e;do a=a?a[h]=new Array(2):e._root=new Array(2),(f=n>=(d=(l+c)/2))?l=d:c=d;while((h=+f)==(p=+(u>=d)));return a[p]=i,a[h]=o,e}function p2(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n);let a=1/0,i=-1/0;for(let o=0,l;o<n;++o)isNaN(l=+this._x.call(null,e[o]))||(r[o]=l,l<a&&(a=l),l>i&&(i=l));if(a>i)return this;this.cover(a).cover(i);for(let o=0;o<n;++o)xm(this,r[o],e[o]);return this}function g2(e){if(isNaN(e=+e))return this;var n=this._x0,r=this._x1;if(isNaN(n))r=(n=Math.floor(e))+1;else{for(var a=r-n||1,i=this._root,o,l;n>e||e>=r;)switch(l=+(e<n),o=new Array(2),o[l]=i,i=o,a*=2,l){case 0:r=n+a;break;case 1:n=r-a;break}this._root&&this._root.length&&(this._root=i)}return this._x0=n,this._x1=r,this}function x2(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function y2(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function _n(e,n,r){this.node=e,this.x0=n,this.x1=r}function b2(e,n){var r,a=this._x0,i,o,l=this._x1,c=[],d=this._root,u,f;for(d&&c.push(new _n(d,a,l)),n==null?n=1/0:(a=e-n,l=e+n);u=c.pop();)if(!(!(d=u.node)||(i=u.x0)>l||(o=u.x1)<a))if(d.length){var h=(i+o)/2;c.push(new _n(d[1],h,o),new _n(d[0],i,h)),(f=+(e>=h))&&(u=c[c.length-1],c[c.length-1]=c[c.length-1-f],c[c.length-1-f]=u)}else{var p=Math.abs(e-+this._x.call(null,d.data));p<n&&(n=p,a=e-p,l=e+p,r=d.data)}return r}function v2(e){if(isNaN(d=+this._x.call(null,e)))return this;var n,r=this._root,a,i,o,l=this._x0,c=this._x1,d,u,f,h,p;if(!r)return this;if(r.length)for(;;){if((f=d>=(u=(l+c)/2))?l=u:c=u,n=r,!(r=r[h=+f]))return this;if(!r.length)break;n[h+1&1]&&(a=n,p=h)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):n?(o?n[h]=o:delete n[h],(r=n[0]||n[1])&&r===(n[1]||n[0])&&!r.length&&(a?a[p]=r:this._root=r),this):(this._root=o,this)}function w2(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function j2(){return this._root}function _2(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function N2(e){var n=[],r,a=this._root,i,o,l;for(a&&n.push(new _n(a,this._x0,this._x1));r=n.pop();)if(!e(a=r.node,o=r.x0,l=r.x1)&&a.length){var c=(o+l)/2;(i=a[1])&&n.push(new _n(i,c,l)),(i=a[0])&&n.push(new _n(i,o,c))}return this}function k2(e){var n=[],r=[],a;for(this._root&&n.push(new _n(this._root,this._x0,this._x1));a=n.pop();){var i=a.node;if(i.length){var o,l=a.x0,c=a.x1,d=(l+c)/2;(o=i[0])&&n.push(new _n(o,l,d)),(o=i[1])&&n.push(new _n(o,d,c))}r.push(a)}for(;a=r.pop();)e(a.node,a.x0,a.x1);return this}function S2(e){return e[0]}function C2(e){return arguments.length?(this._x=e,this):this._x}function ym(e,n){var r=new Il(n??S2,NaN,NaN);return e==null?r:r.addAll(e)}function Il(e,n,r){this._x=e,this._x0=n,this._x1=r,this._root=void 0}function Ku(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var vt=ym.prototype=Il.prototype;vt.copy=function(){var e=new Il(this._x,this._x0,this._x1),n=this._root,r,a;if(!n)return e;if(!n.length)return e._root=Ku(n),e;for(r=[{source:n,target:e._root=new Array(2)}];n=r.pop();)for(var i=0;i<2;++i)(a=n.source[i])&&(a.length?r.push({source:a,target:n.target[i]=new Array(2)}):n.target[i]=Ku(a));return e};vt.add=m2;vt.addAll=p2;vt.cover=g2;vt.data=x2;vt.extent=y2;vt.find=b2;vt.remove=v2;vt.removeAll=w2;vt.root=j2;vt.size=_2;vt.visit=N2;vt.visitAfter=k2;vt.x=C2;function E2(e){const n=+this._x.call(null,e),r=+this._y.call(null,e);return bm(this.cover(n,r),n,r,e)}function bm(e,n,r,a){if(isNaN(n)||isNaN(r))return e;var i,o=e._root,l={data:a},c=e._x0,d=e._y0,u=e._x1,f=e._y1,h,p,g,w,N,j,x,y;if(!o)return e._root=l,e;for(;o.length;)if((N=n>=(h=(c+u)/2))?c=h:u=h,(j=r>=(p=(d+f)/2))?d=p:f=p,i=o,!(o=o[x=j<<1|N]))return i[x]=l,e;if(g=+e._x.call(null,o.data),w=+e._y.call(null,o.data),n===g&&r===w)return l.next=o,i?i[x]=l:e._root=l,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(N=n>=(h=(c+u)/2))?c=h:u=h,(j=r>=(p=(d+f)/2))?d=p:f=p;while((x=j<<1|N)===(y=(w>=p)<<1|g>=h));return i[y]=o,i[x]=l,e}function P2(e){var n,r,a=e.length,i,o,l=new Array(a),c=new Array(a),d=1/0,u=1/0,f=-1/0,h=-1/0;for(r=0;r<a;++r)isNaN(i=+this._x.call(null,n=e[r]))||isNaN(o=+this._y.call(null,n))||(l[r]=i,c[r]=o,i<d&&(d=i),i>f&&(f=i),o<u&&(u=o),o>h&&(h=o));if(d>f||u>h)return this;for(this.cover(d,u).cover(f,h),r=0;r<a;++r)bm(this,l[r],c[r],e[r]);return this}function A2(e,n){if(isNaN(e=+e)||isNaN(n=+n))return this;var r=this._x0,a=this._y0,i=this._x1,o=this._y1;if(isNaN(r))i=(r=Math.floor(e))+1,o=(a=Math.floor(n))+1;else{for(var l=i-r||1,c=this._root,d,u;r>e||e>=i||a>n||n>=o;)switch(u=(n<a)<<1|e<r,d=new Array(4),d[u]=c,c=d,l*=2,u){case 0:i=r+l,o=a+l;break;case 1:r=i-l,o=a+l;break;case 2:i=r+l,a=o-l;break;case 3:r=i-l,a=o-l;break}this._root&&this._root.length&&(this._root=c)}return this._x0=r,this._y0=a,this._x1=i,this._y1=o,this}function T2(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function R2(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function ut(e,n,r,a,i){this.node=e,this.x0=n,this.y0=r,this.x1=a,this.y1=i}function O2(e,n,r){var a,i=this._x0,o=this._y0,l,c,d,u,f=this._x1,h=this._y1,p=[],g=this._root,w,N;for(g&&p.push(new ut(g,i,o,f,h)),r==null?r=1/0:(i=e-r,o=n-r,f=e+r,h=n+r,r*=r);w=p.pop();)if(!(!(g=w.node)||(l=w.x0)>f||(c=w.y0)>h||(d=w.x1)<i||(u=w.y1)<o))if(g.length){var j=(l+d)/2,x=(c+u)/2;p.push(new ut(g[3],j,x,d,u),new ut(g[2],l,x,j,u),new ut(g[1],j,c,d,x),new ut(g[0],l,c,j,x)),(N=(n>=x)<<1|e>=j)&&(w=p[p.length-1],p[p.length-1]=p[p.length-1-N],p[p.length-1-N]=w)}else{var y=e-+this._x.call(null,g.data),v=n-+this._y.call(null,g.data),b=y*y+v*v;if(b<r){var _=Math.sqrt(r=b);i=e-_,o=n-_,f=e+_,h=n+_,a=g.data}}return a}function D2(e){if(isNaN(f=+this._x.call(null,e))||isNaN(h=+this._y.call(null,e)))return this;var n,r=this._root,a,i,o,l=this._x0,c=this._y0,d=this._x1,u=this._y1,f,h,p,g,w,N,j,x;if(!r)return this;if(r.length)for(;;){if((w=f>=(p=(l+d)/2))?l=p:d=p,(N=h>=(g=(c+u)/2))?c=g:u=g,n=r,!(r=r[j=N<<1|w]))return this;if(!r.length)break;(n[j+1&3]||n[j+2&3]||n[j+3&3])&&(a=n,x=j)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):n?(o?n[j]=o:delete n[j],(r=n[0]||n[1]||n[2]||n[3])&&r===(n[3]||n[2]||n[1]||n[0])&&!r.length&&(a?a[x]=r:this._root=r),this):(this._root=o,this)}function $2(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function z2(){return this._root}function M2(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function I2(e){var n=[],r,a=this._root,i,o,l,c,d;for(a&&n.push(new ut(a,this._x0,this._y0,this._x1,this._y1));r=n.pop();)if(!e(a=r.node,o=r.x0,l=r.y0,c=r.x1,d=r.y1)&&a.length){var u=(o+c)/2,f=(l+d)/2;(i=a[3])&&n.push(new ut(i,u,f,c,d)),(i=a[2])&&n.push(new ut(i,o,f,u,d)),(i=a[1])&&n.push(new ut(i,u,l,c,f)),(i=a[0])&&n.push(new ut(i,o,l,u,f))}return this}function L2(e){var n=[],r=[],a;for(this._root&&n.push(new ut(this._root,this._x0,this._y0,this._x1,this._y1));a=n.pop();){var i=a.node;if(i.length){var o,l=a.x0,c=a.y0,d=a.x1,u=a.y1,f=(l+d)/2,h=(c+u)/2;(o=i[0])&&n.push(new ut(o,l,c,f,h)),(o=i[1])&&n.push(new ut(o,f,c,d,h)),(o=i[2])&&n.push(new ut(o,l,h,f,u)),(o=i[3])&&n.push(new ut(o,f,h,d,u))}r.push(a)}for(;a=r.pop();)e(a.node,a.x0,a.y0,a.x1,a.y1);return this}function F2(e){return e[0]}function H2(e){return arguments.length?(this._x=e,this):this._x}function B2(e){return e[1]}function U2(e){return arguments.length?(this._y=e,this):this._y}function vm(e,n,r){var a=new Ll(n??F2,r??B2,NaN,NaN,NaN,NaN);return e==null?a:a.addAll(e)}function Ll(e,n,r,a,i,o){this._x=e,this._y=n,this._x0=r,this._y0=a,this._x1=i,this._y1=o,this._root=void 0}function Ju(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var dt=vm.prototype=Ll.prototype;dt.copy=function(){var e=new Ll(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root,r,a;if(!n)return e;if(!n.length)return e._root=Ju(n),e;for(r=[{source:n,target:e._root=new Array(4)}];n=r.pop();)for(var i=0;i<4;++i)(a=n.source[i])&&(a.length?r.push({source:a,target:n.target[i]=new Array(4)}):n.target[i]=Ju(a));return e};dt.add=E2;dt.addAll=P2;dt.cover=A2;dt.data=T2;dt.extent=R2;dt.find=O2;dt.remove=D2;dt.removeAll=$2;dt.root=z2;dt.size=M2;dt.visit=I2;dt.visitAfter=L2;dt.x=H2;dt.y=U2;function q2(e){const n=+this._x.call(null,e),r=+this._y.call(null,e),a=+this._z.call(null,e);return wm(this.cover(n,r,a),n,r,a,e)}function wm(e,n,r,a,i){if(isNaN(n)||isNaN(r)||isNaN(a))return e;var o,l=e._root,c={data:i},d=e._x0,u=e._y0,f=e._z0,h=e._x1,p=e._y1,g=e._z1,w,N,j,x,y,v,b,_,k,S,C;if(!l)return e._root=c,e;for(;l.length;)if((b=n>=(w=(d+h)/2))?d=w:h=w,(_=r>=(N=(u+p)/2))?u=N:p=N,(k=a>=(j=(f+g)/2))?f=j:g=j,o=l,!(l=l[S=k<<2|_<<1|b]))return o[S]=c,e;if(x=+e._x.call(null,l.data),y=+e._y.call(null,l.data),v=+e._z.call(null,l.data),n===x&&r===y&&a===v)return c.next=l,o?o[S]=c:e._root=c,e;do o=o?o[S]=new Array(8):e._root=new Array(8),(b=n>=(w=(d+h)/2))?d=w:h=w,(_=r>=(N=(u+p)/2))?u=N:p=N,(k=a>=(j=(f+g)/2))?f=j:g=j;while((S=k<<2|_<<1|b)===(C=(v>=j)<<2|(y>=N)<<1|x>=w));return o[C]=l,o[S]=c,e}function V2(e){Array.isArray(e)||(e=Array.from(e));const n=e.length,r=new Float64Array(n),a=new Float64Array(n),i=new Float64Array(n);let o=1/0,l=1/0,c=1/0,d=-1/0,u=-1/0,f=-1/0;for(let h=0,p,g,w,N;h<n;++h)isNaN(g=+this._x.call(null,p=e[h]))||isNaN(w=+this._y.call(null,p))||isNaN(N=+this._z.call(null,p))||(r[h]=g,a[h]=w,i[h]=N,g<o&&(o=g),g>d&&(d=g),w<l&&(l=w),w>u&&(u=w),N<c&&(c=N),N>f&&(f=N));if(o>d||l>u||c>f)return this;this.cover(o,l,c).cover(d,u,f);for(let h=0;h<n;++h)wm(this,r[h],a[h],i[h],e[h]);return this}function W2(e,n,r){if(isNaN(e=+e)||isNaN(n=+n)||isNaN(r=+r))return this;var a=this._x0,i=this._y0,o=this._z0,l=this._x1,c=this._y1,d=this._z1;if(isNaN(a))l=(a=Math.floor(e))+1,c=(i=Math.floor(n))+1,d=(o=Math.floor(r))+1;else{for(var u=l-a||1,f=this._root,h,p;a>e||e>=l||i>n||n>=c||o>r||r>=d;)switch(p=(r<o)<<2|(n<i)<<1|e<a,h=new Array(8),h[p]=f,f=h,u*=2,p){case 0:l=a+u,c=i+u,d=o+u;break;case 1:a=l-u,c=i+u,d=o+u;break;case 2:l=a+u,i=c-u,d=o+u;break;case 3:a=l-u,i=c-u,d=o+u;break;case 4:l=a+u,c=i+u,o=d-u;break;case 5:a=l-u,c=i+u,o=d-u;break;case 6:l=a+u,i=c-u,o=d-u;break;case 7:a=l-u,i=c-u,o=d-u;break}this._root&&this._root.length&&(this._root=f)}return this._x0=a,this._y0=i,this._z0=o,this._x1=l,this._y1=c,this._z1=d,this}function G2(){var e=[];return this.visit(function(n){if(!n.length)do e.push(n.data);while(n=n.next)}),e}function Y2(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function ze(e,n,r,a,i,o,l){this.node=e,this.x0=n,this.y0=r,this.z0=a,this.x1=i,this.y1=o,this.z1=l}function X2(e,n,r,a){var i,o=this._x0,l=this._y0,c=this._z0,d,u,f,h,p,g,w=this._x1,N=this._y1,j=this._z1,x=[],y=this._root,v,b;for(y&&x.push(new ze(y,o,l,c,w,N,j)),a==null?a=1/0:(o=e-a,l=n-a,c=r-a,w=e+a,N=n+a,j=r+a,a*=a);v=x.pop();)if(!(!(y=v.node)||(d=v.x0)>w||(u=v.y0)>N||(f=v.z0)>j||(h=v.x1)<o||(p=v.y1)<l||(g=v.z1)<c))if(y.length){var _=(d+h)/2,k=(u+p)/2,S=(f+g)/2;x.push(new ze(y[7],_,k,S,h,p,g),new ze(y[6],d,k,S,_,p,g),new ze(y[5],_,u,S,h,k,g),new ze(y[4],d,u,S,_,k,g),new ze(y[3],_,k,f,h,p,S),new ze(y[2],d,k,f,_,p,S),new ze(y[1],_,u,f,h,k,S),new ze(y[0],d,u,f,_,k,S)),(b=(r>=S)<<2|(n>=k)<<1|e>=_)&&(v=x[x.length-1],x[x.length-1]=x[x.length-1-b],x[x.length-1-b]=v)}else{var C=e-+this._x.call(null,y.data),A=n-+this._y.call(null,y.data),T=r-+this._z.call(null,y.data),P=C*C+A*A+T*T;if(P<a){var O=Math.sqrt(a=P);o=e-O,l=n-O,c=r-O,w=e+O,N=n+O,j=r+O,i=y.data}}return i}const K2=(e,n,r,a,i,o)=>Math.sqrt((e-a)**2+(n-i)**2+(r-o)**2);function J2(e,n,r,a){const i=[],o=e-a,l=n-a,c=r-a,d=e+a,u=n+a,f=r+a;return this.visit((h,p,g,w,N,j,x)=>{if(!h.length)do{const y=h.data;K2(e,n,r,this._x(y),this._y(y),this._z(y))<=a&&i.push(y)}while(h=h.next);return p>d||g>u||w>f||N<o||j<l||x<c}),i}function Q2(e){if(isNaN(p=+this._x.call(null,e))||isNaN(g=+this._y.call(null,e))||isNaN(w=+this._z.call(null,e)))return this;var n,r=this._root,a,i,o,l=this._x0,c=this._y0,d=this._z0,u=this._x1,f=this._y1,h=this._z1,p,g,w,N,j,x,y,v,b,_,k;if(!r)return this;if(r.length)for(;;){if((y=p>=(N=(l+u)/2))?l=N:u=N,(v=g>=(j=(c+f)/2))?c=j:f=j,(b=w>=(x=(d+h)/2))?d=x:h=x,n=r,!(r=r[_=b<<2|v<<1|y]))return this;if(!r.length)break;(n[_+1&7]||n[_+2&7]||n[_+3&7]||n[_+4&7]||n[_+5&7]||n[_+6&7]||n[_+7&7])&&(a=n,k=_)}for(;r.data!==e;)if(i=r,!(r=r.next))return this;return(o=r.next)&&delete r.next,i?(o?i.next=o:delete i.next,this):n?(o?n[_]=o:delete n[_],(r=n[0]||n[1]||n[2]||n[3]||n[4]||n[5]||n[6]||n[7])&&r===(n[7]||n[6]||n[5]||n[4]||n[3]||n[2]||n[1]||n[0])&&!r.length&&(a?a[k]=r:this._root=r),this):(this._root=o,this)}function Z2(e){for(var n=0,r=e.length;n<r;++n)this.remove(e[n]);return this}function eC(){return this._root}function tC(){var e=0;return this.visit(function(n){if(!n.length)do++e;while(n=n.next)}),e}function nC(e){var n=[],r,a=this._root,i,o,l,c,d,u,f;for(a&&n.push(new ze(a,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));r=n.pop();)if(!e(a=r.node,o=r.x0,l=r.y0,c=r.z0,d=r.x1,u=r.y1,f=r.z1)&&a.length){var h=(o+d)/2,p=(l+u)/2,g=(c+f)/2;(i=a[7])&&n.push(new ze(i,h,p,g,d,u,f)),(i=a[6])&&n.push(new ze(i,o,p,g,h,u,f)),(i=a[5])&&n.push(new ze(i,h,l,g,d,p,f)),(i=a[4])&&n.push(new ze(i,o,l,g,h,p,f)),(i=a[3])&&n.push(new ze(i,h,p,c,d,u,g)),(i=a[2])&&n.push(new ze(i,o,p,c,h,u,g)),(i=a[1])&&n.push(new ze(i,h,l,c,d,p,g)),(i=a[0])&&n.push(new ze(i,o,l,c,h,p,g))}return this}function rC(e){var n=[],r=[],a;for(this._root&&n.push(new ze(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));a=n.pop();){var i=a.node;if(i.length){var o,l=a.x0,c=a.y0,d=a.z0,u=a.x1,f=a.y1,h=a.z1,p=(l+u)/2,g=(c+f)/2,w=(d+h)/2;(o=i[0])&&n.push(new ze(o,l,c,d,p,g,w)),(o=i[1])&&n.push(new ze(o,p,c,d,u,g,w)),(o=i[2])&&n.push(new ze(o,l,g,d,p,f,w)),(o=i[3])&&n.push(new ze(o,p,g,d,u,f,w)),(o=i[4])&&n.push(new ze(o,l,c,w,p,g,h)),(o=i[5])&&n.push(new ze(o,p,c,w,u,g,h)),(o=i[6])&&n.push(new ze(o,l,g,w,p,f,h)),(o=i[7])&&n.push(new ze(o,p,g,w,u,f,h))}r.push(a)}for(;a=r.pop();)e(a.node,a.x0,a.y0,a.z0,a.x1,a.y1,a.z1);return this}function sC(e){return e[0]}function aC(e){return arguments.length?(this._x=e,this):this._x}function iC(e){return e[1]}function oC(e){return arguments.length?(this._y=e,this):this._y}function lC(e){return e[2]}function cC(e){return arguments.length?(this._z=e,this):this._z}function jm(e,n,r,a){var i=new Fl(n??sC,r??iC,a??lC,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Fl(e,n,r,a,i,o,l,c,d){this._x=e,this._y=n,this._z=r,this._x0=a,this._y0=i,this._z0=o,this._x1=l,this._y1=c,this._z1=d,this._root=void 0}function Qu(e){for(var n={data:e.data},r=n;e=e.next;)r=r.next={data:e.data};return n}var Ze=jm.prototype=Fl.prototype;Ze.copy=function(){var e=new Fl(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),n=this._root,r,a;if(!n)return e;if(!n.length)return e._root=Qu(n),e;for(r=[{source:n,target:e._root=new Array(8)}];n=r.pop();)for(var i=0;i<8;++i)(a=n.source[i])&&(a.length?r.push({source:a,target:n.target[i]=new Array(8)}):n.target[i]=Qu(a));return e};Ze.add=q2;Ze.addAll=V2;Ze.cover=W2;Ze.data=G2;Ze.extent=Y2;Ze.find=X2;Ze.findAllWithinRadius=J2;Ze.remove=Q2;Ze.removeAll=Z2;Ze.root=eC;Ze.size=tC;Ze.visit=nC;Ze.visitAfter=rC;Ze.x=aC;Ze.y=oC;Ze.z=cC;function wn(e){return function(){return e}}function bn(e){return(e()-.5)*1e-6}function uC(e){return e.index}function Zu(e,n){var r=e.get(n);if(!r)throw new Error("node not found: "+n);return r}function dC(e){var n=uC,r=p,a,i=wn(30),o,l,c,d,u,f,h=1;e==null&&(e=[]);function p(x){return 1/Math.min(d[x.source.index],d[x.target.index])}function g(x){for(var y=0,v=e.length;y<h;++y)for(var b=0,_,k,S,C=0,A=0,T=0,P,O;b<v;++b)_=e[b],k=_.source,S=_.target,C=S.x+S.vx-k.x-k.vx||bn(f),c>1&&(A=S.y+S.vy-k.y-k.vy||bn(f)),c>2&&(T=S.z+S.vz-k.z-k.vz||bn(f)),P=Math.sqrt(C*C+A*A+T*T),P=(P-o[b])/P*x*a[b],C*=P,A*=P,T*=P,S.vx-=C*(O=u[b]),c>1&&(S.vy-=A*O),c>2&&(S.vz-=T*O),k.vx+=C*(O=1-O),c>1&&(k.vy+=A*O),c>2&&(k.vz+=T*O)}function w(){if(l){var x,y=l.length,v=e.length,b=new Map(l.map((k,S)=>[n(k,S,l),k])),_;for(x=0,d=new Array(y);x<v;++x)_=e[x],_.index=x,typeof _.source!="object"&&(_.source=Zu(b,_.source)),typeof _.target!="object"&&(_.target=Zu(b,_.target)),d[_.source.index]=(d[_.source.index]||0)+1,d[_.target.index]=(d[_.target.index]||0)+1;for(x=0,u=new Array(v);x<v;++x)_=e[x],u[x]=d[_.source.index]/(d[_.source.index]+d[_.target.index]);a=new Array(v),N(),o=new Array(v),j()}}function N(){if(l)for(var x=0,y=e.length;x<y;++x)a[x]=+r(e[x],x,e)}function j(){if(l)for(var x=0,y=e.length;x<y;++x)o[x]=+i(e[x],x,e)}return g.initialize=function(x,...y){l=x,f=y.find(v=>typeof v=="function")||Math.random,c=y.find(v=>[1,2,3].includes(v))||2,w()},g.links=function(x){return arguments.length?(e=x,w(),g):e},g.id=function(x){return arguments.length?(n=x,g):n},g.iterations=function(x){return arguments.length?(h=+x,g):h},g.strength=function(x){return arguments.length?(r=typeof x=="function"?x:wn(+x),N(),g):r},g.distance=function(x){return arguments.length?(i=typeof x=="function"?x:wn(+x),j(),g):i},g}const hC=1664525,fC=1013904223,ed=4294967296;function mC(){let e=1;return()=>(e=(hC*e+fC)%ed)/ed}var td=3;function ro(e){return e.x}function nd(e){return e.y}function pC(e){return e.z}var gC=10,xC=Math.PI*(3-Math.sqrt(5)),yC=Math.PI*20/(9+Math.sqrt(221));function bC(e,n){n=n||2;var r=Math.min(td,Math.max(1,Math.round(n))),a,i=1,o=.001,l=1-Math.pow(o,1/300),c=0,d=.6,u=new Map,f=Pl(g),h=ea("tick","end"),p=mC();e==null&&(e=[]);function g(){w(),h.call("tick",a),i<o&&(f.stop(),h.call("end",a))}function w(x){var y,v=e.length,b;x===void 0&&(x=1);for(var _=0;_<x;++_)for(i+=(c-i)*l,u.forEach(function(k){k(i)}),y=0;y<v;++y)b=e[y],b.fx==null?b.x+=b.vx*=d:(b.x=b.fx,b.vx=0),r>1&&(b.fy==null?b.y+=b.vy*=d:(b.y=b.fy,b.vy=0)),r>2&&(b.fz==null?b.z+=b.vz*=d:(b.z=b.fz,b.vz=0));return a}function N(){for(var x=0,y=e.length,v;x<y;++x){if(v=e[x],v.index=x,v.fx!=null&&(v.x=v.fx),v.fy!=null&&(v.y=v.fy),v.fz!=null&&(v.z=v.fz),isNaN(v.x)||r>1&&isNaN(v.y)||r>2&&isNaN(v.z)){var b=gC*(r>2?Math.cbrt(.5+x):r>1?Math.sqrt(.5+x):x),_=x*xC,k=x*yC;r===1?v.x=b:r===2?(v.x=b*Math.cos(_),v.y=b*Math.sin(_)):(v.x=b*Math.sin(_)*Math.cos(k),v.y=b*Math.cos(_),v.z=b*Math.sin(_)*Math.sin(k))}(isNaN(v.vx)||r>1&&isNaN(v.vy)||r>2&&isNaN(v.vz))&&(v.vx=0,r>1&&(v.vy=0),r>2&&(v.vz=0))}}function j(x){return x.initialize&&x.initialize(e,p,r),x}return N(),a={tick:w,restart:function(){return f.restart(g),a},stop:function(){return f.stop(),a},numDimensions:function(x){return arguments.length?(r=Math.min(td,Math.max(1,Math.round(x))),u.forEach(j),a):r},nodes:function(x){return arguments.length?(e=x,N(),u.forEach(j),a):e},alpha:function(x){return arguments.length?(i=+x,a):i},alphaMin:function(x){return arguments.length?(o=+x,a):o},alphaDecay:function(x){return arguments.length?(l=+x,a):+l},alphaTarget:function(x){return arguments.length?(c=+x,a):c},velocityDecay:function(x){return arguments.length?(d=1-x,a):1-d},randomSource:function(x){return arguments.length?(p=x,u.forEach(j),a):p},force:function(x,y){return arguments.length>1?(y==null?u.delete(x):u.set(x,j(y)),a):u.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),y=x.shift()||0,v=(r>1?x.shift():null)||0,b=(r>2?x.shift():null)||0,_=x.shift()||1/0,k=0,S=e.length,C,A,T,P,O,I;for(_*=_,k=0;k<S;++k)O=e[k],C=y-O.x,A=v-(O.y||0),T=b-(O.z||0),P=C*C+A*A+T*T,P<_&&(I=O,_=P);return I},on:function(x,y){return arguments.length>1?(h.on(x,y),a):h.on(x)}}}function vC(){var e,n,r,a,i,o=wn(-30),l,c=1,d=1/0,u=.81;function f(w){var N,j=e.length,x=(n===1?ym(e,ro):n===2?vm(e,ro,nd):n===3?jm(e,ro,nd,pC):null).visitAfter(p);for(i=w,N=0;N<j;++N)r=e[N],x.visit(g)}function h(){if(e){var w,N=e.length,j;for(l=new Array(N),w=0;w<N;++w)j=e[w],l[j.index]=+o(j,w,e)}}function p(w){var N=0,j,x,y=0,v,b,_,k,S=w.length;if(S){for(v=b=_=k=0;k<S;++k)(j=w[k])&&(x=Math.abs(j.value))&&(N+=j.value,y+=x,v+=x*(j.x||0),b+=x*(j.y||0),_+=x*(j.z||0));N*=Math.sqrt(4/S),w.x=v/y,n>1&&(w.y=b/y),n>2&&(w.z=_/y)}else{j=w,j.x=j.data.x,n>1&&(j.y=j.data.y),n>2&&(j.z=j.data.z);do N+=l[j.data.index];while(j=j.next)}w.value=N}function g(w,N,j,x,y){if(!w.value)return!0;var v=[j,x,y][n-1],b=w.x-r.x,_=n>1?w.y-r.y:0,k=n>2?w.z-r.z:0,S=v-N,C=b*b+_*_+k*k;if(S*S/u<C)return C<d&&(b===0&&(b=bn(a),C+=b*b),n>1&&_===0&&(_=bn(a),C+=_*_),n>2&&k===0&&(k=bn(a),C+=k*k),C<c&&(C=Math.sqrt(c*C)),r.vx+=b*w.value*i/C,n>1&&(r.vy+=_*w.value*i/C),n>2&&(r.vz+=k*w.value*i/C)),!0;if(w.length||C>=d)return;(w.data!==r||w.next)&&(b===0&&(b=bn(a),C+=b*b),n>1&&_===0&&(_=bn(a),C+=_*_),n>2&&k===0&&(k=bn(a),C+=k*k),C<c&&(C=Math.sqrt(c*C)));do w.data!==r&&(S=l[w.data.index]*i/C,r.vx+=b*S,n>1&&(r.vy+=_*S),n>2&&(r.vz+=k*S));while(w=w.next)}return f.initialize=function(w,...N){e=w,a=N.find(j=>typeof j=="function")||Math.random,n=N.find(j=>[1,2,3].includes(j))||2,h()},f.strength=function(w){return arguments.length?(o=typeof w=="function"?w:wn(+w),h(),f):o},f.distanceMin=function(w){return arguments.length?(c=w*w,f):Math.sqrt(c)},f.distanceMax=function(w){return arguments.length?(d=w*w,f):Math.sqrt(d)},f.theta=function(w){return arguments.length?(u=w*w,f):Math.sqrt(u)},f}function wC(e,n,r,a){var i,o,l=wn(.1),c,d;typeof e!="function"&&(e=wn(+e)),n==null&&(n=0),r==null&&(r=0),a==null&&(a=0);function u(h){for(var p=0,g=i.length;p<g;++p){var w=i[p],N=w.x-n||1e-6,j=(w.y||0)-r||1e-6,x=(w.z||0)-a||1e-6,y=Math.sqrt(N*N+j*j+x*x),v=(d[p]-y)*c[p]*h/y;w.vx+=N*v,o>1&&(w.vy+=j*v),o>2&&(w.vz+=x*v)}}function f(){if(i){var h,p=i.length;for(c=new Array(p),d=new Array(p),h=0;h<p;++h)d[h]=+e(i[h],h,i),c[h]=isNaN(d[h])?0:+l(i[h],h,i)}}return u.initialize=function(h,...p){i=h,o=p.find(g=>[1,2,3].includes(g))||2,f()},u.strength=function(h){return arguments.length?(l=typeof h=="function"?h:wn(+h),f(),u):l},u.radius=function(h){return arguments.length?(e=typeof h=="function"?h:wn(+h),f(),u):e},u.x=function(h){return arguments.length?(n=+h,u):n},u.y=function(h){return arguments.length?(r=+h,u):r},u.z=function(h){return arguments.length?(a=+h,u):a},u}const{abs:Zr,cos:gn,sin:dr,acos:jC,atan2:es,sqrt:An,pow:At}=Math;function ts(e){return e<0?-At(-e,1/3):At(e,1/3)}const _m=Math.PI,wa=2*_m,Tn=_m/2,_C=1e-6,so=Number.MAX_SAFE_INTEGER||9007199254740991,ao=Number.MIN_SAFE_INTEGER||-9007199254740991,NC={x:0,y:0,z:0},ae={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,n){const r=n(e);let a=r.x*r.x+r.y*r.y;return typeof r.z<"u"&&(a+=r.z*r.z),An(a)},compute:function(e,n,r){if(e===0)return n[0].t=0,n[0];const a=n.length-1;if(e===1)return n[a].t=1,n[a];const i=1-e;let o=n;if(a===0)return n[0].t=e,n[0];if(a===1){const c={x:i*o[0].x+e*o[1].x,y:i*o[0].y+e*o[1].y,t:e};return r&&(c.z=i*o[0].z+e*o[1].z),c}if(a<4){let c=i*i,d=e*e,u,f,h,p=0;a===2?(o=[o[0],o[1],o[2],NC],u=c,f=i*e*2,h=d):a===3&&(u=c*i,f=c*e*3,h=i*d*3,p=e*d);const g={x:u*o[0].x+f*o[1].x+h*o[2].x+p*o[3].x,y:u*o[0].y+f*o[1].y+h*o[2].y+p*o[3].y,t:e};return r&&(g.z=u*o[0].z+f*o[1].z+h*o[2].z+p*o[3].z),g}const l=JSON.parse(JSON.stringify(n));for(;l.length>1;){for(let c=0;c<l.length-1;c++)l[c]={x:l[c].x+(l[c+1].x-l[c].x)*e,y:l[c].y+(l[c+1].y-l[c].y)*e},typeof l[c].z<"u"&&(l[c].z=l[c].z+(l[c+1].z-l[c].z)*e);l.splice(l.length-1,1)}return l[0].t=e,l[0]},computeWithRatios:function(e,n,r,a){const i=1-e,o=r,l=n;let c=o[0],d=o[1],u=o[2],f=o[3],h;if(c*=i,d*=e,l.length===2)return h=c+d,{x:(c*l[0].x+d*l[1].x)/h,y:(c*l[0].y+d*l[1].y)/h,z:a?(c*l[0].z+d*l[1].z)/h:!1,t:e};if(c*=i,d*=2*i,u*=e*e,l.length===3)return h=c+d+u,{x:(c*l[0].x+d*l[1].x+u*l[2].x)/h,y:(c*l[0].y+d*l[1].y+u*l[2].y)/h,z:a?(c*l[0].z+d*l[1].z+u*l[2].z)/h:!1,t:e};if(c*=i,d*=1.5*i,u*=3*i,f*=e*e*e,l.length===4)return h=c+d+u+f,{x:(c*l[0].x+d*l[1].x+u*l[2].x+f*l[3].x)/h,y:(c*l[0].y+d*l[1].y+u*l[2].y+f*l[3].y)/h,z:a?(c*l[0].z+d*l[1].z+u*l[2].z+f*l[3].z)/h:!1,t:e}},derive:function(e,n){const r=[];for(let a=e,i=a.length,o=i-1;i>1;i--,o--){const l=[];for(let c=0,d;c<o;c++)d={x:o*(a[c+1].x-a[c].x),y:o*(a[c+1].y-a[c].y)},n&&(d.z=o*(a[c+1].z-a[c].z)),l.push(d);r.push(l),a=l}return r},between:function(e,n,r){return n<=e&&e<=r||ae.approximately(e,n)||ae.approximately(e,r)},approximately:function(e,n,r){return Zr(e-n)<=(r||_C)},length:function(e){const r=ae.Tvalues.length;let a=0;for(let i=0,o;i<r;i++)o=.5*ae.Tvalues[i]+.5,a+=ae.Cvalues[i]*ae.arcfn(o,e);return .5*a},map:function(e,n,r,a,i){const o=r-n,l=i-a,c=e-n,d=c/o;return a+l*d},lerp:function(e,n,r){const a={x:n.x+e*(r.x-n.x),y:n.y+e*(r.y-n.y)};return n.z!==void 0&&r.z!==void 0&&(a.z=n.z+e*(r.z-n.z)),a},pointToString:function(e){let n=e.x+"/"+e.y;return typeof e.z<"u"&&(n+="/"+e.z),n},pointsToString:function(e){return"["+e.map(ae.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,n,r){const a=n.x-e.x,i=n.y-e.y,o=r.x-e.x,l=r.y-e.y,c=a*l-i*o,d=a*o+i*l;return es(c,d)},round:function(e,n){const r=""+e,a=r.indexOf(".");return parseFloat(r.substring(0,a+1+n))},dist:function(e,n){const r=e.x-n.x,a=e.y-n.y;return An(r*r+a*a)},closest:function(e,n){let r=At(2,63),a,i;return e.forEach(function(o,l){i=ae.dist(n,o),i<r&&(r=i,a=l)}),{mdist:r,mpos:a}},abcratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=At(e,n)+At(1-e,n),a=r-1;return Zr(a/r)},projectionratio:function(e,n){if(n!==2&&n!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const r=At(1-e,n),a=At(e,n)+r;return r/a},lli8:function(e,n,r,a,i,o,l,c){const d=(e*a-n*r)*(i-l)-(e-r)*(i*c-o*l),u=(e*a-n*r)*(o-c)-(n-a)*(i*c-o*l),f=(e-r)*(o-c)-(n-a)*(i-l);return f==0?!1:{x:d/f,y:u/f}},lli4:function(e,n,r,a){const i=e.x,o=e.y,l=n.x,c=n.y,d=r.x,u=r.y,f=a.x,h=a.y;return ae.lli8(i,o,l,c,d,u,f,h)},lli:function(e,n){return ae.lli4(e,e.c,n,n.c)},makeline:function(e,n){return new Fe(e.x,e.y,(e.x+n.x)/2,(e.y+n.y)/2,n.x,n.y)},findbbox:function(e){let n=so,r=so,a=ao,i=ao;return e.forEach(function(o){const l=o.bbox();n>l.x.min&&(n=l.x.min),r>l.y.min&&(r=l.y.min),a<l.x.max&&(a=l.x.max),i<l.y.max&&(i=l.y.max)}),{x:{min:n,mid:(n+a)/2,max:a,size:a-n},y:{min:r,mid:(r+i)/2,max:i,size:i-r}}},shapeintersections:function(e,n,r,a,i){if(!ae.bboxoverlap(n,a))return[];const o=[],l=[e.startcap,e.forward,e.back,e.endcap],c=[r.startcap,r.forward,r.back,r.endcap];return l.forEach(function(d){d.virtual||c.forEach(function(u){if(u.virtual)return;const f=d.intersects(u,i);f.length>0&&(f.c1=d,f.c2=u,f.s1=e,f.s2=r,o.push(f))})}),o},makeshape:function(e,n,r){const a=n.points.length,i=e.points.length,o=ae.makeline(n.points[a-1],e.points[0]),l=ae.makeline(e.points[i-1],n.points[0]),c={startcap:o,forward:e,back:n,endcap:l,bbox:ae.findbbox([o,e,n,l])};return c.intersections=function(d){return ae.shapeintersections(c,c.bbox,d,d.bbox,r)},c},getminmax:function(e,n,r){if(!r)return{min:0,max:0};let a=so,i=ao,o,l;r.indexOf(0)===-1&&(r=[0].concat(r)),r.indexOf(1)===-1&&r.push(1);for(let c=0,d=r.length;c<d;c++)o=r[c],l=e.get(o),l[n]<a&&(a=l[n]),l[n]>i&&(i=l[n]);return{min:a,mid:(a+i)/2,max:i,size:i-a}},align:function(e,n){const r=n.p1.x,a=n.p1.y,i=-es(n.p2.y-a,n.p2.x-r),o=function(l){return{x:(l.x-r)*gn(i)-(l.y-a)*dr(i),y:(l.x-r)*dr(i)+(l.y-a)*gn(i)}};return e.map(o)},roots:function(e,n){n=n||{p1:{x:0,y:0},p2:{x:1,y:0}};const r=e.length-1,a=ae.align(e,n),i=function(S){return 0<=S&&S<=1};if(r===2){const S=a[0].y,C=a[1].y,A=a[2].y,T=S-2*C+A;if(T!==0){const P=-An(C*C-S*A),O=-S+C,I=-(P+O)/T,R=-(-P+O)/T;return[I,R].filter(i)}else if(C!==A&&T===0)return[(2*C-A)/(2*C-2*A)].filter(i);return[]}const o=a[0].y,l=a[1].y,c=a[2].y,d=a[3].y;let u=-o+3*l-3*c+d,f=3*o-6*l+3*c,h=-3*o+3*l,p=o;if(ae.approximately(u,0)){if(ae.approximately(f,0))return ae.approximately(h,0)?[]:[-p/h].filter(i);const S=An(h*h-4*f*p),C=2*f;return[(S-h)/C,(-h-S)/C].filter(i)}f/=u,h/=u,p/=u;const g=(3*h-f*f)/3,w=g/3,N=(2*f*f*f-9*f*h+27*p)/27,j=N/2,x=j*j+w*w*w;let y,v,b,_,k;if(x<0){const S=-g/3,C=S*S*S,A=An(C),T=-N/(2*A),P=T<-1?-1:T>1?1:T,O=jC(P),I=ts(A),R=2*I;return b=R*gn(O/3)-f/3,_=R*gn((O+wa)/3)-f/3,k=R*gn((O+2*wa)/3)-f/3,[b,_,k].filter(i)}else{if(x===0)return y=j<0?ts(-j):-ts(j),b=2*y-f/3,_=-y-f/3,[b,_].filter(i);{const S=An(x);return y=ts(-j+S),v=ts(j+S),[y-v-f/3].filter(i)}}},droots:function(e){if(e.length===3){const n=e[0],r=e[1],a=e[2],i=n-2*r+a;if(i!==0){const o=-An(r*r-n*a),l=-n+r,c=-(o+l)/i,d=-(-o+l)/i;return[c,d]}else if(r!==a&&i===0)return[(2*r-a)/(2*(r-a))];return[]}if(e.length===2){const n=e[0],r=e[1];return n!==r?[n/(n-r)]:[]}return[]},curvature:function(e,n,r,a,i){let o,l,c,d,u=0,f=0;const h=ae.compute(e,n),p=ae.compute(e,r),g=h.x*h.x+h.y*h.y;if(a?(o=An(At(h.y*p.z-p.y*h.z,2)+At(h.z*p.x-p.z*h.x,2)+At(h.x*p.y-p.x*h.y,2)),l=At(g+h.z*h.z,3/2)):(o=h.x*p.y-h.y*p.x,l=At(g,3/2)),o===0||l===0)return{k:0,r:0};if(u=o/l,f=l/o,!i){const w=ae.curvature(e-.001,n,r,a,!0).k,N=ae.curvature(e+.001,n,r,a,!0).k;d=(N-u+(u-w))/2,c=(Zr(N-u)+Zr(u-w))/2}return{k:u,r:f,dk:d,adk:c}},inflections:function(e){if(e.length<4)return[];const n=ae.align(e,{p1:e[0],p2:e.slice(-1)[0]}),r=n[2].x*n[1].y,a=n[3].x*n[1].y,i=n[1].x*n[2].y,o=n[3].x*n[2].y,l=18*(-3*r+2*a+3*i-o),c=18*(3*r-a-3*i),d=18*(i-r);if(ae.approximately(l,0)){if(!ae.approximately(c,0)){let p=-d/c;if(0<=p&&p<=1)return[p]}return[]}const u=2*l;if(ae.approximately(u,0))return[];const f=c*c-4*l*d;if(f<0)return[];const h=Math.sqrt(f);return[(h-c)/u,-(c+h)/u].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(e,n){const r=["x","y"],a=r.length;for(let i=0,o,l,c,d;i<a;i++)if(o=r[i],l=e[o].mid,c=n[o].mid,d=(e[o].size+n[o].size)/2,Zr(l-c)>=d)return!1;return!0},expandbox:function(e,n){n.x.min<e.x.min&&(e.x.min=n.x.min),n.y.min<e.y.min&&(e.y.min=n.y.min),n.z&&n.z.min<e.z.min&&(e.z.min=n.z.min),n.x.max>e.x.max&&(e.x.max=n.x.max),n.y.max>e.y.max&&(e.y.max=n.y.max),n.z&&n.z.max>e.z.max&&(e.z.max=n.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,n,r){const a=e.bbox(),i=n.bbox(),o=1e5,l=r||.5;if(a.x.size+a.y.size<l&&i.x.size+i.y.size<l)return[(o*(e._t1+e._t2)/2|0)/o+"/"+(o*(n._t1+n._t2)/2|0)/o];let c=e.split(.5),d=n.split(.5),u=[{left:c.left,right:d.left},{left:c.left,right:d.right},{left:c.right,right:d.right},{left:c.right,right:d.left}];u=u.filter(function(h){return ae.bboxoverlap(h.left.bbox(),h.right.bbox())});let f=[];return u.length===0||(u.forEach(function(h){f=f.concat(ae.pairiteration(h.left,h.right,l))}),f=f.filter(function(h,p){return f.indexOf(h)===p})),f},getccenter:function(e,n,r){const a=n.x-e.x,i=n.y-e.y,o=r.x-n.x,l=r.y-n.y,c=a*gn(Tn)-i*dr(Tn),d=a*dr(Tn)+i*gn(Tn),u=o*gn(Tn)-l*dr(Tn),f=o*dr(Tn)+l*gn(Tn),h=(e.x+n.x)/2,p=(e.y+n.y)/2,g=(n.x+r.x)/2,w=(n.y+r.y)/2,N=h+c,j=p+d,x=g+u,y=w+f,v=ae.lli8(h,p,N,j,g,w,x,y),b=ae.dist(v,e);let _=es(e.y-v.y,e.x-v.x),k=es(n.y-v.y,n.x-v.x),S=es(r.y-v.y,r.x-v.x),C;return _<S?((_>k||k>S)&&(_+=wa),_>S&&(C=S,S=_,_=C)):S<k&&k<_?(C=S,S=_,_=C):S+=wa,v.s=_,v.e=S,v.r=b,v},numberSort:function(e,n){return e-n}};class Cs{constructor(n){this.curves=[],this._3d=!1,n&&(this.curves=n,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(n){return ae.pointsToString(n.points)}).join(", ")+"]"}addCurve(n){this.curves.push(n),this._3d=this._3d||n._3d}length(){return this.curves.map(function(n){return n.length()}).reduce(function(n,r){return n+r})}curve(n){return this.curves[n]}bbox(){const n=this.curves;for(var r=n[0].bbox(),a=1;a<n.length;a++)ae.expandbox(r,n[a].bbox());return r}offset(n){const r=[];return this.curves.forEach(function(a){r.push(...a.offset(n))}),new Cs(r)}}const{abs:ns,min:rd,max:sd,cos:kC,sin:SC,acos:CC,sqrt:rs}=Math,EC=Math.PI;class Fe{constructor(n){let r=n&&n.forEach?n:Array.from(arguments).slice(),a=!1;if(typeof r[0]=="object"){a=r.length;const g=[];r.forEach(function(w){["x","y","z"].forEach(function(N){typeof w[N]<"u"&&g.push(w[N])})}),r=g}let i=!1;const o=r.length;if(a){if(a>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(o!==6&&o!==8&&o!==9&&o!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const l=this._3d=!i&&(o===9||o===12)||n&&n[0]&&typeof n[0].z<"u",c=this.points=[];for(let g=0,w=l?3:2;g<o;g+=w){var d={x:r[g],y:r[g+1]};l&&(d.z=r[g+2]),c.push(d)}const u=this.order=c.length-1,f=this.dims=["x","y"];l&&f.push("z"),this.dimlen=f.length;const h=ae.align(c,{p1:c[0],p2:c[u]}),p=ae.dist(c[0],c[u]);this._linear=h.reduce((g,w)=>g+ns(w.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(n,r,a,i){if(typeof i>"u"&&(i=.5),i===0)return new Fe(r,r,a);if(i===1)return new Fe(n,r,r);const o=Fe.getABC(2,n,r,a,i);return new Fe(n,o.A,a)}static cubicFromPoints(n,r,a,i,o){typeof i>"u"&&(i=.5);const l=Fe.getABC(3,n,r,a,i);typeof o>"u"&&(o=ae.dist(r,l.C));const c=o*(1-i)/i,d=ae.dist(n,a),u=(a.x-n.x)/d,f=(a.y-n.y)/d,h=o*u,p=o*f,g=c*u,w=c*f,N={x:r.x-h,y:r.y-p},j={x:r.x+g,y:r.y+w},x=l.A,y={x:x.x+(N.x-x.x)/(1-i),y:x.y+(N.y-x.y)/(1-i)},v={x:x.x+(j.x-x.x)/i,y:x.y+(j.y-x.y)/i},b={x:n.x+(y.x-n.x)/i,y:n.y+(y.y-n.y)/i},_={x:a.x+(v.x-a.x)/(1-i),y:a.y+(v.y-a.y)/(1-i)};return new Fe(n,b,_,a)}static getUtils(){return ae}getUtils(){return Fe.getUtils()}static get PolyBezier(){return Cs}valueOf(){return this.toString()}toString(){return ae.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const n=this.points,r=n[0].x,a=n[0].y,i=["M",r,a,this.order===2?"Q":"C"];for(let o=1,l=n.length;o<l;o++)i.push(n[o].x),i.push(n[o].y);return i.join(" ")}setRatios(n){if(n.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=n,this._lut=[]}verify(){const n=this.coordDigest();n!==this._print&&(this._print=n,this.update())}coordDigest(){return this.points.map(function(n,r){return""+r+n.x+n.y+(n.z?n.z:0)}).join("")}update(){this._lut=[],this.dpoints=ae.derive(this.points,this._3d),this.computedirection()}computedirection(){const n=this.points,r=ae.angle(n[0],n[this.order],n[1]);this.clockwise=r>0}length(){return ae.length(this.derivative.bind(this))}static getABC(n=2,r,a,i,o=.5){const l=ae.projectionratio(o,n),c=1-l,d={x:l*r.x+c*i.x,y:l*r.y+c*i.y},u=ae.abcratio(o,n);return{A:{x:a.x+(a.x-d.x)/u,y:a.y+(a.y-d.y)/u},B:a,C:d,S:r,E:i}}getABC(n,r){r=r||this.get(n);let a=this.points[0],i=this.points[this.order];return Fe.getABC(this.order,a,r,i,n)}getLUT(n){if(this.verify(),n=n||100,this._lut.length===n+1)return this._lut;this._lut=[],n++,this._lut=[];for(let r=0,a,i;r<n;r++)i=r/(n-1),a=this.compute(i),a.t=i,this._lut.push(a);return this._lut}on(n,r){r=r||5;const a=this.getLUT(),i=[];for(let o=0,l,c=0;o<a.length;o++)l=a[o],ae.dist(l,n)<r&&(i.push(l),c+=o/a.length);return i.length?t/=i.length:!1}project(n){const r=this.getLUT(),a=r.length-1,i=ae.closest(r,n),o=i.mpos,l=(o-1)/a,c=(o+1)/a,d=.1/a;let u=i.mdist,f=l,h=f,p;u+=1;for(let g;f<c+d;f+=d)p=this.compute(f),g=ae.dist(n,p),g<u&&(u=g,h=f);return h=h<0?0:h>1?1:h,p=this.compute(h),p.t=h,p.d=u,p}get(n){return this.compute(n)}point(n){return this.points[n]}compute(n){return this.ratios?ae.computeWithRatios(n,this.points,this.ratios,this._3d):ae.compute(n,this.points,this._3d,this.ratios)}raise(){const n=this.points,r=[n[0]],a=n.length;for(let i=1,o,l;i<a;i++)o=n[i],l=n[i-1],r[i]={x:(a-i)/a*o.x+i/a*l.x,y:(a-i)/a*o.y+i/a*l.y};return r[a]=n[a-1],new Fe(r)}derivative(n){return ae.compute(n,this.dpoints[0],this._3d)}dderivative(n){return ae.compute(n,this.dpoints[1],this._3d)}align(){let n=this.points;return new Fe(ae.align(n,{p1:n[0],p2:n[n.length-1]}))}curvature(n){return ae.curvature(n,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return ae.inflections(this.points)}normal(n){return this._3d?this.__normal3(n):this.__normal2(n)}__normal2(n){const r=this.derivative(n),a=rs(r.x*r.x+r.y*r.y);return{t:n,x:-r.y/a,y:r.x/a}}__normal3(n){const r=this.derivative(n),a=this.derivative(n+.01),i=rs(r.x*r.x+r.y*r.y+r.z*r.z),o=rs(a.x*a.x+a.y*a.y+a.z*a.z);r.x/=i,r.y/=i,r.z/=i,a.x/=o,a.y/=o,a.z/=o;const l={x:a.y*r.z-a.z*r.y,y:a.z*r.x-a.x*r.z,z:a.x*r.y-a.y*r.x},c=rs(l.x*l.x+l.y*l.y+l.z*l.z);l.x/=c,l.y/=c,l.z/=c;const d=[l.x*l.x,l.x*l.y-l.z,l.x*l.z+l.y,l.x*l.y+l.z,l.y*l.y,l.y*l.z-l.x,l.x*l.z-l.y,l.y*l.z+l.x,l.z*l.z];return{t:n,x:d[0]*r.x+d[1]*r.y+d[2]*r.z,y:d[3]*r.x+d[4]*r.y+d[5]*r.z,z:d[6]*r.x+d[7]*r.y+d[8]*r.z}}hull(n){let r=this.points,a=[],i=[],o=0;for(i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],this.order===3&&(i[o++]=r[3]);r.length>1;){a=[];for(let l=0,c,d=r.length-1;l<d;l++)c=ae.lerp(n,r[l],r[l+1]),i[o++]=c,a.push(c);r=a}return i}split(n,r){if(n===0&&r)return this.split(r).left;if(r===1)return this.split(n).right;const a=this.hull(n),i={left:this.order===2?new Fe([a[0],a[3],a[5]]):new Fe([a[0],a[4],a[7],a[9]]),right:this.order===2?new Fe([a[5],a[4],a[2]]):new Fe([a[9],a[8],a[6],a[3]]),span:a};return i.left._t1=ae.map(0,0,1,this._t1,this._t2),i.left._t2=ae.map(n,0,1,this._t1,this._t2),i.right._t1=ae.map(n,0,1,this._t1,this._t2),i.right._t2=ae.map(1,0,1,this._t1,this._t2),r?(r=ae.map(r,n,1,0,1),i.right.split(r).left):i}extrema(){const n={};let r=[];return this.dims.forEach((function(a){let i=function(l){return l[a]},o=this.dpoints[0].map(i);n[a]=ae.droots(o),this.order===3&&(o=this.dpoints[1].map(i),n[a]=n[a].concat(ae.droots(o))),n[a]=n[a].filter(function(l){return l>=0&&l<=1}),r=r.concat(n[a].sort(ae.numberSort))}).bind(this)),n.values=r.sort(ae.numberSort).filter(function(a,i){return r.indexOf(a)===i}),n}bbox(){const n=this.extrema(),r={};return this.dims.forEach((function(a){r[a]=ae.getminmax(this,a,n[a])}).bind(this)),r}overlaps(n){const r=this.bbox(),a=n.bbox();return ae.bboxoverlap(r,a)}offset(n,r){if(typeof r<"u"){const a=this.get(n),i=this.normal(n),o={c:a,n:i,x:a.x+i.x*r,y:a.y+i.y*r};return this._3d&&(o.z=a.z+i.z*r),o}if(this._linear){const a=this.normal(0),i=this.points.map(function(o){const l={x:o.x+n*a.x,y:o.y+n*a.y};return o.z&&a.z&&(l.z=o.z+n*a.z),l});return[new Fe(i)]}return this.reduce().map(function(a){return a._linear?a.offset(n)[0]:a.scale(n)})}simple(){if(this.order===3){const i=ae.angle(this.points[0],this.points[3],this.points[1]),o=ae.angle(this.points[0],this.points[3],this.points[2]);if(i>0&&o<0||i<0&&o>0)return!1}const n=this.normal(0),r=this.normal(1);let a=n.x*r.x+n.y*r.y;return this._3d&&(a+=n.z*r.z),ns(CC(a))<EC/3}reduce(){let n,r=0,a=0,i=.01,o,l=[],c=[],d=this.extrema().values;for(d.indexOf(0)===-1&&(d=[0].concat(d)),d.indexOf(1)===-1&&d.push(1),r=d[0],n=1;n<d.length;n++)a=d[n],o=this.split(r,a),o._t1=r,o._t2=a,l.push(o),r=a;return l.forEach(function(u){for(r=0,a=0;a<=1;)for(a=r+i;a<=1+i;a+=i)if(o=u.split(r,a),!o.simple()){if(a-=i,ns(r-a)<i)return[];o=u.split(r,a),o._t1=ae.map(r,0,1,u._t1,u._t2),o._t2=ae.map(a,0,1,u._t1,u._t2),c.push(o),r=a;break}r<1&&(o=u.split(r,1),o._t1=ae.map(r,0,1,u._t1,u._t2),o._t2=u._t2,c.push(o))}),c}translate(n,r,a){a=typeof a=="number"?a:r;const i=this.order;let o=this.points.map((l,c)=>(1-c/i)*r+c/i*a);return new Fe(this.points.map((l,c)=>({x:l.x+n.x*o[c],y:l.y+n.y*o[c]})))}scale(n){const r=this.order;let a=!1;if(typeof n=="function"&&(a=n),a&&r===2)return this.raise().scale(a);const i=this.clockwise,o=this.points;if(this._linear)return this.translate(this.normal(0),a?a(0):n,a?a(1):n);const l=a?a(0):n,c=a?a(1):n,d=[this.offset(0,10),this.offset(1,10)],u=[],f=ae.lli4(d[0],d[0].c,d[1],d[1].c);if(!f)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(h){const p=u[h*r]=ae.copy(o[h*r]);p.x+=(h?c:l)*d[h].n.x,p.y+=(h?c:l)*d[h].n.y}),a?([0,1].forEach(function(h){if(!(r===2&&h)){var p=o[h+1],g={x:p.x-f.x,y:p.y-f.y},w=a?a((h+1)/r):n;a&&!i&&(w=-w);var N=rs(g.x*g.x+g.y*g.y);g.x/=N,g.y/=N,u[h+1]={x:p.x+w*g.x,y:p.y+w*g.y}}}),new Fe(u)):([0,1].forEach(h=>{if(r===2&&h)return;const p=u[h*r],g=this.derivative(h),w={x:p.x+g.x,y:p.y+g.y};u[h+1]=ae.lli4(p,w,f,o[h+1])}),new Fe(u))}outline(n,r,a,i){if(r=r===void 0?n:r,this._linear){const _=this.normal(0),k=this.points[0],S=this.points[this.points.length-1];let C,A,T;a===void 0&&(a=n,i=r),C={x:k.x+_.x*n,y:k.y+_.y*n},T={x:S.x+_.x*a,y:S.y+_.y*a},A={x:(C.x+T.x)/2,y:(C.y+T.y)/2};const P=[C,A,T];C={x:k.x-_.x*r,y:k.y-_.y*r},T={x:S.x-_.x*i,y:S.y-_.y*i},A={x:(C.x+T.x)/2,y:(C.y+T.y)/2};const O=[T,A,C],I=ae.makeline(O[2],P[0]),R=ae.makeline(P[2],O[0]),D=[I,new Fe(P),R,new Fe(O)];return new Cs(D)}const o=this.reduce(),l=o.length,c=[];let d=[],u,f=0,h=this.length();const p=typeof a<"u"&&typeof i<"u";function g(_,k,S,C,A){return function(T){const P=C/S,O=(C+A)/S,I=k-_;return ae.map(T,0,1,_+P*I,_+O*I)}}o.forEach(function(_){const k=_.length();p?(c.push(_.scale(g(n,a,h,f,k))),d.push(_.scale(g(-r,-i,h,f,k)))):(c.push(_.scale(n)),d.push(_.scale(-r))),f+=k}),d=d.map(function(_){return u=_.points,u[3]?_.points=[u[3],u[2],u[1],u[0]]:_.points=[u[2],u[1],u[0]],_}).reverse();const w=c[0].points[0],N=c[l-1].points[c[l-1].points.length-1],j=d[l-1].points[d[l-1].points.length-1],x=d[0].points[0],y=ae.makeline(j,w),v=ae.makeline(N,x),b=[y].concat(c).concat([v]).concat(d);return new Cs(b)}outlineshapes(n,r,a){r=r||n;const i=this.outline(n,r).curves,o=[];for(let l=1,c=i.length;l<c/2;l++){const d=ae.makeshape(i[l],i[c-l],a);d.startcap.virtual=l>1,d.endcap.virtual=l<c/2-1,o.push(d)}return o}intersects(n,r){return n?n.p1&&n.p2?this.lineIntersects(n):(n instanceof Fe&&(n=n.reduce()),this.curveintersects(this.reduce(),n,r)):this.selfintersects(r)}lineIntersects(n){const r=rd(n.p1.x,n.p2.x),a=rd(n.p1.y,n.p2.y),i=sd(n.p1.x,n.p2.x),o=sd(n.p1.y,n.p2.y);return ae.roots(this.points,n).filter(l=>{var c=this.get(l);return ae.between(c.x,r,i)&&ae.between(c.y,a,o)})}selfintersects(n){const r=this.reduce(),a=r.length-2,i=[];for(let o=0,l,c,d;o<a;o++)c=r.slice(o,o+1),d=r.slice(o+2),l=this.curveintersects(c,d,n),i.push(...l);return i}curveintersects(n,r,a){const i=[];n.forEach(function(l){r.forEach(function(c){l.overlaps(c)&&i.push({left:l,right:c})})});let o=[];return i.forEach(function(l){const c=ae.pairiteration(l.left,l.right,a);c.length>0&&(o=o.concat(c))}),o}arcs(n){return n=n||.5,this._iterate(n,[])}_error(n,r,a,i){const o=(i-a)/4,l=this.get(a+o),c=this.get(i-o),d=ae.dist(n,r),u=ae.dist(n,l),f=ae.dist(n,c);return ns(u-d)+ns(f-d)}_iterate(n,r){let a=0,i=1,o;do{o=0,i=1;let l=this.get(a),c,d,u,f,h=!1,p=!1,g,w=i,N=1;do if(p=h,f=u,w=(a+i)/2,c=this.get(w),d=this.get(i),u=ae.getccenter(l,c,d),u.interval={start:a,end:i},h=this._error(u,l,a,i)<=n,g=p&&!h,g||(N=i),h){if(i>=1){if(u.interval.end=N=1,f=u,i>1){let x={x:u.x+u.r*kC(u.e),y:u.y+u.r*SC(u.e)};u.e+=ae.angle({x:u.x,y:u.y},x,this.get(1))}break}i=i+(i-a)/2}else i=w;while(!g&&o++<100);if(o>=100)break;f=f||u,r.push(f),a=N}while(i<1);return r}}function Yo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function PC(e){if(Array.isArray(e))return e}function AC(e){if(Array.isArray(e))return Yo(e)}function TC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RC(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function OC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $C(e,n){if(e==null)return{};var r,a,i=zC(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],n.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zC(e,n){if(e==null)return{};var r={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(n.includes(a))continue;r[a]=e[a]}return r}function MC(e,n){return PC(e)||RC(e,n)||Nm(e,n)||OC()}function IC(e){return AC(e)||TC(e)||Nm(e)||DC()}function LC(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function FC(e){var n=LC(e,"string");return typeof n=="symbol"?n:n+""}function Nm(e,n){if(e){if(typeof e=="string")return Yo(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yo(e,n):void 0}}var HC=(function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(n instanceof Array?n.length?n:[void 0]:[n]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),o=e.reduce(function(c,d){var u=c,f=d;return i.forEach(function(h,p){var g=h.keyAccessor,w=h.isProp,N;if(w){var j=f,x=j[g],y=$C(j,[g].map(FC));N=x,f=y}else N=g(f,p);p+1<i.length?(u.hasOwnProperty(N)||(u[N]={}),u=u[N]):r?(u.hasOwnProperty(N)||(u[N]=[]),u[N].push(f)):u[N]=f}),c},{});r instanceof Function&&(function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===i.length?Object.keys(d).forEach(function(f){return d[f]=r(d[f])}):Object.values(d).forEach(function(f){return c(f,u+1)})})(o);var l=o;return a&&(l=[],(function c(d){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===i.length?l.push({keys:u,vals:d}):Object.entries(d).forEach(function(f){var h=MC(f,2),p=h[0],g=h[1];return c(g,[].concat(IC(u),[p]))})})(o),n instanceof Array&&n.length===0&&l.length===1&&(l[0].keys=[])),l});function BC(e){for(var n=e.length/6|0,r=new Array(n),a=0;a<n;)r[a]="#"+e.slice(a*6,++a*6);return r}const UC=BC("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function qC(e,n){n===void 0&&(n={});var r=n.insertAt;if(!(typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",r==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var VC=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;qC(VC);function Xo(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=Array(n);r<n;r++)a[r]=e[r];return a}function WC(e){if(Array.isArray(e))return e}function GC(e){if(Array.isArray(e))return Xo(e)}function ad(e,n,r){if(km())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,n);var i=new(e.bind.apply(e,a));return i}function Hs(e,n,r){return(n=ZC(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function km(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(km=function(){return!!e})()}function YC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XC(e,n){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var a,i,o,l,c=[],d=!0,u=!1;try{if(o=(r=r.call(e)).next,n!==0)for(;!(d=(a=o.call(r)).done)&&(c.push(a.value),c.length!==n);d=!0);}catch(f){u=!0,i=f}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(u)throw i}}return c}}function KC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function id(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,a)}return r}function hr(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?id(Object(r),!0).forEach(function(a){Hs(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):id(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Es(e,n){return WC(e)||XC(e,n)||Sm(e,n)||KC()}function Dt(e){return GC(e)||YC(e)||Sm(e)||JC()}function QC(e,n){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var a=r.call(e,n);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function ZC(e){var n=QC(e,"string");return typeof n=="symbol"?n:n+""}function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Ko(e)}function Sm(e,n){if(e){if(typeof e=="string")return Xo(e,n);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xo(e,n):void 0}}var e5=mg(UC);function od(e,n,r){!n||typeof r!="string"||e.filter(function(a){return!a[r]}).forEach(function(a){a[r]=e5(n(a))})}function t5(e,n){var r=e.nodes,a=e.links,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.nodeFilter,l=o===void 0?function(){return!0}:o,c=i.onLoopError,d=c===void 0?function(g){throw"Invalid DAG structure! Found cycle in node path: ".concat(g.join(" -> "),".")}:c,u={};r.forEach(function(g){return u[n(g)]={data:g,out:[],depth:-1,skip:!l(g)}}),a.forEach(function(g){var w=g.source,N=g.target,j=b(w),x=b(N);if(!u.hasOwnProperty(j))throw"Missing source node with id: ".concat(j);if(!u.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var y=u[j],v=u[x];y.out.push(v);function b(_){return Ko(_)==="object"?n(_):_}});var f=[];p(Object.values(u));var h=Object.assign.apply(Object,[{}].concat(Dt(Object.entries(u).filter(function(g){var w=Es(g,2),N=w[1];return!N.skip}).map(function(g){var w=Es(g,2),N=w[0],j=w[1];return Hs({},N,j.depth)}))));return h;function p(g){for(var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,j=function(){var b=g[x];if(w.indexOf(b)!==-1){var _=[].concat(Dt(w.slice(w.indexOf(b))),[b]).map(function(k){return n(k.data)});return f.some(function(k){return k.length===_.length&&k.every(function(S,C){return S===_[C]})})||(f.push(_),d(_)),1}N>b.depth&&(b.depth=N,p(b.out,[].concat(Dt(w),[b]),N+(b.skip?0:1)))},x=0,y=g.length;x<y;x++)j()}}var n5=2,tt=function(n,r){return r.onNeedsRedraw&&r.onNeedsRedraw()},ld=function(n,r){if(!r.isShadow){var a=Te(r.linkDirectionalParticles);r.graphData.links.forEach(function(i){var o=Math.round(Math.abs(a(i)));o?i.__photons=Dt(Array(o)).map(function(){return{}}):delete i.__photons})}},ni=Ol({props:{graphData:{default:{nodes:[],links:[]},onChange:function(n,r){r.engineRunning=!1,ld(n,r)}},dagMode:{onChange:function(n,r){!n&&(r.graphData.nodes||[]).forEach(function(a){return a.fx=a.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(n){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:tt},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:tt},nodeColor:{default:"color",triggerUpdate:!1,onChange:tt},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:tt},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tt},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:tt},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:tt},linkColor:{default:"color",triggerUpdate:!1,onChange:tt},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:tt},linkWidth:{default:1,triggerUpdate:!1,onChange:tt},linkCurvature:{default:0,triggerUpdate:!1,onChange:tt},linkCanvasObject:{triggerUpdate:!1,onChange:tt},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:tt},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:tt},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:tt},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:tt},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:ld},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaDecay(n)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.alphaTarget(n)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(n,r){r.forceLayout.velocityDecay(n)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(n,r,a){return a===void 0?n.forceLayout.force(r):(n.forceLayout.force(r,a),this)},d3ReheatSimulation:function(n){return n.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(n){return n.cntTicks=0,n.startTickTime=new Date,n.engineRunning=!0,this},isEngineRunning:function(n){return!!n.engineRunning},tickFrame:function(n){return!n.isShadow&&r(),i(),!n.isShadow&&o(),!n.isShadow&&l(),a(),this;function r(){n.engineRunning&&(++n.cntTicks>n.cooldownTicks||new Date-n.startTickTime>n.cooldownTime||n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin?(n.engineRunning=!1,n.onEngineStop()):(n.forceLayout.tick(),n.onEngineTick()))}function a(){var c=Te(n.nodeVisibility),d=Te(n.nodeVal),u=Te(n.nodeColor),f=Te(n.nodeCanvasObjectMode),h=n.ctx,p=n.isShadow/n.globalScale,g=n.graphData.nodes.filter(c);h.save(),g.forEach(function(w){var N=f(w);if(n.nodeCanvasObject&&(N==="before"||N==="replace")&&(n.nodeCanvasObject(w,h,n.globalScale),N==="replace")){h.restore();return}var j=Math.sqrt(Math.max(0,d(w)||1))*n.nodeRelSize+p;h.beginPath(),h.arc(w.x,w.y,j,0,2*Math.PI,!1),h.fillStyle=u(w)||"rgba(31, 120, 180, 0.92)",h.fill(),n.nodeCanvasObject&&N==="after"&&n.nodeCanvasObject(w,n.ctx,n.globalScale)}),h.restore()}function i(){var c=Te(n.linkVisibility),d=Te(n.linkColor),u=Te(n.linkWidth),f=Te(n.linkLineDash),h=Te(n.linkCurvature),p=Te(n.linkCanvasObjectMode),g=n.ctx,w=n.isShadow*2,N=n.graphData.links.filter(c);N.forEach(k);var j=[],x=[],y=N;if(n.linkCanvasObject){var v=[],b=[];N.forEach(function(S){return({before:j,after:x,replace:v}[p(S)]||b).push(S)}),y=[].concat(Dt(j),x,b),j=j.concat(v)}g.save(),j.forEach(function(S){return n.linkCanvasObject(S,g,n.globalScale)}),g.restore();var _=HC(y,[d,u,f]);g.save(),Object.entries(_).forEach(function(S){var C=Es(S,2),A=C[0],T=C[1],P=!A||A==="undefined"?"rgba(0,0,0,0.15)":A;Object.entries(T).forEach(function(O){var I=Es(O,2),R=I[0],D=I[1],z=(R||1)/n.globalScale+w;Object.entries(D).forEach(function(F){var G=Es(F,2);G[0];var q=G[1],$=f(q[0]);g.beginPath(),q.forEach(function(ee){var Q=ee.source,M=ee.target;if(!(!Q||!M||!Q.hasOwnProperty("x")||!M.hasOwnProperty("x"))){g.moveTo(Q.x,Q.y);var de=ee.__controlPoints;de?g[de.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(g,Dt(de).concat([M.x,M.y])):g.lineTo(M.x,M.y)}}),g.strokeStyle=P,g.lineWidth=z,g.setLineDash($||[]),g.stroke()})})}),g.restore(),g.save(),x.forEach(function(S){return n.linkCanvasObject(S,g,n.globalScale)}),g.restore();function k(S){var C=h(S);if(!C){S.__controlPoints=null;return}var A=S.source,T=S.target;if(!(!A||!T||!A.hasOwnProperty("x")||!T.hasOwnProperty("x"))){var P=Math.sqrt(Math.pow(T.x-A.x,2)+Math.pow(T.y-A.y,2));if(P>0){var O=Math.atan2(T.y-A.y,T.x-A.x),I=P*C,R={x:(A.x+T.x)/2+I*Math.cos(O-Math.PI/2),y:(A.y+T.y)/2+I*Math.sin(O-Math.PI/2)};S.__controlPoints=[R.x,R.y]}else{var D=C*70;S.__controlPoints=[T.x,T.y-D,T.x+D,T.y]}}}}function o(){var c=1.6,d=.2,u=Te(n.linkDirectionalArrowLength),f=Te(n.linkDirectionalArrowRelPos),h=Te(n.linkVisibility),p=Te(n.linkDirectionalArrowColor||n.linkColor),g=Te(n.nodeVal),w=n.ctx;w.save(),n.graphData.links.filter(h).forEach(function(N){var j=u(N);if(!(!j||j<0)){var x=N.source,y=N.target;if(!(!x||!y||!x.hasOwnProperty("x")||!y.hasOwnProperty("x"))){var v=Math.sqrt(Math.max(0,g(x)||1))*n.nodeRelSize,b=Math.sqrt(Math.max(0,g(y)||1))*n.nodeRelSize,_=Math.min(1,Math.max(0,f(N))),k=p(N)||"rgba(0,0,0,0.28)",S=j/c/2,C=N.__controlPoints&&ad(Fe,[x.x,x.y].concat(Dt(N.__controlPoints),[y.x,y.y])),A=C?function(z){return C.get(z)}:function(z){return{x:x.x+(y.x-x.x)*z||0,y:x.y+(y.y-x.y)*z||0}},T=C?C.length():Math.sqrt(Math.pow(y.x-x.x,2)+Math.pow(y.y-x.y,2)),P=v+j+(T-v-b-j)*_,O=A(P/T),I=A((P-j)/T),R=A((P-j*(1-d))/T),D=Math.atan2(O.y-I.y,O.x-I.x)-Math.PI/2;w.beginPath(),w.moveTo(O.x,O.y),w.lineTo(I.x+S*Math.cos(D),I.y+S*Math.sin(D)),w.lineTo(R.x,R.y),w.lineTo(I.x-S*Math.cos(D),I.y-S*Math.sin(D)),w.fillStyle=k,w.fill()}}}),w.restore()}function l(){var c=Te(n.linkDirectionalParticles),d=Te(n.linkDirectionalParticleSpeed),u=Te(n.linkDirectionalParticleOffset),f=Te(n.linkDirectionalParticleWidth),h=Te(n.linkVisibility),p=Te(n.linkDirectionalParticleColor||n.linkColor),g=n.ctx;g.save(),n.graphData.links.filter(h).forEach(function(w){var N=c(w);if(!(!w.hasOwnProperty("__photons")||!w.__photons.length)){var j=w.source,x=w.target;if(!(!j||!x||!j.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var y=d(w),v=Math.abs(u(w)),b=w.__photons||[],_=Math.max(0,f(w)/2)/Math.sqrt(n.globalScale),k=p(w)||"rgba(0,0,0,0.28)";g.fillStyle=k;var S=w.__controlPoints?ad(Fe,[j.x,j.y].concat(Dt(w.__controlPoints),[x.x,x.y])):null,C=0,A=!1;b.forEach(function(T){var P=!!T.__singleHop;if(T.hasOwnProperty("__progressRatio")||(T.__progressRatio=P?0:(C+v)/N),!P&&C++,T.__progressRatio+=y,T.__progressRatio>=1)if(!P)T.__progressRatio=T.__progressRatio%1;else{A=!0;return}var O=T.__progressRatio,I=S?S.get(O):{x:j.x+(x.x-j.x)*O||0,y:j.y+(x.y-j.y)*O||0};n.linkDirectionalParticleCanvasObject?n.linkDirectionalParticleCanvasObject(I.x,I.y,w,g,n.globalScale):(g.beginPath(),g.arc(I.x,I.y,_,0,2*Math.PI,!1),g.fill())}),A&&(w.__photons=w.__photons.filter(function(T){return!T.__singleHop||T.__progressRatio<=1}))}}}),g.restore()}},emitParticle:function(n,r){return r&&(!r.__photons&&(r.__photons=[]),r.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:bC().force("link",dC()).force("charge",vC()).force("center",f2()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(n,r){r.ctx=n},update:function(n,r){n.engineRunning=!1,n.onUpdate(),n.nodeAutoColorBy!==null&&od(n.graphData.nodes,Te(n.nodeAutoColorBy),n.nodeColor),n.linkAutoColorBy!==null&&od(n.graphData.links,Te(n.linkAutoColorBy),n.linkColor),n.graphData.links.forEach(function(p){p.source=p[n.linkSource],p.target=p[n.linkTarget]}),n.forceLayout.stop().alpha(1).nodes(n.graphData.nodes);var a=n.forceLayout.force("link");a&&a.id(function(p){return p[n.nodeId]}).links(n.graphData.links);var i=n.dagMode&&t5(n.graphData,function(p){return p[n.nodeId]},{nodeFilter:n.dagNodeFilter,onLoopError:n.onDagError||void 0}),o=Math.max.apply(Math,Dt(Object.values(i||[]))),l=n.dagLevelDistance||n.graphData.nodes.length/(o||1)*n5*(["radialin","radialout"].indexOf(n.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(r.dagMode)){var c=["lr","rl"].includes(r.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return delete p[c]})}if(["lr","rl","td","bu"].includes(n.dagMode)){var d=["rl","bu"].includes(n.dagMode),u=function(g){return(i[g[n.nodeId]]-o/2)*l*(d?-1:1)},f=["lr","rl"].includes(n.dagMode)?"fx":"fy";n.graphData.nodes.filter(n.dagNodeFilter).forEach(function(p){return p[f]=u(p)})}n.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(n.dagMode)!==-1?wC(function(p){var g=i[p[n.nodeId]]||-1;return(n.dagMode==="radialin"?o-g:g)*l}).strength(function(p){return n.dagNodeFilter(p)?1:0}):null);for(var h=0;h<n.warmupTicks&&!(n.d3AlphaMin>0&&n.forceLayout.alpha()<n.d3AlphaMin);h++)n.forceLayout.tick();this.resetCountdown(),n.onFinishUpdate()}});function Cm(e,n){var r=e instanceof Array?e:[e],a=new n;return a._destructor&&a._destructor(),{linkProp:function(o){return{default:a[o](),onChange:function(c,d){r.forEach(function(u){return d[u][o](c)})},triggerUpdate:!1}},linkMethod:function(o){return function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];var f=[];return r.forEach(function(h){var p=l[h],g=p[o].apply(p,d);g!==p&&f.push(g)}),f.length?f[0]:this}}}}var r5=800,s5=4,a5=5,Em=Cm("forceGraph",ni),i5=Cm(["forceGraph","shadowGraph"],ni),o5=Object.assign.apply(Object,Dt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return Hs({},e,Em.linkProp(e))})).concat(Dt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return Hs({},e,i5.linkProp(e))})))),l5=Object.assign.apply(Object,Dt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return Hs({},e,Em.linkMethod(e))})));function io(e){if(e.canvas){var n=e.canvas.width,r=e.canvas.height;n===300&&r===150&&(n=r=0);var a=window.devicePixelRatio;n/=a,r/=a,[e.canvas,e.shadowCanvas].forEach(function(o){o.style.width="".concat(e.width,"px"),o.style.height="".concat(e.height,"px"),o.width=e.width*a,o.height=e.height*a,!n&&!r&&o.getContext("2d").scale(a,a)});var i=Zt(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-n)/2/i,(e.height-r)/2/i),e.needsRedraw=!0}}function Pm(e){var n=window.devicePixelRatio;e.setTransform(n,0,0,n,0,0)}function cd(e,n,r){e.save(),Pm(e),e.clearRect(0,0,n,r),e.restore()}var c5=Ol({props:hr({width:{default:window.innerWidth,onChange:function(n,r){return io(r)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(n,r){return io(r)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(n,r){[n.nodes,n.links].every(function(i){return(i||[]).every(function(o){return!o.hasOwnProperty("__indexColor")})})&&r.colorTracker.reset(),[{type:"Node",objs:n.nodes},{type:"Link",objs:n.links}].forEach(a),r.forceGraph.graphData(n),r.shadowGraph.graphData(n);function a(i){var o=i.type,l=i.objs;l.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var d=r.colorTracker.lookup(c.__indexColor);return!d||!d.hasOwnProperty("d")||d.d!==c}).forEach(function(c){c.__indexColor=r.colorTracker.register({type:o,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(n,r){r.canvas&&n&&(r.canvas.style.background=n)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(n,r){r.shadowGraph.nodeCanvasObject(n?function(a,i,o){return n(a,a.__indexColor,i,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(n,r){r.shadowGraph.linkCanvasObject(n?function(a,i,o){return n(a,a.__indexColor,i,o)}:null),r.flushShadowCanvas&&r.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(n,r){r.zoom.scaleExtent([n,r.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(n,r){r.zoom.scaleExtent([r.zoom.scaleExtent()[0],n])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(n,r){r.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},o5),aliases:{stopAnimation:"pauseAnimation"},methods:hr({graph2ScreenCoords:function(n,r,a){var i=Zt(n.canvas);return{x:r*i.k+i.x,y:a*i.k+i.y}},screen2GraphCoords:function(n,r,a){var i=Zt(n.canvas);return{x:(r-i.x)/i.k,y:(a-i.y)/i.k}},centerAt:function(n,r,a,i){if(!n.canvas)return null;if(r!==void 0||a!==void 0){var o=Object.assign({},r!==void 0?{x:r}:{},a!==void 0?{y:a}:{});return i?n.tweenGroup.add(new Ou(l()).to(o,i).easing(nr.Quadratic.Out).onUpdate(c).start()):c(o),this}return l();function l(){var d=Zt(n.canvas);return{x:(n.width/2-d.x)/d.k,y:(n.height/2-d.y)/d.k}}function c(d){var u=d.x,f=d.y;n.zoom.translateTo(n.zoom.__baseElem,u===void 0?l().x:u,f===void 0?l().y:f),n.needsRedraw=!0}},zoom:function(n,r,a){if(!n.canvas)return null;if(r!==void 0)return a?n.tweenGroup.add(new Ou({k:i()}).to({k:r},a).easing(nr.Quadratic.Out).onUpdate(function(l){var c=l.k;return o(c)}).start()):o(r),this;return i();function i(){return Zt(n.canvas).k}function o(l){n.zoom.scaleTo(n.zoom.__baseElem,l),n.needsRedraw=!0}},zoomToFit:function(n){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,o=new Array(i>3?i-3:0),l=3;l<i;l++)o[l-3]=arguments[l];var c=this.getGraphBbox.apply(this,o);if(c){var d={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},u=Math.max(1e-12,Math.min(1e12,(n.width-a*2)/(c.x[1]-c.x[0]),(n.height-a*2)/(c.y[1]-c.y[0])));this.centerAt(d.x,d.y,r),this.zoom(u,r)}return this},getGraphBbox:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},a=Te(n.nodeVal),i=function(c){return Math.sqrt(Math.max(0,a(c)||1))*n.nodeRelSize},o=n.graphData.nodes.filter(r).map(function(l){return{x:l.x,y:l.y,r:i(l)}});return o.length?{x:[ac(o,function(l){return l.x-l.r}),ic(o,function(l){return l.x+l.r})],y:[ac(o,function(l){return l.y-l.r}),ic(o,function(l){return l.y+l.r})]}:null},pauseAnimation:function(n){return n.animationFrameRequestId&&(cancelAnimationFrame(n.animationFrameRequestId),n.animationFrameRequestId=null),this},resumeAnimation:function(n){return n.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},l5),stateInit:function(){return{lastSetZoom:1,zoom:kS(),forceGraph:new ni,shadowGraph:new ni().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new V4,tweenGroup:new Qf}},init:function(n,r){var a=this;n.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",n.appendChild(i),r.canvas=document.createElement("canvas"),r.backgroundColor&&(r.canvas.style.background=r.backgroundColor),i.appendChild(r.canvas),r.shadowCanvas=document.createElement("canvas");var o=r.canvas.getContext("2d"),l=r.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},d=function(){var h=null,p=window.devicePixelRatio,g=c.x>0&&c.y>0?l.getImageData(c.x*p,c.y*p,1,1):null;return g&&(h=r.colorTracker.lookup(g.data)),h};Ot(r.canvas).call(ok().subject(function(){if(!r.enableNodeDrag)return null;var f=d();return f&&f.type==="Node"?f.d:null}).on("start",function(f){var h=f.subject;h.__initialDragPos={x:h.x,y:h.y,fx:h.fx,fy:h.fy},f.active||(h.fx=h.x,h.fy=h.y),r.canvas.classList.add("grabbable")}).on("drag",function(f){var h=f.subject,p=h.__initialDragPos,g=f,w=Zt(r.canvas).k,N={x:p.x+(g.x-p.x)/w-h.x,y:p.y+(g.y-p.y)/w-h.y};["x","y"].forEach(function(j){return h["f".concat(j)]=h[j]=p[j]+(g[j]-p[j])/w}),!(!h.__dragged&&a5>=Math.sqrt(pg(["x","y"].map(function(j){return Math.pow(f[j]-p[j],2)}))))&&(r.forceGraph.d3AlphaTarget(.3).resetCountdown(),r.isPointerDragging=!0,h.__dragged=!0,r.onNodeDrag(h,N))}).on("end",function(f){var h=f.subject,p=h.__initialDragPos,g={x:h.x-p.x,y:h.y-p.y};p.fx===void 0&&(h.fx=void 0),p.fy===void 0&&(h.fy=void 0),delete h.__initialDragPos,r.forceGraph.d3AlphaTarget()&&r.forceGraph.d3AlphaTarget(0).resetCountdown(),r.canvas.classList.remove("grabbable"),r.isPointerDragging=!1,h.__dragged&&(delete h.__dragged,r.onNodeDragEnd(h,g))})),r.zoom(r.zoom.__baseElem=Ot(r.canvas)),r.zoom.__baseElem.on("dblclick.zoom",null),r.zoom.filter(function(f){return!f.button&&r.enableZoomPanInteraction&&(f.type!=="wheel"||Te(r.enableZoomInteraction)(f))&&(f.type==="wheel"||Te(r.enablePanInteraction)(f))}).on("zoom",function(f){var h=f.transform;[o,l].forEach(function(p){Pm(p),p.translate(h.x,h.y),p.scale(h.k,h.k)}),r.isPointerDragging=!0,r.onZoom&&r.onZoom(hr(hr({},h),a.centerAt())),r.needsRedraw=!0}).on("end",function(f){r.isPointerDragging=!1,r.onZoomEnd&&r.onZoomEnd(hr(hr({},f.transform),a.centerAt()))}),io(r),r.forceGraph.onNeedsRedraw(function(){return r.needsRedraw=!0}).onFinishUpdate(function(){Zt(r.canvas).k===r.lastSetZoom&&r.graphData.nodes.length&&(r.zoom.scaleTo(r.zoom.__baseElem,r.lastSetZoom=s5/Math.cbrt(r.graphData.nodes.length)),r.needsRedraw=!0)}),r.tooltip=new h2(i),["pointermove","pointerdown"].forEach(function(f){return i.addEventListener(f,function(h){f==="pointerdown"&&(r.isPointerPressed=!0,r.pointerDownEvent=h),!r.isPointerDragging&&h.type==="pointermove"&&r.onBackgroundClick&&(h.pressure>0||r.isPointerPressed)&&(h.pointerType==="mouse"||h.movementX===void 0||[h.movementX,h.movementY].some(function(w){return Math.abs(w)>1}))&&(r.isPointerDragging=!0);var p=g(i);c.x=h.pageX-p.left,c.y=h.pageY-p.top;function g(w){var N=w.getBoundingClientRect(),j=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:N.top+x,left:N.left+j}}},{passive:!0})}),i.addEventListener("pointerup",function(f){if(r.isPointerPressed){if(r.isPointerPressed=!1,r.isPointerDragging){r.isPointerDragging=!1;return}var h=[f,r.pointerDownEvent];requestAnimationFrame(function(){if(f.button===0)if(r.hoverObj){var p=r["on".concat(r.hoverObj.type,"Click")];p&&p.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundClick&&r.onBackgroundClick.apply(r,h);if(f.button===2)if(r.hoverObj){var g=r["on".concat(r.hoverObj.type,"RightClick")];g&&g.apply(void 0,[r.hoverObj.d].concat(h))}else r.onBackgroundRightClick&&r.onBackgroundRightClick.apply(r,h)})}},{passive:!0}),i.addEventListener("contextmenu",function(f){return!r.onBackgroundRightClick&&!r.onNodeRightClick&&!r.onLinkRightClick?!0:(f.preventDefault(),!1)}),r.forceGraph(o),r.shadowGraph(l);var u=QS(function(){cd(l,r.width,r.height),r.shadowGraph.linkWidth(function(h){return Te(r.linkWidth)(h)+r.linkHoverPrecision});var f=Zt(r.canvas);r.shadowGraph.globalScale(f.k).tickFrame()},r5);r.flushShadowCanvas=u.flush,(this._animationCycle=function f(){var h=!r.autoPauseRedraw||!!r.needsRedraw||r.forceGraph.isEngineRunning()||r.graphData.links.some(function(v){return v.__photons&&v.__photons.length});if(r.needsRedraw=!1,r.enablePointerInteraction){var p=r.isPointerDragging?null:d();if(p!==r.hoverObj){var g=r.hoverObj,w=g?g.type:null,N=p?p.type:null;if(w&&w!==N){var j=r["on".concat(w,"Hover")];j&&j(null,g.d)}if(N){var x=r["on".concat(N,"Hover")];x&&x(p.d,w===N?g.d:null)}r.tooltip.content(p&&Te(r["".concat(p.type.toLowerCase(),"Label")])(p.d)||null),r.canvas.classList[(p&&r["on".concat(N,"Click")]||!p&&r.onBackgroundClick)&&Te(r.showPointerCursor)(p==null?void 0:p.d)?"add":"remove"]("clickable"),r.hoverObj=p}h&&u()}if(h){cd(o,r.width,r.height);var y=Zt(r.canvas).k;r.onRenderFramePre&&r.onRenderFramePre(o,y),r.forceGraph.globalScale(y).tickFrame(),r.onRenderFramePost&&r.onRenderFramePost(o,y)}r.tweenGroup.update(),r.animationFrameRequestId=requestAnimationFrame(f)})()},update:function(n){}});const Ci={width:H.number,height:H.number,graphData:H.shape({nodes:H.arrayOf(H.object).isRequired,links:H.arrayOf(H.object).isRequired}),backgroundColor:H.string,nodeRelSize:H.number,nodeId:H.string,nodeLabel:H.oneOfType([H.string,H.func]),nodeVal:H.oneOfType([H.number,H.string,H.func]),nodeVisibility:H.oneOfType([H.bool,H.string,H.func]),nodeColor:H.oneOfType([H.string,H.func]),nodeAutoColorBy:H.oneOfType([H.string,H.func]),onNodeHover:H.func,onNodeClick:H.func,linkSource:H.string,linkTarget:H.string,linkLabel:H.oneOfType([H.string,H.func]),linkVisibility:H.oneOfType([H.bool,H.string,H.func]),linkColor:H.oneOfType([H.string,H.func]),linkAutoColorBy:H.oneOfType([H.string,H.func]),linkWidth:H.oneOfType([H.number,H.string,H.func]),linkCurvature:H.oneOfType([H.number,H.string,H.func]),linkDirectionalArrowLength:H.oneOfType([H.number,H.string,H.func]),linkDirectionalArrowColor:H.oneOfType([H.string,H.func]),linkDirectionalArrowRelPos:H.oneOfType([H.number,H.string,H.func]),linkDirectionalParticles:H.oneOfType([H.number,H.string,H.func]),linkDirectionalParticleSpeed:H.oneOfType([H.number,H.string,H.func]),linkDirectionalParticleOffset:H.oneOfType([H.number,H.string,H.func]),linkDirectionalParticleWidth:H.oneOfType([H.number,H.string,H.func]),linkDirectionalParticleColor:H.oneOfType([H.string,H.func]),onLinkHover:H.func,onLinkClick:H.func,dagMode:H.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:H.number,dagNodeFilter:H.func,onDagError:H.func,d3AlphaMin:H.number,d3AlphaDecay:H.number,d3VelocityDecay:H.number,warmupTicks:H.number,cooldownTicks:H.number,cooldownTime:H.number,onEngineTick:H.func,onEngineStop:H.func,getGraphBbox:H.func},Am={zoomToFit:H.func,onNodeRightClick:H.func,onNodeDrag:H.func,onNodeDragEnd:H.func,onLinkRightClick:H.func,linkHoverPrecision:H.number,onBackgroundClick:H.func,onBackgroundRightClick:H.func,showPointerCursor:H.oneOfType([H.bool,H.func]),enablePointerInteraction:H.bool,enableNodeDrag:H.bool},Hl={showNavInfo:H.bool,nodeOpacity:H.number,nodeResolution:H.number,nodeThreeObject:H.oneOfType([H.object,H.string,H.func]),nodeThreeObjectExtend:H.oneOfType([H.bool,H.string,H.func]),nodePositionUpdate:H.func,linkOpacity:H.number,linkResolution:H.number,linkCurveRotation:H.oneOfType([H.number,H.string,H.func]),linkMaterial:H.oneOfType([H.object,H.string,H.func]),linkThreeObject:H.oneOfType([H.object,H.string,H.func]),linkThreeObjectExtend:H.oneOfType([H.bool,H.string,H.func]),linkPositionUpdate:H.func,linkDirectionalArrowResolution:H.number,linkDirectionalParticleResolution:H.number,linkDirectionalParticleThreeObject:H.oneOfType([H.object,H.string,H.func]),forceEngine:H.oneOf(["d3","ngraph"]),ngraphPhysics:H.object,numDimensions:H.oneOf([1,2,3])},u5=Object.assign({},Ci,Am,{linkLineDash:H.oneOfType([H.arrayOf(H.number),H.string,H.func]),nodeCanvasObjectMode:H.oneOfType([H.string,H.func]),nodeCanvasObject:H.func,nodePointerAreaPaint:H.func,linkCanvasObjectMode:H.oneOfType([H.string,H.func]),linkCanvasObject:H.func,linkPointerAreaPaint:H.func,linkDirectionalParticleCanvasObject:H.func,autoPauseRedraw:H.bool,minZoom:H.number,maxZoom:H.number,enableZoomInteraction:H.oneOfType([H.bool,H.func]),enablePanInteraction:H.oneOfType([H.bool,H.func]),onZoom:H.func,onZoomEnd:H.func,onRenderFramePre:H.func,onRenderFramePost:H.func});Object.assign({},Ci,Am,Hl,{enableNavigationControls:H.bool,controlType:H.oneOf(["trackball","orbit","fly"]),rendererConfig:H.object,extraRenderers:H.arrayOf(H.shape({render:H.func.isRequired}))});Object.assign({},Ci,Hl,{nodeDesc:H.oneOfType([H.string,H.func]),linkDesc:H.oneOfType([H.string,H.func])});Object.assign({},Ci,Hl,{markerAttrs:H.object,yOffset:H.number,glScale:H.number});const Bl=b1(c5,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Bl.displayName="ForceGraph2D";Bl.propTypes=u5;const d5=({scanId:e})=>{const[n,r]=E.useState(null),[a,i]=E.useState(!0),[o,l]=E.useState(null),[c,d]=E.useState(null),[u,f]=E.useState(""),[h,p]=E.useState(!1),g=E.useRef(),w=E.useRef(null);E.useEffect(()=>{(async()=>{try{i(!0);const P=localStorage.getItem("token"),O=await fetch(`/api/scans/${e}/topology`,{headers:{Authorization:`Bearer ${P}`}});if(!O.ok)throw new Error("Failed to fetch topology data");const I=await O.json();r(I)}catch(P){l(P instanceof Error?P.message:"Unknown error")}finally{i(!1)}})()},[e]);const N=T=>T.critical_vulns>0||T.risk_score>=75?"#ef4444":T.high_vulns>0||T.risk_score>=50?"#f97316":T.risk_score>=25?"#eab308":"#22c55e",j=T=>{const O=Math.min(T.open_ports_count/10,3),I=Math.min(T.vuln_count/5,3),R=T.is_gateway?3:0;return 5+O+I+R},x=T=>{switch(T){case"server":return s.jsx(Gt,{className:"w-4 h-4"});case"workstation":return s.jsx(Yd,{className:"w-4 h-4"});case"network":return s.jsx(Qn,{className:"w-4 h-4"});case"gateway":return s.jsx(Ql,{className:"w-4 h-4"});default:return s.jsx(Vd,{className:"w-4 h-4"})}},y=T=>{switch(T.relationship_type){case"gateway":return"#3b82f6";case"shared_service":return"#8b5cf6";case"same_subnet":return"#6b7280";default:return"#6b7280"}},v=E.useCallback(T=>{d(T)},[]),b=()=>{if(g.current){const T=g.current.zoom();g.current.zoom(T*1.3,400)}},_=()=>{if(g.current){const T=g.current.zoom();g.current.zoom(T/1.3,400)}},k=()=>{if(!n||!u)return;const T=n.nodes.find(P=>{var O;return P.ip.includes(u)||((O=P.hostname)==null?void 0:O.toLowerCase().includes(u.toLowerCase()))});if(T&&g.current){const P=T;g.current.centerAt(P.x,P.y,1e3),g.current.zoom(3,1e3),d(T)}},S=()=>{p(!h)};if(a)return s.jsx(ye,{className:"p-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),s.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading network topology..."})]})});if(o)return s.jsx(ye,{className:"p-8",children:s.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:s.jsxs("p",{children:["Failed to load topology: ",o]})})});if(!n||n.nodes.length===0)return s.jsx(ye,{className:"p-8",children:s.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[s.jsx(Qn,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No topology data available for this scan."})]})});const C={nodes:n.nodes.map(T=>({...T,color:N(T),size:j(T)})),links:n.edges.map(T=>({...T,color:y(T)}))},A=h?"fixed inset-0 z-50 bg-gray-900":"relative";return s.jsx("div",{ref:w,className:A,children:s.jsxs(ye,{className:h?"h-full rounded-none":"h-[600px]",children:[s.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2",children:[s.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[s.jsx("input",{type:"text",placeholder:"Search IP or hostname...",value:u,onChange:T=>f(T.target.value),onKeyPress:T=>T.key==="Enter"&&k(),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}),s.jsx("button",{onClick:k,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:s.jsx(Nr,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[s.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom In",children:s.jsx(Kp,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom Out",children:s.jsx(Jp,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),s.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:h?"Exit Fullscreen":"Fullscreen",children:h?s.jsx($t,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):s.jsx(oh,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),s.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[s.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:"Legend"}),s.jsxs("div",{className:"space-y-2 text-xs",children:[s.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Risk Level"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low (0-25)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium (25-50)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High (50-75)"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical (75+)"})]}),s.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Connections"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-0.5 bg-blue-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gateway"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-0.5 bg-purple-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shared Service"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-0.5 bg-gray-500"}),s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Subnet"})]})]})]})]}),c&&s.jsxs("div",{className:"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[x(c.node_type),s.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.hostname||c.ip})]}),s.jsx("button",{onClick:()=>d(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:s.jsx($t,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"IP:"})," ",c.ip]}),c.os&&s.jsxs("div",{children:[s.jsx("strong",{children:"OS:"})," ",c.os]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Subnet:"})," ",c.subnet]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Open Ports:"})," ",c.open_ports_count]}),c.vuln_count>0&&s.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{children:[s.jsx("strong",{children:"Vulnerabilities:"})," ",c.vuln_count]}),c.critical_vulns>0&&s.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Critical: ",c.critical_vulns]}),c.high_vulns>0&&s.jsxs("div",{className:"text-orange-600 dark:text-orange-400",children:["High: ",c.high_vulns]}),s.jsxs("div",{children:[s.jsx("strong",{children:"Risk Score:"})," ",c.risk_score.toFixed(1)]})]}),c.is_gateway&&s.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs font-medium",children:[s.jsx(Ql,{className:"w-3 h-3 mr-1"}),"Gateway"]})})]})]}),s.jsxs("div",{className:"absolute bottom-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[s.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:["Subnets (",n.subnets.length,")"]}),s.jsx("div",{className:"space-y-1 text-xs max-h-32 overflow-y-auto",children:n.subnets.map(T=>s.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[s.jsx("span",{className:"font-mono",children:T.subnet}),s.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[T.host_count," ",T.host_count===1?"host":"hosts"]})]},T.subnet))})]}),s.jsx(Bl,{ref:g,graphData:C,nodeLabel:T=>{const P=T;return`${P.hostname||P.ip}
${P.os||""}
Risk: ${P.risk_score.toFixed(1)}`},nodeColor:T=>T.color||"#22c55e",nodeVal:T=>T.size||5,linkColor:T=>T.color||"#64748b",linkWidth:T=>(T.strength||1)*2,linkDirectionalParticles:T=>T.relationship_type==="gateway"?2:0,linkDirectionalParticleSpeed:.005,onNodeClick:v,nodeCanvasObject:(T,P,O)=>{const I=T,R=I.hostname||I.ip,D=12/O;P.font=`${D}px Sans-Serif`,P.beginPath(),P.arc(I.x||0,I.y||0,I.size||5,0,2*Math.PI,!1),P.fillStyle=I.color||"#22c55e",P.fill(),I.is_gateway&&(P.strokeStyle="#3b82f6",P.lineWidth=2/O,P.stroke()),O>1.5&&(P.textAlign="center",P.textBaseline="middle",P.fillStyle="rgba(255, 255, 255, 0.9)",P.fillText(R,I.x||0,(I.y||0)+(I.size||5)+D+2))},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTicks:100,onEngineStop:()=>{var T;return(T=g.current)==null?void 0:T.zoomToFit(400)}})]})})},h5=({scanId:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(null),[o,l]=E.useState(!0),[c,d]=E.useState(""),[u,f]=E.useState(""),[h,p]=E.useState(""),[g,w]=E.useState(new Set),[N,j]=E.useState(null),[x,y]=E.useState(!1),v=E.useCallback(async()=>{try{l(!0);let z=(await Fr.getByScan(e)).data;c&&(z=z.filter(F=>F.status===c)),u&&(z=z.filter(F=>F.severity===u)),h&&(z=z.filter(F=>F.secret_type===h)),r(z)}catch(D){console.error("Failed to load secret findings:",D),J.error("Failed to load secret findings")}finally{l(!1)}},[e,c,u,h]),b=E.useCallback(async()=>{try{const D=await Fr.getStats(e);i(D.data)}catch(D){console.error("Failed to load secret finding stats:",D)}},[e]);E.useEffect(()=>{v(),b()},[v,b]);const _=(D,z)=>{const F=new Set(g);z?F.add(D):F.delete(D),w(F)},k=async(D,z)=>{try{y(!0),await Fr.update(D,{status:z}),J.success(`Status updated to ${z}`),v(),b()}catch(F){console.error("Failed to update status:",F),J.error("Failed to update status")}finally{y(!1)}},S=async D=>{if(g.size!==0)try{y(!0);const z=await Fr.bulkUpdateStatus(Array.from(g),D);J.success(z.data.message),w(new Set),v(),b()}catch(z){console.error("Failed to bulk update status:",z),J.error("Failed to update findings")}finally{y(!1)}},C=async(D,z)=>{try{y(!0),await Fr.update(D,{false_positive:z,status:z?"false_positive":"open"}),J.success(z?"Marked as false positive":"Unmarked false positive"),v(),b()}catch(F){console.error("Failed to update false positive status:",F),J.error("Failed to update")}finally{y(!1)}},A=D=>{const z="px-2 py-1 text-xs font-semibold rounded-full";switch(D.toLowerCase()){case"critical":return`${z} bg-red-500/20 text-red-400`;case"high":return`${z} bg-orange-500/20 text-orange-400`;case"medium":return`${z} bg-yellow-500/20 text-yellow-400`;case"low":return`${z} bg-blue-500/20 text-blue-400`;default:return`${z} bg-gray-500/20 text-gray-400`}},T=D=>{const z="px-2 py-1 text-xs font-semibold rounded-full";switch(D){case"open":return`${z} bg-red-500/20 text-red-400`;case"investigating":return`${z} bg-yellow-500/20 text-yellow-400`;case"resolved":return`${z} bg-green-500/20 text-green-400`;case"false_positive":return`${z} bg-gray-500/20 text-gray-400`;default:return`${z} bg-gray-500/20 text-gray-400`}},P=D=>{const z=D.toLowerCase();return z.includes("key")||z.includes("api")?s.jsx(kn,{className:"h-4 w-4"}):z.includes("password")||z.includes("secret")?s.jsx(on,{className:"h-4 w-4"}):z.includes("token")?s.jsx(Ce,{className:"h-4 w-4"}):s.jsx(st,{className:"h-4 w-4"})},O=D=>D.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase()),I=D=>{const z=Math.round(D*100);return z>=90?s.jsxs("span",{className:"text-xs text-green-400 bg-green-500/10 px-2 py-0.5 rounded",children:[z,"% confident"]}):z>=70?s.jsxs("span",{className:"text-xs text-yellow-400 bg-yellow-500/10 px-2 py-0.5 rounded",children:[z,"% confident"]}):s.jsxs("span",{className:"text-xs text-gray-400 bg-gray-500/10 px-2 py-0.5 rounded",children:[z,"% confident"]})},R=[...new Set(n.map(D=>D.secret_type))];return o?s.jsx("div",{className:"flex justify-center items-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):n.length===0&&!(a!=null&&a.total_findings)?s.jsxs("div",{className:"text-center py-12 text-gray-400",children:[s.jsx(Ce,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No exposed secrets detected in this scan."})]}):s.jsxs("div",{className:"space-y-4",children:[a&&a.total_findings>0&&s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Total Secrets"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:a.total_findings})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Critical"}),s.jsx("div",{className:"text-2xl font-bold text-red-500",children:a.critical_count})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"High"}),s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:a.high_count})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Open"}),s.jsx("div",{className:"text-2xl font-bold text-red-400",children:a.open_count})]}),s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Resolved"}),s.jsx("div",{className:"text-2xl font-bold text-green-400",children:a.resolved_count})]})]}),a&&a.by_type.length>0&&s.jsxs("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-3",children:"Secrets by Type"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.by_type.map(D=>s.jsxs("div",{className:"flex items-center gap-2 bg-gray-700/50 px-3 py-1.5 rounded-full text-sm",children:[P(D.secret_type),s.jsx("span",{className:"text-gray-300",children:O(D.secret_type)}),s.jsx("span",{className:"bg-gray-600 px-2 py-0.5 rounded-full text-xs text-white",children:D.count})]},D.secret_type))})]}),s.jsx("div",{className:"bg-gray-800 p-4 rounded-lg border border-gray-700",children:s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),s.jsxs("select",{value:c,onChange:D=>d(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"open",children:"Open"}),s.jsx("option",{value:"investigating",children:"Investigating"}),s.jsx("option",{value:"resolved",children:"Resolved"}),s.jsx("option",{value:"false_positive",children:"False Positive"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Severity"}),s.jsxs("select",{value:u,onChange:D=>f(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[s.jsx("option",{value:"",children:"All"}),s.jsx("option",{value:"critical",children:"Critical"}),s.jsx("option",{value:"high",children:"High"}),s.jsx("option",{value:"medium",children:"Medium"}),s.jsx("option",{value:"low",children:"Low"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Type"}),s.jsxs("select",{value:h,onChange:D=>p(D.target.value),className:"block w-full rounded-md border-gray-600 bg-gray-700 text-white shadow-sm focus:border-cyan-500 focus:ring-cyan-500",children:[s.jsx("option",{value:"",children:"All Types"}),R.map(D=>s.jsx("option",{value:D,children:O(D)},D))]})]}),g.size>0&&s.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-400",children:[g.size," selected"]}),s.jsx("button",{onClick:()=>S("resolved"),disabled:x,className:"px-3 py-1.5 text-sm bg-green-600 hover:bg-green-500 text-white rounded-md disabled:opacity-50",children:"Mark Resolved"}),s.jsx("button",{onClick:()=>S("false_positive"),disabled:x,className:"px-3 py-1.5 text-sm bg-gray-600 hover:bg-gray-500 text-white rounded-md disabled:opacity-50",children:"False Positive"})]})]})}),s.jsx("div",{className:"space-y-2",children:n.map(D=>s.jsxs("div",{className:`bg-gray-800 border rounded-lg overflow-hidden transition-all ${D.false_positive?"border-gray-600 opacity-60":D.status==="resolved"?"border-green-700":"border-gray-700"}`,children:[s.jsxs("div",{className:"p-4 flex items-center gap-4",children:[s.jsx("input",{type:"checkbox",checked:g.has(D.id),onChange:z=>_(D.id,z.target.checked),className:"rounded border-gray-600 bg-gray-700 text-cyan-500 focus:ring-cyan-500"}),s.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:P(D.secret_type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:"font-medium text-white",children:O(D.secret_type)}),s.jsx("span",{className:A(D.severity),children:D.severity.toUpperCase()}),s.jsx("span",{className:T(D.status),children:D.status.replace("_"," ").toUpperCase()}),I(D.confidence)]}),s.jsxs("div",{className:"text-sm text-gray-400",children:[s.jsx("span",{className:"font-mono",children:D.host_ip}),D.port&&s.jsxs("span",{children:[":",D.port]}),s.jsx("span",{className:"mx-2",children:"|"}),s.jsxs("span",{children:[D.source_type,": ",D.source_location]}),D.line_number&&s.jsxs("span",{className:"text-gray-500",children:[" (line ",D.line_number,")"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[!D.false_positive&&D.status!=="resolved"&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>k(D.id,"resolved"),disabled:x,className:"p-1.5 text-green-400 hover:bg-green-500/20 rounded transition-colors",title:"Mark Resolved",children:s.jsx(mt,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>C(D.id,!0),disabled:x,className:"p-1.5 text-gray-400 hover:bg-gray-500/20 rounded transition-colors",title:"Mark False Positive",children:s.jsx($t,{className:"h-4 w-4"})})]}),D.false_positive&&s.jsx("button",{onClick:()=>C(D.id,!1),disabled:x,className:"p-1.5 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Unmark False Positive",children:s.jsx(Kd,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>j(N===D.id?null:D.id),className:"p-1.5 text-gray-400 hover:bg-gray-500/20 rounded transition-colors",children:N===D.id?s.jsx(Hn,{className:"h-4 w-4"}):s.jsx(St,{className:"h-4 w-4"})})]})]}),N===D.id&&s.jsxs("div",{className:"border-t border-gray-700 p-4 bg-gray-850",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Redacted Value"}),s.jsx("div",{className:"bg-gray-900 p-3 rounded font-mono text-sm text-cyan-400 break-all",children:D.redacted_value})]}),D.context&&s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-400 mb-2",children:"Context"}),s.jsx("div",{className:"bg-gray-900 p-3 rounded font-mono text-sm text-gray-300 whitespace-pre-wrap break-all max-h-32 overflow-y-auto",children:D.context})]})]}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Source Type:"}),s.jsx("span",{className:"ml-2 text-gray-300",children:D.source_type})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Location:"}),s.jsx("span",{className:"ml-2 text-gray-300 font-mono",children:D.source_location})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Detected:"}),s.jsx("span",{className:"ml-2 text-gray-300",children:new Date(D.created_at).toLocaleString()})]}),D.resolved_at&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Resolved:"}),s.jsx("span",{className:"ml-2 text-gray-300",children:new Date(D.resolved_at).toLocaleString()})]})]}),D.notes&&s.jsxs("div",{className:"mt-4",children:[s.jsxs("h4",{className:"text-sm font-medium text-gray-400 mb-2 flex items-center gap-2",children:[s.jsx(lh,{className:"h-4 w-4"}),"Notes"]}),s.jsx("div",{className:"bg-gray-900 p-3 rounded text-sm text-gray-300",children:D.notes})]}),s.jsxs("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded",children:[s.jsxs("h4",{className:"text-sm font-medium text-yellow-400 mb-2 flex items-center gap-2",children:[s.jsx(De,{className:"h-4 w-4"}),"Remediation Guidance"]}),s.jsxs("ul",{className:"text-sm text-gray-300 space-y-1 list-disc list-inside",children:[s.jsx("li",{children:"Immediately rotate or revoke the exposed credential"}),s.jsx("li",{children:"Check audit logs for any unauthorized access using this credential"}),s.jsx("li",{children:"Review how the secret was exposed and fix the root cause"}),s.jsx("li",{children:"Implement secrets management best practices (e.g., HashiCorp Vault, AWS Secrets Manager)"}),s.jsx("li",{children:"Add pre-commit hooks to prevent secrets from being committed"})]})]})]})]},D.id))}),n.length===0&&s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No findings match your current filters."})]})},f5=({score:e,category:n,confidence:r,priority:a,estimatedHours:i,compact:o=!1})=>{const l=u=>{switch(u.toLowerCase()){case"critical":return"text-red-400 bg-red-500/20 border-red-500/50";case"high":return"text-orange-400 bg-orange-500/20 border-orange-500/50";case"medium":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/50";case"low":return"text-green-400 bg-green-500/20 border-green-500/50";default:return"text-gray-400 bg-gray-500/20 border-gray-500/50"}},c=u=>u>=80?"text-red-400":u>=60?"text-orange-400":u>=40?"text-yellow-400":"text-green-400",d=u=>u/100*180-90;return o?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`text-2xl font-bold ${c(e)}`,children:e.toFixed(0)}),s.jsx("div",{className:`px-2 py-1 rounded-md text-xs font-medium border ${l(n)}`,children:n.toUpperCase()}),s.jsxs("div",{className:"text-gray-500 text-sm",children:["#",a]})]}):s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsx("div",{className:"flex items-center justify-center mb-4",children:s.jsxs("div",{className:"relative w-32 h-16 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 flex items-end justify-center",children:s.jsx("div",{className:"w-32 h-16 border-t-8 border-l-8 border-r-8 border-gray-700 rounded-t-full"})}),s.jsx("div",{className:"absolute inset-0 flex items-end justify-center origin-bottom",style:{transform:`rotate(${d(e)}deg)`},children:s.jsx("div",{className:`w-1 h-14 ${c(e)} bg-current rounded-t-full`})}),s.jsx("div",{className:"absolute inset-x-0 bottom-0 text-center",children:s.jsx("span",{className:`text-2xl font-bold ${c(e)}`,children:e.toFixed(0)})})]})}),s.jsx("div",{className:"flex justify-center mb-4",children:s.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium border ${l(n)}`,children:[n.toUpperCase()," RISK"]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[s.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[s.jsx(rr,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Priority"}),s.jsxs("div",{className:"text-sm font-medium text-white",children:["#",a]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[s.jsx(Ce,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Confidence"}),s.jsxs("div",{className:"text-sm font-medium text-white",children:[r.toFixed(0),"%"]})]}),i!==void 0&&s.jsxs("div",{className:"bg-gray-900/50 rounded p-2",children:[s.jsx(qt,{className:"w-4 h-4 mx-auto mb-1 text-cyan-400"}),s.jsx("div",{className:"text-xs text-gray-400",children:"Effort"}),s.jsxs("div",{className:"text-sm font-medium text-white",children:[i,"h"]})]})]})]})},m5=({scores:e,onSelectVulnerability:n,selectedId:r})=>{const[a,i]=E.useState(null),[o,l]=E.useState("all"),c=p=>{switch(p.toLowerCase()){case"critical":return"border-red-500 bg-red-500/10";case"high":return"border-orange-500 bg-orange-500/10";case"medium":return"border-yellow-500 bg-yellow-500/10";case"low":return"border-green-500 bg-green-500/10";default:return"border-gray-500 bg-gray-500/10"}},d=p=>{switch(p.toLowerCase()){case"critical":return"bg-red-500/20 text-red-400 border-red-500/50";case"high":return"bg-orange-500/20 text-orange-400 border-orange-500/50";case"medium":return"bg-yellow-500/20 text-yellow-400 border-yellow-500/50";case"low":return"bg-green-500/20 text-green-400 border-green-500/50";default:return"bg-gray-500/20 text-gray-400 border-gray-500/50"}},u=o==="all"?e:e.filter(p=>p.risk_category.toLowerCase()===o),f=["all","critical","high","medium","low"],h={all:e.length,critical:e.filter(p=>p.risk_category.toLowerCase()==="critical").length,high:e.filter(p=>p.risk_category.toLowerCase()==="high").length,medium:e.filter(p=>p.risk_category.toLowerCase()==="medium").length,low:e.filter(p=>p.risk_category.toLowerCase()==="low").length};return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:f.map(p=>s.jsxs("button",{onClick:()=>l(p),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${o===p?p==="all"?"bg-cyan-500/20 text-cyan-400 border border-cyan-500/50":d(p):"bg-gray-800 text-gray-400 border border-gray-700 hover:border-gray-600"}`,children:[p.charAt(0).toUpperCase()+p.slice(1),s.jsxs("span",{className:"ml-1.5 text-xs opacity-75",children:["(",h[p],")"]})]},p))}),s.jsx("div",{className:"space-y-2",children:u.length===0?s.jsx("div",{className:"text-center py-8 text-gray-400",children:"No vulnerabilities in this category"}):u.map(p=>s.jsxs("div",{className:`border-l-4 rounded-lg transition-all ${c(p.risk_category)} ${r===p.vulnerability_id?"ring-2 ring-cyan-500":""}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-3 cursor-pointer hover:bg-gray-800/50",onClick:()=>{n&&n(p.vulnerability_id),i(a===p.vulnerability_id?null:p.vulnerability_id)},children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-800 text-white font-bold text-sm",children:["#",p.remediation_priority]}),s.jsx(f5,{score:p.effective_risk_score,category:p.risk_category,confidence:p.confidence,priority:p.remediation_priority,compact:!0})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(qt,{className:"w-4 h-4 mr-1"}),p.estimated_effort.estimated_hours,"h"]}),s.jsxs("div",{className:"flex items-center text-gray-400 text-sm",children:[s.jsx(Mn,{className:"w-4 h-4 mr-1"}),p.confidence.toFixed(0),"%"]}),a===p.vulnerability_id?s.jsx(Hn,{className:"w-5 h-5 text-gray-400"}):s.jsx(St,{className:"w-5 h-5 text-gray-400"})]})]}),a===p.vulnerability_id&&s.jsx("div",{className:"px-4 pb-4 border-t border-gray-700/50",children:s.jsxs("div",{className:"pt-3 space-y-3",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Contributing Factors"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:p.factor_scores.slice(0,4).map((g,w)=>s.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 rounded p-2",children:[s.jsx("span",{className:"text-xs text-gray-400",children:g.factor_name}),s.jsx("span",{className:"text-xs font-medium text-white",children:g.normalized_value.toFixed(0)})]},w))})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[s.jsxs("span",{className:`px-2 py-1 rounded text-xs ${p.estimated_effort.effort_level==="low"?"bg-green-500/20 text-green-400":p.estimated_effort.effort_level==="medium"?"bg-yellow-500/20 text-yellow-400":p.estimated_effort.effort_level==="high"?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[p.estimated_effort.effort_level.replace("_"," ").toUpperCase()," EFFORT"]}),s.jsxs("span",{className:`px-2 py-1 rounded text-xs ${p.estimated_effort.impact_level==="low"?"bg-green-500/20 text-green-400":p.estimated_effort.impact_level==="medium"?"bg-yellow-500/20 text-yellow-400":p.estimated_effort.impact_level==="high"?"bg-orange-500/20 text-orange-400":"bg-red-500/20 text-red-400"}`,children:[p.estimated_effort.impact_level.toUpperCase()," IMPACT"]}),p.estimated_effort.requires_downtime&&s.jsx("span",{className:"px-2 py-1 rounded text-xs bg-red-500/20 text-red-400",children:"DOWNTIME REQUIRED"})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Calculated: ",new Date(p.calculated_at).toLocaleString()]})]})})]},p.vulnerability_id))})]})},p5=({score:e})=>{const n=e.factor_scores.map(i=>({name:i.factor_name.replace(" ",`
`),value:i.normalized_value,contribution:i.contribution,weight:i.weight})),r=i=>i>=80?"#ef4444":i>=60?"#f97316":i>=40?"#eab308":"#22c55e",a=({active:i,payload:o})=>{if(i&&o&&o.length){const l=o[0].payload;return s.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-3 shadow-lg",children:[s.jsx("p",{className:"font-medium text-white",children:l.name.replace(`
`," ")}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Score: ",s.jsx("span",{className:"text-white",children:l.value.toFixed(1)})]}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Weight: ",s.jsxs("span",{className:"text-white",children:[(l.weight*100).toFixed(0),"%"]})]}),s.jsxs("p",{className:"text-sm text-gray-400",children:["Contribution: ",s.jsx("span",{className:"text-cyan-400",children:l.contribution.toFixed(1)})]})]})}return null};return s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"Score Breakdown"}),s.jsx("div",{className:"h-64 mb-4",children:s.jsx(lt,{width:"100%",height:"100%",children:s.jsxs(ui,{data:n,layout:"vertical",margin:{top:5,right:20,left:100,bottom:5},children:[s.jsx(Ft,{type:"number",domain:[0,100],tick:{fill:"#9ca3af",fontSize:12},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),s.jsx(Rt,{type:"category",dataKey:"name",tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:95}),s.jsx(ct,{content:s.jsx(a,{})}),s.jsx(di,{dataKey:"value",radius:[0,4,4,0],children:n.map((i,o)=>s.jsx(Vs,{fill:r(i.value)},`cell-${o}`))})]})})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-700",children:[s.jsx("th",{className:"text-left py-2 text-gray-400 font-medium",children:"Factor"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Score"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Weight"}),s.jsx("th",{className:"text-right py-2 text-gray-400 font-medium",children:"Contribution"})]})}),s.jsxs("tbody",{children:[e.factor_scores.map((i,o)=>s.jsxs("tr",{className:"border-b border-gray-700/50",children:[s.jsx("td",{className:"py-2 text-white",children:i.factor_name}),s.jsx("td",{className:"py-2 text-right text-gray-300",children:i.normalized_value.toFixed(1)}),s.jsxs("td",{className:"py-2 text-right text-gray-400",children:[(i.weight*100).toFixed(0),"%"]}),s.jsx("td",{className:"py-2 text-right text-cyan-400 font-medium",children:i.contribution.toFixed(1)})]},o)),s.jsxs("tr",{className:"font-medium",children:[s.jsx("td",{className:"py-2 text-white",children:"Total"}),s.jsx("td",{className:"py-2 text-right text-white",children:e.effective_risk_score.toFixed(1)}),s.jsx("td",{className:"py-2 text-right text-gray-400",children:"100%"}),s.jsx("td",{className:"py-2 text-right text-cyan-400",children:e.factor_scores.reduce((i,o)=>i+o.contribution,0).toFixed(1)})]})]})]})}),s.jsxs("div",{className:"mt-4 p-3 bg-gray-900/50 rounded-lg",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Remediation Effort"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Estimated Hours:"}),s.jsxs("span",{className:"ml-2 text-white font-medium",children:[e.estimated_effort.estimated_hours,"h"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Effort Level:"}),s.jsx("span",{className:"ml-2 text-white font-medium capitalize",children:e.estimated_effort.effort_level.replace("_"," ")})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Impact Level:"}),s.jsx("span",{className:"ml-2 text-white font-medium capitalize",children:e.estimated_effort.impact_level})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[e.estimated_effort.requires_downtime&&s.jsx("span",{className:"text-red-400 text-xs",children:"Requires Downtime"}),e.estimated_effort.requires_testing&&s.jsx("span",{className:"text-yellow-400 text-xs",children:"Requires Testing"})]})]})]})]})},g5=({onConfigUpdate:e})=>{const[n,r]=E.useState(null),[a,i]=E.useState(!0),[o,l]=E.useState(!1),[c,d]=E.useState({cvss_weight:.25,exploit_weight:.2,asset_criticality_weight:.15,network_exposure_weight:.15,attack_path_weight:.1,compliance_weight:.08,business_context_weight:.07}),u={cvss_weight:.25,exploit_weight:.2,asset_criticality_weight:.15,network_exposure_weight:.15,attack_path_weight:.1,compliance_weight:.08,business_context_weight:.07};E.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);const x=await Ba.getConfig();r(x.data),d(x.data.weights)}catch(x){console.error("Failed to load AI config:",x),J.error("Failed to load AI configuration")}finally{i(!1)}},h=(x,y)=>{d(v=>({...v,[x]:y}))},p=async()=>{try{l(!0),await Ba.updateConfig({weights:c}),J.success("AI configuration updated"),e&&e()}catch(x){console.error("Failed to save AI config:",x),J.error("Failed to save configuration")}finally{l(!1)}},g=()=>{d(u),J.info("Weights reset to defaults")},w=()=>Object.values(c).reduce((x,y)=>x+y,0),N={cvss_weight:"CVSS Score",exploit_weight:"Exploit Availability",asset_criticality_weight:"Asset Criticality",network_exposure_weight:"Network Exposure",attack_path_weight:"Attack Path Risk",compliance_weight:"Compliance Impact",business_context_weight:"Business Context"},j={cvss_weight:"Base vulnerability severity from CVE database",exploit_weight:"Whether exploits exist in the wild",asset_criticality_weight:"Importance of the affected asset",network_exposure_weight:"Internet-facing vs internal exposure",attack_path_weight:"Position in potential attack chains",compliance_weight:"Impact on regulatory compliance",business_context_weight:"Overall business risk context"};return a?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Qp,{className:"w-5 h-5 text-cyan-400"}),s.jsx("h3",{className:"text-lg font-medium text-white",children:"AI Scoring Configuration"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(He,{variant:"secondary",size:"sm",onClick:g,children:[s.jsx(nh,{className:"w-4 h-4 mr-1"}),"Reset"]}),s.jsxs(He,{variant:"primary",size:"sm",onClick:p,loading:o,children:[s.jsx(nl,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),s.jsxs("div",{className:"mb-6 p-3 bg-gray-900/50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Total Weight"}),s.jsxs("span",{className:`text-lg font-bold ${Math.abs(w()-1)<.01?"text-green-400":"text-yellow-400"}`,children:[(w()*100).toFixed(0),"%"]})]}),Math.abs(w()-1)>=.01&&s.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"Weights should sum to 100% for optimal scoring"})]}),s.jsx("div",{className:"space-y-4",children:Object.keys(c).map(x=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-white",children:N[x]}),s.jsx("p",{className:"text-xs text-gray-400",children:j[x]})]}),s.jsxs("span",{className:"text-sm font-mono text-cyan-400",children:[(c[x]*100).toFixed(0),"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"50",step:"1",value:c[x]*100,onChange:y=>h(x,parseInt(y.target.value)/100),className:`w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer
                         [&::-webkit-slider-thumb]:appearance-none
                         [&::-webkit-slider-thumb]:w-4
                         [&::-webkit-slider-thumb]:h-4
                         [&::-webkit-slider-thumb]:rounded-full
                         [&::-webkit-slider-thumb]:bg-cyan-500
                         [&::-webkit-slider-thumb]:cursor-pointer
                         [&::-webkit-slider-thumb]:transition-transform
                         [&::-webkit-slider-thumb]:hover:scale-110`})]},x))}),n&&s.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Configuration Name:"}),s.jsx("span",{className:"ml-2 text-white",children:n.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Last Updated:"}),s.jsx("span",{className:"ml-2 text-white",children:new Date(n.updated_at).toLocaleString()})]})]})})]})},x5=({scanId:e,onSelectVulnerability:n})=>{const[r,a]=E.useState(null),[i,o]=E.useState(!1),[l,c]=E.useState(!1),[d,u]=E.useState(null),[f,h]=E.useState(!1),[p,g]=E.useState("list"),w=E.useCallback(async()=>{var v;try{o(!0);const b=await Ba.getScores(e);a(b.data)}catch(b){((v=b.response)==null?void 0:v.status)!==404&&console.error("Failed to load AI scores:",b)}finally{o(!1)}},[e]);E.useEffect(()=>{w()},[w]);const N=async(v=!1)=>{try{c(!0);const b=await Ba.prioritize(e,{force_recalculate:v});a(b.data),J.success("AI prioritization calculated successfully")}catch(b){console.error("Failed to calculate prioritization:",b),J.error("Failed to calculate AI prioritization")}finally{c(!1)}},j=v=>{const b=r==null?void 0:r.scores.find(_=>_.vulnerability_id===v);u(b||null),n&&n(v)},x=v=>[{name:"Critical",value:v.critical_count,color:"#ef4444"},{name:"High",value:v.high_count,color:"#f97316"},{name:"Medium",value:v.medium_count,color:"#eab308"},{name:"Low",value:v.low_count,color:"#22c55e"}].filter(b=>b.value>0),y=v=>{var _;return v.length===0?[]:(((_=v[0])==null?void 0:_.factor_scores.map(k=>k.factor_name))||[]).map(k=>{const S=v.reduce((C,A)=>{const T=A.factor_scores.find(P=>P.factor_name===k);return C+((T==null?void 0:T.normalized_value)||0)},0)/v.length;return{factor:k.replace(" ",`
`),value:S,fullMark:100}})};return i?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-cyan-500"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(ys,{className:"w-6 h-6 text-cyan-400"}),s.jsx("h2",{className:"text-xl font-semibold text-white",children:"AI Vulnerability Prioritization"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&s.jsxs(He,{variant:"secondary",size:"sm",onClick:()=>N(!0),loading:l,children:[s.jsx(bs,{className:"w-4 h-4 mr-1"}),"Recalculate"]}),s.jsxs(He,{variant:f?"primary":"secondary",size:"sm",onClick:()=>h(!f),children:[s.jsx(_r,{className:"w-4 h-4 mr-1"}),"Configure"]})]})]}),f&&s.jsx(g5,{onConfigUpdate:()=>N(!0)}),!r&&!i&&s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-8 text-center",children:[s.jsx(ys,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No AI Prioritization Data"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"Calculate AI-based risk scores to prioritize vulnerabilities for remediation."}),s.jsxs(He,{variant:"primary",onClick:()=>N(!1),loading:l,children:[s.jsx(ys,{className:"w-4 h-4 mr-2"}),"Calculate AI Prioritization"]})]}),r&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(De,{className:"w-5 h-5 text-red-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Critical"})]}),s.jsx("div",{className:"text-2xl font-bold text-red-400",children:r.summary.critical_count})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(rr,{className:"w-5 h-5 text-cyan-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Avg Risk Score"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.summary.average_risk_score.toFixed(1)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Mn,{className:"w-5 h-5 text-orange-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Highest Score"})]}),s.jsx("div",{className:"text-2xl font-bold text-orange-400",children:r.summary.highest_risk_score.toFixed(1)})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(er,{className:"w-5 h-5 text-green-400"}),s.jsx("span",{className:"text-sm text-gray-400",children:"Total Analyzed"})]}),s.jsx("div",{className:"text-2xl font-bold text-white",children:r.summary.total_vulnerabilities})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Risk Distribution"}),s.jsx("div",{className:"h-48",children:s.jsx(lt,{width:"100%",height:"100%",children:s.jsxs(sl,{children:[s.jsx(al,{data:x(r.summary),cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:x(r.summary).map((v,b)=>s.jsx(Vs,{fill:v.color},`cell-${b}`))}),s.jsx(ct,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},itemStyle:{color:"#fff"}})]})})}),s.jsx("div",{className:"flex justify-center space-x-4 mt-2",children:x(r.summary).map(v=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:v.color}}),s.jsxs("span",{className:"text-xs text-gray-400",children:[v.name," (",v.value,")"]})]},v.name))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Average Factor Scores"}),s.jsx("div",{className:"h-48",children:s.jsx(lt,{width:"100%",height:"100%",children:s.jsxs(gg,{data:y(r.scores),children:[s.jsx(xg,{stroke:"#374151"}),s.jsx(yg,{dataKey:"factor",tick:{fill:"#9ca3af",fontSize:10}}),s.jsx(bg,{angle:30,domain:[0,100],tick:{fill:"#9ca3af",fontSize:10}}),s.jsx(vg,{name:"Score",dataKey:"value",stroke:"#06b6d4",fill:"#06b6d4",fillOpacity:.3}),s.jsx(ct,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"8px"},itemStyle:{color:"#fff"}})]})})})]})]}),s.jsxs("div",{className:"flex space-x-2 border-b border-gray-700",children:[s.jsx("button",{onClick:()=>g("list"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${p==="list"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white"}`,children:"Prioritized List"}),s.jsx("button",{onClick:()=>g("matrix"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${p==="matrix"?"border-cyan-500 text-cyan-400":"border-transparent text-gray-400 hover:text-white"}`,children:"Impact vs Likelihood"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[p==="list"&&s.jsx(m5,{scores:r.scores,onSelectVulnerability:j,selectedId:d==null?void 0:d.vulnerability_id}),p==="matrix"&&s.jsx(y5,{scores:r.scores})]}),s.jsx("div",{className:"lg:col-span-1",children:d?s.jsx(p5,{score:d}):s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-6 text-center",children:[s.jsx(qs,{className:"w-8 h-8 text-gray-600 mx-auto mb-2"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Select a vulnerability to view detailed score breakdown"})]})})]}),s.jsxs("div",{className:"text-xs text-gray-500 text-right",children:["Last calculated: ",new Date(r.calculated_at).toLocaleString()]})]})]})},y5=({scores:e})=>{const n=a=>{const i=a.factor_scores.find(d=>d.factor_name==="CVSS Score"),o=a.factor_scores.find(d=>d.factor_name==="Exploit Availability"),l=(i==null?void 0:i.normalized_value)||50,c=(o==null?void 0:o.normalized_value)||50;return{impact:l,likelihood:c}},r=a=>{switch(a.toLowerCase()){case"critical":return"#ef4444";case"high":return"#f97316";case"medium":return"#eab308";case"low":return"#22c55e";default:return"#6b7280"}};return s.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-300 mb-4",children:"Impact vs Likelihood Matrix"}),s.jsxs("div",{className:"relative w-full h-80 border border-gray-700 rounded-lg bg-gray-900/50",children:[s.jsx("div",{className:"absolute inset-0 grid grid-cols-5 grid-rows-5",children:Array.from({length:25}).map((a,i)=>{const o=Math.floor(i/5),l=i%5;let c="bg-gray-800/20";const d=(l+(4-o))/8;return d>.7?c="bg-red-500/10":d>.5?c="bg-orange-500/10":d>.3?c="bg-yellow-500/10":c="bg-green-500/10",s.jsx("div",{className:`border-r border-b border-gray-700/50 ${c}`},i)})}),s.jsx("div",{className:"absolute -bottom-6 inset-x-0 text-center text-xs text-gray-400",children:"Likelihood (Exploit Availability) "}),s.jsx("div",{className:"absolute -left-6 inset-y-0 flex items-center text-xs text-gray-400",style:{writingMode:"vertical-rl",transform:"rotate(180deg)"},children:"Impact (CVSS Score) "}),e.map(a=>{const{impact:i,likelihood:o}=n(a),l=o/100*100,c=i/100*100;return s.jsx("div",{className:"absolute w-3 h-3 rounded-full transform -translate-x-1/2 translate-y-1/2 cursor-pointer hover:scale-150 transition-transform",style:{left:`${l}%`,bottom:`${c}%`,backgroundColor:r(a.risk_category)},title:`Priority #${a.remediation_priority} - Score: ${a.effective_risk_score.toFixed(1)}`},a.vulnerability_id)})]}),s.jsx("div",{className:"flex justify-center space-x-4 mt-6",children:["critical","high","medium","low"].map(a=>s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:r(a)}}),s.jsx("span",{className:"text-xs text-gray-400 capitalize",children:a})]},a))})]})},b5=()=>{const{activeScan:e,results:n}=Ut(),[r,a]=E.useState(!1),[i,o]=E.useState(null),[l,c]=E.useState(""),[d,u]=E.useState("risk"),[f,h]=E.useState("all"),[p,g]=E.useState(!1),[w,N]=E.useState(!1),[j,x]=E.useState(!1),[y,v]=E.useState(0),[b,_]=E.useState("results"),[k,S]=E.useState(!1),[C,A]=E.useState([]),[T,P]=E.useState([]),[O,I]=E.useState(!1),[R,D]=E.useState(!1),z=e?n.get(e.id)||[]:[];E.useEffect(()=>{e&&e.status==="completed"&&z.length===0&&M(),e&&(F(),G())},[e]);const F=async()=>{if(e)try{const W=await Ht.getTagsForScan(e.id);A(W.data)}catch(W){console.error("Failed to load scan tags:",W)}},G=async()=>{try{const W=await Ht.getAll();P(W.data)}catch(W){console.error("Failed to load all tags:",W)}},q=async W=>{if(e)try{const ie=await Ht.addTagsToScan(e.id,{tag_ids:[W]});A(ie.data),I(!1),J.success("Tag added")}catch{J.error("Failed to add tag")}},$=async W=>{if(e)try{await Ht.removeTagFromScan(e.id,W),A(C.filter(ie=>ie.id!==W)),J.success("Tag removed")}catch{J.error("Failed to remove tag")}},ee=async()=>{if(e){D(!0);try{const W=await sn.duplicate(e.id);J.success(`Scan duplicated as "${W.data.name}"`),Ut.getState().setActiveScan(W.data)}catch{J.error("Failed to duplicate scan")}finally{D(!1)}}},Q=T.filter(W=>!C.some(ie=>ie.id===W.id)),M=async()=>{if(e){a(!0);try{const W=await sn.getResults(e.id);Ut.getState().setResults(e.id,W.data)}catch{J.error("Failed to load scan results")}finally{a(!1)}}},de=async()=>{var W,ie,ue;if(e){S(!0);try{const le=await h0.exportScan(e.id);le.data.success?J.success(`Exported ${le.data.events_count} events to ${le.data.exported_to} SIEM integration(s)`):J.warning("Export completed with issues. Check SIEM settings."),le.data.errors&&le.data.errors.length>0&&le.data.errors.forEach(Se=>{J.error(`SIEM export error: ${Se}`)})}catch(le){const Se=le;((W=Se.response)==null?void 0:W.status)===404?J.error("No SIEM integrations configured. Go to Settings > SIEM Integration to set up."):J.error(((ue=(ie=Se.response)==null?void 0:ie.data)==null?void 0:ue.error)||"Failed to export to SIEM")}finally{S(!1)}}},we=E.useMemo(()=>{let W=[...z];switch(l&&(W=W.filter(ie=>{var ue;return ie.target.ip.includes(l)||((ue=ie.target.hostname)==null?void 0:ue.toLowerCase().includes(l.toLowerCase()))})),f){case"with-vulns":W=W.filter(ie=>ie.vulnerabilities.length>0);break;case"critical":W=W.filter(ie=>ie.vulnerabilities.some(ue=>ue.severity==="Critical"));break;case"high":W=W.filter(ie=>ie.vulnerabilities.some(ue=>ue.severity==="Critical"||ue.severity==="High"));break}return W.sort((ie,ue)=>{switch(d){case"risk":return Zi(ue)-Zi(ie);case"vulns":return ue.vulnerabilities.length-ie.vulnerabilities.length;case"ports":return ue.ports.filter(le=>le.state==="Open").length-ie.ports.filter(le=>le.state==="Open").length;case"ip":default:return ie.target.ip.localeCompare(ue.target.ip)}}),W},[z,l,d,f]);if(!e)return s.jsx(ye,{children:s.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a scan from the list to view results"})});if(r)return s.jsx(ye,{children:s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(an,{})})});if(z.length===0)return s.jsx(ye,{children:s.jsx("div",{className:"text-center py-12 text-slate-500",children:e.status==="running"?"Scan in progress... Results will appear here as hosts are discovered":e.status==="pending"?"Scan is pending...":e.status==="failed"?`Scan failed: ${e.error_message||"Unknown error"}`:"No results available"})});const he=z.filter(W=>W.is_alive).length,Ne=z.reduce((W,ie)=>W+ie.ports.filter(ue=>ue.state==="Open").length,0),te=z.reduce((W,ie)=>W+ie.vulnerabilities.length,0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs(ye,{children:[s.jsxs("div",{className:"flex justify-between items-start mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:e==null?void 0:e.name}),s.jsxs("button",{onClick:ee,disabled:R,className:"flex items-center gap-1 px-3 py-1.5 text-sm border border-dark-border rounded hover:border-primary hover:text-primary transition-colors disabled:opacity-50",title:"Duplicate this scan",children:[R?s.jsx(an,{className:"h-4 w-4"}):s.jsx(li,{className:"h-4 w-4"}),"Duplicate"]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[s.jsx(Rs,{className:"h-4 w-4 text-slate-400"}),C.map(W=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm",style:{backgroundColor:W.color+"20",color:W.color},children:[W.name,s.jsx("button",{onClick:()=>$(W.id),className:"hover:opacity-70",title:"Remove tag",children:s.jsx($t,{className:"h-3 w-3"})})]},W.id)),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>I(!O),className:"inline-flex items-center gap-1 px-2 py-1 rounded text-sm border border-dashed border-dark-border text-slate-400 hover:border-primary hover:text-primary",children:[s.jsx(Ln,{className:"h-3 w-3"}),"Add Tag"]}),O&&Q.length>0&&s.jsx("div",{className:"absolute top-full left-0 mt-1 z-10 bg-dark-surface border border-dark-border rounded-lg shadow-lg min-w-[150px] max-h-[200px] overflow-y-auto",children:Q.map(W=>s.jsxs("button",{onClick:()=>q(W.id),className:"w-full text-left px-3 py-2 hover:bg-dark-hover flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full",style:{backgroundColor:W.color}}),s.jsx("span",{className:"text-sm text-slate-300",children:W.name})]},W.id))}),O&&Q.length===0&&s.jsx("div",{className:"absolute top-full left-0 mt-1 z-10 bg-dark-surface border border-dark-border rounded-lg shadow-lg p-3",children:s.jsx("span",{className:"text-sm text-slate-500",children:"No more tags available"})})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx(Gt,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:he}),s.jsx("p",{className:"text-sm text-slate-400",children:"Alive Hosts"})]}),s.jsxs("div",{children:[s.jsx(Ce,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:Ne}),s.jsx("p",{className:"text-sm text-slate-400",children:"Open Ports"})]}),s.jsxs("div",{children:[s.jsx(De,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),s.jsx("p",{className:"text-2xl font-bold text-white",children:te}),s.jsx("p",{className:"text-sm text-slate-400",children:"Vulnerabilities"})]})]})]}),s.jsx(ye,{children:s.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[s.jsxs("button",{onClick:()=>_("results"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="results"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[s.jsx(Zp,{className:"h-4 w-4"}),"Results"]}),s.jsxs("button",{onClick:()=>_("topology"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="topology"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[s.jsx(Qn,{className:"h-4 w-4"}),"Topology"]}),s.jsxs("button",{onClick:()=>_("secrets"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="secrets"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[s.jsx(kn,{className:"h-4 w-4"}),"Secrets"]}),s.jsxs("button",{onClick:()=>_("ai-priority"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="ai-priority"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[s.jsx(ys,{className:"h-4 w-4"}),"AI Priority"]})]})}),b==="topology"&&e&&s.jsx(d5,{scanId:e.id}),b==="secrets"&&e&&s.jsxs(ye,{children:[s.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(kn,{className:"h-5 w-5 text-yellow-400"}),"Exposed Secrets"]}),s.jsx(h5,{scanId:e.id})]}),b==="ai-priority"&&e&&s.jsx(ye,{children:s.jsx(x5,{scanId:e.id})}),b==="results"&&s.jsxs(s.Fragment,{children:[s.jsx(ye,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-1",children:s.jsx(nt,{type:"text",placeholder:"Search by IP or hostname...",value:l,onChange:W=>c(W.target.value),icon:s.jsx(Nr,{className:"h-4 w-4"})})}),s.jsx(X_,{hosts:we,scanName:e==null?void 0:e.name,scanId:e==null?void 0:e.id,disabled:we.length===0}),s.jsxs("button",{onClick:()=>x(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-green-500 text-green-500 hover:bg-green-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(tl,{className:"h-4 w-4"}),"Compliance"]}),s.jsxs("button",{onClick:de,disabled:(e==null?void 0:e.status)!=="completed"||k,className:"px-4 py-2 rounded-lg border border-purple-500 text-purple-500 hover:bg-purple-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export scan results to configured SIEM integrations",children:[k?s.jsx(an,{}):s.jsx(Qd,{className:"h-4 w-4"}),k?"Exporting...":"SIEM"]}),s.jsxs("button",{onClick:()=>N(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-primary text-primary hover:bg-primary/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(st,{className:"h-4 w-4"}),"Report"]}),s.jsxs("button",{onClick:()=>g(!p),className:`px-4 py-2 rounded-lg border transition-colors flex items-center gap-2 ${p?"bg-primary border-primary text-white":"border-dark-border text-slate-400 hover:border-primary hover:text-white"}`,children:[s.jsx(eg,{className:"h-4 w-4"}),"Filters"]})]}),p&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-dark-border",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort by"}),s.jsxs("select",{value:d,onChange:W=>u(W.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"risk",children:"Risk Score (High to Low)"}),s.jsx("option",{value:"vulns",children:"Vulnerability Count"}),s.jsx("option",{value:"ports",children:"Port Count"}),s.jsx("option",{value:"ip",children:"IP Address"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Filter by"}),s.jsxs("select",{value:f,onChange:W=>h(W.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[s.jsx("option",{value:"all",children:"All Hosts"}),s.jsx("option",{value:"with-vulns",children:"With Vulnerabilities"}),s.jsx("option",{value:"high",children:"High/Critical Severity"}),s.jsx("option",{value:"critical",children:"Critical Only"})]})]})]}),s.jsxs("div",{className:"text-sm text-slate-400",children:["Showing ",we.length," of ",z.length," hosts"]})]})}),s.jsxs(ye,{children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Discovered Hosts"}),s.jsxs("div",{className:"space-y-3",children:[we.map(W=>{const ie=Zi(W),ue=A_(ie);return s.jsxs("div",{className:`bg-dark-bg border rounded-lg p-4 cursor-pointer hover:border-primary/50 transition-all ${ue==="Critical"?"border-severity-critical":ue==="High"?"border-severity-high":"border-dark-border"}`,onClick:()=>o(i===W.target.ip?null:W.target.ip),children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-mono font-semibold",children:W.target.ip}),W.target.hostname&&s.jsx("p",{className:"text-sm text-slate-400",children:W.target.hostname})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(kt,{variant:"severity",type:Sf(ue),children:["Risk: ",ie]}),s.jsx(kt,{variant:"status",type:W.is_alive?"completed":"failed",children:W.is_alive?"Alive":"Down"}),W.ports.filter(le=>le.state==="Open").length>0&&s.jsxs("span",{className:"text-sm text-slate-400",children:[W.ports.filter(le=>le.state==="Open").length," ports"]}),W.vulnerabilities.length>0&&s.jsxs("span",{className:"text-sm text-red-400",children:[W.vulnerabilities.length," vulns"]})]})]}),i===W.target.ip&&s.jsxs("div",{className:"mt-4 border-t border-dark-border pt-4 space-y-4",children:[W.os_guess&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 mb-1",children:"OS Detection"}),s.jsxs("p",{className:"text-sm text-slate-400",children:[W.os_guess.os_family," ",W.os_guess.os_version," (",W.os_guess.confidence,"% confidence)"]})]}),W.ports.filter(le=>le.state==="Open").length>0&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Open Ports"}),s.jsx("div",{className:"space-y-2",children:W.ports.filter(le=>le.state==="Open").map(le=>{var Se,$e;return s.jsx("div",{children:s.jsxs("div",{className:"bg-dark-surface rounded p-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-white font-mono font-semibold",children:[le.port,"/",le.protocol]}),le.service&&s.jsxs("span",{className:"text-slate-400",children:[le.service.name," ",le.service.version&&s.jsxs("span",{className:"text-slate-500",children:["v",le.service.version]})]})]}),((Se=le.service)==null?void 0:Se.banner)&&s.jsx(D_,{banner:le.service.banner,port:le.port,service:le.service.name}),(($e=le.service)==null?void 0:$e.ssl_info)&&s.jsx(Y_,{sslInfo:le.service.ssl_info,port:le.port})]})},le.port)})})]}),W.vulnerabilities.length>0&&s.jsxs("div",{children:[s.jsxs("p",{className:"text-sm font-medium text-slate-300 mb-3",children:["Vulnerabilities (",W.vulnerabilities.length,")"]}),s.jsx("div",{className:"space-y-3",children:W.vulnerabilities.map((le,Se)=>s.jsx(O_,{vulnerability:le},Se))})]})]})]},W.target.ip)}),we.length===0&&s.jsx("div",{className:"text-center py-8 text-slate-400",children:"No hosts match the current filters"})]})]}),(e==null?void 0:e.status)==="completed"&&s.jsx(Z_,{scanId:e.id,onGenerateNew:()=>N(!0)},y)]}),w&&e&&s.jsx(J_,{scanId:e.id,scanName:e.name,onClose:()=>N(!1),onReportCreated:()=>v(W=>W+1)}),j&&e&&s.jsx(e1,{scanId:e.id,scanName:e.name,onClose:()=>x(!1)})]})},ja=({title:e,value:n,icon:r,color:a,subtitle:i})=>s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),s.jsx("p",{className:`text-3xl font-bold ${a} mb-1`,children:n}),i&&s.jsx("p",{className:"text-slate-500 text-xs",children:i})]}),s.jsx("div",{className:`${a.replace("text-","bg-")}/20 p-3 rounded-lg`,children:r})]})}),v5=()=>{const{scans:e,results:n}=Ut(),r=E.useMemo(()=>{const a=e.filter(o=>o.status==="completed"),i=Array.from(n.values()).flat();return{...R_(i),completedScans:a.length}},[e,n]);return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[s.jsx(ja,{title:"Completed Scans",value:r.completedScans,icon:s.jsx(pt,{className:"h-6 w-6 text-primary"}),color:"text-primary",subtitle:`${e.filter(a=>a.status==="running").length} running`}),s.jsx(ja,{title:"Hosts Discovered",value:r.totalHosts,icon:s.jsx(Gt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400",subtitle:`${r.totalPorts} open ports`}),s.jsx(ja,{title:"Total Vulnerabilities",value:r.totalVulnerabilities,icon:s.jsx(De,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400",subtitle:"Across all scans"}),s.jsx(ja,{title:"Critical Findings",value:r.criticalVulnerabilities,icon:s.jsx(Ce,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical",subtitle:"Requires immediate attention"})]})},w5={Critical:"#ef4444",High:"#f97316",Medium:"#eab308",Low:"#3b82f6"},j5=({hosts:e})=>{const n=E.useMemo(()=>{const a=kf(e);return Object.entries(a).filter(([i,o])=>o>0).map(([i,o])=>({name:i,value:o,color:w5[i]}))},[e]),r=n.reduce((a,i)=>a+i.value,0);return r===0?s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Distribution"}),s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No vulnerabilities found"})})]}):s.jsxs(ye,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Vulnerability Distribution",s.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",r," total)"]})]}),s.jsx(lt,{width:"100%",height:300,children:s.jsxs(sl,{children:[s.jsx(al,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percent:i})=>`${a}: ${(i*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((a,i)=>s.jsx(Vs,{fill:a.color},`cell-${i}`))}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:a=>[`${a} vulnerabilities`,"Count"]}),s.jsx(vs,{verticalAlign:"bottom",height:36,formatter:(a,i)=>s.jsxs("span",{style:{color:"#cbd5e1"},children:[a,": ",i.payload.value]})})]})})]})},_5={21:"#f97316",22:"#22c55e",23:"#ef4444",25:"#3b82f6",53:"#8b5cf6",80:"#06b6d4",110:"#3b82f6",143:"#3b82f6",443:"#10b981",445:"#f59e0b",3306:"#ec4899",3389:"#ef4444",5432:"#3b82f6",8080:"#06b6d4"},N5="#64748b",k5=({hosts:e})=>{const n=E.useMemo(()=>T_(e).map(r=>({...r,displayName:`${r.port} (${r.service})`,color:_5[r.port]||N5})),[e]);return n.length===0?s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Port Distribution"}),s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No open ports found"})})]}):s.jsxs(ye,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Top Open Ports",s.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:"(Across all hosts)"})]}),s.jsx(lt,{width:"100%",height:300,children:s.jsxs(ui,{data:n,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{type:"number",stroke:"#cbd5e1"}),s.jsx(Rt,{dataKey:"displayName",type:"category",width:90,stroke:"#cbd5e1",tick:{fontSize:12}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:(r,a,i)=>[`${r} hosts`,i.payload.service],labelFormatter:r=>{var a;return`Port ${(a=n.find(i=>i.displayName===r))==null?void 0:a.port}`}}),s.jsx(di,{dataKey:"count",radius:[0,4,4,0],children:n.map((r,a)=>s.jsx(Vs,{fill:r.color},`cell-${a}`))})]})})]})},oo=({title:e,value:n,subtitle:r,icon:a,color:i,trend:o})=>s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),s.jsx("p",{className:`text-3xl font-bold ${i} mb-1`,children:n}),r&&s.jsx("p",{className:"text-slate-500 text-xs",children:r}),o&&s.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${o.isPositive?"text-green-400":"text-red-400"}`,children:[s.jsx(rr,{className:`h-3 w-3 ${!o.isPositive&&"rotate-180"}`}),s.jsxs("span",{children:[o.isPositive?"+":"",o.value.toFixed(1),"%"]})]})]}),s.jsx("div",{className:`${i.replace("text-","bg-")}/20 p-3 rounded-lg`,children:a})]})}),S5=({height:e=300})=>s.jsx("div",{className:"animate-pulse",style:{height:e},children:s.jsx("div",{className:"h-full bg-slate-700/50 rounded-lg"})}),It={critical:"#ef4444",high:"#f97316",medium:"#eab308",low:"#3b82f6"},C5=()=>{const[e,n]=E.useState(30),[r,a]=E.useState(!0),[i,o]=E.useState(null),[l,c]=E.useState(null);E.useEffect(()=>{d()},[e]);const d=async()=>{var v,b;a(!0),o(null);try{const _=await fr.getVulnerabilityTrendsDashboard(e);c(_.data)}catch(_){const k=_;console.error("Failed to load vulnerability trends:",_),o(((b=(v=k.response)==null?void 0:v.data)==null?void 0:b.message)||"Failed to load vulnerability trends")}finally{a(!1)}},u=v=>{if(v.includes("-W")){const[_,k]=v.split("-W");return`W${k}`}return new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric"})},f=v=>{switch(v){case"improving":return s.jsx(tg,{className:"h-5 w-5 text-green-400"});case"declining":return s.jsx(rr,{className:"h-5 w-5 text-red-400"});default:return s.jsx(rh,{className:"h-5 w-5 text-yellow-400"})}},h=v=>{switch(v){case"improving":return"text-green-400";case"declining":return"text-red-400";default:return"text-yellow-400"}},p=v=>{switch(v){case"improving":return"Improving";case"declining":return"Declining";default:return"Stable"}};if(r)return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-8 w-64 bg-slate-700 rounded animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-48 bg-slate-700 rounded animate-pulse"})]}),s.jsx("div",{className:"h-10 w-72 bg-slate-700 rounded animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[1,2,3,4].map(v=>s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-4 w-24 bg-slate-700 rounded mb-3"}),s.jsx("div",{className:"h-8 w-16 bg-slate-700 rounded mb-2"}),s.jsx("div",{className:"h-3 w-32 bg-slate-700 rounded"})]})},v))}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(v=>s.jsxs(ye,{className:"p-6",children:[s.jsx("div",{className:"h-6 w-48 bg-slate-700 rounded animate-pulse mb-4"}),s.jsx(S5,{})]},v))})]});if(i)return s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(De,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Vulnerability Trends"}),s.jsx("p",{className:"text-slate-400 mb-4",children:i}),s.jsx("button",{onClick:d,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 transition-colors",children:"Retry"})]})});if(!l)return null;const{summary:g,daily_counts:w,severity_trends:N,remediation_rates:j,top_recurring:x}=l,y=[{name:"Critical",value:g.critical_open,color:It.critical},{name:"High",value:g.high_open,color:It.high},{name:"Medium",value:g.current_open-g.critical_open-g.high_open,color:It.medium}].filter(v=>v.value>0);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Vulnerability Trends"}),s.jsx("p",{className:"text-slate-400",children:"Historical analysis and remediation metrics"})]}),s.jsx("div",{className:"flex items-center gap-2 bg-slate-800 border border-slate-700 rounded-lg p-1",children:[7,30,90,180].map(v=>s.jsxs("button",{onClick:()=>n(v),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===v?"bg-cyan-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-700"}`,children:[s.jsx(yr,{className:"h-4 w-4"}),v,"d"]},v))})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(oo,{title:"Current Open",value:g.current_open,subtitle:`${g.critical_open} critical, ${g.high_open} high`,icon:s.jsx(As,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),s.jsx(oo,{title:"Remediation Rate",value:`${g.remediation_rate.toFixed(1)}%`,subtitle:`${g.total_resolved} of ${g.total_found} resolved`,icon:s.jsx(Qe,{className:"h-6 w-6 text-green-400"}),color:"text-green-400"}),s.jsx(oo,{title:"Avg. MTTR",value:`${g.avg_mttr_days.toFixed(1)}`,subtitle:"Days to remediate",icon:s.jsx(qt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:"Trend"}),s.jsxs("div",{className:"flex items-center gap-2",children:[f(g.trend_direction),s.jsx("span",{className:`text-2xl font-bold ${h(g.trend_direction)}`,children:p(g.trend_direction)})]}),s.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Compared to previous period"})]}),s.jsx("div",{className:"bg-slate-700/50 p-3 rounded-lg",children:s.jsx(Ce,{className:"h-6 w-6 text-slate-400"})})]})})]}),(g.critical_open>0||g.high_open>0)&&s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Critical Issues Requiring Attention"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),s.jsx(Vt,{className:"h-4 w-4 text-red-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-red-500",children:g.critical_open})]}),s.jsxs("div",{className:"bg-orange-500/10 border border-orange-500/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"High"}),s.jsx(De,{className:"h-4 w-4 text-orange-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-orange-500",children:g.high_open})]}),s.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Total Found"}),s.jsx(As,{className:"h-4 w-4 text-slate-400"})]}),s.jsx("p",{className:"text-2xl font-bold text-white",children:g.total_found})]}),s.jsxs("div",{className:"bg-green-500/10 border border-green-500/20 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Resolved"}),s.jsx(Qe,{className:"h-4 w-4 text-green-500"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-500",children:g.total_resolved})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerabilities Over Time"}),w.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(Ds,{data:w,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u}),s.jsx(vs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),s.jsx(Dn,{type:"monotone",dataKey:"open",stroke:"#f97316",strokeWidth:2,dot:{fill:"#f97316",r:3},activeDot:{r:5},name:"Open"}),s.jsx(Dn,{type:"monotone",dataKey:"new",stroke:"#ef4444",strokeWidth:2,dot:{fill:"#ef4444",r:3},activeDot:{r:5},name:"New"}),s.jsx(Dn,{type:"monotone",dataKey:"resolved",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",r:3},activeDot:{r:5},name:"Resolved"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Severity Distribution Over Time"}),N.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(ch,{data:N,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u}),s.jsx(vs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),s.jsx(In,{type:"monotone",dataKey:"critical",stackId:"1",stroke:It.critical,fill:It.critical,fillOpacity:.6,name:"Critical"}),s.jsx(In,{type:"monotone",dataKey:"high",stackId:"1",stroke:It.high,fill:It.high,fillOpacity:.6,name:"High"}),s.jsx(In,{type:"monotone",dataKey:"medium",stackId:"1",stroke:It.medium,fill:It.medium,fillOpacity:.6,name:"Medium"}),s.jsx(In,{type:"monotone",dataKey:"low",stackId:"1",stroke:It.low,fill:It.low,fillOpacity:.6,name:"Low"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Remediation Rate Over Time"}),j.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(Ds,{data:j,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:u,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{yAxisId:"left",stroke:"#94a3b8",style:{fontSize:"12px"},domain:[0,100],tickFormatter:v=>`${v}%`}),s.jsx(Rt,{yAxisId:"right",orientation:"right",stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:v=>`${v}d`}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:u,formatter:(v,b)=>b==="Remediation Rate"?[`${v.toFixed(1)}%`,b]:b==="MTTR (days)"?[`${v.toFixed(1)} days`,b]:[v,b]}),s.jsx(vs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),s.jsx(Dn,{yAxisId:"left",type:"monotone",dataKey:"remediation_rate",stroke:"#22c55e",strokeWidth:2,dot:{fill:"#22c55e",r:3},activeDot:{r:5},name:"Remediation Rate"}),s.jsx(Dn,{yAxisId:"right",type:"monotone",dataKey:"mttr_days",stroke:"#06b6d4",strokeWidth:2,dot:{fill:"#06b6d4",r:3},activeDot:{r:5},name:"MTTR (days)"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Recurring Vulnerabilities"}),x.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(ui,{data:x,layout:"vertical",children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{dataKey:"title",type:"category",stroke:"#94a3b8",style:{fontSize:"11px"},width:140,tickFormatter:v=>v.length>20?`${v.substring(0,20)}...`:v}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},content:({active:v,payload:b})=>{if(!v||!b||!b[0])return null;const _=b[0].payload;return s.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 text-white text-sm",children:[s.jsx("div",{className:"font-medium mb-2",children:_.title}),s.jsxs("div",{className:"space-y-1 text-slate-300",children:[s.jsxs("div",{children:["Occurrences: ",_.count]}),s.jsxs("div",{children:["Severity: ",_.severity]}),s.jsxs("div",{children:["Affected Hosts: ",_.affected_hosts]}),_.avg_resolution_days!==null&&s.jsxs("div",{children:["Avg Resolution: ",_.avg_resolution_days.toFixed(1)," days"]})]})]})}}),s.jsx(di,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Occurrences"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No recurring vulnerabilities found"})})]})]}),y.length>0&&s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Current Open Vulnerabilities by Severity"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(lt,{width:"100%",height:250,children:s.jsxs(sl,{children:[s.jsx(al,{data:y,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",nameKey:"name",label:({name:v,percent:b})=>`${v} ${(b*100).toFixed(0)}%`,labelLine:!1,children:y.map((v,b)=>s.jsx(Vs,{fill:v.color},`cell-${b}`))}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}})]})}),s.jsxs("div",{className:"flex flex-col justify-center space-y-4",children:[y.map(v=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-4 h-4 rounded",style:{backgroundColor:v.color}}),s.jsx("span",{className:"text-slate-300",children:v.name})]}),s.jsx("span",{className:"text-white font-semibold",children:v.value})]},v.name)),s.jsx("div",{className:"border-t border-slate-700 pt-4 mt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-slate-300 font-medium",children:"Total Open"}),s.jsx("span",{className:"text-white font-bold text-lg",children:g.current_open})]})})]})]})]}),x.length>0&&s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Recurring Vulnerability Details"}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-slate-700",children:[s.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Vulnerability"}),s.jsx("th",{className:"text-left py-3 px-4 text-slate-400 font-medium",children:"Severity"}),s.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Occurrences"}),s.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Affected Hosts"}),s.jsx("th",{className:"text-center py-3 px-4 text-slate-400 font-medium",children:"Avg. Resolution"})]})}),s.jsx("tbody",{children:x.map((v,b)=>s.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/50",children:[s.jsxs("td",{className:"py-3 px-4",children:[s.jsx("span",{className:"text-white font-medium",children:v.title}),s.jsx("p",{className:"text-xs text-slate-500 mt-1",children:v.vulnerability_id})]}),s.jsx("td",{className:"py-3 px-4",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${v.severity==="critical"?"bg-red-500/20 text-red-400":v.severity==="high"?"bg-orange-500/20 text-orange-400":v.severity==="medium"?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:v.severity})}),s.jsx("td",{className:"py-3 px-4 text-center text-white",children:v.count}),s.jsx("td",{className:"py-3 px-4 text-center text-white",children:v.affected_hosts}),s.jsx("td",{className:"py-3 px-4 text-center text-white",children:v.avg_resolution_days!==null?`${v.avg_resolution_days.toFixed(1)} days`:"-"})]},b))})]})})]})]})},_a=({title:e,value:n,subtitle:r,icon:a,color:i,trend:o})=>s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),s.jsx("p",{className:`text-3xl font-bold ${i} mb-1`,children:n}),r&&s.jsx("p",{className:"text-slate-500 text-xs",children:r}),o&&s.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${o.isPositive?"text-green-400":"text-red-400"}`,children:[s.jsx(rr,{className:`h-3 w-3 ${!o.isPositive&&"rotate-180"}`}),s.jsxs("span",{children:[o.isPositive?"+":"",o.value,"%"]})]})]}),s.jsx("div",{className:`${i.replace("text-","bg-")}/20 p-3 rounded-lg`,children:a})]})}),E5=()=>{const[e,n]=E.useState("overview"),[r,a]=E.useState(30),[i,o]=E.useState(!0),[l,c]=E.useState(null),[d,u]=E.useState(null),[f,h]=E.useState([]),[p,g]=E.useState([]),[w,N]=E.useState([]),[j,x]=E.useState([]);E.useEffect(()=>{e==="overview"&&y()},[r,e]);const y=async()=>{var _,k;o(!0),c(null);try{const[S,C,A,T,P]=await Promise.all([fr.getSummary(r),fr.getHosts(r),fr.getVulnerabilities(r),fr.getServices(10),fr.getFrequency(r)]);u(S.data),h(C.data),g(A.data),N(T.data),x(P.data)}catch(S){const C=S;console.error("Failed to load analytics:",S),c(((k=(_=C.response)==null?void 0:_.data)==null?void 0:k.message)||"Failed to load analytics data")}finally{o(!1)}},v=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric"}),b=()=>s.jsxs("div",{className:"flex gap-2 border-b border-slate-700 pb-2 mb-6",children:[s.jsxs("button",{onClick:()=>n("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${e==="overview"?"bg-slate-800 text-cyan-400 border-b-2 border-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(er,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("button",{onClick:()=>n("vulnerability-trends"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${e==="vulnerability-trends"?"bg-slate-800 text-cyan-400 border-b-2 border-cyan-400":"text-slate-400 hover:text-white hover:bg-slate-800/50"}`,children:[s.jsx(As,{className:"h-4 w-4"}),"Vulnerability Trends"]})]});return e==="vulnerability-trends"?s.jsxs("div",{className:"space-y-6",children:[s.jsx(b,{}),s.jsx(C5,{})]}):i?s.jsxs("div",{className:"space-y-6",children:[s.jsx(b,{}),s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsx(an,{size:"lg"})})]}):l?s.jsxs("div",{className:"space-y-6",children:[s.jsx(b,{}),s.jsx(ye,{className:"p-6",children:s.jsxs("div",{className:"text-center",children:[s.jsx(De,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Analytics"}),s.jsx("p",{className:"text-slate-400 mb-4",children:l}),s.jsx("button",{onClick:y,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-500 transition-colors",children:"Retry"})]})})]}):d?s.jsxs("div",{className:"space-y-6",children:[s.jsx(b,{}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-slate-400",children:"Insights and trends from your security scans"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-dark-surface border border-dark-border rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>a(7),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===7?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[s.jsx(yr,{className:"h-4 w-4"}),"7 Days"]}),s.jsxs("button",{onClick:()=>a(30),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===30?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[s.jsx(yr,{className:"h-4 w-4"}),"30 Days"]}),s.jsxs("button",{onClick:()=>a(90),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${r===90?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[s.jsx(yr,{className:"h-4 w-4"}),"90 Days"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(_a,{title:"Total Scans",value:d.total_scans,subtitle:`${d.scans_this_week} this week`,icon:s.jsx(pt,{className:"h-6 w-6 text-primary"}),color:"text-primary"}),s.jsx(_a,{title:"Hosts Discovered",value:d.total_hosts,subtitle:`${d.total_ports} open ports`,icon:s.jsx(Gt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),s.jsx(_a,{title:"Total Vulnerabilities",value:d.total_vulnerabilities,subtitle:`${d.critical_vulns} critical`,icon:s.jsx(De,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),s.jsx(_a,{title:"Critical Findings",value:d.critical_vulns,subtitle:"Requires immediate attention",icon:s.jsx(Ce,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical"})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Severity Breakdown"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),s.jsx(Ce,{className:"h-4 w-4 text-severity-critical"})]}),s.jsx("p",{className:"text-2xl font-bold text-severity-critical",children:d.critical_vulns})]}),s.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"High"}),s.jsx(Ce,{className:"h-4 w-4 text-severity-high"})]}),s.jsx("p",{className:"text-2xl font-bold text-severity-high",children:d.high_vulns})]}),s.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Medium"}),s.jsx(Ce,{className:"h-4 w-4 text-severity-medium"})]}),s.jsx("p",{className:"text-2xl font-bold text-severity-medium",children:d.medium_vulns})]}),s.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-slate-400",children:"Low"}),s.jsx(Ce,{className:"h-4 w-4 text-severity-low"})]}),s.jsx("p",{className:"text-2xl font-bold text-severity-low",children:d.low_vulns})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hosts Discovered Over Time"}),f.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(Ds,{data:f,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:v,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:v}),s.jsx(Dn,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Hosts"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Scan Frequency"}),j.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(Ds,{data:j,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:v,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:v}),s.jsx(Dn,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:4},activeDot:{r:6},name:"Scans"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Trends by Severity"}),p.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(ch,{data:p,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{dataKey:"date",tickFormatter:v,stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:v}),s.jsx(vs,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),s.jsx(In,{type:"monotone",dataKey:"critical",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Critical"}),s.jsx(In,{type:"monotone",dataKey:"high",stackId:"1",stroke:"#f97316",fill:"#f97316",fillOpacity:.6,name:"High"}),s.jsx(In,{type:"monotone",dataKey:"medium",stackId:"1",stroke:"#eab308",fill:"#eab308",fillOpacity:.6,name:"Medium"}),s.jsx(In,{type:"monotone",dataKey:"low",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Low"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]}),s.jsxs(ye,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Services Discovered"}),w.length>0?s.jsx(lt,{width:"100%",height:300,children:s.jsxs(ui,{data:w,layout:"vertical",children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#334155"}),s.jsx(Ft,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),s.jsx(Rt,{dataKey:"service",type:"category",stroke:"#94a3b8",style:{fontSize:"12px"},width:100}),s.jsx(ct,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}}),s.jsx(di,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Count"})]})}):s.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:s.jsx("p",{children:"No data available"})})]})]})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsx(b,{}),s.jsx("div",{className:"flex items-center justify-center h-96 text-slate-400",children:"No data available"})]})};var lo={exports:{}},ss={},xs={exports:{}},P5=xs.exports,ud;function Ul(){return ud||(ud=1,(function(e,n){(function(r,a){a(n)})(P5,(function(r){function a(te){return function(ie,ue,le,Se,$e,We,L){return te(ie,ue,L)}}function i(te){return function(ie,ue,le,Se){if(!ie||!ue||typeof ie!="object"||typeof ue!="object")return te(ie,ue,le,Se);var $e=Se.get(ie),We=Se.get(ue);if($e&&We)return $e===ue&&We===ie;Se.set(ie,ue),Se.set(ue,ie);var L=te(ie,ue,le,Se);return Se.delete(ie),Se.delete(ue),L}}function o(te,W){var ie={};for(var ue in te)ie[ue]=te[ue];for(var ue in W)ie[ue]=W[ue];return ie}function l(te){return te.constructor===Object||te.constructor==null}function c(te){return typeof te.then=="function"}function d(te,W){return te===W||te!==te&&W!==W}var u="[object Arguments]",f="[object Boolean]",h="[object Date]",p="[object RegExp]",g="[object Map]",w="[object Number]",N="[object Object]",j="[object Set]",x="[object String]",y=Object.prototype.toString;function v(te){var W=te.areArraysEqual,ie=te.areDatesEqual,ue=te.areMapsEqual,le=te.areObjectsEqual,Se=te.areRegExpsEqual,$e=te.areSetsEqual,We=te.createIsNestedEqual,L=We(B);function B(V,K,ce){if(V===K)return!0;if(!V||!K||typeof V!="object"||typeof K!="object")return V!==V&&K!==K;if(l(V)&&l(K))return le(V,K,L,ce);var fe=Array.isArray(V),xe=Array.isArray(K);if(fe||xe)return fe===xe&&W(V,K,L,ce);var je=y.call(V);return je!==y.call(K)?!1:je===h?ie(V,K,L,ce):je===p?Se(V,K,L,ce):je===g?ue(V,K,L,ce):je===j?$e(V,K,L,ce):je===N||je===u?c(V)||c(K)?!1:le(V,K,L,ce):je===f||je===w||je===x?d(V.valueOf(),K.valueOf()):!1}return B}function b(te,W,ie,ue){var le=te.length;if(W.length!==le)return!1;for(;le-- >0;)if(!ie(te[le],W[le],le,le,te,W,ue))return!1;return!0}var _=i(b);function k(te,W){return d(te.valueOf(),W.valueOf())}function S(te,W,ie,ue){var le=te.size===W.size;if(!le)return!1;if(!te.size)return!0;var Se={},$e=0;return te.forEach(function(We,L){if(le){var B=!1,V=0;W.forEach(function(K,ce){!B&&!Se[V]&&(B=ie(L,ce,$e,V,te,W,ue)&&ie(We,K,L,ce,te,W,ue))&&(Se[V]=!0),V++}),$e++,le=B}}),le}var C=i(S),A="_owner",T=Object.prototype.hasOwnProperty;function P(te,W,ie,ue){var le=Object.keys(te),Se=le.length;if(Object.keys(W).length!==Se)return!1;for(var $e;Se-- >0;){if($e=le[Se],$e===A){var We=!!te.$$typeof,L=!!W.$$typeof;if((We||L)&&We!==L)return!1}if(!T.call(W,$e)||!ie(te[$e],W[$e],$e,$e,te,W,ue))return!1}return!0}var O=i(P);function I(te,W){return te.source===W.source&&te.flags===W.flags}function R(te,W,ie,ue){var le=te.size===W.size;if(!le)return!1;if(!te.size)return!0;var Se={};return te.forEach(function($e,We){if(le){var L=!1,B=0;W.forEach(function(V,K){!L&&!Se[B]&&(L=ie($e,V,We,K,te,W,ue))&&(Se[B]=!0),B++}),le=L}}),le}var D=i(R),z=Object.freeze({areArraysEqual:b,areDatesEqual:k,areMapsEqual:S,areObjectsEqual:P,areRegExpsEqual:I,areSetsEqual:R,createIsNestedEqual:a}),F=Object.freeze({areArraysEqual:_,areDatesEqual:k,areMapsEqual:C,areObjectsEqual:O,areRegExpsEqual:I,areSetsEqual:D,createIsNestedEqual:a}),G=v(z);function q(te,W){return G(te,W,void 0)}var $=v(o(z,{createIsNestedEqual:function(){return d}}));function ee(te,W){return $(te,W,void 0)}var Q=v(F);function M(te,W){return Q(te,W,new WeakMap)}var de=v(o(F,{createIsNestedEqual:function(){return d}}));function we(te,W){return de(te,W,new WeakMap)}function he(te){return v(o(z,te(z)))}function Ne(te){var W=v(o(F,te(F)));return(function(ie,ue,le){return le===void 0&&(le=new WeakMap),W(ie,ue,le)})}r.circularDeepEqual=M,r.circularShallowEqual=we,r.createCustomCircularEqual=Ne,r.createCustomEqual=he,r.deepEqual=q,r.sameValueZeroEqual=d,r.shallowEqual=ee,Object.defineProperty(r,"__esModule",{value:!0})}))})(xs,xs.exports)),xs.exports}var Na={exports:{}},dd;function Ei(){if(dd)return Na.exports;dd=1;function e(r){var a,i,o="";if(typeof r=="string"||typeof r=="number")o+=r;else if(typeof r=="object")if(Array.isArray(r)){var l=r.length;for(a=0;a<l;a++)r[a]&&(i=e(r[a]))&&(o&&(o+=" "),o+=i)}else for(i in r)r[i]&&(o&&(o+=" "),o+=i);return o}function n(){for(var r,a,i=0,o="",l=arguments.length;i<l;i++)(r=arguments[i])&&(a=e(r))&&(o&&(o+=" "),o+=a);return o}return Na.exports=n,Na.exports.clsx=n,Na.exports}var Pe={},co,hd;function A5(){return hd||(hd=1,co=function(n,r,a){return n===r?!0:n.className===r.className&&a(n.style,r.style)&&n.width===r.width&&n.autoSize===r.autoSize&&n.cols===r.cols&&n.draggableCancel===r.draggableCancel&&n.draggableHandle===r.draggableHandle&&a(n.verticalCompact,r.verticalCompact)&&a(n.compactType,r.compactType)&&a(n.layout,r.layout)&&a(n.margin,r.margin)&&a(n.containerPadding,r.containerPadding)&&n.rowHeight===r.rowHeight&&n.maxRows===r.maxRows&&n.isBounded===r.isBounded&&n.isDraggable===r.isDraggable&&n.isResizable===r.isResizable&&n.allowOverlap===r.allowOverlap&&n.preventCollision===r.preventCollision&&n.useCSSTransforms===r.useCSSTransforms&&n.transformScale===r.transformScale&&n.isDroppable===r.isDroppable&&a(n.resizeHandles,r.resizeHandles)&&a(n.resizeHandle,r.resizeHandle)&&n.onLayoutChange===r.onLayoutChange&&n.onDragStart===r.onDragStart&&n.onDrag===r.onDrag&&n.onDragStop===r.onDragStop&&n.onResizeStart===r.onResizeStart&&n.onResize===r.onResize&&n.onResizeStop===r.onResizeStop&&n.onDrop===r.onDrop&&a(n.droppingItem,r.droppingItem)&&a(n.innerRef,r.innerRef)}),co}var fd;function zr(){if(fd)return Pe;fd=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.bottom=d,Pe.childrenEqual=g,Pe.cloneLayout=u,Pe.cloneLayoutItem=p,Pe.collides=N,Pe.compact=j,Pe.compactItem=v,Pe.compactType=Se,Pe.correctBounds=b,Pe.fastPositionEqual=w,Pe.fastRGLPropsEqual=void 0,Pe.getAllCollisions=S,Pe.getFirstCollision=k,Pe.getLayoutItem=_,Pe.getStatics=C,Pe.modifyLayout=f,Pe.moveElement=A,Pe.moveElementAwayFromCollision=T,Pe.noop=void 0,Pe.perc=P,Pe.resizeItemInDirection=we,Pe.setTopLeft=Ne,Pe.setTransform=he,Pe.sortLayoutItems=te,Pe.sortLayoutItemsByColRow=ie,Pe.sortLayoutItemsByRowCol=W,Pe.synchronizeLayoutWithChildren=ue,Pe.validateLayout=le,Pe.withLayoutItem=h;var e=Ul(),n=r(Wt());function r(L){return L&&L.__esModule?L:{default:L}}function a(L,B){var V=Object.keys(L);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(L);B&&(K=K.filter(function(ce){return Object.getOwnPropertyDescriptor(L,ce).enumerable})),V.push.apply(V,K)}return V}function i(L){for(var B=1;B<arguments.length;B++){var V=arguments[B]!=null?arguments[B]:{};B%2?a(Object(V),!0).forEach(function(K){o(L,K,V[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(V)):a(Object(V)).forEach(function(K){Object.defineProperty(L,K,Object.getOwnPropertyDescriptor(V,K))})}return L}function o(L,B,V){return(B=l(B))in L?Object.defineProperty(L,B,{value:V,enumerable:!0,configurable:!0,writable:!0}):L[B]=V,L}function l(L){var B=c(L,"string");return typeof B=="symbol"?B:B+""}function c(L,B){if(typeof L!="object"||!L)return L;var V=L[Symbol.toPrimitive];if(V!==void 0){var K=V.call(L,B);if(typeof K!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)(L)}function d(L){let B=0,V;for(let K=0,ce=L.length;K<ce;K++)V=L[K].y+L[K].h,V>B&&(B=V);return B}function u(L){const B=Array(L.length);for(let V=0,K=L.length;V<K;V++)B[V]=p(L[V]);return B}function f(L,B){const V=Array(L.length);for(let K=0,ce=L.length;K<ce;K++)B.i===L[K].i?V[K]=B:V[K]=L[K];return V}function h(L,B,V){let K=_(L,B);return K?(K=V(p(K)),L=f(L,K),[L,K]):[L,null]}function p(L){return{w:L.w,h:L.h,x:L.x,y:L.y,i:L.i,minW:L.minW,maxW:L.maxW,minH:L.minH,maxH:L.maxH,moved:!!L.moved,static:!!L.static,isDraggable:L.isDraggable,isResizable:L.isResizable,resizeHandles:L.resizeHandles,isBounded:L.isBounded}}function g(L,B){return(0,e.deepEqual)(n.default.Children.map(L,V=>V==null?void 0:V.key),n.default.Children.map(B,V=>V==null?void 0:V.key))&&(0,e.deepEqual)(n.default.Children.map(L,V=>V==null?void 0:V.props["data-grid"]),n.default.Children.map(B,V=>V==null?void 0:V.props["data-grid"]))}Pe.fastRGLPropsEqual=A5();function w(L,B){return L.left===B.left&&L.top===B.top&&L.width===B.width&&L.height===B.height}function N(L,B){return!(L.i===B.i||L.x+L.w<=B.x||L.x>=B.x+B.w||L.y+L.h<=B.y||L.y>=B.y+B.h)}function j(L,B,V,K){const ce=C(L);let fe=d(ce);const xe=te(L,B),je=Array(L.length);for(let Oe=0,Ge=xe.length;Oe<Ge;Oe++){let X=p(xe[Oe]);X.static||(X=v(ce,X,B,V,xe,K,fe),fe=Math.max(fe,X.y+X.h),ce.push(X)),je[L.indexOf(xe[Oe])]=X,X.moved=!1}return je}const x={x:"w",y:"h"};function y(L,B,V,K){const ce=x[K];B[K]+=1;const fe=L.map(xe=>xe.i).indexOf(B.i);for(let xe=fe+1;xe<L.length;xe++){const je=L[xe];if(!je.static){if(je.y>B.y+B.h)break;N(B,je)&&y(L,je,V+B[ce],K)}}B[K]=V}function v(L,B,V,K,ce,fe,xe){const je=V==="vertical",Oe=V==="horizontal";if(je)for(typeof xe=="number"?B.y=Math.min(xe,B.y):B.y=Math.min(d(L),B.y);B.y>0&&!k(L,B);)B.y--;else if(Oe)for(;B.x>0&&!k(L,B);)B.x--;let Ge;for(;(Ge=k(L,B))&&!(V===null&&fe);)if(Oe?y(ce,B,Ge.x+Ge.w,"x"):y(ce,B,Ge.y+Ge.h,"y"),Oe&&B.x+B.w>K)for(B.x=K-B.w,B.y++;B.x>0&&!k(L,B);)B.x--;return B.y=Math.max(B.y,0),B.x=Math.max(B.x,0),B}function b(L,B){const V=C(L);for(let K=0,ce=L.length;K<ce;K++){const fe=L[K];if(fe.x+fe.w>B.cols&&(fe.x=B.cols-fe.w),fe.x<0&&(fe.x=0,fe.w=B.cols),!fe.static)V.push(fe);else for(;k(V,fe);)fe.y++}return L}function _(L,B){for(let V=0,K=L.length;V<K;V++)if(L[V].i===B)return L[V]}function k(L,B){for(let V=0,K=L.length;V<K;V++)if(N(L[V],B))return L[V]}function S(L,B){return L.filter(V=>N(V,B))}function C(L){return L.filter(B=>B.static)}function A(L,B,V,K,ce,fe,xe,je,Oe){if(B.static&&B.isDraggable!==!0||B.y===K&&B.x===V)return L;"Moving element ".concat(B.i," to [").concat(String(V),",").concat(String(K),"] from [").concat(B.x,",").concat(B.y,"]");const Ge=B.x,X=B.y;typeof V=="number"&&(B.x=V),typeof K=="number"&&(B.y=K),B.moved=!0;let ne=te(L,xe);(xe==="vertical"&&typeof K=="number"?X>=K:xe==="horizontal"&&typeof V=="number"?Ge>=V:!1)&&(ne=ne.reverse());const be=S(ne,B),Ee=be.length>0;if(Ee&&Oe)return u(L);if(Ee&&fe)return"Collision prevented on ".concat(B.i,", reverting."),B.x=Ge,B.y=X,B.moved=!1,L;for(let Je=0,zt=be.length;Je<zt;Je++){const Be=be[Je];"Resolving collision between ".concat(B.i," at [").concat(B.x,",").concat(B.y,"] and ").concat(Be.i," at [").concat(Be.x,",").concat(Be.y,"]"),!Be.moved&&(Be.static?L=T(L,Be,B,ce,xe):L=T(L,B,Be,ce,xe))}return L}function T(L,B,V,K,ce,fe){const xe=ce==="horizontal",je=ce==="vertical",Oe=B.static;if(K){K=!1;const ne={x:xe?Math.max(B.x-V.w,0):V.x,y:je?Math.max(B.y-V.h,0):V.y,w:V.w,h:V.h,i:"-1"},pe=k(L,ne),be=pe&&pe.y+pe.h>B.y,Ee=pe&&B.x+B.w>pe.x;if(pe){if(be&&je)return A(L,V,void 0,V.y+1,K,Oe,ce);if(be&&ce==null)return B.y=V.y,V.y=V.y+V.h,L;if(Ee&&xe)return A(L,B,V.x,void 0,K,Oe,ce)}else return"Doing reverse collision on ".concat(V.i," up to [").concat(ne.x,",").concat(ne.y,"]."),A(L,V,xe?ne.x:void 0,je?ne.y:void 0,K,Oe,ce)}const Ge=xe?V.x+1:void 0,X=je?V.y+1:void 0;return Ge==null&&X==null?L:A(L,V,xe?V.x+1:void 0,je?V.y+1:void 0,K,Oe,ce)}function P(L){return L*100+"%"}const O=(L,B,V,K)=>L+V>K?B:V,I=(L,B,V)=>L<0?B:V,R=L=>Math.max(0,L),D=L=>Math.max(0,L),z=(L,B,V)=>{let{left:K,height:ce,width:fe}=B;const xe=L.top-(ce-L.height);return{left:K,width:fe,height:I(xe,L.height,ce),top:D(xe)}},F=(L,B,V)=>{let{top:K,left:ce,height:fe,width:xe}=B;return{top:K,height:fe,width:O(L.left,L.width,xe,V),left:R(ce)}},G=(L,B,V)=>{let{top:K,height:ce,width:fe}=B;const xe=L.left-(fe-L.width);return{height:ce,width:xe<0?L.width:O(L.left,L.width,fe,V),top:D(K),left:R(xe)}},q=(L,B,V)=>{let{top:K,left:ce,height:fe,width:xe}=B;return{width:xe,left:ce,height:I(K,L.height,fe),top:D(K)}},de={n:z,ne:function(){return z(arguments.length<=0?void 0:arguments[0],F(...arguments))},e:F,se:function(){return q(arguments.length<=0?void 0:arguments[0],F(...arguments))},s:q,sw:function(){return q(arguments.length<=0?void 0:arguments[0],G(...arguments))},w:G,nw:function(){return z(arguments.length<=0?void 0:arguments[0],G(...arguments))}};function we(L,B,V,K){const ce=de[L];return ce?ce(B,i(i({},B),V),K):V}function he(L){let{top:B,left:V,width:K,height:ce}=L;const fe="translate(".concat(V,"px,").concat(B,"px)");return{transform:fe,WebkitTransform:fe,MozTransform:fe,msTransform:fe,OTransform:fe,width:"".concat(K,"px"),height:"".concat(ce,"px"),position:"absolute"}}function Ne(L){let{top:B,left:V,width:K,height:ce}=L;return{top:"".concat(B,"px"),left:"".concat(V,"px"),width:"".concat(K,"px"),height:"".concat(ce,"px"),position:"absolute"}}function te(L,B){return B==="horizontal"?ie(L):B==="vertical"?W(L):L}function W(L){return L.slice(0).sort(function(B,V){return B.y>V.y||B.y===V.y&&B.x>V.x?1:B.y===V.y&&B.x===V.x?0:-1})}function ie(L){return L.slice(0).sort(function(B,V){return B.x>V.x||B.x===V.x&&B.y>V.y?1:-1})}function ue(L,B,V,K,ce){L=L||[];const fe=[];n.default.Children.forEach(B,je=>{if((je==null?void 0:je.key)==null)return;const Oe=_(L,String(je.key)),Ge=je.props["data-grid"];Oe&&Ge==null?fe.push(p(Oe)):Ge?fe.push(p(i(i({},Ge),{},{i:je.key}))):fe.push(p({w:1,h:1,x:0,y:d(fe),i:String(je.key)}))});const xe=b(fe,{cols:V});return ce?xe:j(xe,K,V)}function le(L){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const V=["x","y","w","h"];if(!Array.isArray(L))throw new Error(B+" must be an array!");for(let K=0,ce=L.length;K<ce;K++){const fe=L[K];for(let xe=0;xe<V.length;xe++){const je=V[xe],Oe=fe[je];if(typeof Oe!="number"||Number.isNaN(Oe))throw new Error("ReactGridLayout: ".concat(B,"[").concat(K,"].").concat(je," must be a number! Received: ").concat(Oe," (").concat(typeof Oe,")"))}if(typeof fe.i<"u"&&typeof fe.i!="string")throw new Error("ReactGridLayout: ".concat(B,"[").concat(K,"].i must be a string! Received: ").concat(fe.i," (").concat(typeof fe.i,")"))}}function Se(L){const{verticalCompact:B,compactType:V}=L||{};return B===!1?null:V}function $e(){}const We=()=>{};return Pe.noop=We,Pe}var xn={},md;function ql(){if(md)return xn;md=1,Object.defineProperty(xn,"__esModule",{value:!0}),xn.calcGridColWidth=e,xn.calcGridItemPosition=r,xn.calcGridItemWHPx=n,xn.calcWH=i,xn.calcXY=a,xn.clamp=o;function e(l){const{margin:c,containerPadding:d,containerWidth:u,cols:f}=l;return(u-c[0]*(f-1)-d[0]*2)/f}function n(l,c,d){return Number.isFinite(l)?Math.round(c*l+Math.max(0,l-1)*d):l}function r(l,c,d,u,f,h){const{margin:p,containerPadding:g,rowHeight:w}=l,N=e(l),j={};return h&&h.resizing?(j.width=Math.round(h.resizing.width),j.height=Math.round(h.resizing.height)):(j.width=n(u,N,p[0]),j.height=n(f,w,p[1])),h&&h.dragging?(j.top=Math.round(h.dragging.top),j.left=Math.round(h.dragging.left)):h&&h.resizing&&typeof h.resizing.top=="number"&&typeof h.resizing.left=="number"?(j.top=Math.round(h.resizing.top),j.left=Math.round(h.resizing.left)):(j.top=Math.round((w+p[1])*d+g[1]),j.left=Math.round((N+p[0])*c+g[0])),j}function a(l,c,d,u,f){const{margin:h,containerPadding:p,cols:g,rowHeight:w,maxRows:N}=l,j=e(l);let x=Math.round((d-p[0])/(j+h[0])),y=Math.round((c-p[1])/(w+h[1]));return x=o(x,0,g-u),y=o(y,0,N-f),{x,y}}function i(l,c,d,u,f,h){const{margin:p,maxRows:g,cols:w,rowHeight:N}=l,j=e(l);let x=Math.round((c+p[0])/(j+p[0])),y=Math.round((d+p[1])/(N+p[1])),v=o(x,0,w-u),b=o(y,0,g-f);return["sw","w","nw"].indexOf(h)!==-1&&(v=o(x,0,w)),["nw","n","ne"].indexOf(h)!==-1&&(b=o(y,0,g)),{w:v,h:b}}function o(l,c,d){return Math.max(Math.min(l,d),c)}return xn}var as={},is={exports:{}},uo={},Xe={},Rn={},pd;function Pi(){if(pd)return Rn;pd=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.dontSetMe=i,Rn.findInArray=e,Rn.int=a,Rn.isFunction=n,Rn.isNum=r;function e(o,l){for(let c=0,d=o.length;c<d;c++)if(l.apply(l,[o[c],c,o]))return o[c]}function n(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Function]"}function r(o){return typeof o=="number"&&!isNaN(o)}function a(o){return parseInt(o,10)}function i(o,l,c){if(o[l])return new Error(`Invalid prop ${l} passed to ${c} - do not set this, set it on the child.`)}return Rn}var On={},gd;function T5(){if(gd)return On;gd=1,Object.defineProperty(On,"__esModule",{value:!0}),On.browserPrefixToKey=r,On.browserPrefixToStyle=a,On.default=void 0,On.getPrefix=n;const e=["Moz","Webkit","O","ms"];function n(){var c,d;let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const l=(d=(c=window.document)==null?void 0:c.documentElement)==null?void 0:d.style;if(!l||o in l)return"";for(let u=0;u<e.length;u++)if(r(o,e[u])in l)return e[u];return""}function r(o,l){return l?`${l}${i(o)}`:o}function a(o,l){return l?`-${l.toLowerCase()}-${o}`:o}function i(o){let l="",c=!0;for(let d=0;d<o.length;d++)c?(l+=o[d].toUpperCase(),c=!1):o[d]==="-"?c=!0:l+=o[d];return l}return On.default=n(),On}var xd;function Vl(){if(xd)return Xe;xd=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.addClassName=_,Xe.addEvent=l,Xe.addUserSelectStyles=y,Xe.createCSSTransform=g,Xe.createSVGTransform=w,Xe.getTouch=j,Xe.getTouchIdentifier=x,Xe.getTranslation=N,Xe.innerHeight=f,Xe.innerWidth=h,Xe.matchesSelector=i,Xe.matchesSelectorAndParentsTo=o,Xe.offsetXYFromParent=p,Xe.outerHeight=d,Xe.outerWidth=u,Xe.removeClassName=k,Xe.removeEvent=c,Xe.scheduleRemoveUserSelectStyles=v;var e=Pi(),n=r(T5());function r(S,C){if(typeof WeakMap=="function")var A=new WeakMap,T=new WeakMap;return(r=function(P,O){if(!O&&P&&P.__esModule)return P;var I,R,D={__proto__:null,default:P};if(P===null||typeof P!="object"&&typeof P!="function")return D;if(I=O?T:A){if(I.has(P))return I.get(P);I.set(P,D)}for(const z in P)z!=="default"&&{}.hasOwnProperty.call(P,z)&&((R=(I=Object.defineProperty)&&Object.getOwnPropertyDescriptor(P,z))&&(R.get||R.set)?I(D,z,R):D[z]=P[z]);return D})(S,C)}let a="";function i(S,C){return a||(a=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(A){return(0,e.isFunction)(S[A])})),(0,e.isFunction)(S[a])?S[a](C):!1}function o(S,C,A){let T=S;do{if(i(T,C))return!0;if(T===A)return!1;T=T.parentNode}while(T);return!1}function l(S,C,A,T){if(!S)return;const P={capture:!0,...T};S.addEventListener?S.addEventListener(C,A,P):S.attachEvent?S.attachEvent("on"+C,A):S["on"+C]=A}function c(S,C,A,T){if(!S)return;const P={capture:!0,...T};S.removeEventListener?S.removeEventListener(C,A,P):S.detachEvent?S.detachEvent("on"+C,A):S["on"+C]=null}function d(S){let C=S.clientHeight;const A=S.ownerDocument.defaultView.getComputedStyle(S);return C+=(0,e.int)(A.borderTopWidth),C+=(0,e.int)(A.borderBottomWidth),C}function u(S){let C=S.clientWidth;const A=S.ownerDocument.defaultView.getComputedStyle(S);return C+=(0,e.int)(A.borderLeftWidth),C+=(0,e.int)(A.borderRightWidth),C}function f(S){let C=S.clientHeight;const A=S.ownerDocument.defaultView.getComputedStyle(S);return C-=(0,e.int)(A.paddingTop),C-=(0,e.int)(A.paddingBottom),C}function h(S){let C=S.clientWidth;const A=S.ownerDocument.defaultView.getComputedStyle(S);return C-=(0,e.int)(A.paddingLeft),C-=(0,e.int)(A.paddingRight),C}function p(S,C,A){const P=C===C.ownerDocument.body?{left:0,top:0}:C.getBoundingClientRect(),O=(S.clientX+C.scrollLeft-P.left)/A,I=(S.clientY+C.scrollTop-P.top)/A;return{x:O,y:I}}function g(S,C){const A=N(S,C,"px");return{[(0,n.browserPrefixToKey)("transform",n.default)]:A}}function w(S,C){return N(S,C,"")}function N(S,C,A){let{x:T,y:P}=S,O=`translate(${T}${A},${P}${A})`;if(C){const I=`${typeof C.x=="string"?C.x:C.x+A}`,R=`${typeof C.y=="string"?C.y:C.y+A}`;O=`translate(${I}, ${R})`+O}return O}function j(S,C){return S.targetTouches&&(0,e.findInArray)(S.targetTouches,A=>C===A.identifier)||S.changedTouches&&(0,e.findInArray)(S.changedTouches,A=>C===A.identifier)}function x(S){if(S.targetTouches&&S.targetTouches[0])return S.targetTouches[0].identifier;if(S.changedTouches&&S.changedTouches[0])return S.changedTouches[0].identifier}function y(S){if(!S)return;let C=S.getElementById("react-draggable-style-el");C||(C=S.createElement("style"),C.type="text/css",C.id="react-draggable-style-el",C.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,C.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,S.getElementsByTagName("head")[0].appendChild(C)),S.body&&_(S.body,"react-draggable-transparent-selection")}function v(S){window.requestAnimationFrame?window.requestAnimationFrame(()=>{b(S)}):b(S)}function b(S){if(S)try{if(S.body&&k(S.body,"react-draggable-transparent-selection"),S.selection)S.selection.empty();else{const C=(S.defaultView||window).getSelection();C&&C.type!=="Caret"&&C.removeAllRanges()}}catch{}}function _(S,C){S.classList?S.classList.add(C):S.className.match(new RegExp(`(?:^|\\s)${C}(?!\\S)`))||(S.className+=` ${C}`)}function k(S,C){S.classList?S.classList.remove(C):S.className=S.className.replace(new RegExp(`(?:^|\\s)${C}(?!\\S)`,"g"),"")}return Xe}var Jt={},yd;function Tm(){if(yd)return Jt;yd=1,Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.canDragX=i,Jt.canDragY=o,Jt.createCoreData=c,Jt.createDraggableData=d,Jt.getBoundPosition=r,Jt.getControlPosition=l,Jt.snapToGrid=a;var e=Pi(),n=Vl();function r(h,p,g){if(!h.props.bounds)return[p,g];let{bounds:w}=h.props;w=typeof w=="string"?w:u(w);const N=f(h);if(typeof w=="string"){const{ownerDocument:j}=N,x=j.defaultView;let y;if(w==="parent"?y=N.parentNode:y=N.getRootNode().querySelector(w),!(y instanceof x.HTMLElement))throw new Error('Bounds selector "'+w+'" could not find an element.');const v=y,b=x.getComputedStyle(N),_=x.getComputedStyle(v);w={left:-N.offsetLeft+(0,e.int)(_.paddingLeft)+(0,e.int)(b.marginLeft),top:-N.offsetTop+(0,e.int)(_.paddingTop)+(0,e.int)(b.marginTop),right:(0,n.innerWidth)(v)-(0,n.outerWidth)(N)-N.offsetLeft+(0,e.int)(_.paddingRight)-(0,e.int)(b.marginRight),bottom:(0,n.innerHeight)(v)-(0,n.outerHeight)(N)-N.offsetTop+(0,e.int)(_.paddingBottom)-(0,e.int)(b.marginBottom)}}return(0,e.isNum)(w.right)&&(p=Math.min(p,w.right)),(0,e.isNum)(w.bottom)&&(g=Math.min(g,w.bottom)),(0,e.isNum)(w.left)&&(p=Math.max(p,w.left)),(0,e.isNum)(w.top)&&(g=Math.max(g,w.top)),[p,g]}function a(h,p,g){const w=Math.round(p/h[0])*h[0],N=Math.round(g/h[1])*h[1];return[w,N]}function i(h){return h.props.axis==="both"||h.props.axis==="x"}function o(h){return h.props.axis==="both"||h.props.axis==="y"}function l(h,p,g){const w=typeof p=="number"?(0,n.getTouch)(h,p):null;if(typeof p=="number"&&!w)return null;const N=f(g),j=g.props.offsetParent||N.offsetParent||N.ownerDocument.body;return(0,n.offsetXYFromParent)(w||h,j,g.props.scale)}function c(h,p,g){const w=!(0,e.isNum)(h.lastX),N=f(h);return w?{node:N,deltaX:0,deltaY:0,lastX:p,lastY:g,x:p,y:g}:{node:N,deltaX:p-h.lastX,deltaY:g-h.lastY,lastX:h.lastX,lastY:h.lastY,x:p,y:g}}function d(h,p){const g=h.props.scale;return{node:p.node,x:h.state.x+p.deltaX/g,y:h.state.y+p.deltaY/g,deltaX:p.deltaX/g,deltaY:p.deltaY/g,lastX:h.state.x,lastY:h.state.y}}function u(h){return{left:h.left,top:h.top,right:h.right,bottom:h.bottom}}function f(h){const p=h.findDOMNode();if(!p)throw new Error("<DraggableCore>: Unmounted during event!");return p}return Jt}var os={},ka={},bd;function Rm(){if(bd)return ka;bd=1,Object.defineProperty(ka,"__esModule",{value:!0}),ka.default=e;function e(){}return ka}var vd;function R5(){if(vd)return os;vd=1,Object.defineProperty(os,"__esModule",{value:!0}),os.default=void 0;var e=d(Wt()),n=c(qn()),r=c(ai()),a=Vl(),i=Tm(),o=Pi(),l=c(Rm());function c(N){return N&&N.__esModule?N:{default:N}}function d(N,j){if(typeof WeakMap=="function")var x=new WeakMap,y=new WeakMap;return(d=function(v,b){if(!b&&v&&v.__esModule)return v;var _,k,S={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return S;if(_=b?y:x){if(_.has(v))return _.get(v);_.set(v,S)}for(const C in v)C!=="default"&&{}.hasOwnProperty.call(v,C)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,C))&&(k.get||k.set)?_(S,C,k):S[C]=v[C]);return S})(N,j)}function u(N,j,x){return(j=f(j))in N?Object.defineProperty(N,j,{value:x,enumerable:!0,configurable:!0,writable:!0}):N[j]=x,N}function f(N){var j=h(N,"string");return typeof j=="symbol"?j:j+""}function h(N,j){if(typeof N!="object"||!N)return N;var x=N[Symbol.toPrimitive];if(x!==void 0){var y=x.call(N,j);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)}const p={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let g=p.mouse,w=class extends e.Component{constructor(){super(...arguments),u(this,"dragging",!1),u(this,"lastX",NaN),u(this,"lastY",NaN),u(this,"touchIdentifier",null),u(this,"mounted",!1),u(this,"handleDragStart",j=>{if(this.props.onMouseDown(j),!this.props.allowAnyClick&&typeof j.button=="number"&&j.button!==0)return!1;const x=this.findDOMNode();if(!x||!x.ownerDocument||!x.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:y}=x;if(this.props.disabled||!(j.target instanceof y.defaultView.Node)||this.props.handle&&!(0,a.matchesSelectorAndParentsTo)(j.target,this.props.handle,x)||this.props.cancel&&(0,a.matchesSelectorAndParentsTo)(j.target,this.props.cancel,x))return;j.type==="touchstart"&&!this.props.allowMobileScroll&&j.preventDefault();const v=(0,a.getTouchIdentifier)(j);this.touchIdentifier=v;const b=(0,i.getControlPosition)(j,v,this);if(b==null)return;const{x:_,y:k}=b,S=(0,i.createCoreData)(this,_,k);(0,l.default)("DraggableCore: handleDragStart: %j",S),(0,l.default)("calling",this.props.onStart),!(this.props.onStart(j,S)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,a.addUserSelectStyles)(y),this.dragging=!0,this.lastX=_,this.lastY=k,(0,a.addEvent)(y,g.move,this.handleDrag),(0,a.addEvent)(y,g.stop,this.handleDragStop))}),u(this,"handleDrag",j=>{const x=(0,i.getControlPosition)(j,this.touchIdentifier,this);if(x==null)return;let{x:y,y:v}=x;if(Array.isArray(this.props.grid)){let k=y-this.lastX,S=v-this.lastY;if([k,S]=(0,i.snapToGrid)(this.props.grid,k,S),!k&&!S)return;y=this.lastX+k,v=this.lastY+S}const b=(0,i.createCoreData)(this,y,v);if((0,l.default)("DraggableCore: handleDrag: %j",b),this.props.onDrag(j,b)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const S=document.createEvent("MouseEvents");S.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(S)}return}this.lastX=y,this.lastY=v}),u(this,"handleDragStop",j=>{if(!this.dragging)return;const x=(0,i.getControlPosition)(j,this.touchIdentifier,this);if(x==null)return;let{x:y,y:v}=x;if(Array.isArray(this.props.grid)){let S=y-this.lastX||0,C=v-this.lastY||0;[S,C]=(0,i.snapToGrid)(this.props.grid,S,C),y=this.lastX+S,v=this.lastY+C}const b=(0,i.createCoreData)(this,y,v);if(this.props.onStop(j,b)===!1||this.mounted===!1)return!1;const k=this.findDOMNode();k&&this.props.enableUserSelectHack&&(0,a.scheduleRemoveUserSelectStyles)(k.ownerDocument),(0,l.default)("DraggableCore: handleDragStop: %j",b),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,k&&((0,l.default)("DraggableCore: Removing handlers"),(0,a.removeEvent)(k.ownerDocument,g.move,this.handleDrag),(0,a.removeEvent)(k.ownerDocument,g.stop,this.handleDragStop))}),u(this,"onMouseDown",j=>(g=p.mouse,this.handleDragStart(j))),u(this,"onMouseUp",j=>(g=p.mouse,this.handleDragStop(j))),u(this,"onTouchStart",j=>(g=p.touch,this.handleDragStart(j))),u(this,"onTouchEnd",j=>(g=p.touch,this.handleDragStop(j)))}componentDidMount(){this.mounted=!0;const j=this.findDOMNode();j&&(0,a.addEvent)(j,p.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const j=this.findDOMNode();if(j){const{ownerDocument:x}=j;(0,a.removeEvent)(x,p.mouse.move,this.handleDrag),(0,a.removeEvent)(x,p.touch.move,this.handleDrag),(0,a.removeEvent)(x,p.mouse.stop,this.handleDragStop),(0,a.removeEvent)(x,p.touch.stop,this.handleDragStop),(0,a.removeEvent)(j,p.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,a.scheduleRemoveUserSelectStyles)(x)}}findDOMNode(){var j,x,y;return(j=this.props)!=null&&j.nodeRef?(y=(x=this.props)==null?void 0:x.nodeRef)==null?void 0:y.current:r.default.findDOMNode(this)}render(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return os.default=w,u(w,"displayName","DraggableCore"),u(w,"propTypes",{allowAnyClick:n.default.bool,allowMobileScroll:n.default.bool,children:n.default.node.isRequired,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:function(N,j){if(N[j]&&N[j].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:n.default.arrayOf(n.default.number),handle:n.default.string,cancel:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number,className:o.dontSetMe,style:o.dontSetMe,transform:o.dontSetMe}),u(w,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),os}var wd;function O5(){return wd||(wd=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return d.default}}),e.default=void 0;var n=h(Wt()),r=f(qn()),a=f(ai()),i=Ei(),o=Vl(),l=Tm(),c=Pi(),d=f(R5()),u=f(Rm());function f(x){return x&&x.__esModule?x:{default:x}}function h(x,y){if(typeof WeakMap=="function")var v=new WeakMap,b=new WeakMap;return(h=function(_,k){if(!k&&_&&_.__esModule)return _;var S,C,A={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return A;if(S=k?b:v){if(S.has(_))return S.get(_);S.set(_,A)}for(const T in _)T!=="default"&&{}.hasOwnProperty.call(_,T)&&((C=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,T))&&(C.get||C.set)?S(A,T,C):A[T]=_[T]);return A})(x,y)}function p(){return p=Object.assign?Object.assign.bind():function(x){for(var y=1;y<arguments.length;y++){var v=arguments[y];for(var b in v)({}).hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x},p.apply(null,arguments)}function g(x,y,v){return(y=w(y))in x?Object.defineProperty(x,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[y]=v,x}function w(x){var y=N(x,"string");return typeof y=="symbol"?y:y+""}function N(x,y){if(typeof x!="object"||!x)return x;var v=x[Symbol.toPrimitive];if(v!==void 0){var b=v.call(x,y);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(x)}class j extends n.Component{static getDerivedStateFromProps(y,v){let{position:b}=y,{prevPropsPosition:_}=v;return b&&(!_||b.x!==_.x||b.y!==_.y)?((0,u.default)("Draggable: getDerivedStateFromProps %j",{position:b,prevPropsPosition:_}),{x:b.x,y:b.y,prevPropsPosition:{...b}}):null}constructor(y){super(y),g(this,"onDragStart",(v,b)=>{if((0,u.default)("Draggable: onDragStart: %j",b),this.props.onStart(v,(0,l.createDraggableData)(this,b))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),g(this,"onDrag",(v,b)=>{if(!this.state.dragging)return!1;(0,u.default)("Draggable: onDrag: %j",b);const _=(0,l.createDraggableData)(this,b),k={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:C,y:A}=k;k.x+=this.state.slackX,k.y+=this.state.slackY;const[T,P]=(0,l.getBoundPosition)(this,k.x,k.y);k.x=T,k.y=P,k.slackX=this.state.slackX+(C-k.x),k.slackY=this.state.slackY+(A-k.y),_.x=k.x,_.y=k.y,_.deltaX=k.x-this.state.x,_.deltaY=k.y-this.state.y}if(this.props.onDrag(v,_)===!1)return!1;this.setState(k)}),g(this,"onDragStop",(v,b)=>{if(!this.state.dragging||this.props.onStop(v,(0,l.createDraggableData)(this,b))===!1)return!1;(0,u.default)("Draggable: onDragStop: %j",b);const k={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:C,y:A}=this.props.position;k.x=C,k.y=A}this.setState(k)}),this.state={dragging:!1,dragged:!1,x:y.position?y.position.x:y.defaultPosition.x,y:y.position?y.position.y:y.defaultPosition.y,prevPropsPosition:{...y.position},slackX:0,slackY:0,isElementSVG:!1},y.position&&!(y.onDrag||y.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var y,v;return((v=(y=this.props)==null?void 0:y.nodeRef)==null?void 0:v.current)??a.default.findDOMNode(this)}render(){const{axis:y,bounds:v,children:b,defaultPosition:_,defaultClassName:k,defaultClassNameDragging:S,defaultClassNameDragged:C,position:A,positionOffset:T,scale:P,...O}=this.props;let I={},R=null;const z=!!!A||this.state.dragging,F=A||_,G={x:(0,l.canDragX)(this)&&z?this.state.x:F.x,y:(0,l.canDragY)(this)&&z?this.state.y:F.y};this.state.isElementSVG?R=(0,o.createSVGTransform)(G,T):I=(0,o.createCSSTransform)(G,T);const q=(0,i.clsx)(b.props.className||"",k,{[S]:this.state.dragging,[C]:this.state.dragged});return n.createElement(d.default,p({},O,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),n.cloneElement(n.Children.only(b),{className:q,style:{...b.props.style,...I},transform:R}))}}e.default=j,g(j,"displayName","Draggable"),g(j,"propTypes",{...d.default.propTypes,axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),g(j,"defaultProps",{...d.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(uo)),uo}var jd;function Wl(){if(jd)return is.exports;jd=1;const{default:e,DraggableCore:n}=O5();return is.exports=e,is.exports.default=e,is.exports.DraggableCore=n,is.exports}var ls={exports:{}},cs={},Sa={},_d;function D5(){if(_d)return Sa;_d=1,Sa.__esModule=!0,Sa.cloneElement=c;var e=n(Wt());function n(d){return d&&d.__esModule?d:{default:d}}function r(d,u){var f=Object.keys(d);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(d);u&&(h=h.filter(function(p){return Object.getOwnPropertyDescriptor(d,p).enumerable})),f.push.apply(f,h)}return f}function a(d){for(var u=1;u<arguments.length;u++){var f=arguments[u]!=null?arguments[u]:{};u%2?r(Object(f),!0).forEach(function(h){i(d,h,f[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(f)):r(Object(f)).forEach(function(h){Object.defineProperty(d,h,Object.getOwnPropertyDescriptor(f,h))})}return d}function i(d,u,f){return u=o(u),u in d?Object.defineProperty(d,u,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[u]=f,d}function o(d){var u=l(d,"string");return typeof u=="symbol"?u:String(u)}function l(d,u){if(typeof d!="object"||d===null)return d;var f=d[Symbol.toPrimitive];if(f!==void 0){var h=f.call(d,u);if(typeof h!="object")return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u==="string"?String:Number)(d)}function c(d,u){return u.style&&d.props.style&&(u.style=a(a({},d.props.style),u.style)),u.className&&d.props.className&&(u.className=d.props.className+" "+u.className),e.default.cloneElement(d,u)}return Sa}var us={},Nd;function Om(){if(Nd)return us;Nd=1,us.__esModule=!0,us.resizableProps=void 0;var e=n(qn());Wl();function n(a){return a&&a.__esModule?a:{default:a}}var r={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=o[0];if(c.axis==="both"||c.axis==="y"){var d;return(d=e.default.number).isRequired.apply(d,o)}return e.default.number.apply(e.default,o)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=o[0];if(c.axis==="both"||c.axis==="x"){var d;return(d=e.default.number).isRequired.apply(d,o)}return e.default.number.apply(e.default,o)}};return us.resizableProps=r,us}var kd;function Dm(){if(kd)return cs;kd=1,cs.__esModule=!0,cs.default=void 0;var e=l(Wt()),n=Wl(),r=D5(),a=Om(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function o(x){if(typeof WeakMap!="function")return null;var y=new WeakMap,v=new WeakMap;return(o=function(_){return _?v:y})(x)}function l(x,y){if(x&&x.__esModule)return x;if(x===null||typeof x!="object"&&typeof x!="function")return{default:x};var v=o(y);if(v&&v.has(x))return v.get(x);var b={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var k in x)if(k!=="default"&&Object.prototype.hasOwnProperty.call(x,k)){var S=_?Object.getOwnPropertyDescriptor(x,k):null;S&&(S.get||S.set)?Object.defineProperty(b,k,S):b[k]=x[k]}return b.default=x,v&&v.set(x,b),b}function c(){return c=Object.assign?Object.assign.bind():function(x){for(var y=1;y<arguments.length;y++){var v=arguments[y];for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&(x[b]=v[b])}return x},c.apply(this,arguments)}function d(x,y){if(x==null)return{};var v={},b=Object.keys(x),_,k;for(k=0;k<b.length;k++)_=b[k],!(y.indexOf(_)>=0)&&(v[_]=x[_]);return v}function u(x,y){var v=Object.keys(x);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(x);y&&(b=b.filter(function(_){return Object.getOwnPropertyDescriptor(x,_).enumerable})),v.push.apply(v,b)}return v}function f(x){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?u(Object(v),!0).forEach(function(b){h(x,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(b){Object.defineProperty(x,b,Object.getOwnPropertyDescriptor(v,b))})}return x}function h(x,y,v){return y=p(y),y in x?Object.defineProperty(x,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[y]=v,x}function p(x){var y=g(x,"string");return typeof y=="symbol"?y:String(y)}function g(x,y){if(typeof x!="object"||x===null)return x;var v=x[Symbol.toPrimitive];if(v!==void 0){var b=v.call(x,y);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(x)}function w(x,y){x.prototype=Object.create(y.prototype),x.prototype.constructor=x,N(x,y)}function N(x,y){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,_){return b.__proto__=_,b},N(x,y)}var j=(function(x){w(y,x);function y(){for(var b,_=arguments.length,k=new Array(_),S=0;S<_;S++)k[S]=arguments[S];return b=x.call.apply(x,[this].concat(k))||this,b.handleRefs={},b.lastHandleRect=null,b.slack=null,b}var v=y.prototype;return v.componentWillUnmount=function(){this.resetData()},v.resetData=function(){this.lastHandleRect=this.slack=null},v.runConstraints=function(_,k){var S=this.props,C=S.minConstraints,A=S.maxConstraints,T=S.lockAspectRatio;if(!C&&!A&&!T)return[_,k];if(T){var P=this.props.width/this.props.height,O=_-this.props.width,I=k-this.props.height;Math.abs(O)>Math.abs(I*P)?k=_/P:_=k*P}var R=_,D=k,z=this.slack||[0,0],F=z[0],G=z[1];return _+=F,k+=G,C&&(_=Math.max(C[0],_),k=Math.max(C[1],k)),A&&(_=Math.min(A[0],_),k=Math.min(A[1],k)),this.slack=[F+(R-_),G+(D-k)],[_,k]},v.resizeHandler=function(_,k){var S=this;return function(C,A){var T=A.node,P=A.deltaX,O=A.deltaY;_==="onResizeStart"&&S.resetData();var I=(S.props.axis==="both"||S.props.axis==="x")&&k!=="n"&&k!=="s",R=(S.props.axis==="both"||S.props.axis==="y")&&k!=="e"&&k!=="w";if(!(!I&&!R)){var D=k[0],z=k[k.length-1],F=T.getBoundingClientRect();if(S.lastHandleRect!=null){if(z==="w"){var G=F.left-S.lastHandleRect.left;P+=G}if(D==="n"){var q=F.top-S.lastHandleRect.top;O+=q}}S.lastHandleRect=F,z==="w"&&(P=-P),D==="n"&&(O=-O);var $=S.props.width+(I?P/S.props.transformScale:0),ee=S.props.height+(R?O/S.props.transformScale:0),Q=S.runConstraints($,ee);$=Q[0],ee=Q[1];var M=$!==S.props.width||ee!==S.props.height,de=typeof S.props[_]=="function"?S.props[_]:null,we=_==="onResize"&&!M;de&&!we&&(C.persist==null||C.persist(),de(C,{node:T,size:{width:$,height:ee},handle:k})),_==="onResizeStop"&&S.resetData()}}},v.renderResizeHandle=function(_,k){var S=this.props.handle;if(!S)return e.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+_,ref:k});if(typeof S=="function")return S(_,k);var C=typeof S.type=="string",A=f({ref:k},C?{}:{handleAxis:_});return e.cloneElement(S,A)},v.render=function(){var _=this,k=this.props,S=k.children,C=k.className,A=k.draggableOpts;k.width,k.height,k.handle,k.handleSize,k.lockAspectRatio,k.axis,k.minConstraints,k.maxConstraints,k.onResize,k.onResizeStop,k.onResizeStart;var T=k.resizeHandles;k.transformScale;var P=d(k,i);return(0,r.cloneElement)(S,f(f({},P),{},{className:(C?C+" ":"")+"react-resizable",children:[].concat(S.props.children,T.map(function(O){var I,R=(I=_.handleRefs[O])!=null?I:_.handleRefs[O]=e.createRef();return e.createElement(n.DraggableCore,c({},A,{nodeRef:R,key:"resizableHandle-"+O,onStop:_.resizeHandler("onResizeStop",O),onStart:_.resizeHandler("onResizeStart",O),onDrag:_.resizeHandler("onResize",O)}),_.renderResizeHandle(O,R))}))}))},y})(e.Component);return cs.default=j,j.propTypes=a.resizableProps,j.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},cs}var ds={},Sd;function $5(){if(Sd)return ds;Sd=1,ds.__esModule=!0,ds.default=void 0;var e=c(Wt()),n=o(qn()),r=o(Dm()),a=Om(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function o(y){return y&&y.__esModule?y:{default:y}}function l(y){if(typeof WeakMap!="function")return null;var v=new WeakMap,b=new WeakMap;return(l=function(k){return k?b:v})(y)}function c(y,v){if(y&&y.__esModule)return y;if(y===null||typeof y!="object"&&typeof y!="function")return{default:y};var b=l(v);if(b&&b.has(y))return b.get(y);var _={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var S in y)if(S!=="default"&&Object.prototype.hasOwnProperty.call(y,S)){var C=k?Object.getOwnPropertyDescriptor(y,S):null;C&&(C.get||C.set)?Object.defineProperty(_,S,C):_[S]=y[S]}return _.default=y,b&&b.set(y,_),_}function d(){return d=Object.assign?Object.assign.bind():function(y){for(var v=1;v<arguments.length;v++){var b=arguments[v];for(var _ in b)Object.prototype.hasOwnProperty.call(b,_)&&(y[_]=b[_])}return y},d.apply(this,arguments)}function u(y,v){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(y);v&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(y,k).enumerable})),b.push.apply(b,_)}return b}function f(y){for(var v=1;v<arguments.length;v++){var b=arguments[v]!=null?arguments[v]:{};v%2?u(Object(b),!0).forEach(function(_){h(y,_,b[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(_){Object.defineProperty(y,_,Object.getOwnPropertyDescriptor(b,_))})}return y}function h(y,v,b){return v=p(v),v in y?Object.defineProperty(y,v,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[v]=b,y}function p(y){var v=g(y,"string");return typeof v=="symbol"?v:String(v)}function g(y,v){if(typeof y!="object"||y===null)return y;var b=y[Symbol.toPrimitive];if(b!==void 0){var _=b.call(y,v);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(y)}function w(y,v){if(y==null)return{};var b={},_=Object.keys(y),k,S;for(S=0;S<_.length;S++)k=_[S],!(v.indexOf(k)>=0)&&(b[k]=y[k]);return b}function N(y,v){y.prototype=Object.create(v.prototype),y.prototype.constructor=y,j(y,v)}function j(y,v){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,k){return _.__proto__=k,_},j(y,v)}var x=(function(y){N(v,y);function v(){for(var _,k=arguments.length,S=new Array(k),C=0;C<k;C++)S[C]=arguments[C];return _=y.call.apply(y,[this].concat(S))||this,_.state={width:_.props.width,height:_.props.height,propsWidth:_.props.width,propsHeight:_.props.height},_.onResize=function(A,T){var P=T.size;_.props.onResize?(A.persist==null||A.persist(),_.setState(P,function(){return _.props.onResize&&_.props.onResize(A,T)})):_.setState(P)},_}v.getDerivedStateFromProps=function(k,S){return S.propsWidth!==k.width||S.propsHeight!==k.height?{width:k.width,height:k.height,propsWidth:k.width,propsHeight:k.height}:null};var b=v.prototype;return b.render=function(){var k=this.props,S=k.handle,C=k.handleSize;k.onResize;var A=k.onResizeStart,T=k.onResizeStop,P=k.draggableOpts,O=k.minConstraints,I=k.maxConstraints,R=k.lockAspectRatio,D=k.axis;k.width,k.height;var z=k.resizeHandles,F=k.style,G=k.transformScale,q=w(k,i);return e.createElement(r.default,{axis:D,draggableOpts:P,handle:S,handleSize:C,height:this.state.height,lockAspectRatio:R,maxConstraints:I,minConstraints:O,onResizeStart:A,onResize:this.onResize,onResizeStop:T,resizeHandles:z,transformScale:G,width:this.state.width},e.createElement("div",d({},q,{style:f(f({},F),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},v})(e.Component);return ds.default=x,x.propTypes=f(f({},a.resizableProps),{},{children:n.default.element}),ds}var Cd;function z5(){return Cd||(Cd=1,ls.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},ls.exports.Resizable=Dm().default,ls.exports.ResizableBox=$5().default),ls.exports}var yn={},Ed;function $m(){if(Ed)return yn;Ed=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.resizeHandleType=yn.resizeHandleAxesType=yn.default=void 0;var e=r(qn()),n=r(Wt());function r(o){return o&&o.__esModule?o:{default:o}}const a=yn.resizeHandleAxesType=e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=yn.resizeHandleType=e.default.oneOfType([e.default.node,e.default.func]);return yn.default={className:e.default.string,style:e.default.object,width:e.default.number,autoSize:e.default.bool,cols:e.default.number,draggableCancel:e.default.string,draggableHandle:e.default.string,verticalCompact:function(o){o.verticalCompact},compactType:e.default.oneOf(["vertical","horizontal"]),layout:function(o){var l=o.layout;l!==void 0&&zr().validateLayout(l,"layout")},margin:e.default.arrayOf(e.default.number),containerPadding:e.default.arrayOf(e.default.number),rowHeight:e.default.number,maxRows:e.default.number,isBounded:e.default.bool,isDraggable:e.default.bool,isResizable:e.default.bool,allowOverlap:e.default.bool,preventCollision:e.default.bool,useCSSTransforms:e.default.bool,transformScale:e.default.number,isDroppable:e.default.bool,resizeHandles:a,resizeHandle:i,onLayoutChange:e.default.func,onDragStart:e.default.func,onDrag:e.default.func,onDragStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,onResizeStop:e.default.func,onDrop:e.default.func,droppingItem:e.default.shape({i:e.default.string.isRequired,w:e.default.number.isRequired,h:e.default.number.isRequired}),children:function(o,l){const c=o[l],d={};n.default.Children.forEach(c,function(u){if((u==null?void 0:u.key)!=null){if(d[u.key])throw new Error('Duplicate child key "'+u.key+'" found! This will cause problems in ReactGridLayout.');d[u.key]=!0}})},innerRef:e.default.any},yn}var Pd;function M5(){if(Pd)return as;Pd=1,Object.defineProperty(as,"__esModule",{value:!0}),as.default=void 0;var e=u(Wt()),n=ai(),r=u(qn()),a=Wl(),i=z5(),o=zr(),l=ql(),c=$m(),d=u(Ei());function u(j){return j&&j.__esModule?j:{default:j}}function f(j,x){var y=Object.keys(j);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(j);x&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(j,b).enumerable})),y.push.apply(y,v)}return y}function h(j){for(var x=1;x<arguments.length;x++){var y=arguments[x]!=null?arguments[x]:{};x%2?f(Object(y),!0).forEach(function(v){p(j,v,y[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(y)):f(Object(y)).forEach(function(v){Object.defineProperty(j,v,Object.getOwnPropertyDescriptor(y,v))})}return j}function p(j,x,y){return(x=g(x))in j?Object.defineProperty(j,x,{value:y,enumerable:!0,configurable:!0,writable:!0}):j[x]=y,j}function g(j){var x=w(j,"string");return typeof x=="symbol"?x:x+""}function w(j,x){if(typeof j!="object"||!j)return j;var y=j[Symbol.toPrimitive];if(y!==void 0){var v=y.call(j,x);if(typeof v!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return(x==="string"?String:Number)(j)}let N=class extends e.default.Component{constructor(){super(...arguments),p(this,"state",{resizing:null,dragging:null,className:""}),p(this,"elementRef",e.default.createRef()),p(this,"onDragStart",(x,y)=>{let{node:v}=y;const{onDragStart:b,transformScale:_}=this.props;if(!b)return;const k={top:0,left:0},{offsetParent:S}=v;if(!S)return;const C=S.getBoundingClientRect(),A=v.getBoundingClientRect(),T=A.left/_,P=C.left/_,O=A.top/_,I=C.top/_;k.left=T-P+S.scrollLeft,k.top=O-I+S.scrollTop,this.setState({dragging:k});const{x:R,y:D}=(0,l.calcXY)(this.getPositionParams(),k.top,k.left,this.props.w,this.props.h);return b.call(this,this.props.i,R,D,{e:x,node:v,newPosition:k})}),p(this,"onDrag",(x,y,v)=>{let{node:b,deltaX:_,deltaY:k}=y;const{onDrag:S}=this.props;if(!S)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let C=this.state.dragging.top+k,A=this.state.dragging.left+_;const{isBounded:T,i:P,w:O,h:I,containerWidth:R}=this.props,D=this.getPositionParams();if(T){const{offsetParent:q}=b;if(q){const{margin:$,rowHeight:ee}=this.props,Q=q.clientHeight-(0,l.calcGridItemWHPx)(I,ee,$[1]);C=(0,l.clamp)(C,0,Q);const M=(0,l.calcGridColWidth)(D),de=R-(0,l.calcGridItemWHPx)(O,M,$[0]);A=(0,l.clamp)(A,0,de)}}const z={top:C,left:A};v?this.setState({dragging:z}):(0,n.flushSync)(()=>{this.setState({dragging:z})});const{x:F,y:G}=(0,l.calcXY)(D,C,A,O,I);return S.call(this,P,F,G,{e:x,node:b,newPosition:z})}),p(this,"onDragStop",(x,y)=>{let{node:v}=y;const{onDragStop:b}=this.props;if(!b)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:_,h:k,i:S}=this.props,{left:C,top:A}=this.state.dragging,T={top:A,left:C};this.setState({dragging:null});const{x:P,y:O}=(0,l.calcXY)(this.getPositionParams(),A,C,_,k);return b.call(this,S,P,O,{e:x,node:v,newPosition:T})}),p(this,"onResizeStop",(x,y,v)=>this.onResizeHandler(x,y,v,"onResizeStop")),p(this,"onResizeStart",(x,y,v)=>this.onResizeHandler(x,y,v,"onResizeStart")),p(this,"onResize",(x,y,v)=>this.onResizeHandler(x,y,v,"onResize"))}shouldComponentUpdate(x,y){if(this.props.children!==x.children||this.props.droppingPosition!==x.droppingPosition)return!0;const v=(0,l.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),b=(0,l.calcGridItemPosition)(this.getPositionParams(x),x.x,x.y,x.w,x.h,y);return!(0,o.fastPositionEqual)(v,b)||this.props.useCSSTransforms!==x.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(x){this.moveDroppingItem(x)}moveDroppingItem(x){const{droppingPosition:y}=this.props;if(!y)return;const v=this.elementRef.current;if(!v)return;const b=x.droppingPosition||{left:0,top:0},{dragging:_}=this.state,k=_&&y.left!==b.left||y.top!==b.top;if(!_)this.onDragStart(y.e,{node:v,deltaX:y.left,deltaY:y.top});else if(k){const S=y.left-_.left,C=y.top-_.top;this.onDrag(y.e,{node:v,deltaX:S,deltaY:C},!0)}}getPositionParams(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:x.cols,containerPadding:x.containerPadding,containerWidth:x.containerWidth,margin:x.margin,maxRows:x.maxRows,rowHeight:x.rowHeight}}createStyle(x){const{usePercentages:y,containerWidth:v,useCSSTransforms:b}=this.props;let _;return b?_=(0,o.setTransform)(x):(_=(0,o.setTopLeft)(x),y&&(_.left=(0,o.perc)(x.left/v),_.width=(0,o.perc)(x.width/v))),_}mixinDraggable(x,y){return e.default.createElement(a.DraggableCore,{disabled:!y,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},x)}curryResizeHandler(x,y){return(v,b)=>y(v,b,x)}mixinResizable(x,y,v){const{cols:b,minW:_,minH:k,maxW:S,maxH:C,transformScale:A,resizeHandles:T,resizeHandle:P}=this.props,O=this.getPositionParams(),I=(0,l.calcGridItemPosition)(O,0,0,b,0).width,R=(0,l.calcGridItemPosition)(O,0,0,_,k),D=(0,l.calcGridItemPosition)(O,0,0,S,C),z=[R.width,R.height],F=[Math.min(D.width,I),Math.min(D.height,1/0)];return e.default.createElement(i.Resizable,{draggableOpts:{disabled:!v},className:v?void 0:"react-resizable-hide",width:y.width,height:y.height,minConstraints:z,maxConstraints:F,onResizeStop:this.curryResizeHandler(y,this.onResizeStop),onResizeStart:this.curryResizeHandler(y,this.onResizeStart),onResize:this.curryResizeHandler(y,this.onResize),transformScale:A,resizeHandles:T,handle:P},x)}onResizeHandler(x,y,v,b){let{node:_,size:k,handle:S}=y;const C=this.props[b];if(!C)return;const{x:A,y:T,i:P,maxH:O,minH:I,containerWidth:R}=this.props,{minW:D,maxW:z}=this.props;let F=k;_&&(F=(0,o.resizeItemInDirection)(S,v,k,R),(0,n.flushSync)(()=>{this.setState({resizing:b==="onResizeStop"?null:F})}));let{w:G,h:q}=(0,l.calcWH)(this.getPositionParams(),F.width,F.height,A,T,S);G=(0,l.clamp)(G,Math.max(D,1),z),q=(0,l.clamp)(q,I,O),C.call(this,P,G,q,{e:x,node:_,size:F,handle:S})}render(){const{x,y,w:v,h:b,isDraggable:_,isResizable:k,droppingPosition:S,useCSSTransforms:C}=this.props,A=(0,l.calcGridItemPosition)(this.getPositionParams(),x,y,v,b,this.state),T=e.default.Children.only(this.props.children);let P=e.default.cloneElement(T,{ref:this.elementRef,className:(0,d.default)("react-grid-item",T.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":_,"react-draggable-dragging":!!this.state.dragging,dropping:!!S,cssTransforms:C}),style:h(h(h({},this.props.style),T.props.style),this.createStyle(A))});return P=this.mixinResizable(P,A,k),P=this.mixinDraggable(P,_),P}};return as.default=N,p(N,"propTypes",{children:r.default.element,cols:r.default.number.isRequired,containerWidth:r.default.number.isRequired,rowHeight:r.default.number.isRequired,margin:r.default.array.isRequired,maxRows:r.default.number.isRequired,containerPadding:r.default.array.isRequired,x:r.default.number.isRequired,y:r.default.number.isRequired,w:r.default.number.isRequired,h:r.default.number.isRequired,minW:function(j,x){const y=j[x];if(typeof y!="number")return new Error("minWidth not Number");if(y>j.w||y>j.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(j,x){const y=j[x];if(typeof y!="number")return new Error("maxWidth not Number");if(y<j.w||y<j.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(j,x){const y=j[x];if(typeof y!="number")return new Error("minHeight not Number");if(y>j.h||y>j.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(j,x){const y=j[x];if(typeof y!="number")return new Error("maxHeight not Number");if(y<j.h||y<j.minH)return new Error("maxHeight smaller than item height/minHeight")},i:r.default.string.isRequired,resizeHandles:c.resizeHandleAxesType,resizeHandle:c.resizeHandleType,onDragStop:r.default.func,onDragStart:r.default.func,onDrag:r.default.func,onResizeStop:r.default.func,onResizeStart:r.default.func,onResize:r.default.func,isDraggable:r.default.bool.isRequired,isResizable:r.default.bool.isRequired,isBounded:r.default.bool.isRequired,static:r.default.bool,useCSSTransforms:r.default.bool.isRequired,transformScale:r.default.number,className:r.default.string,handle:r.default.string,cancel:r.default.string,droppingPosition:r.default.shape({e:r.default.object.isRequired,left:r.default.number.isRequired,top:r.default.number.isRequired})}),p(N,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),as}var Ad;function zm(){if(Ad)return ss;Ad=1,Object.defineProperty(ss,"__esModule",{value:!0}),ss.default=void 0;var e=d(Wt()),n=Ul(),r=c(Ei()),a=zr(),i=ql(),o=c(M5()),l=c($m());function c(x){return x&&x.__esModule?x:{default:x}}function d(x,y){if(typeof WeakMap=="function")var v=new WeakMap,b=new WeakMap;return(d=function(_,k){if(!k&&_&&_.__esModule)return _;var S,C,A={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return A;if(S=k?b:v){if(S.has(_))return S.get(_);S.set(_,A)}for(const T in _)T!=="default"&&{}.hasOwnProperty.call(_,T)&&((C=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,T))&&(C.get||C.set)?S(A,T,C):A[T]=_[T]);return A})(x,y)}function u(x,y){var v=Object.keys(x);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(x);y&&(b=b.filter(function(_){return Object.getOwnPropertyDescriptor(x,_).enumerable})),v.push.apply(v,b)}return v}function f(x){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?u(Object(v),!0).forEach(function(b){h(x,b,v[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(v)):u(Object(v)).forEach(function(b){Object.defineProperty(x,b,Object.getOwnPropertyDescriptor(v,b))})}return x}function h(x,y,v){return(y=p(y))in x?Object.defineProperty(x,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):x[y]=v,x}function p(x){var y=g(x,"string");return typeof y=="symbol"?y:y+""}function g(x,y){if(typeof x!="object"||!x)return x;var v=x[Symbol.toPrimitive];if(v!==void 0){var b=v.call(x,y);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(x)}const w="react-grid-layout";let N=!1;try{N=/firefox/i.test(navigator.userAgent)}catch{}let j=class extends e.Component{constructor(){super(...arguments),h(this,"state",{activeDrag:null,layout:(0,a.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,a.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),h(this,"dragEnterCounter",0),h(this,"onDragStart",(y,v,b,_)=>{let{e:k,node:S}=_;const{layout:C}=this.state,A=(0,a.getLayoutItem)(C,y);if(!A)return;const T={w:A.w,h:A.h,x:A.x,y:A.y,placeholder:!0,i:y};return this.setState({oldDragItem:(0,a.cloneLayoutItem)(A),oldLayout:C,activeDrag:T}),this.props.onDragStart(C,A,A,null,k,S)}),h(this,"onDrag",(y,v,b,_)=>{let{e:k,node:S}=_;const{oldDragItem:C}=this.state;let{layout:A}=this.state;const{cols:T,allowOverlap:P,preventCollision:O}=this.props,I=(0,a.getLayoutItem)(A,y);if(!I)return;const R={w:I.w,h:I.h,x:I.x,y:I.y,placeholder:!0,i:y};A=(0,a.moveElement)(A,I,v,b,!0,O,(0,a.compactType)(this.props),T,P),this.props.onDrag(A,C,I,R,k,S),this.setState({layout:P?A:(0,a.compact)(A,(0,a.compactType)(this.props),T),activeDrag:R})}),h(this,"onDragStop",(y,v,b,_)=>{let{e:k,node:S}=_;if(!this.state.activeDrag)return;const{oldDragItem:C}=this.state;let{layout:A}=this.state;const{cols:T,preventCollision:P,allowOverlap:O}=this.props,I=(0,a.getLayoutItem)(A,y);if(!I)return;A=(0,a.moveElement)(A,I,v,b,!0,P,(0,a.compactType)(this.props),T,O);const D=O?A:(0,a.compact)(A,(0,a.compactType)(this.props),T);this.props.onDragStop(D,C,I,null,k,S);const{oldLayout:z}=this.state;this.setState({activeDrag:null,layout:D,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(D,z)}),h(this,"onResizeStart",(y,v,b,_)=>{let{e:k,node:S}=_;const{layout:C}=this.state,A=(0,a.getLayoutItem)(C,y);A&&(this.setState({oldResizeItem:(0,a.cloneLayoutItem)(A),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(C,A,A,null,k,S))}),h(this,"onResize",(y,v,b,_)=>{let{e:k,node:S,size:C,handle:A}=_;const{oldResizeItem:T}=this.state,{layout:P}=this.state,{cols:O,preventCollision:I,allowOverlap:R}=this.props;let D=!1,z,F,G;const[q,$]=(0,a.withLayoutItem)(P,y,Q=>{let M;return F=Q.x,G=Q.y,["sw","w","nw","n","ne"].indexOf(A)!==-1&&(["sw","nw","w"].indexOf(A)!==-1&&(F=Q.x+(Q.w-v),v=Q.x!==F&&F<0?Q.w:v,F=F<0?0:F),["ne","n","nw"].indexOf(A)!==-1&&(G=Q.y+(Q.h-b),b=Q.y!==G&&G<0?Q.h:b,G=G<0?0:G),D=!0),I&&!R&&(M=(0,a.getAllCollisions)(P,f(f({},Q),{},{w:v,h:b,x:F,y:G})).filter(we=>we.i!==Q.i).length>0,M&&(G=Q.y,b=Q.h,F=Q.x,v=Q.w,D=!1)),Q.w=v,Q.h=b,Q});if(!$)return;z=q,D&&(z=(0,a.moveElement)(q,$,F,G,!0,this.props.preventCollision,(0,a.compactType)(this.props),O,R));const ee={w:$.w,h:$.h,x:$.x,y:$.y,static:!0,i:y};this.props.onResize(z,T,$,ee,k,S),this.setState({layout:R?z:(0,a.compact)(z,(0,a.compactType)(this.props),O),activeDrag:ee})}),h(this,"onResizeStop",(y,v,b,_)=>{let{e:k,node:S}=_;const{layout:C,oldResizeItem:A}=this.state,{cols:T,allowOverlap:P}=this.props,O=(0,a.getLayoutItem)(C,y),I=P?C:(0,a.compact)(C,(0,a.compactType)(this.props),T);this.props.onResizeStop(I,A,O,null,k,S);const{oldLayout:R}=this.state;this.setState({activeDrag:null,layout:I,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(I,R)}),h(this,"onDragOver",y=>{var v;if(y.preventDefault(),y.stopPropagation(),N&&!((v=y.nativeEvent.target)!==null&&v!==void 0&&v.classList.contains(w)))return!1;const{droppingItem:b,onDropDragOver:_,margin:k,cols:S,rowHeight:C,maxRows:A,width:T,containerPadding:P,transformScale:O}=this.props,I=_==null?void 0:_(y);if(I===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const R=f(f({},b),I),{layout:D}=this.state,z=y.currentTarget.getBoundingClientRect(),F=y.clientX-z.left,G=y.clientY-z.top,q={left:F/O,top:G/O,e:y};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:$,top:ee}=this.state.droppingPosition;($!=F||ee!=G)&&this.setState({droppingPosition:q})}}else{const $={cols:S,margin:k,maxRows:A,rowHeight:C,containerWidth:T,containerPadding:P||k},ee=(0,i.calcXY)($,G,F,R.w,R.h);this.setState({droppingDOMNode:e.createElement("div",{key:R.i}),droppingPosition:q,layout:[...D,f(f({},R),{},{x:ee.x,y:ee.y,static:!1,isDraggable:!0})]})}}),h(this,"removeDroppingPlaceholder",()=>{const{droppingItem:y,cols:v}=this.props,{layout:b}=this.state,_=(0,a.compact)(b.filter(k=>k.i!==y.i),(0,a.compactType)(this.props),v,this.props.allowOverlap);this.setState({layout:_,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),h(this,"onDragLeave",y=>{y.preventDefault(),y.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),h(this,"onDragEnter",y=>{y.preventDefault(),y.stopPropagation(),this.dragEnterCounter++}),h(this,"onDrop",y=>{y.preventDefault(),y.stopPropagation();const{droppingItem:v}=this.props,{layout:b}=this.state,_=b.find(k=>k.i===v.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(b,_,y)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(y,v){let b;return v.activeDrag?null:(!(0,n.deepEqual)(y.layout,v.propsLayout)||y.compactType!==v.compactType?b=y.layout:(0,a.childrenEqual)(y.children,v.children)||(b=v.layout),b?{layout:(0,a.synchronizeLayoutWithChildren)(b,y.children,y.cols,(0,a.compactType)(y),y.allowOverlap),compactType:y.compactType,children:y.children,propsLayout:y.layout}:null)}shouldComponentUpdate(y,v){return this.props.children!==y.children||!(0,a.fastRGLPropsEqual)(this.props,y,n.deepEqual)||this.state.activeDrag!==v.activeDrag||this.state.mounted!==v.mounted||this.state.droppingPosition!==v.droppingPosition}componentDidUpdate(y,v){if(!this.state.activeDrag){const b=this.state.layout,_=v.layout;this.onLayoutMaybeChanged(b,_)}}containerHeight(){if(!this.props.autoSize)return;const y=(0,a.bottom)(this.state.layout),v=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return y*this.props.rowHeight+(y-1)*this.props.margin[1]+v*2+"px"}onLayoutMaybeChanged(y,v){v||(v=this.state.layout),(0,n.deepEqual)(v,y)||this.props.onLayoutChange(y)}placeholder(){const{activeDrag:y}=this.state;if(!y)return null;const{width:v,cols:b,margin:_,containerPadding:k,rowHeight:S,maxRows:C,useCSSTransforms:A,transformScale:T}=this.props;return e.createElement(o.default,{w:y.w,h:y.h,x:y.x,y:y.y,i:y.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:v,cols:b,margin:_,containerPadding:k||_,maxRows:C,rowHeight:S,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:A,transformScale:T},e.createElement("div",null))}processGridItem(y,v){if(!y||!y.key)return;const b=(0,a.getLayoutItem)(this.state.layout,String(y.key));if(!b)return null;const{width:_,cols:k,margin:S,containerPadding:C,rowHeight:A,maxRows:T,isDraggable:P,isResizable:O,isBounded:I,useCSSTransforms:R,transformScale:D,draggableCancel:z,draggableHandle:F,resizeHandles:G,resizeHandle:q}=this.props,{mounted:$,droppingPosition:ee}=this.state,Q=typeof b.isDraggable=="boolean"?b.isDraggable:!b.static&&P,M=typeof b.isResizable=="boolean"?b.isResizable:!b.static&&O,de=b.resizeHandles||G,we=Q&&I&&b.isBounded!==!1;return e.createElement(o.default,{containerWidth:_,cols:k,margin:S,containerPadding:C||S,maxRows:T,rowHeight:A,cancel:z,handle:F,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:Q,isResizable:M,isBounded:we,useCSSTransforms:R&&$,usePercentages:!$,transformScale:D,w:b.w,h:b.h,x:b.x,y:b.y,i:b.i,minH:b.minH,minW:b.minW,maxH:b.maxH,maxW:b.maxW,static:b.static,droppingPosition:v?ee:void 0,resizeHandles:de,resizeHandle:q},y)}render(){const{className:y,style:v,isDroppable:b,innerRef:_}=this.props,k=(0,r.default)(w,y),S=f({height:this.containerHeight()},v);return e.createElement("div",{ref:_,className:k,style:S,onDrop:b?this.onDrop:a.noop,onDragLeave:b?this.onDragLeave:a.noop,onDragEnter:b?this.onDragEnter:a.noop,onDragOver:b?this.onDragOver:a.noop},e.Children.map(this.props.children,C=>this.processGridItem(C)),b&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}};return ss.default=j,h(j,"displayName","ReactGridLayout"),h(j,"propTypes",l.default),h(j,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:a.noop,onDragStart:a.noop,onDrag:a.noop,onDragStop:a.noop,onResizeStart:a.noop,onResize:a.noop,onResizeStop:a.noop,onDrop:a.noop,onDropDragOver:a.noop}),ss}var hs={},Yn={},Td;function Mm(){if(Td)return Yn;Td=1,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.findOrGenerateResponsiveLayout=a,Yn.getBreakpointFromWidth=n,Yn.getColsFromBreakpoint=r,Yn.sortBreakpoints=i;var e=zr();function n(o,l){const c=i(o);let d=c[0];for(let u=1,f=c.length;u<f;u++){const h=c[u];l>o[h]&&(d=h)}return d}function r(o,l){if(!l[o])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+o+" is missing!");return l[o]}function a(o,l,c,d,u,f){if(o[c])return(0,e.cloneLayout)(o[c]);let h=o[d];const p=i(l),g=p.slice(p.indexOf(c));for(let w=0,N=g.length;w<N;w++){const j=g[w];if(o[j]){h=o[j];break}}return h=(0,e.cloneLayout)(h||[]),(0,e.compact)((0,e.correctBounds)(h,{cols:u}),f,u)}function i(o){return Object.keys(o).sort(function(c,d){return o[c]-o[d]})}return Yn}var Rd;function I5(){if(Rd)return hs;Rd=1,Object.defineProperty(hs,"__esModule",{value:!0}),hs.default=void 0;var e=d(Wt()),n=c(qn()),r=Ul(),a=zr(),i=Mm(),o=c(zm());const l=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function c(b){return b&&b.__esModule?b:{default:b}}function d(b,_){if(typeof WeakMap=="function")var k=new WeakMap,S=new WeakMap;return(d=function(C,A){if(!A&&C&&C.__esModule)return C;var T,P,O={__proto__:null,default:C};if(C===null||typeof C!="object"&&typeof C!="function")return O;if(T=A?S:k){if(T.has(C))return T.get(C);T.set(C,O)}for(const I in C)I!=="default"&&{}.hasOwnProperty.call(C,I)&&((P=(T=Object.defineProperty)&&Object.getOwnPropertyDescriptor(C,I))&&(P.get||P.set)?T(O,I,P):O[I]=C[I]);return O})(b,_)}function u(){return u=Object.assign?Object.assign.bind():function(b){for(var _=1;_<arguments.length;_++){var k=arguments[_];for(var S in k)({}).hasOwnProperty.call(k,S)&&(b[S]=k[S])}return b},u.apply(null,arguments)}function f(b,_){if(b==null)return{};var k,S,C=h(b,_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(b);for(S=0;S<A.length;S++)k=A[S],_.indexOf(k)===-1&&{}.propertyIsEnumerable.call(b,k)&&(C[k]=b[k])}return C}function h(b,_){if(b==null)return{};var k={};for(var S in b)if({}.hasOwnProperty.call(b,S)){if(_.indexOf(S)!==-1)continue;k[S]=b[S]}return k}function p(b,_){var k=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);_&&(S=S.filter(function(C){return Object.getOwnPropertyDescriptor(b,C).enumerable})),k.push.apply(k,S)}return k}function g(b){for(var _=1;_<arguments.length;_++){var k=arguments[_]!=null?arguments[_]:{};_%2?p(Object(k),!0).forEach(function(S){w(b,S,k[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(k)):p(Object(k)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(k,S))})}return b}function w(b,_,k){return(_=N(_))in b?Object.defineProperty(b,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[_]=k,b}function N(b){var _=j(b,"string");return typeof _=="symbol"?_:_+""}function j(b,_){if(typeof b!="object"||!b)return b;var k=b[Symbol.toPrimitive];if(k!==void 0){var S=k.call(b,_);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(b)}const x=b=>Object.prototype.toString.call(b);function y(b,_){return b==null?null:Array.isArray(b)?b:b[_]}let v=class extends e.Component{constructor(){super(...arguments),w(this,"state",this.generateInitialState()),w(this,"onLayoutChange",_=>{this.props.onLayoutChange(_,g(g({},this.props.layouts),{},{[this.state.breakpoint]:_}))})}generateInitialState(){const{width:_,breakpoints:k,layouts:S,cols:C}=this.props,A=(0,i.getBreakpointFromWidth)(k,_),T=(0,i.getColsFromBreakpoint)(A,C),P=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(S,k,A,A,T,P),breakpoint:A,cols:T}}static getDerivedStateFromProps(_,k){if(!(0,r.deepEqual)(_.layouts,k.layouts)){const{breakpoint:S,cols:C}=k;return{layout:(0,i.findOrGenerateResponsiveLayout)(_.layouts,_.breakpoints,S,S,C,_.compactType),layouts:_.layouts}}return null}componentDidUpdate(_){(this.props.width!=_.width||this.props.breakpoint!==_.breakpoint||!(0,r.deepEqual)(this.props.breakpoints,_.breakpoints)||!(0,r.deepEqual)(this.props.cols,_.cols))&&this.onWidthChange(_)}onWidthChange(_){const{breakpoints:k,cols:S,layouts:C,compactType:A}=this.props,T=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),P=this.state.breakpoint,O=(0,i.getColsFromBreakpoint)(T,S),I=g({},C);if(P!==T||_.breakpoints!==k||_.cols!==S){P in I||(I[P]=(0,a.cloneLayout)(this.state.layout));let z=(0,i.findOrGenerateResponsiveLayout)(I,k,T,P,O,A);z=(0,a.synchronizeLayoutWithChildren)(z,this.props.children,O,A,this.props.allowOverlap),I[T]=z,this.props.onBreakpointChange(T,O),this.props.onLayoutChange(z,I),this.setState({breakpoint:T,layout:z,cols:O})}const R=y(this.props.margin,T),D=y(this.props.containerPadding,T);this.props.onWidthChange(this.props.width,R,O,D)}render(){const _=this.props,{breakpoint:k,breakpoints:S,cols:C,layouts:A,margin:T,containerPadding:P,onBreakpointChange:O,onLayoutChange:I,onWidthChange:R}=_,D=f(_,l);return e.createElement(o.default,u({},D,{margin:y(T,this.state.breakpoint),containerPadding:y(P,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return hs.default=v,w(v,"propTypes",{breakpoint:n.default.string,breakpoints:n.default.object,allowOverlap:n.default.bool,cols:n.default.object,margin:n.default.oneOfType([n.default.array,n.default.object]),containerPadding:n.default.oneOfType([n.default.array,n.default.object]),layouts(b,_){if(x(b[_])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+x(b[_]));Object.keys(b[_]).forEach(k=>{if(!(k in b.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,a.validateLayout)(b.layouts[k],"layouts."+k)})},width:n.default.number.isRequired,onBreakpointChange:n.default.func,onLayoutChange:n.default.func,onWidthChange:n.default.func}),w(v,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:a.noop,onLayoutChange:a.noop,onWidthChange:a.noop}),hs}var Ca={},Im=(function(){if(typeof Map<"u")return Map;function e(n,r){var a=-1;return n.some(function(i,o){return i[0]===r?(a=o,!0):!1}),a}return(function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(r){var a=e(this.__entries__,r),i=this.__entries__[a];return i&&i[1]},n.prototype.set=function(r,a){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=a:this.__entries__.push([r,a])},n.prototype.delete=function(r){var a=this.__entries__,i=e(a,r);~i&&a.splice(i,1)},n.prototype.has=function(r){return!!~e(this.__entries__,r)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(r,a){a===void 0&&(a=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];r.call(a,l[1],l[0])}},n})()})(),Jo=typeof window<"u"&&typeof document<"u"&&window.document===document,ri=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),L5=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ri):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),F5=2;function H5(e,n){var r=!1,a=!1,i=0;function o(){r&&(r=!1,e()),a&&c()}function l(){L5(o)}function c(){var d=Date.now();if(r){if(d-i<F5)return;a=!0}else r=!0,a=!1,setTimeout(l,n);i=d}return c}var B5=20,U5=["top","right","bottom","left","width","height","size","weight"],q5=typeof MutationObserver<"u",V5=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=H5(this.refresh.bind(this),B5)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var r=this.observers_,a=r.indexOf(n);~a&&r.splice(a,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return n.forEach(function(r){return r.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Jo||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),q5?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Jo||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var r=n.propertyName,a=r===void 0?"":r,i=U5.some(function(o){return!!~a.indexOf(o)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),Lm=(function(e,n){for(var r=0,a=Object.keys(n);r<a.length;r++){var i=a[r];Object.defineProperty(e,i,{value:n[i],enumerable:!1,writable:!1,configurable:!0})}return e}),Ar=(function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||ri}),Fm=Ai(0,0,0,0);function si(e){return parseFloat(e)||0}function Od(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return n.reduce(function(a,i){var o=e["border-"+i+"-width"];return a+si(o)},0)}function W5(e){for(var n=["top","right","bottom","left"],r={},a=0,i=n;a<i.length;a++){var o=i[a],l=e["padding-"+o];r[o]=si(l)}return r}function G5(e){var n=e.getBBox();return Ai(0,0,n.width,n.height)}function Y5(e){var n=e.clientWidth,r=e.clientHeight;if(!n&&!r)return Fm;var a=Ar(e).getComputedStyle(e),i=W5(a),o=i.left+i.right,l=i.top+i.bottom,c=si(a.width),d=si(a.height);if(a.boxSizing==="border-box"&&(Math.round(c+o)!==n&&(c-=Od(a,"left","right")+o),Math.round(d+l)!==r&&(d-=Od(a,"top","bottom")+l)),!K5(e)){var u=Math.round(c+o)-n,f=Math.round(d+l)-r;Math.abs(u)!==1&&(c-=u),Math.abs(f)!==1&&(d-=f)}return Ai(i.left,i.top,c,d)}var X5=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Ar(e).SVGGraphicsElement}:function(e){return e instanceof Ar(e).SVGElement&&typeof e.getBBox=="function"}})();function K5(e){return e===Ar(e).document.documentElement}function J5(e){return Jo?X5(e)?G5(e):Y5(e):Fm}function Q5(e){var n=e.x,r=e.y,a=e.width,i=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return Lm(l,{x:n,y:r,width:a,height:i,top:r,right:n+a,bottom:i+r,left:n}),l}function Ai(e,n,r,a){return{x:e,y:n,width:r,height:a}}var Z5=(function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Ai(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=J5(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e})(),eE=(function(){function e(n,r){var a=Q5(r);Lm(this,{target:n,contentRect:a})}return e})(),tE=(function(){function e(n,r,a){if(this.activeObservations_=[],this.observations_=new Im,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=r,this.callbackCtx_=a}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Ar(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)||(r.set(n,new Z5(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof Ar(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(n)&&(r.delete(n),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&n.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,r=this.activeObservations_.map(function(a){return new eE(a.target,a.broadcastRect())});this.callback_.call(n,r,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),Hm=typeof WeakMap<"u"?new WeakMap:new Im,Bm=(function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=V5.getInstance(),a=new tE(n,r,this);Hm.set(this,a)}return e})();["observe","unobserve","disconnect"].forEach(function(e){Bm.prototype[e]=function(){var n;return(n=Hm.get(this))[e].apply(n,arguments)}});var nE=(function(){return typeof ri.ResizeObserver<"u"?ri.ResizeObserver:Bm})();const rE=Object.freeze(Object.defineProperty({__proto__:null,default:nE},Symbol.toStringTag,{value:"Module"})),sE=hp(rE);var Dd;function aE(){if(Dd)return Ca;Dd=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.default=w;var e=l(Wt()),n=o(qn()),r=o(sE),a=o(Ei());const i=["measureBeforeMount"];function o(N){return N&&N.__esModule?N:{default:N}}function l(N,j){if(typeof WeakMap=="function")var x=new WeakMap,y=new WeakMap;return(l=function(v,b){if(!b&&v&&v.__esModule)return v;var _,k,S={__proto__:null,default:v};if(v===null||typeof v!="object"&&typeof v!="function")return S;if(_=b?y:x){if(_.has(v))return _.get(v);_.set(v,S)}for(const C in v)C!=="default"&&{}.hasOwnProperty.call(v,C)&&((k=(_=Object.defineProperty)&&Object.getOwnPropertyDescriptor(v,C))&&(k.get||k.set)?_(S,C,k):S[C]=v[C]);return S})(N,j)}function c(){return c=Object.assign?Object.assign.bind():function(N){for(var j=1;j<arguments.length;j++){var x=arguments[j];for(var y in x)({}).hasOwnProperty.call(x,y)&&(N[y]=x[y])}return N},c.apply(null,arguments)}function d(N,j){if(N==null)return{};var x,y,v=u(N,j);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(N);for(y=0;y<b.length;y++)x=b[y],j.indexOf(x)===-1&&{}.propertyIsEnumerable.call(N,x)&&(v[x]=N[x])}return v}function u(N,j){if(N==null)return{};var x={};for(var y in N)if({}.hasOwnProperty.call(N,y)){if(j.indexOf(y)!==-1)continue;x[y]=N[y]}return x}function f(N,j,x){return(j=h(j))in N?Object.defineProperty(N,j,{value:x,enumerable:!0,configurable:!0,writable:!0}):N[j]=x,N}function h(N){var j=p(N,"string");return typeof j=="symbol"?j:j+""}function p(N,j){if(typeof N!="object"||!N)return N;var x=N[Symbol.toPrimitive];if(x!==void 0){var y=x.call(N,j);if(typeof y!="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(N)}const g="react-grid-layout";function w(N){var j;return j=class extends e.Component{constructor(){super(...arguments),f(this,"state",{width:1280}),f(this,"elementRef",e.createRef()),f(this,"mounted",!1),f(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new r.default(v=>{if(this.elementRef.current instanceof HTMLElement){const _=v[0].contentRect.width;this.setState({width:_})}});const y=this.elementRef.current;y instanceof HTMLElement&&this.resizeObserver.observe(y)}componentWillUnmount(){this.mounted=!1;const y=this.elementRef.current;y instanceof HTMLElement&&this.resizeObserver.unobserve(y),this.resizeObserver.disconnect()}render(){const y=this.props,{measureBeforeMount:v}=y,b=d(y,i);return v&&!this.mounted?e.createElement("div",{className:(0,a.default)(this.props.className,g),style:this.props.style,ref:this.elementRef}):e.createElement(N,c({innerRef:this.elementRef},b,this.state))}},f(j,"defaultProps",{measureBeforeMount:!1}),f(j,"propTypes",{measureBeforeMount:n.default.bool}),j}return Ca}var $d;function iE(){return $d||($d=1,(function(e){e.exports=zm().default,e.exports.utils=zr(),e.exports.calculateUtils=ql(),e.exports.Responsive=I5().default,e.exports.Responsive.utils=Mm(),e.exports.WidthProvider=aE().default})(lo)),lo.exports}var oE=iE();const lE=ii(oE),Cn=({title:e,icon:n,children:r,onRemove:a,className:i=""})=>s.jsxs("div",{className:`bg-dark-surface border border-dark-border rounded-lg shadow-lg h-full flex flex-col ${i}`,children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ng,{className:"h-4 w-4 text-slate-400 cursor-move drag-handle"}),n&&s.jsx("div",{className:"text-primary",children:n}),s.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),a&&s.jsx("button",{onClick:a,className:"p-1 text-slate-400 hover:text-white hover:bg-dark-hover rounded transition-colors",children:s.jsx($t,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex-1 p-4 overflow-auto",children:r})]}),cE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await(await fetch("/api/dashboard/data/recent_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(d.scans||[])}catch(c){console.error("Failed to fetch recent scans:",c)}finally{i(!1)}},l=c=>{switch(c){case"completed":return s.jsx(Qe,{className:"h-4 w-4 text-green-500"});case"failed":return s.jsx(Vt,{className:"h-4 w-4 text-red-500"});case"running":return s.jsx(Nt,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return s.jsx(qt,{className:"h-4 w-4 text-yellow-500"})}};return s.jsx(Cn,{title:"Recent Scans",icon:s.jsx(pt,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No recent scans"}):s.jsx("div",{className:"space-y-2",children:n.map(c=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l(c.status),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white truncate",children:c.name}),s.jsx("div",{className:"text-xs text-slate-400",children:vi(new Date(c.created_at),{addSuffix:!0})})]})]}),s.jsx("div",{className:"text-xs text-slate-400 capitalize",children:c.status})]},c.id))})})},uE=({onRemove:e})=>{const[n,r]=E.useState(null),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/vulnerability_summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c)}catch(l){console.error("Failed to fetch vulnerability summary:",l)}finally{i(!1)}};return s.jsx(Cn,{title:"Vulnerability Summary",icon:s.jsx(Ce,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-dark-border",children:[s.jsx("div",{className:"text-3xl font-bold text-white",children:n.total}),s.jsx("div",{className:"text-sm text-slate-400",children:"Total"})]}),s.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-red-900/30",children:[s.jsx("div",{className:"text-3xl font-bold text-red-500",children:n.critical}),s.jsx("div",{className:"text-sm text-slate-400",children:"Critical"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:"High"})]}),s.jsx("span",{className:"text-sm font-semibold text-white",children:n.high})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Medium"})]}),s.jsx("span",{className:"text-sm font-semibold text-white",children:n.medium})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-sm text-slate-300",children:"Low"})]}),s.jsx("span",{className:"text-sm font-semibold text-white",children:n.low})]})]})]}):s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No vulnerability data"})})},dE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const u=await(await fetch("/api/dashboard/data/compliance_scores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(u.scores||[])}catch(d){console.error("Failed to fetch compliance scores:",d)}finally{i(!1)}},l=d=>d>=90?"text-green-500":d>=70?"text-yellow-500":"text-red-500",c=d=>d>=90?"bg-green-500":d>=70?"bg-yellow-500":"bg-red-500";return s.jsx(Cn,{title:"Compliance Scores",icon:s.jsx(rg,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No compliance data"}):s.jsx("div",{className:"space-y-4",children:n.map(d=>{const u=d.score/d.total*100;return s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-white",children:d.framework}),s.jsxs("span",{className:`text-sm font-bold ${l(u)}`,children:[d.score,"/",d.total," (",u.toFixed(0),"%)"]})]}),s.jsx("div",{className:"w-full bg-dark-bg rounded-full h-2",children:s.jsx("div",{className:`${c(u)} h-2 rounded-full transition-all duration-300`,style:{width:`${u}%`}})})]},d.framework)})})})},hE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/scan_activity_chart",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.data||[])}catch(l){console.error("Failed to fetch scan activity:",l)}finally{i(!1)}};return s.jsx(Cn,{title:"Scan Activity (Last 30 Days)",icon:s.jsx(er,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No scan activity data"}):s.jsx(lt,{width:"100%",height:200,children:s.jsxs(Ds,{data:n,children:[s.jsx(nn,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(Ft,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},tickFormatter:l=>{const c=new Date(l);return`${c.getMonth()+1}/${c.getDate()}`}}),s.jsx(Rt,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),s.jsx(ct,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#fff"}}),s.jsx(Dn,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4}})]})})})},fE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const d=await(await fetch("/api/dashboard/data/top_risky_hosts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(d.hosts||[])}catch(c){console.error("Failed to fetch risky hosts:",c)}finally{i(!1)}},l=c=>c>=50?"text-red-500":c>=20?"text-orange-500":"text-yellow-500";return s.jsx(Cn,{title:"Top Risky Hosts",icon:s.jsx(De,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No risky hosts found"}):s.jsx("div",{className:"space-y-2",children:n.map((c,d)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`text-xl font-bold ${l(c.risk_score)}`,children:d+1}),s.jsx(Gt,{className:"h-4 w-4 text-slate-400"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white truncate",children:c.hostname||c.ip}),c.hostname&&s.jsx("div",{className:"text-xs text-slate-400",children:c.ip})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsxs("div",{className:"text-sm font-semibold text-white",children:[c.vulnerability_count," vulns"]}),s.jsxs("div",{className:"flex gap-2 text-xs",children:[c.critical_count>0&&s.jsxs("span",{className:"text-red-500",children:[c.critical_count,"C"]}),c.high_count>0&&s.jsxs("span",{className:"text-orange-500",children:[c.high_count,"H"]})]})]})]},c.ip))})})},mE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/critical_vulns",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.vulnerabilities||[])}catch(l){console.error("Failed to fetch critical vulnerabilities:",l)}finally{i(!1)}};return s.jsx(Cn,{title:"Critical Vulnerabilities",icon:s.jsx(Zl,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No critical vulnerabilities"}):s.jsx("div",{className:"space-y-2",children:n.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-red-900/30 hover:border-red-500 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(Zl,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white truncate",children:l.vulnerability_id}),s.jsxs("div",{className:"text-xs text-slate-400",children:[l.host_ip,"  ",vi(new Date(l.created_at),{addSuffix:!0})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1",children:[s.jsx("div",{className:"px-2 py-1 bg-red-900/30 text-red-500 text-xs font-semibold rounded",children:l.severity.toUpperCase()}),s.jsx("div",{className:"text-xs text-slate-400 capitalize",children:l.status.replace("_"," ")})]})]},l.id))})})},pE=({onRemove:e})=>{const[n,r]=E.useState([]),[a,i]=E.useState(!0);E.useEffect(()=>{o()},[]);const o=async()=>{try{const c=await(await fetch("/api/dashboard/data/upcoming_scheduled_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();r(c.scans||[])}catch(l){console.error("Failed to fetch upcoming scans:",l)}finally{i(!1)}};return s.jsx(Cn,{title:"Upcoming Scheduled Scans",icon:s.jsx(yr,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):n.length===0?s.jsx("div",{className:"text-center text-slate-400 py-8",children:"No upcoming scans"}):s.jsx("div",{className:"space-y-2",children:n.map(l=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx(qt,{className:"h-4 w-4 text-primary flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white truncate",children:l.name}),s.jsxs("div",{className:"text-xs text-slate-400 capitalize",children:[l.schedule_type," scan"]})]})]}),s.jsx("div",{className:"text-xs text-slate-400",children:vi(new Date(l.next_run_at),{addSuffix:!0})})]},l.id))})})},zd={critical:"bg-red-900/30 text-red-500 border-red-500/50",high:"bg-orange-900/30 text-orange-500 border-orange-500/50",medium:"bg-yellow-900/30 text-yellow-500 border-yellow-500/50",low:"bg-blue-900/30 text-blue-500 border-blue-500/50",info:"bg-slate-700/30 text-slate-400 border-slate-500/50"},gE={exposed_service:s.jsx(jn,{className:"h-4 w-4"}),exploit_available:s.jsx(As,{className:"h-4 w-4"}),known_exploited_vulnerability:s.jsx(ec,{className:"h-4 w-4"}),critical_cve:s.jsx(De,{className:"h-4 w-4"}),new_cve:s.jsx(De,{className:"h-4 w-4"}),ransomware_threat:s.jsx(ec,{className:"h-4 w-4"}),misconfiguration:s.jsx(Ce,{className:"h-4 w-4"})},xE=({onRemove:e,limit:n=5})=>{const{data:r,isLoading:a,error:i}=qd({queryKey:["threatAlerts","widget",n],queryFn:async()=>(await m0.getAlerts({limit:n})).data,refetchInterval:6e4}),o=(r==null?void 0:r.alerts)||[],l=(r==null?void 0:r.total)||0,c=o.filter(h=>h.severity==="critical").length,d=o.filter(h=>h.severity==="high").length,u=o.filter(h=>h.in_cisa_kev).length,f=o.filter(h=>h.exploit_available).length;return s.jsx(Cn,{title:"Threat Intelligence",icon:s.jsx(Ce,{className:"h-5 w-5"}),onRemove:e,children:a?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):i?s.jsx("div",{className:"text-center text-red-400 py-8",children:"Failed to load threat alerts"}):o.length===0?s.jsxs("div",{className:"text-center text-slate-400 py-8",children:[s.jsx(Ce,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No active threat alerts"}),s.jsx("p",{className:"text-xs mt-1",children:"Run threat intel enrichment on your scans to generate alerts"})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[s.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[s.jsx("div",{className:"text-lg font-bold text-red-400",children:c}),s.jsx("div",{className:"text-xs text-slate-400",children:"Critical"})]}),s.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[s.jsx("div",{className:"text-lg font-bold text-orange-400",children:d}),s.jsx("div",{className:"text-xs text-slate-400",children:"High"})]}),s.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[s.jsx("div",{className:"text-lg font-bold text-yellow-400",children:u}),s.jsx("div",{className:"text-xs text-slate-400",children:"KEV"})]}),s.jsxs("div",{className:"bg-dark-bg rounded-lg p-2 text-center border border-dark-border",children:[s.jsx("div",{className:"text-lg font-bold text-primary",children:f}),s.jsx("div",{className:"text-xs text-slate-400",children:"Exploits"})]})]}),s.jsx("div",{className:"space-y-2",children:o.slice(0,n).map(h=>s.jsx(yE,{alert:h},h.id))}),l>n&&s.jsx("div",{className:"mt-3 text-center",children:s.jsxs("a",{href:"/threat-intel",className:"text-sm text-primary hover:underline flex items-center justify-center gap-1",children:["View all ",l," alerts",s.jsx(qs,{className:"h-4 w-4"})]})})]})})},yE=({alert:e})=>{const n=gE[e.alert_type]||s.jsx(De,{className:"h-4 w-4"}),r=zd[e.severity]||zd.info;return s.jsxs("div",{className:`flex items-center justify-between p-3 bg-dark-bg rounded-lg border ${e.severity==="critical"?"border-red-900/50":e.severity==="high"?"border-orange-900/50":"border-dark-border"} hover:border-primary/50 transition-colors`,children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("div",{className:`p-1.5 rounded ${r}`,children:n}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white text-sm truncate",title:e.title,children:e.title}),s.jsxs("div",{className:"text-xs text-slate-400 flex items-center gap-2",children:[s.jsx("span",{children:e.source}),s.jsx("span",{className:"text-slate-600",children:"|"}),s.jsx("span",{children:vi(new Date(e.created_at),{addSuffix:!0})})]})]})]}),s.jsxs("div",{className:"flex flex-col items-end gap-1 ml-2",children:[s.jsx("div",{className:`px-2 py-0.5 text-xs font-semibold rounded ${r}`,children:e.severity.toUpperCase()}),s.jsxs("div",{className:"flex gap-1",children:[e.in_cisa_kev&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-red-900/30 text-red-400 rounded",children:"KEV"}),e.exploit_available&&s.jsx("span",{className:"px-1.5 py-0.5 text-xs bg-purple-900/30 text-purple-400 rounded",children:"Exploit"})]})]})]})},bE=({onRemove:e})=>{const n=ir(),[r,a]=E.useState(null),[i,o]=E.useState([]),[l,c]=E.useState(!0),d=E.useCallback(async()=>{try{c(!0);const p=await kc.getMyAssignments({status:""});a(p.data.stats),o(p.data.assignments.slice(0,5))}catch(p){console.error("Failed to fetch assignments:",p)}finally{c(!1)}},[]);E.useEffect(()=>{d()},[d]);const u=async(p,g,w)=>{p.stopPropagation();try{await kc.updateAssignment(g,{status:w}),J.success("Status updated"),d()}catch(N){console.error("Failed to update status:",N),J.error("Failed to update status")}},f=p=>{const g="px-2 py-0.5 text-xs font-semibold rounded-full";switch(p.toLowerCase()){case"critical":return`${g} bg-red-500/20 text-red-400`;case"high":return`${g} bg-orange-500/20 text-orange-400`;case"medium":return`${g} bg-yellow-500/20 text-yellow-400`;case"low":return`${g} bg-blue-500/20 text-blue-400`;default:return`${g} bg-gray-500/20 text-gray-400`}},h=(p,g,w)=>{if(!p)return null;const j=new Date(p).toLocaleDateString();if(w)return s.jsxs("span",{className:"text-red-400 flex items-center gap-1",children:[s.jsx(De,{className:"h-3 w-3"}),"Overdue"]});if(g!==null){if(g===0)return s.jsx("span",{className:"text-yellow-400",children:"Today"});if(g<=3)return s.jsxs("span",{className:"text-yellow-400",children:[g,"d"]})}return s.jsx("span",{className:"text-gray-400",children:j})};return s.jsx(Cn,{title:"My Assignments",icon:s.jsx(sg,{className:"h-5 w-5"}),onRemove:e,children:l?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(Nt,{className:"h-6 w-6 text-primary animate-spin"})}):s.jsxs(s.Fragment,{children:[r&&s.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4 p-3 bg-dark-bg rounded-lg border border-dark-border",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:r.total}),s.jsx("div",{className:"text-xs text-slate-400",children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-red-400",children:r.overdue}),s.jsx("div",{className:"text-xs text-slate-400",children:"Overdue"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-yellow-400",children:r.in_progress}),s.jsx("div",{className:"text-xs text-slate-400",children:"In Progress"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-cyan-400",children:r.critical+r.high}),s.jsx("div",{className:"text-xs text-slate-400",children:"High+"})]})]}),i.length===0?s.jsxs("div",{className:"text-center text-slate-400 py-8",children:[s.jsx(Qe,{className:"h-12 w-12 mx-auto mb-2 text-green-500/50"}),s.jsx("p",{children:"No assignments"}),s.jsx("p",{className:"text-sm mt-1",children:"You are all caught up!"})]}):s.jsx("div",{className:"space-y-2",children:i.map(p=>s.jsxs("div",{className:`flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary cursor-pointer transition-colors ${p.is_overdue?"border-red-900/50":""}`,onClick:()=>n(`/remediation?vuln=${p.id}`),children:[s.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[s.jsx("span",{className:f(p.severity),children:p.severity.charAt(0).toUpperCase()}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"font-medium text-white truncate text-sm",children:p.vulnerability_id}),s.jsxs("div",{className:"text-xs text-slate-400",children:[p.host_ip,p.port?`:${p.port}`:""]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",onClick:g=>g.stopPropagation(),children:[s.jsxs("div",{className:"text-xs",children:[s.jsx(yr,{className:"h-3 w-3 inline mr-1 text-gray-500"}),h(p.due_date,p.days_until_due,p.is_overdue)||s.jsx("span",{className:"text-gray-500",children:"--"})]}),p.status==="open"&&s.jsx("button",{onClick:g=>u(g,p.id,"in_progress"),className:"p-1 text-yellow-400 hover:bg-yellow-500/20 rounded transition-colors",title:"Start Working",children:s.jsx(po,{className:"h-4 w-4"})}),p.status==="in_progress"&&s.jsx("button",{onClick:g=>u(g,p.id,"resolved"),className:"p-1 text-green-400 hover:bg-green-500/20 rounded transition-colors",title:"Mark Resolved",children:s.jsx(Qe,{className:"h-4 w-4"})}),s.jsx(qs,{className:"h-4 w-4 text-gray-500"})]})]},p.id))}),r&&r.total>5&&s.jsx("div",{className:"pt-3 text-center",children:s.jsxs("button",{onClick:()=>n("/remediation?assigned=me"),className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:["View all ",r.total," assignments"]})})]})})},Md=[{type:"recent_scans",label:"Recent Scans",minW:4,minH:2},{type:"vulnerability_summary",label:"Vulnerability Summary",minW:4,minH:2},{type:"compliance_scores",label:"Compliance Scores",minW:4,minH:2},{type:"scan_activity_chart",label:"Scan Activity",minW:6,minH:3},{type:"top_risky_hosts",label:"Top Risky Hosts",minW:4,minH:3},{type:"critical_vulns",label:"Critical Vulnerabilities",minW:4,minH:2},{type:"upcoming_scheduled_scans",label:"Upcoming Scans",minW:4,minH:2},{type:"threat_intel",label:"Threat Intelligence",minW:4,minH:3},{type:"my_assignments",label:"My Assignments",minW:4,minH:3}],vE=({editMode:e=!1,onEditModeChange:n})=>{const[r,a]=E.useState([]),[i,o]=E.useState(!0),[l,c]=E.useState(!1),[d,u]=E.useState(e),[f,h]=E.useState(!1);E.useEffect(()=>{p()},[]),E.useEffect(()=>{u(e)},[e]);const p=async()=>{try{const _=await(await fetch("/api/dashboard/widgets",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();a(_.widgets||[])}catch(b){console.error("Failed to fetch dashboard config:",b)}finally{o(!1)}},g=async()=>{c(!0);try{await fetch("/api/dashboard/widgets",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({widgets:r})})}catch(b){console.error("Failed to save dashboard config:",b)}finally{c(!1)}},w=b=>{if(!d)return;const _=r.map(k=>{const S=b.find(C=>C.i===k.id);return S?{...k,x:S.x,y:S.y,w:S.w,h:S.h}:k});a(_)},N=b=>{const _=Md.find(S=>S.type===b);if(!_)return;const k={id:`${b}_${Date.now()}`,widget_type:b,x:0,y:1/0,w:_.minW,h:_.minH};a([...r,k]),h(!1)},j=b=>{a(r.filter(_=>_.id!==b))},x=()=>{const b=!d;u(b),n&&n(b)},y=b=>{const _={onRemove:d?()=>j(b.id):void 0};switch(b.widget_type){case"recent_scans":return s.jsx(cE,{..._});case"vulnerability_summary":return s.jsx(uE,{..._});case"compliance_scores":return s.jsx(dE,{..._});case"scan_activity_chart":return s.jsx(hE,{..._});case"top_risky_hosts":return s.jsx(fE,{..._});case"critical_vulns":return s.jsx(mE,{..._});case"upcoming_scheduled_scans":return s.jsx(pE,{..._});case"threat_intel":return s.jsx(xE,{..._});case"my_assignments":return s.jsx(bE,{..._});default:return null}};if(i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"text-slate-400",children:"Loading dashboard..."})});const v=r.map(b=>({i:b.id,x:b.x,y:b.y,w:b.w,h:b.h}));return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${d?"bg-primary text-white":"bg-dark-surface text-slate-300 hover:text-white border border-dark-border"}`,children:[s.jsx(tc,{className:"h-4 w-4"}),d?"Exit Edit Mode":"Customize Dashboard"]}),d&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!f),className:"flex items-center gap-2 px-4 py-2 bg-dark-surface text-slate-300 hover:text-white border border-dark-border rounded-lg transition-colors",children:[s.jsx(Ln,{className:"h-4 w-4"}),"Add Widget"]}),f&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>h(!1)}),s.jsx("div",{className:"absolute top-full mt-2 left-0 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-50 min-w-[200px]",children:Md.map(b=>s.jsx("button",{onClick:()=>N(b.type),className:"w-full text-left px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-dark-hover transition-colors first:rounded-t-lg last:rounded-b-lg",children:b.label},b.type))})]})]}),s.jsxs("button",{onClick:g,disabled:l,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(nl,{className:"h-4 w-4"}),l?"Saving...":"Save Layout"]})]})]}),d&&s.jsx("div",{className:"text-sm text-slate-400",children:"Drag widgets to reposition, resize from corners"})]}),s.jsx(lE,{className:"layout",layout:v,cols:12,rowHeight:100,width:1200,isDraggable:d,isResizable:d,onLayoutChange:w,draggableHandle:".drag-handle",children:r.map(b=>s.jsx("div",{className:d?"cursor-move":"",children:y(b)},b.id))}),r.length===0&&s.jsxs("div",{className:"text-center py-12 text-slate-400",children:[s.jsx(tc,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No widgets added yet"}),d&&s.jsx("button",{onClick:()=>h(!0),className:"mt-4 text-primary hover:underline",children:"Add your first widget"})]})]})},wE=({selectedCount:e,onClear:n,actions:r,onAction:a,isProcessing:i=!1})=>{const[o,l]=E.useState(null);if(e===0)return null;const c=h=>{h.requiresConfirmation?l(h.id):a(h.id)},d=()=>{o&&(a(o),l(null))},u=h=>{if(h.icon)return h.icon;switch(h.id){case"delete":return s.jsx(ci,{className:"h-4 w-4"});case"export":return s.jsx(kr,{className:"h-4 w-4"});default:return null}},f=r.find(h=>h.id===o);return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:s.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-2xl px-6 py-4 min-w-[400px]",children:s.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center font-semibold text-sm",children:e}),s.jsxs("span",{className:"text-white font-medium",children:[e," item",e!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[r.map(h=>s.jsxs(He,{variant:h.variant||"secondary",onClick:()=>c(h),disabled:i,className:"flex items-center space-x-2",children:[u(h),s.jsx("span",{children:h.label})]},h.id)),s.jsx("button",{onClick:n,disabled:i,className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-dark-bg disabled:opacity-50",title:"Clear selection",children:s.jsx($t,{className:"h-5 w-5"})})]})]})})}),o&&f&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:s.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Action"}),s.jsx("p",{className:"text-slate-300 mb-6",children:f.confirmationMessage||`Are you sure you want to ${f.label.toLowerCase()} ${e} item${e!==1?"s":""}?`}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx(He,{variant:"secondary",onClick:()=>l(null),disabled:i,children:"Cancel"}),s.jsx(He,{variant:f.variant||"primary",onClick:d,disabled:i,children:"Confirm"})]})]})})]})},jE=({shortcuts:e,enabled:n=!0})=>{E.useEffect(()=>{if(!n)return;const r=a=>{if(!(a.target instanceof HTMLInputElement||a.target instanceof HTMLTextAreaElement||a.target instanceof HTMLSelectElement))for(const i of e){const o=i.ctrl===void 0||i.ctrl===(a.ctrlKey||a.metaKey),l=i.shift===void 0||i.shift===a.shiftKey,c=i.alt===void 0||i.alt===a.altKey,d=a.key.toLowerCase()===i.key.toLowerCase();if(o&&l&&c&&d){a.preventDefault(),i.action();break}}};return window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}},[e,n])},_E=e=>{const n=[];return e.ctrl&&n.push("Ctrl"),e.shift&&n.push("Shift"),e.alt&&n.push("Alt"),n.push(e.key.toUpperCase()),n.join("+")},Id=()=>{const{activeScan:e,results:n,setActiveScan:r,scans:a,setScans:i}=Ut(),[o,l]=E.useState(!1),[c,d]=E.useState("overview"),[u,f]=E.useState(new Set),[h,p]=E.useState(!1),g=b=>{const _=a.find(k=>k.id===b);_&&r(_)},w=async b=>{if(u.size!==0){p(!0);try{switch(b){case"delete":await N();break;case"export-json":await j("json");break;case"export-csv":await j("csv");break;default:J.warning("Unknown action")}}catch(_){console.error("Bulk action failed:",_),J.error("Bulk action failed")}finally{p(!1)}}},N=async()=>{try{const b=await sn.bulkDelete(Array.from(u));b.data.failed&&b.data.failed>0?J.warning(b.data.message):J.success(b.data.message);const _=await sn.getAll();i(_.data),f(new Set)}catch(b){throw J.error("Failed to delete scans"),b}},j=async b=>{try{const _=await sn.bulkExport(Array.from(u),b,{include_vulnerabilities:!0,include_services:!0}),k=window.URL.createObjectURL(new Blob([_.data])),S=document.createElement("a");S.href=k,S.setAttribute("download","scans_export.zip"),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(k),J.success(`Exported ${u.size} scan(s) successfully`),f(new Set)}catch(_){throw J.error("Failed to export scans"),_}},x=[{id:"delete",label:"Delete",icon:s.jsx(ci,{className:"h-4 w-4"}),variant:"danger",requiresConfirmation:!0,confirmationMessage:`Are you sure you want to delete ${u.size} scan${u.size!==1?"s":""}? This action cannot be undone.`},{id:"export-json",label:"Export JSON",icon:s.jsx(kr,{className:"h-4 w-4"}),variant:"secondary"},{id:"export-csv",label:"Export CSV",icon:s.jsx(kr,{className:"h-4 w-4"}),variant:"secondary"}],y=E.useMemo(()=>e&&n.has(e.id)?n.get(e.id)||[]:Array.from(n.values()).flat(),[e,n]),v=[{key:"f",ctrl:!0,action:()=>{const b=document.querySelector('input[placeholder*="Search"]');b&&(b.focus(),b.select())},description:"Focus search"},{key:"k",ctrl:!0,action:()=>l(!o),description:"Show keyboard shortcuts"},{key:"Escape",action:()=>l(!1),description:"Close modals"}];return jE({shortcuts:v}),s.jsx(ej,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:"Network Triage Dashboard"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Create scans, monitor progress, and analyze results in real-time"})]}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors border border-light-border dark:border-dark-border hover:border-primary rounded-lg",children:[s.jsx(nc,{className:"h-4 w-4"}),"Shortcuts"]})]}),s.jsxs("div",{className:"flex gap-2 border-b border-light-border dark:border-dark-border pb-2",children:[s.jsxs("button",{onClick:()=>d("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="overview"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[s.jsx(ag,{className:"h-4 w-4"}),"Overview"]}),s.jsxs("button",{onClick:()=>d("scans"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="scans"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[s.jsx(Xd,{className:"h-4 w-4"}),"Scans"]}),s.jsxs("button",{onClick:()=>d("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="analytics"?"bg-light-surface dark:bg-dark-surface text-primary border-b-2 border-primary":"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white hover:bg-light-hover dark:hover:bg-dark-hover"}`,children:[s.jsx(er,{className:"h-4 w-4"}),"Analytics"]})]}),c==="overview"&&s.jsx(vE,{}),c==="scans"&&s.jsxs(s.Fragment,{children:[s.jsx(v5,{}),s.jsx(C_,{onScanSelect:g}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"space-y-6",children:[s.jsx(aj,{}),s.jsx(w_,{selectedIds:u,onSelectionChange:f})]}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(S_,{scanId:(e==null?void 0:e.id)||null}),(e==null?void 0:e.status)==="running"&&s.jsx(E_,{scanId:e.id}),y.length>0&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsx(j5,{hosts:y}),s.jsx(k5,{hosts:y})]}),s.jsx(b5,{})]})]})]}),c==="analytics"&&s.jsx(E5,{}),s.jsx(wE,{selectedCount:u.size,onClear:()=>f(new Set),actions:x,onAction:w,isProcessing:h}),o&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:()=>l(!1)}),s.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadeIn",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-xl font-semibold text-slate-900 dark:text-white flex items-center gap-2",children:[s.jsx(nc,{className:"h-5 w-5 text-primary"}),"Keyboard Shortcuts"]}),s.jsx("button",{onClick:()=>l(!1),className:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white transition-colors",children:s.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"space-y-2",children:v.map((b,_)=>s.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-light-bg dark:bg-dark-bg rounded border border-light-border dark:border-dark-border",children:[s.jsx("span",{className:"text-sm text-slate-700 dark:text-slate-300",children:b.description}),s.jsx("kbd",{className:"px-2 py-1 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded text-xs font-mono text-primary",children:_E(b)})]},_))}),s.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center",children:["Press ",s.jsx("kbd",{className:"px-1 py-0.5 bg-light-surface dark:bg-dark-surface border border-light-border dark:border-dark-border rounded text-xs font-mono",children:"Esc"})," to close"]})]})]})]})})},Ld={step:"tier",selectedTier:null,tierInfo:null,billingCycle:"monthly",email:"",verificationToken:null,verificationId:null,emailVerified:!1,paymentVerified:!1,stripeSessionId:null,checkoutUrl:null},Um=Bs(e=>({...Ld,setStep:n=>e({step:n}),selectTier:(n,r)=>e({selectedTier:n,tierInfo:r||null}),setBillingCycle:n=>e({billingCycle:n}),setEmail:n=>e({email:n}),setVerificationToken:n=>e({verificationToken:n}),setVerificationId:n=>e({verificationId:n}),setEmailVerified:n=>e({emailVerified:n}),setPaymentVerified:n=>e({paymentVerified:n}),setStripeSession:(n,r)=>e({stripeSessionId:n,checkoutUrl:r}),reset:()=>e(Ld)}));function NE({tier:e,selected:n,billingCycle:r,onSelect:a}){const i=r==="yearly"?e.yearly_price:e.monthly_price,o=e.name==="enterprise";return s.jsxs("button",{onClick:a,className:`relative p-6 rounded-xl border-2 text-left transition-all duration-200 ${n?"border-cyan-500 bg-cyan-500/10 ring-2 ring-cyan-500/50":"border-gray-700 bg-gray-800/50 hover:border-gray-600"}`,children:[e.name==="professional"&&s.jsx("span",{className:"absolute -top-3 left-1/2 -translate-x-1/2 px-3 py-1 text-xs font-medium bg-cyan-500 text-white rounded-full",children:"Most Popular"}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.name==="solo"&&s.jsx(Tr,{className:"h-6 w-6 text-cyan-400"}),e.name==="professional"&&s.jsx(Ce,{className:"h-6 w-6 text-cyan-400"}),e.name==="team"&&s.jsx(La,{className:"h-6 w-6 text-cyan-400"}),e.name==="enterprise"&&s.jsx(Fn,{className:"h-6 w-6 text-cyan-400"}),s.jsx("h3",{className:"text-xl font-bold text-white",children:e.display_name})]}),s.jsx("div",{className:"mb-4",children:o?s.jsx("p",{className:"text-2xl font-bold text-white",children:"Custom"}):s.jsxs("div",{className:"flex items-baseline gap-1",children:[s.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",i==null?void 0:i.toFixed(0)]}),s.jsxs("span",{className:"text-gray-400",children:["/",r==="yearly"?"year":"month"]})]})}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:e.description}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),e.max_users===-1?"Unlimited":e.max_users," user",e.max_users!==1?"s":""]}),s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),e.max_scans_per_day===-1?"Unlimited":e.max_scans_per_day," scans/day"]}),s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),e.max_assets===-1?"Unlimited":e.max_assets," assets"]}),e.features.scheduling&&s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),"Scheduled scans"]}),e.features.team_management&&s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),"Team management"]}),e.features.crm&&s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),"CRM & customer portals"]}),e.features.sso&&s.jsxs("li",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(mt,{className:"h-4 w-4 text-cyan-500"}),"SSO integration"]})]})]})}function kE({currentStep:e}){const n=[{key:"tier",label:"Select Plan"},{key:"email",label:"Your Email"},{key:"payment",label:"Payment"},{key:"details",label:"Account Details"}],r=n.findIndex(a=>a.key===e);return s.jsx("div",{className:"flex items-center justify-center gap-2 mb-8",children:n.map((a,i)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full text-sm font-medium ${i<r?"bg-cyan-500 text-white":i===r?"bg-cyan-500/20 text-cyan-400 border-2 border-cyan-500":"bg-gray-700 text-gray-400"}`,children:i<r?s.jsx(mt,{className:"h-4 w-4"}):i+1}),s.jsx("span",{className:`hidden sm:block ml-2 text-sm ${i===r?"text-white font-medium":"text-gray-500"}`,children:a.label}),i<n.length-1&&s.jsx("div",{className:`w-8 sm:w-16 h-0.5 mx-2 ${i<r?"bg-cyan-500":"bg-gray-700"}`})]},a.key))})}function SE(){const e=ir(),[n]=oi(),{login:r}=Bn(),{step:a,selectedTier:i,tierInfo:o,billingCycle:l,email:c,verificationToken:d,emailVerified:u,setStep:f,selectTier:h,setBillingCycle:p,setEmail:g,setVerificationToken:w,setEmailVerified:N,reset:j}=Um(),[x,y]=E.useState([]),[v,b]=E.useState(!1),[_,k]=E.useState(""),[S,C]=E.useState(""),[A,T]=E.useState(""),[P,O]=E.useState(!1);E.useEffect(()=>{(async()=>{try{const q=await gr.getTiers();y(q.data)}catch{y([{id:"tier_solo",name:"solo",display_name:"Solo",description:"Perfect for individual security professionals",monthly_price:99,yearly_price:990,max_users:1,max_scans_per_day:10,max_assets:100,features:{scanning:!0,reporting:!0}},{id:"tier_professional",name:"professional",display_name:"Professional",description:"For growing security teams",monthly_price:299,yearly_price:2990,max_users:5,max_scans_per_day:50,max_assets:500,features:{scanning:!0,reporting:!0,scheduling:!0,team_management:!0}},{id:"tier_team",name:"team",display_name:"Team",description:"For established security teams",monthly_price:599,yearly_price:5990,max_users:15,max_scans_per_day:200,max_assets:2e3,features:{scanning:!0,reporting:!0,scheduling:!0,team_management:!0,crm:!0}},{id:"tier_enterprise",name:"enterprise",display_name:"Enterprise",description:"Custom solutions for large organizations",max_users:-1,max_scans_per_day:-1,max_assets:-1,features:{scanning:!0,reporting:!0,scheduling:!0,team_management:!0,crm:!0,sso:!0}}])}})();const G=n.get("tier");G&&h(G)},[n,h]);const I=F=>{if(F.name==="enterprise"){e("/contact-sales");return}h(F.name,F)},R=()=>{if(!i){J.error("Please select a plan");return}f("email")},D=async F=>{var G,q;if(F.preventDefault(),!c||!c.includes("@")){J.error("Please enter a valid email");return}b(!0);try{if(!(await gr.checkEmail(c)).data.available){J.error("An account with this email already exists"),b(!1);return}const ee=await gr.initRegistration({email:c,tier:i,billing_cycle:l});ee.data.checkout_url?window.location.href=ee.data.checkout_url:(J.success("Check your email to verify your account"),f("payment"))}catch($){J.error(((q=(G=$.response)==null?void 0:G.data)==null?void 0:q.error)||"Failed to start registration")}finally{b(!1)}},z=async F=>{var G,q;if(F.preventDefault(),!_||_.length<3){J.error("Username must be at least 3 characters");return}if(!S||S.length<8){J.error("Password must be at least 8 characters");return}if(S!==A){J.error("Passwords do not match");return}if(!P){J.error("You must accept the terms of service");return}b(!0);try{const $=await gr.completeRegistration({token:d,username:_,password:S,accept_terms:P});$.data.success&&(localStorage.setItem("heroforge_token",$.data.token),r($.data.token,{id:$.data.user_id,username:_}),J.success("Registration complete! Welcome to HeroForge."),j(),e("/dashboard"))}catch($){J.error(((q=(G=$.response)==null?void 0:G.data)==null?void 0:q.error)||"Failed to complete registration")}finally{b(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[s.jsx("div",{className:"border-b border-gray-800 bg-gray-900/80 backdrop-blur-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(yo,{className:"h-5 w-5"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"h-6 w-6 text-cyan-500"}),s.jsx("span",{className:"text-xl font-bold text-white",children:"HeroForge"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Already have an account? Sign in"})]})}),s.jsx("div",{className:"flex-1 py-12 px-4",children:s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Create Your Account"}),s.jsx("p",{className:"text-gray-400",children:"Get started with HeroForge security platform"})]}),s.jsx(kE,{currentStep:a}),a==="tier"&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"flex items-center justify-center gap-4",children:[s.jsx("button",{onClick:()=>p("monthly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="monthly"?"bg-cyan-500 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:"Monthly"}),s.jsxs("button",{onClick:()=>p("yearly"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="yearly"?"bg-cyan-500 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:["Yearly",s.jsx("span",{className:"ml-1 text-xs text-cyan-300",children:"(Save 17%)"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:x.map(F=>s.jsx(NE,{tier:F,selected:i===F.name,billingCycle:l,onSelect:()=>I(F)},F.id))}),s.jsx("div",{className:"flex justify-center",children:s.jsxs("button",{onClick:R,disabled:!i,className:"flex items-center gap-2 px-8 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:["Continue",s.jsx(br,{className:"h-5 w-5"})]})})]}),a==="email"&&s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("form",{onSubmit:D,className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Enter your email"}),s.jsx("p",{className:"text-gray-400 text-sm mb-6",children:"We'll send you a verification link to confirm your email address."}),s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",value:c,onChange:F=>g(F.target.value),placeholder:"you@company.com",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("button",{type:"button",onClick:()=>f("tier"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(yo,{className:"h-5 w-5"}),"Back"]}),s.jsx("button",{type:"submit",disabled:v,className:"flex items-center gap-2 px-8 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:v?s.jsx(Nn,{className:"h-5 w-5 animate-spin"}):s.jsxs(s.Fragment,{children:["Continue to Payment",s.jsx(br,{className:"h-5 w-5"})]})})]})]})}),a==="payment"&&!u&&s.jsx("div",{className:"max-w-md mx-auto text-center",children:s.jsxs("div",{className:"bg-gray-800/50 p-8 rounded-xl border border-gray-700",children:[s.jsx(Os,{className:"h-16 w-16 text-cyan-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Check Your Email"}),s.jsxs("p",{className:"text-gray-400 mb-6",children:["We've sent a verification link to ",s.jsx("span",{className:"text-white",children:c}),". Click the link to continue with your registration."]}),s.jsxs("p",{className:"text-sm text-gray-500",children:["Didn't receive the email? Check your spam folder or"," ",s.jsx("button",{onClick:()=>f("email"),className:"text-cyan-400 hover:text-cyan-300",children:"try a different email"})]})]})}),a==="details"&&s.jsx("div",{className:"max-w-md mx-auto",children:s.jsxs("form",{onSubmit:z,className:"space-y-6",children:[s.jsxs("div",{className:"bg-gray-800/50 p-6 rounded-xl border border-gray-700 space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Create Your Account"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:_,onChange:F=>k(F.target.value),placeholder:"Choose a username",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0,minLength:3})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",value:S,onChange:F=>C(F.target.value),placeholder:"Create a password",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0,minLength:8})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(on,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"password",value:A,onChange:F=>T(F.target.value),placeholder:"Confirm your password",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]})]}),s.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[s.jsx("input",{type:"checkbox",id:"terms",checked:P,onChange:F=>O(F.target.checked),className:"mt-1 h-4 w-4 rounded border-gray-600 bg-gray-900 text-cyan-500 focus:ring-cyan-500"}),s.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-400",children:["I agree to the"," ",s.jsx("a",{href:"/terms",className:"text-cyan-400 hover:text-cyan-300",children:"Terms of Service"})," ","and"," ",s.jsx("a",{href:"/privacy",className:"text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})]})]})]}),s.jsx("button",{type:"submit",disabled:v,className:"w-full flex items-center justify-center gap-2 px-8 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:v?s.jsx(Nn,{className:"h-5 w-5 animate-spin"}):s.jsxs(s.Fragment,{children:["Create Account",s.jsx(br,{className:"h-5 w-5"})]})})]})})]})})]})}function CE(){const e=ir(),[n]=oi(),{setVerificationToken:r,setEmailVerified:a,setStep:i}=Um(),[o,l]=E.useState("loading"),[c,d]=E.useState(""),[u,f]=E.useState(""),[h,p]=E.useState("");E.useEffect(()=>{(async()=>{var j,x;const N=n.get("token");if(!N){l("error"),p("Missing verification token");return}try{const y=await gr.verifyEmail(N),{verified:v,email:b,tier:_,payment_required:k,payment_verified:S}=y.data;d(b),f(_),v?(r(N),a(!0),k&&!S?(l("payment_required"),p("Your email is verified! Please complete payment to continue.")):(l("success"),p("Your email has been verified! You can now complete your account setup."),i("details"))):(l("error"),p("Verification failed. Please try again."))}catch(y){l("error"),p(((x=(j=y.response)==null?void 0:j.data)==null?void 0:x.error)||"Failed to verify email. The link may have expired.")}})()},[n,r,a,i]);const g=()=>{e("/register")};return s.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx(Ce,{className:"h-10 w-10 text-cyan-500"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:"HeroForge"})]}),s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 p-8 text-center",children:[o==="loading"&&s.jsxs(s.Fragment,{children:[s.jsx(Nn,{className:"h-16 w-16 text-cyan-500 mx-auto mb-4 animate-spin"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Verifying your email..."}),s.jsx("p",{className:"text-gray-400",children:"Please wait while we verify your email address."})]}),o==="success"&&s.jsxs(s.Fragment,{children:[s.jsx(Qe,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Email Verified!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:h}),c&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-6",children:[s.jsx(Os,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{children:c})]}),s.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 transition-colors",children:["Continue to Account Setup",s.jsx(br,{className:"h-5 w-5"})]})]}),o==="payment_required"&&s.jsxs(s.Fragment,{children:[s.jsx(el,{className:"h-16 w-16 text-yellow-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Payment Required"}),s.jsx("p",{className:"text-gray-400 mb-6",children:h}),c&&s.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-300 mb-2",children:[s.jsx(Os,{className:"h-5 w-5 text-cyan-400"}),s.jsx("span",{children:c})]}),u&&s.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Selected plan: ",s.jsx("span",{className:"text-cyan-400 capitalize",children:u})]}),s.jsxs("button",{onClick:g,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 transition-colors",children:["Complete Payment",s.jsx(br,{className:"h-5 w-5"})]})]}),o==="error"&&s.jsxs(s.Fragment,{children:[s.jsx(Vt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Verification Failed"}),s.jsx("p",{className:"text-gray-400 mb-6",children:h}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:()=>e("/register"),className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 transition-colors",children:["Try Again",s.jsx(br,{className:"h-5 w-5"})]}),s.jsx("button",{onClick:()=>e("/login"),className:"w-full px-6 py-3 text-gray-400 hover:text-white transition-colors",children:"Already have an account? Sign in"})]})]})]}),s.jsxs("p",{className:"text-center text-gray-500 text-sm mt-6",children:["Need help?"," ",s.jsx("a",{href:"mailto:support@heroforge.io",className:"text-cyan-400 hover:text-cyan-300",children:"Contact support"})]})]})]})}const EE=["1-10 employees","11-50 employees","51-200 employees","201-500 employees","501-1000 employees","1000+ employees"];function PE(){const e=ir(),[n,r]=E.useState(!1),[a,i]=E.useState(!1),[o,l]=E.useState({email:"",company_name:"",contact_name:"",phone:"",job_title:"",company_size:"",message:""}),c=u=>{const{name:f,value:h}=u.target;l(p=>({...p,[f]:h}))},d=async u=>{var f,h;if(u.preventDefault(),!o.email||!o.company_name||!o.contact_name){J.error("Please fill in all required fields");return}r(!0);try{await gr.submitEnterpriseInquiry(o),i(!0)}catch(p){J.error(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.error)||"Failed to submit inquiry")}finally{r(!1)}};return a?s.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center px-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-8",children:[s.jsx(Ce,{className:"h-10 w-10 text-cyan-500"}),s.jsx("span",{className:"text-2xl font-bold text-white",children:"HeroForge"})]}),s.jsx("div",{className:"w-full max-w-md",children:s.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 p-8 text-center",children:[s.jsx(Qe,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Thank You!"}),s.jsx("p",{className:"text-gray-400 mb-6",children:"We've received your inquiry. A member of our enterprise sales team will contact you within 24 hours."}),s.jsx("button",{onClick:()=>e("/"),className:"w-full px-6 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 transition-colors",children:"Return to Home"})]})})]}):s.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[s.jsx("div",{className:"border-b border-gray-800 bg-gray-900/80 backdrop-blur-sm",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-4 flex items-center justify-between",children:[s.jsxs("button",{onClick:()=>e("/register"),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors",children:[s.jsx(yo,{className:"h-5 w-5"}),"Back to plans"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"h-6 w-6 text-cyan-500"}),s.jsx("span",{className:"text-xl font-bold text-white",children:"HeroForge"})]}),s.jsx("div",{className:"w-24"})," "]})}),s.jsx("div",{className:"flex-1 py-12 px-4",children:s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx(Fn,{className:"h-12 w-12 text-cyan-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Enterprise Solutions"}),s.jsx("p",{className:"text-gray-400",children:"Get a customized security platform for your organization. Our team will work with you to understand your needs and provide a tailored solution."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:["Unlimited users and scans","Dedicated support team","SSO integration","On-premise deployment","Custom SLAs","Priority security updates"].map(u=>s.jsxs("div",{className:"flex items-center gap-2 text-gray-300",children:[s.jsx(Qe,{className:"h-5 w-5 text-cyan-500 flex-shrink-0"}),s.jsx("span",{children:u})]},u))}),s.jsxs("form",{onSubmit:d,className:"bg-gray-800/50 rounded-xl border border-gray-700 p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Full Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Tr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"contact_name",value:o.contact_name,onChange:c,placeholder:"John Smith",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Work Email ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Os,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"email",name:"email",value:o.email,onChange:c,placeholder:"john@company.com",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Company Name ",s.jsx("span",{className:"text-red-400",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Fn,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"company_name",value:o.company_name,onChange:c,placeholder:"Acme Corporation",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500",required:!0})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone Number"}),s.jsxs("div",{className:"relative",children:[s.jsx(ig,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"tel",name:"phone",value:o.phone,onChange:c,placeholder:"+1 (555) 123-4567",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Job Title"}),s.jsxs("div",{className:"relative",children:[s.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",name:"job_title",value:o.job_title,onChange:c,placeholder:"CISO, Security Director, etc.",className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Company Size"}),s.jsxs("div",{className:"relative",children:[s.jsx(La,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsxs("select",{name:"company_size",value:o.company_size,onChange:c,className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-cyan-500 appearance-none",children:[s.jsx("option",{value:"",children:"Select company size"}),EE.map(u=>s.jsx("option",{value:u,children:u},u))]})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tell us about your needs"}),s.jsxs("div",{className:"relative",children:[s.jsx(lh,{className:"absolute left-3 top-3 h-5 w-5 text-gray-400"}),s.jsx("textarea",{name:"message",value:o.message,onChange:c,placeholder:"What security challenges are you looking to solve? What features are most important to your organization?",rows:4,className:"w-full pl-10 pr-4 py-3 bg-gray-900 border border-gray-600 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:border-cyan-500 resize-none"})]})]}),s.jsx("button",{type:"submit",disabled:n,className:"w-full flex items-center justify-center gap-2 px-8 py-3 bg-cyan-500 text-white font-medium rounded-lg hover:bg-cyan-600 disabled:opacity-50 transition-colors",children:n?s.jsx(Nn,{className:"h-5 w-5 animate-spin"}):"Contact Sales"}),s.jsxs("p",{className:"text-center text-sm text-gray-500",children:["By submitting this form, you agree to our"," ",s.jsx("a",{href:"/privacy",className:"text-cyan-400 hover:text-cyan-300",children:"Privacy Policy"})]})]})]})})]})}const AE=new up({defaultOptions:{queries:{staleTime:1e3*60*5,retry:1}}}),TE=E.lazy(()=>re(()=>import("./AdminPage-DmdOAF7x.js"),__vite__mapDeps([0,1,2,3,4]))),RE=E.lazy(()=>re(()=>import("./SettingsPage-h7uSI6O6.js"),__vite__mapDeps([5,1,2,3,6,4]))),OE=E.lazy(()=>re(()=>import("./SalesPage-B5mMRWxa.js"),__vite__mapDeps([7,1,2,3]))),DE=E.lazy(()=>re(()=>import("./InvestorPage-DQeN_Kcd.js"),__vite__mapDeps([8,1,2,3]))),$E=E.lazy(()=>re(()=>import("./PitchDeckPage-Dn4l-G9n.js"),__vite__mapDeps([9,1,2,3]))),zE=E.lazy(()=>re(()=>import("./FinancialModelPage-CWcxahwv.js"),__vite__mapDeps([10,1,2,3,4]))),ME=E.lazy(()=>re(()=>import("./OnePagerPage-Bt3Psjl9.js"),__vite__mapDeps([11,1,2,3]))),IE=E.lazy(()=>re(()=>import("./AssetsPage-CSo0ujFT.js"),__vite__mapDeps([12,1,2,3,4]))),LE=E.lazy(()=>re(()=>import("./WebAppScanPage-Dr37Gm-I.js"),__vite__mapDeps([13,1,2,3,4]))),FE=E.lazy(()=>re(()=>import("./DnsToolsPage-DD_68ALd.js"),__vite__mapDeps([14,1,2,3,4]))),HE=E.lazy(()=>re(()=>import("./CompliancePage-D4PxDAkN.js"),__vite__mapDeps([15,1,2,3,4]))),BE=E.lazy(()=>re(()=>import("./RemediationPage-NFBmfeQh.js"),__vite__mapDeps([16,1,2,3,17,4]))),UE=E.lazy(()=>re(()=>import("./ManualAssessmentPage-AFP34MYg.js"),__vite__mapDeps([18,1,2,3,4]))),qE=E.lazy(()=>re(()=>import("./AssessmentDetailPage-lO-9i17q.js"),__vite__mapDeps([19,1,2,3,4]))),Fd=E.lazy(()=>re(()=>import("./MethodologyPage-CKm7-_3_.js"),__vite__mapDeps([20,1,2,3,4]))),VE=E.lazy(()=>re(()=>import("./ExecutiveDashboardPage-DO4RZYYZ.js"),__vite__mapDeps([21,1,2,3,4]))),WE=E.lazy(()=>re(()=>import("./ApiSecurityPage-DLtCOrzF.js"),__vite__mapDeps([22,1,2,3,4]))),Hd=E.lazy(()=>re(()=>import("./AttackPathsPage-ajEq-12V.js"),__vite__mapDeps([23,1,2,3,4]))),GE=E.lazy(()=>re(()=>import("./ScanComparisonPage-Fdwq2uCP.js"),__vite__mapDeps([24,1,2,6,3,4]))),YE=E.lazy(()=>re(()=>import("./WorkflowsPage-CJsCb7om.js"),__vite__mapDeps([25,1,2,3,17,4]))),XE=E.lazy(()=>re(()=>import("./ContainerSecurityPage-CBHsX69W.js"),__vite__mapDeps([26,1,2,3,4]))),KE=E.lazy(()=>re(()=>import("./IacSecurityPage-CWcIY3Hx.js"),__vite__mapDeps([27,1,2,3,4]))),JE=E.lazy(()=>re(()=>import("./PluginsPage-CkaqVbQ_.js"),__vite__mapDeps([28,1,2,3,4]))),QE=E.lazy(()=>re(()=>import("./AgentsPage-B9EHlyNn.js"),__vite__mapDeps([29,1,2,3,4]))),ZE=E.lazy(()=>re(()=>import("./MeshAgentsPage-BKDdoNUl.js"),__vite__mapDeps([30,1,2,3,4]))),eP=E.lazy(()=>re(()=>import("./EvidencePage-Cjsw0HwW.js"),__vite__mapDeps([31,1,2,3,4]))),tP=E.lazy(()=>re(()=>import("./SiemPage-CewIrpzd.js"),__vite__mapDeps([32,1,2,3,4]))),nP=E.lazy(()=>re(()=>import("./AttackSimulationPage-DujazMh8.js"),__vite__mapDeps([33,1,2,3,4]))),Bd=E.lazy(()=>re(()=>import("./ExploitationPage-BBiw7Fyd.js"),__vite__mapDeps([34,1,2,3,4]))),rP=E.lazy(()=>re(()=>import("./NucleiPage-xs7QjiV5.js"),__vite__mapDeps([35,1,2,3,4]))),sP=E.lazy(()=>re(()=>import("./ReportsPage-CpfP1S46.js"),__vite__mapDeps([36,1,2,3,4]))),aP=E.lazy(()=>re(()=>import("./AssetDiscoveryPage-NrXga_2H.js"),__vite__mapDeps([37,1,2,3,4]))),iP=E.lazy(()=>re(()=>import("./PrivescPage-BzXKbPWY.js"),__vite__mapDeps([38,1,2,3,4]))),Ud=E.lazy(()=>re(()=>import("./BloodHoundPage-Cq-pKFYX.js"),__vite__mapDeps([39,1,2,3,4]))),oP=E.lazy(()=>re(()=>import("./PhishingPage-CA1mlT7m.js"),__vite__mapDeps([40,1,2,3,4]))),lP=E.lazy(()=>re(()=>import("./C2Page-nB9nUWOg.js"),__vite__mapDeps([41,1,2,3,4]))),cP=E.lazy(()=>re(()=>import("./WirelessPage-BEi1vG4x.js"),__vite__mapDeps([42,1,2,3,4]))),uP=E.lazy(()=>re(()=>import("./FindingTemplatesPage-DL5Yznes.js"),__vite__mapDeps([43,1,2,3,4]))),dP=E.lazy(()=>re(()=>import("./CrackingPage-bd7tbiMr.js"),__vite__mapDeps([44,1,2,3,4]))),hP=E.lazy(()=>re(()=>import("./AttackSurfacePage-CTuqGMBk.js"),__vite__mapDeps([45,1,2,3,4]))),fP=E.lazy(()=>re(()=>import("./PurpleTeamPage-8SkeiPIR.js"),__vite__mapDeps([46,1,2,3,4]))),mP=E.lazy(()=>re(()=>import("./OrangeTeamPage-B5p8PU6l.js"),__vite__mapDeps([47,1,2,3,4]))),pP=E.lazy(()=>re(()=>import("./GreenTeamPage-DHoO4GzP.js"),__vite__mapDeps([48,1,2,3,4]))),gP=E.lazy(()=>re(()=>import("./YellowTeamPage-kvqc1NkX.js"),__vite__mapDeps([49,1,2,3,4]))),xP=E.lazy(()=>re(()=>import("./WhiteTeamPage-D7qbj_zj.js"),__vite__mapDeps([50,1,2,3,4]))),yP=E.lazy(()=>re(()=>import("./OrganizationPage-C3zi4EOM.js"),__vite__mapDeps([51,1,2,3,4]))),bP=E.lazy(()=>re(()=>import("./SastPage-Ce2qQRJ-.js"),__vite__mapDeps([52,1,2,3,4]))),vP=E.lazy(()=>re(()=>import("./ForensicsPage-gXpOKLi-.js"),__vite__mapDeps([53,1,2,3,4]))),wP=E.lazy(()=>re(()=>import("./IncidentResponsePage-BApge2ch.js"),__vite__mapDeps([54,1,2,3,4]))),jP=E.lazy(()=>re(()=>import("./DetectionEngineeringPage-HWY5U0iC.js"),__vite__mapDeps([55,1,2,3,4]))),_P=E.lazy(()=>re(()=>import("./ThreatHuntingPage-DlccxOZy.js"),__vite__mapDeps([56,1,2,3,4]))),NP=E.lazy(()=>re(()=>import("./ThreatIntelPage-BW5VjOEq.js"),__vite__mapDeps([57,1,2,3,4]))),kP=E.lazy(()=>re(()=>import("./ExploitDatabasePage-CF9Y3bwp.js"),__vite__mapDeps([58,1,2,3,4]))),SP=E.lazy(()=>re(()=>import("./PocRepositoryPage-C-4f8Ohe.js"),__vite__mapDeps([59,1,2,3,4]))),CP=E.lazy(()=>re(()=>import("./ResearchWorkspacePage-BBJINCV-.js"),__vite__mapDeps([60,1,2,3,4]))),EP=E.lazy(()=>re(()=>import("./BinaryAnalysisPage-BO6lupzk.js"),__vite__mapDeps([61,1,2,3,4]))),PP=E.lazy(()=>re(()=>import("./FuzzingPage-BV_0CJkh.js"),__vite__mapDeps([62,1,2,3,4]))),AP=E.lazy(()=>re(()=>import("./MalwareAnalysisPage-1-VbvMFp.js"),__vite__mapDeps([63,1,2,3,4]))),TP=E.lazy(()=>re(()=>import("./YaraPage-CkEqohfW.js"),__vite__mapDeps([64,1,2,3,4]))),RP=E.lazy(()=>re(()=>import("./SigmaRulesPage-kJjFOuLX.js"),__vite__mapDeps([65,1,2,3,4]))),OP=E.lazy(()=>re(()=>import("./TrafficAnalysisPage-CYCs2LlX.js"),__vite__mapDeps([66,1,2,3,4]))),DP=E.lazy(()=>re(()=>import("./UebaPage-ROIzMlNi.js"),__vite__mapDeps([67,1,2,3,4]))),$P=E.lazy(()=>re(()=>import("./NetFlowAnalysisPage-DOnpGyw0.js"),__vite__mapDeps([68,1,2,3,4]))),zP=E.lazy(()=>re(()=>import("./DnsAnalyticsPage-DBPbGahr.js"),__vite__mapDeps([69,1,2,3,4]))),MP=E.lazy(()=>re(()=>import("./OtIcsSecurityPage-D20VP1G-.js"),__vite__mapDeps([70,1,2,3,4]))),IP=E.lazy(()=>re(()=>import("./IotSecurityPage-BD5wj1U9.js"),__vite__mapDeps([71,1,2,3,4]))),LP=E.lazy(()=>re(()=>import("./ScaPage-DPpNNJO0.js"),__vite__mapDeps([72,1,2,3,4]))),FP=E.lazy(()=>re(()=>import("./CicdIntegrationPage-BjhypJEw.js"),__vite__mapDeps([73,1,2,3,4]))),HP=E.lazy(()=>re(()=>import("./SoarPlaybooksPage-DezQOqDb.js"),__vite__mapDeps([74,1,2,3,4]))),BP=E.lazy(()=>re(()=>import("./AiSecurityPage-BWaPUStb.js"),__vite__mapDeps([75,1,2,3,4]))),UP=E.lazy(()=>re(()=>import("./LlmTestingPage-CKJMcyVu.js"),__vite__mapDeps([76,1,2,3,4]))),qP=E.lazy(()=>re(()=>import("./AiReportsPage-C42Ci_f_.js"),__vite__mapDeps([77,1,2,3,4]))),VP=E.lazy(()=>re(()=>import("./MlModelsPage-DPSTspv4.js"),__vite__mapDeps([78,1,2,3,4]))),WP=E.lazy(()=>re(()=>import("./CrmDashboard-B4r3VJU0.js"),__vite__mapDeps([79,1,2,3,4]))),GP=E.lazy(()=>re(()=>import("./TermsPage-YJnyOj4w.js"),__vite__mapDeps([80,1,2,81,3]))),YP=E.lazy(()=>re(()=>import("./PrivacyPage-BdbfE61U.js"),__vite__mapDeps([82,1,2,81,3]))),XP=E.lazy(()=>re(()=>import("./AcceptableUsePage-DLhoq0Mq.js"),__vite__mapDeps([83,1,2,81,3]))),KP=E.lazy(()=>re(()=>import("./CookiePage-D4dx4Y9J.js"),__vite__mapDeps([84,1,2,81,3]))),JP=E.lazy(()=>re(()=>import("./CustomerList-DssK4_os.js"),__vite__mapDeps([85,1,2,3,4]))),QP=E.lazy(()=>re(()=>import("./CustomerDetail-BDobxSHo.js"),__vite__mapDeps([86,1,2,3,4]))),ZP=E.lazy(()=>re(()=>import("./EngagementsPage-isewfW-I.js"),__vite__mapDeps([87,1,2,3,4]))),eA=E.lazy(()=>re(()=>import("./ContractsPage-C1grx76i.js"),__vite__mapDeps([88,1,2,3,4]))),tA=E.lazy(()=>re(()=>import("./TimeTrackingPage-TjbHLCTO.js"),__vite__mapDeps([89,1,2,3,4]))),nA=E.lazy(()=>re(()=>import("./PortalLogin-DgNGJLtT.js"),__vite__mapDeps([90,1,2,3,4]))),rA=E.lazy(()=>re(()=>import("./PortalForgotPassword-COXMBzNa.js"),__vite__mapDeps([91,1,2,3,4]))),sA=E.lazy(()=>re(()=>import("./PortalResetPassword-CIIE9x30.js"),__vite__mapDeps([92,1,2,3,4]))),aA=E.lazy(()=>re(()=>import("./PortalDashboard-Db2TR2zE.js"),__vite__mapDeps([93,1,2,94,3,4]))),iA=E.lazy(()=>re(()=>import("./PortalEngagementList-D-gG7GYA.js"),__vite__mapDeps([95,1,2,94,3,4]))),oA=E.lazy(()=>re(()=>import("./PortalEngagementDetail-BwmhU7XP.js"),__vite__mapDeps([96,1,2,94,3,4]))),lA=E.lazy(()=>re(()=>import("./PortalVulnerabilityList-CaLtoukU.js"),__vite__mapDeps([97,1,2,94,3,4]))),cA=E.lazy(()=>re(()=>import("./PortalVulnerabilityDetail-DaRh_jbh.js"),__vite__mapDeps([98,1,2,94,3,4]))),uA=E.lazy(()=>re(()=>import("./PortalReportList-DTownvVH.js"),__vite__mapDeps([99,1,2,94,3,4]))),dA=E.lazy(()=>re(()=>import("./PortalProfile-B7_hhBcB.js"),__vite__mapDeps([100,1,2,94,3,4]))),hA=()=>s.jsx("div",{className:"min-h-screen bg-light-bg dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm",children:"Loading..."})]})}),oe=({children:e})=>Bn(r=>r.isAuthenticated)?s.jsx(s.Fragment,{children:e}):s.jsx(Ps,{to:"/login",replace:!0}),fA=({children:e})=>{const n=Bn(a=>a.isAuthenticated),r=Bn(a=>a.isAdmin);return n?r()?s.jsx(s.Fragment,{children:e}):s.jsx(Ps,{to:"/dashboard",replace:!0}):s.jsx(Ps,{to:"/login",replace:!0})},Xn=({children:e})=>i0.isAuthenticated()?s.jsx(s.Fragment,{children:e}):s.jsx(Ps,{to:"/portal/login",replace:!0}),mA=()=>{const{resolvedTheme:e}=zh();return s.jsx(lg,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:e})};function pA(){return s.jsx(dp,{client:AE,children:s.jsx(c0,{defaultTheme:"system",children:s.jsxs(fp,{children:[s.jsx(E.Suspense,{fallback:s.jsx(hA,{}),children:s.jsxs(mp,{children:[s.jsx(Z,{path:"/",element:s.jsx(OE,{})}),s.jsx(Z,{path:"/login",element:s.jsx(j0,{})}),s.jsx(Z,{path:"/register",element:s.jsx(SE,{})}),s.jsx(Z,{path:"/register/verify",element:s.jsx(CE,{})}),s.jsx(Z,{path:"/contact-sales",element:s.jsx(PE,{})}),s.jsx(Z,{path:"/investors",element:s.jsx(DE,{})}),s.jsx(Z,{path:"/pitch",element:s.jsx($E,{})}),s.jsx(Z,{path:"/financials",element:s.jsx(zE,{})}),s.jsx(Z,{path:"/one-pager",element:s.jsx(ME,{})}),s.jsx(Z,{path:"/dashboard",element:s.jsx(oe,{children:s.jsx(Id,{})})}),s.jsx(Z,{path:"/dashboard/:scanId",element:s.jsx(oe,{children:s.jsx(Id,{})})}),s.jsx(Z,{path:"/admin",element:s.jsx(fA,{children:s.jsx(TE,{})})}),s.jsx(Z,{path:"/settings",element:s.jsx(oe,{children:s.jsx(RE,{})})}),s.jsx(Z,{path:"/assets",element:s.jsx(oe,{children:s.jsx(IE,{})})}),s.jsx(Z,{path:"/webapp-scan",element:s.jsx(oe,{children:s.jsx(LE,{})})}),s.jsx(Z,{path:"/dns-tools",element:s.jsx(oe,{children:s.jsx(FE,{})})}),s.jsx(Z,{path:"/compliance",element:s.jsx(oe,{children:s.jsx(HE,{})})}),s.jsx(Z,{path:"/evidence",element:s.jsx(oe,{children:s.jsx(eP,{})})}),s.jsx(Z,{path:"/remediation",element:s.jsx(oe,{children:s.jsx(BE,{})})}),s.jsx(Z,{path:"/reports",element:s.jsx(oe,{children:s.jsx(sP,{})})}),s.jsx(Z,{path:"/workflows",element:s.jsx(oe,{children:s.jsx(YE,{})})}),s.jsx(Z,{path:"/manual-assessments",element:s.jsx(oe,{children:s.jsx(UE,{})})}),s.jsx(Z,{path:"/manual-assessments/:assessmentId",element:s.jsx(oe,{children:s.jsx(qE,{})})}),s.jsx(Z,{path:"/methodology",element:s.jsx(oe,{children:s.jsx(Fd,{})})}),s.jsx(Z,{path:"/methodology/:checklistId",element:s.jsx(oe,{children:s.jsx(Fd,{})})}),s.jsx(Z,{path:"/finding-templates",element:s.jsx(oe,{children:s.jsx(uP,{})})}),s.jsx(Z,{path:"/cracking",element:s.jsx(oe,{children:s.jsx(dP,{})})}),s.jsx(Z,{path:"/executive-dashboard",element:s.jsx(oe,{children:s.jsx(VE,{})})}),s.jsx(Z,{path:"/api-security",element:s.jsx(oe,{children:s.jsx(WE,{})})}),s.jsx(Z,{path:"/attack-paths",element:s.jsx(oe,{children:s.jsx(Hd,{})})}),s.jsx(Z,{path:"/attack-paths/:scanId",element:s.jsx(oe,{children:s.jsx(Hd,{})})}),s.jsx(Z,{path:"/compare",element:s.jsx(oe,{children:s.jsx(GE,{})})}),s.jsx(Z,{path:"/container-security",element:s.jsx(oe,{children:s.jsx(XE,{})})}),s.jsx(Z,{path:"/iac-security",element:s.jsx(oe,{children:s.jsx(KE,{})})}),s.jsx(Z,{path:"/attack-simulation",element:s.jsx(oe,{children:s.jsx(nP,{})})}),s.jsx(Z,{path:"/exploitation",element:s.jsx(oe,{children:s.jsx(Bd,{})})}),s.jsx(Z,{path:"/exploitation/:tab",element:s.jsx(oe,{children:s.jsx(Bd,{})})}),s.jsx(Z,{path:"/nuclei",element:s.jsx(oe,{children:s.jsx(rP,{})})}),s.jsx(Z,{path:"/discovery",element:s.jsx(oe,{children:s.jsx(aP,{})})}),s.jsx(Z,{path:"/privesc",element:s.jsx(oe,{children:s.jsx(iP,{})})}),s.jsx(Z,{path:"/bloodhound",element:s.jsx(oe,{children:s.jsx(Ud,{})})}),s.jsx(Z,{path:"/bloodhound/:importId",element:s.jsx(oe,{children:s.jsx(Ud,{})})}),s.jsx(Z,{path:"/phishing",element:s.jsx(oe,{children:s.jsx(oP,{})})}),s.jsx(Z,{path:"/c2",element:s.jsx(oe,{children:s.jsx(lP,{})})}),s.jsx(Z,{path:"/wireless",element:s.jsx(oe,{children:s.jsx(cP,{})})}),s.jsx(Z,{path:"/attack-surface",element:s.jsx(oe,{children:s.jsx(hP,{})})}),s.jsx(Z,{path:"/purple-team",element:s.jsx(oe,{children:s.jsx(fP,{})})}),s.jsx(Z,{path:"/orange-team",element:s.jsx(oe,{children:s.jsx(mP,{})})}),s.jsx(Z,{path:"/green-team",element:s.jsx(oe,{children:s.jsx(pP,{})})}),s.jsx(Z,{path:"/yellow-team",element:s.jsx(oe,{children:s.jsx(gP,{})})}),s.jsx(Z,{path:"/sast",element:s.jsx(oe,{children:s.jsx(bP,{})})}),s.jsx(Z,{path:"/white-team",element:s.jsx(oe,{children:s.jsx(xP,{})})}),s.jsx(Z,{path:"/forensics",element:s.jsx(oe,{children:s.jsx(vP,{})})}),s.jsx(Z,{path:"/incident-response",element:s.jsx(oe,{children:s.jsx(wP,{})})}),s.jsx(Z,{path:"/detection-engineering",element:s.jsx(oe,{children:s.jsx(jP,{})})}),s.jsx(Z,{path:"/threat-hunting",element:s.jsx(oe,{children:s.jsx(_P,{})})}),s.jsx(Z,{path:"/threat-intel",element:s.jsx(oe,{children:s.jsx(NP,{})})}),s.jsx(Z,{path:"/exploit-database",element:s.jsx(oe,{children:s.jsx(kP,{})})}),s.jsx(Z,{path:"/poc-repository",element:s.jsx(oe,{children:s.jsx(SP,{})})}),s.jsx(Z,{path:"/research-workspaces",element:s.jsx(oe,{children:s.jsx(CP,{})})}),s.jsx(Z,{path:"/binary-analysis",element:s.jsx(oe,{children:s.jsx(EP,{})})}),s.jsx(Z,{path:"/fuzzing",element:s.jsx(oe,{children:s.jsx(PP,{})})}),s.jsx(Z,{path:"/malware-analysis",element:s.jsx(oe,{children:s.jsx(AP,{})})}),s.jsx(Z,{path:"/yara",element:s.jsx(oe,{children:s.jsx(TP,{})})}),s.jsx(Z,{path:"/sigma-rules",element:s.jsx(oe,{children:s.jsx(RP,{})})}),s.jsx(Z,{path:"/traffic-analysis",element:s.jsx(oe,{children:s.jsx(OP,{})})}),s.jsx(Z,{path:"/ueba",element:s.jsx(oe,{children:s.jsx(DP,{})})}),s.jsx(Z,{path:"/netflow-analysis",element:s.jsx(oe,{children:s.jsx($P,{})})}),s.jsx(Z,{path:"/dns-analytics",element:s.jsx(oe,{children:s.jsx(zP,{})})}),s.jsx(Z,{path:"/ot-ics-security",element:s.jsx(oe,{children:s.jsx(MP,{})})}),s.jsx(Z,{path:"/iot-security",element:s.jsx(oe,{children:s.jsx(IP,{})})}),s.jsx(Z,{path:"/sca",element:s.jsx(oe,{children:s.jsx(LP,{})})}),s.jsx(Z,{path:"/cicd-integration",element:s.jsx(oe,{children:s.jsx(FP,{})})}),s.jsx(Z,{path:"/soar-playbooks",element:s.jsx(oe,{children:s.jsx(HP,{})})}),s.jsx(Z,{path:"/ai-security",element:s.jsx(oe,{children:s.jsx(BP,{})})}),s.jsx(Z,{path:"/llm-testing",element:s.jsx(oe,{children:s.jsx(UP,{})})}),s.jsx(Z,{path:"/ai-reports",element:s.jsx(oe,{children:s.jsx(qP,{})})}),s.jsx(Z,{path:"/ml-models",element:s.jsx(oe,{children:s.jsx(VP,{})})}),s.jsx(Z,{path:"/organization/:id",element:s.jsx(oe,{children:s.jsx(yP,{})})}),s.jsx(Z,{path:"/plugins",element:s.jsx(oe,{children:s.jsx(JE,{})})}),s.jsx(Z,{path:"/agents",element:s.jsx(oe,{children:s.jsx(QE,{})})}),s.jsx(Z,{path:"/agents/mesh",element:s.jsx(oe,{children:s.jsx(ZE,{})})}),s.jsx(Z,{path:"/siem",element:s.jsx(oe,{children:s.jsx(tP,{})})}),s.jsx(Z,{path:"/crm",element:s.jsx(oe,{children:s.jsx(WP,{})})}),s.jsx(Z,{path:"/crm/customers",element:s.jsx(oe,{children:s.jsx(JP,{})})}),s.jsx(Z,{path:"/crm/customers/:id",element:s.jsx(oe,{children:s.jsx(QP,{})})}),s.jsx(Z,{path:"/crm/engagements",element:s.jsx(oe,{children:s.jsx(ZP,{})})}),s.jsx(Z,{path:"/crm/contracts",element:s.jsx(oe,{children:s.jsx(eA,{})})}),s.jsx(Z,{path:"/crm/time-tracking",element:s.jsx(oe,{children:s.jsx(tA,{})})}),s.jsx(Z,{path:"/portal/login",element:s.jsx(nA,{})}),s.jsx(Z,{path:"/portal/forgot-password",element:s.jsx(rA,{})}),s.jsx(Z,{path:"/portal/reset-password",element:s.jsx(sA,{})}),s.jsx(Z,{path:"/portal/dashboard",element:s.jsx(Xn,{children:s.jsx(aA,{})})}),s.jsx(Z,{path:"/portal/engagements",element:s.jsx(Xn,{children:s.jsx(iA,{})})}),s.jsx(Z,{path:"/portal/engagements/:id",element:s.jsx(Xn,{children:s.jsx(oA,{})})}),s.jsx(Z,{path:"/portal/vulnerabilities",element:s.jsx(Xn,{children:s.jsx(lA,{})})}),s.jsx(Z,{path:"/portal/vulnerabilities/:id",element:s.jsx(Xn,{children:s.jsx(cA,{})})}),s.jsx(Z,{path:"/portal/reports",element:s.jsx(Xn,{children:s.jsx(uA,{})})}),s.jsx(Z,{path:"/portal/profile",element:s.jsx(Xn,{children:s.jsx(dA,{})})}),s.jsx(Z,{path:"/legal/terms",element:s.jsx(GP,{})}),s.jsx(Z,{path:"/legal/privacy",element:s.jsx(YP,{})}),s.jsx(Z,{path:"/legal/acceptable-use",element:s.jsx(XP,{})}),s.jsx(Z,{path:"/legal/cookies",element:s.jsx(KP,{})}),s.jsx(Z,{path:"*",element:s.jsx(Ps,{to:"/",replace:!0})})]})}),s.jsx(mA,{})]})})})}_g.createRoot(document.getElementById("root")).render(s.jsx(Zo.StrictMode,{children:s.jsx(pA,{})}));export{gT as $,Ec as A,kt as B,ye as C,dT as D,uT as E,eT as F,QA as G,ca as H,nt as I,kc as J,Bn as K,an as L,KA as M,pT as N,nT as O,sT as P,tT as Q,rT as R,iT as S,Sc as T,oT as U,cT as V,lT as W,Sf as X,XA as Y,Me as Z,mT as _,qA as a,Ve as a0,yT as a1,xT as a2,C0 as a3,vT as a4,m as a5,ws as a6,wT as a7,jT as a8,_T as a9,LA as aA,NT as aa,kT as ab,ET as ac,PT as ad,CT as ae,N0 as af,g0 as ag,$T as ah,AT as ai,TT as aj,RT as ak,OT as al,DT as am,bT as an,IT as ao,MT as ap,zT as aq,LT as ar,FT as as,HT as at,BT as au,i0 as av,FA as aw,HA as ax,BA as ay,UA as az,He as b,vi as c,ej as d,Ha as e,$n as f,Q_ as g,js as h,aT as i,p0 as j,YA as k,JA as l,u0 as m,GA as n,ZA as o,h0 as p,sn as q,ST as r,VA as s,d0 as t,Cc as u,f0 as v,WA as w,hT as x,fT as y,mr as z};
