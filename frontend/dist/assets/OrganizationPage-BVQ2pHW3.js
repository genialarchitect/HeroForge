import{u as x,j as e,b as D,d as Q}from"./vendor-state-DdX3IZQk.js";import{r as v,j as T,u as F}from"./vendor-react-Da1CiaFS.js";import{ae as _,af as z,d as f,b as o,ag as g,r as C}from"./index-Bt29V2Q6.js";import{L as p,bO as S,h as M,l as w,af as k,cd as q,S as j,ce as L,j as A,U as R,_ as U,b$ as K}from"./vendor-ui-wM19Qo8C.js";import"./vendor-charts-CCbxmwBt.js";const P={scans_per_day:"Daily Scans",concurrent_scans:"Concurrent Scans",reports_per_month:"Monthly Reports",api_requests_per_hour:"API Requests/Hour",storage_mb:"Storage (MB)",users:"Users",assets:"Assets",scheduled_scans:"Scheduled Scans",teams:"Teams",departments:"Departments",custom_roles:"Custom Roles"};function E(s){return s>=90?"bg-red-500":s>=75?"bg-yellow-500":"bg-green-500"}function B({usage:s}){const a=s.max_value>0?s.current_value/s.max_value*100:0,t=E(a),n=P[s.quota_type]||s.quota_type;return e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:n}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.current_value," / ",s.max_value]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5",children:e.jsx("div",{className:`${t} h-2.5 rounded-full transition-all duration-300`,style:{width:`${Math.min(a,100)}%`}})}),a>=90&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Warning: Approaching quota limit"})]})}function $({orgId:s}){var r;const{data:a,isLoading:t,error:n}=x({queryKey:["quotaUsage",s],queryFn:()=>_.getUsage(s),enabled:!!s,refetchInterval:6e4});if(t)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Usage"}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4].map(d=>e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-2.5 bg-gray-200 dark:bg-gray-700 rounded"})]},d))})]});if(n)return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Usage"}),e.jsx("p",{className:"text-red-500",children:"Failed to load quota usage"})]});const i=((r=a==null?void 0:a.data)==null?void 0:r.usages)||[];return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Usage"}),i.length===0?e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No quota limits configured"}):i.map(d=>e.jsx(B,{usage:d},d.quota_type))]})}function u({label:s,value:a,onChange:t,disabled:n,description:i}){return e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s}),e.jsx("input",{type:"number",min:"0",value:a,onChange:r=>t(parseInt(r.target.value,10)||0),disabled:n,className:`w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md
          bg-white dark:bg-gray-700 text-gray-900 dark:text-white
          focus:ring-2 focus:ring-blue-500 focus:border-blue-500
          disabled:bg-gray-100 dark:disabled:bg-gray-800 disabled:cursor-not-allowed`}),i&&e.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-gray-400",children:i})]})}function I({orgId:s,isOwner:a}){const t=D(),[n,i]=v.useState({max_users:10,max_scans_per_day:50,max_concurrent_scans:5,max_assets:1e3,max_reports_per_month:100,max_storage_mb:5120,max_api_requests_per_hour:1e3,max_scheduled_scans:20,max_teams:10}),{data:r,isLoading:d,error:N}=x({queryKey:["quotas",s],queryFn:()=>_.getQuotas(s),enabled:!!s});v.useEffect(()=>{r!=null&&r.data&&i({max_users:r.data.max_users??10,max_scans_per_day:r.data.max_scans_per_day??50,max_concurrent_scans:r.data.max_concurrent_scans??5,max_assets:r.data.max_assets??1e3,max_reports_per_month:r.data.max_reports_per_month??100,max_storage_mb:r.data.max_storage_mb??5120,max_api_requests_per_hour:r.data.max_api_requests_per_hour??1e3,max_scheduled_scans:r.data.max_scheduled_scans??20,max_teams:r.data.max_teams??10})},[r]);const h=Q({mutationFn:l=>_.updateQuotas(s,l),onSuccess:()=>{t.invalidateQueries({queryKey:["quotas",s]}),t.invalidateQueries({queryKey:["quotaUsage",s]})}}),b=l=>{l.preventDefault(),h.mutate(n)},c=(l,y)=>{i(m=>({...m,[l]:y}))};return d?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Settings"}),e.jsx("div",{className:"animate-pulse space-y-4",children:[1,2,3,4,5].map(l=>e.jsxs("div",{children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/4 mb-2"}),e.jsx("div",{className:"h-10 bg-gray-200 dark:bg-gray-700 rounded"})]},l))})]}):N?e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Settings"}),e.jsx("p",{className:"text-red-500",children:"Failed to load quota settings"})]}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Quota Settings"}),!a&&e.jsx("div",{className:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-md",children:e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:"Only organization owners can modify quota settings."})}),e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(u,{label:"Max Users",value:n.max_users??10,onChange:l=>c("max_users",l),disabled:!a,description:"Maximum members in the organization"}),e.jsx(u,{label:"Daily Scan Limit",value:n.max_scans_per_day??50,onChange:l=>c("max_scans_per_day",l),disabled:!a,description:"Maximum scans per day"}),e.jsx(u,{label:"Concurrent Scans",value:n.max_concurrent_scans??5,onChange:l=>c("max_concurrent_scans",l),disabled:!a,description:"Maximum simultaneous running scans"}),e.jsx(u,{label:"Monthly Report Limit",value:n.max_reports_per_month??100,onChange:l=>c("max_reports_per_month",l),disabled:!a,description:"Maximum reports per month"}),e.jsx(u,{label:"Max Assets",value:n.max_assets??1e3,onChange:l=>c("max_assets",l),disabled:!a,description:"Maximum tracked assets"}),e.jsx(u,{label:"Storage (MB)",value:n.max_storage_mb??5120,onChange:l=>c("max_storage_mb",l),disabled:!a,description:"Maximum storage in megabytes"}),e.jsx(u,{label:"API Requests/Hour",value:n.max_api_requests_per_hour??1e3,onChange:l=>c("max_api_requests_per_hour",l),disabled:!a,description:"Maximum API requests per hour"}),e.jsx(u,{label:"Scheduled Scans",value:n.max_scheduled_scans??20,onChange:l=>c("max_scheduled_scans",l),disabled:!a,description:"Maximum scheduled scan configurations"}),e.jsx(u,{label:"Max Teams",value:n.max_teams??10,onChange:l=>c("max_teams",l),disabled:!a,description:"Maximum teams in the organization"})]}),a&&e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{type:"submit",disabled:h.isPending,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700
                focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
                disabled:opacity-50 disabled:cursor-not-allowed`,children:h.isPending?"Saving...":"Save Quota Settings"})}),h.isSuccess&&e.jsx("div",{className:"mt-4 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:e.jsx("p",{className:"text-sm text-green-700 dark:text-green-300",children:"Quota settings saved successfully."})}),h.isError&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"Failed to save quota settings. Please try again."})})]})]})}const G=({organization:s,memberCount:a,teamCount:t})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Organization Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Name"}),e.jsx("p",{className:"text-white font-medium",children:s.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Slug"}),e.jsx("p",{className:"text-white font-mono",children:s.slug})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Description"}),e.jsx("p",{className:"text-white",children:s.description||"No description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded ${s.is_active?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,children:s.is_active?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-slate-400",children:"Created"}),e.jsx("p",{className:"text-white",children:new Date(s.created_at).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-cyan-500/20",children:e.jsx(w,{className:"h-5 w-5 text-cyan-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:a}),e.jsx("p",{className:"text-sm text-slate-400",children:"Members"})]})]})}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-purple-500/20",children:e.jsx(q,{className:"h-5 w-5 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:t}),e.jsx("p",{className:"text-sm text-slate-400",children:"Teams"})]})]})}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-lg bg-amber-500/20",children:e.jsx(k,{className:"h-5 w-5 text-amber-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white",children:"0"}),e.jsx("p",{className:"text-sm text-slate-400",children:"Departments"})]})]})})]})]}),H=({orgId:s,isAdmin:a})=>{const{data:t,isLoading:n}=x({queryKey:["org-members",s],queryFn:async()=>(await g.listMembers(s)).data}),i=d=>{switch(d){case"owner":return e.jsx(K,{className:"h-4 w-4 text-amber-400"});case"admin":return e.jsx(U,{className:"h-4 w-4 text-cyan-400"});default:return e.jsx(R,{className:"h-4 w-4 text-slate-400"})}},r=d=>{switch(d){case"owner":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"admin":return"bg-cyan-500/20 text-cyan-400 border-cyan-500/30";default:return"bg-slate-500/20 text-slate-400 border-slate-500/30"}};return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Members (",(t==null?void 0:t.length)||0,")"]}),a&&e.jsxs(o,{size:"sm",children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Add Member"]})]}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-dark-hover",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-400",children:"User"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-400",children:"Email"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-400",children:"Role"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-slate-400",children:"Joined"}),a&&e.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-slate-400",children:"Actions"})]})}),e.jsxs("tbody",{className:"divide-y divide-dark-border",children:[t==null?void 0:t.map(d=>e.jsxs("tr",{className:"hover:bg-dark-hover",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[i(d.role),e.jsx("span",{className:"text-white font-medium",children:d.username})]})}),e.jsx("td",{className:"px-4 py-3 text-slate-400",children:d.email}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded border ${r(d.role)}`,children:d.role})}),e.jsx("td",{className:"px-4 py-3 text-slate-400",children:new Date(d.joined_at).toLocaleDateString()}),a&&e.jsx("td",{className:"px-4 py-3 text-right",children:e.jsx(o,{variant:"ghost",size:"sm",children:"Edit"})})]},d.user_id)),(!t||t.length===0)&&e.jsx("tr",{children:e.jsx("td",{colSpan:a?5:4,className:"px-4 py-8 text-center text-slate-400",children:"No members found"})})]})]})})]})},O=({orgId:s,isAdmin:a})=>{const{data:t,isLoading:n}=x({queryKey:["org-departments",s],queryFn:async()=>(await g.listDepartments(s)).data});return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Departments (",(t==null?void 0:t.length)||0,")"]}),a&&e.jsxs(o,{size:"sm",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Add Department"]})]}),e.jsxs("div",{className:"grid gap-4",children:[t==null?void 0:t.map(i=>e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-white font-medium",children:i.name}),e.jsx("p",{className:"text-sm text-slate-400",children:i.description||"No description"})]}),a&&e.jsx(o,{variant:"ghost",size:"sm",children:"Edit"})]})},i.id)),(!t||t.length===0)&&e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-8 text-center text-slate-400",children:"No departments created yet. Departments help organize your teams."})]})]})},V=({orgId:s,isAdmin:a})=>{const{data:t,isLoading:n}=x({queryKey:["org-teams",s],queryFn:async()=>(await g.listTeams(s)).data});return n?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Teams (",(t==null?void 0:t.length)||0,")"]}),a&&e.jsxs(o,{size:"sm",children:[e.jsx(q,{className:"h-4 w-4 mr-2"}),"Add Team"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[t==null?void 0:t.map(i=>e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h4",{className:"text-white font-medium",children:i.name}),a&&e.jsx(o,{variant:"ghost",size:"sm",children:"Edit"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3",children:i.description||"No description"}),e.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:e.jsx("span",{className:"font-mono bg-dark-hover px-2 py-1 rounded",children:i.slug})})]},i.id)),(!t||t.length===0)&&e.jsx("div",{className:"col-span-2 bg-dark-surface rounded-lg border border-dark-border p-8 text-center text-slate-400",children:"No teams created yet. Create a department first, then add teams to it."})]})]})},J=({orgId:s,isAdmin:a})=>{const{data:t}=x({queryKey:["role-templates"],queryFn:async()=>(await C.listRoleTemplates()).data}),{data:n,isLoading:i}=x({queryKey:["org-custom-roles",s],queryFn:async()=>(await C.listCustomRoles(s)).data});return i?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Role Templates (System)"}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t==null?void 0:t.map(r=>{var d;return e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(j,{className:"h-5 w-5 text-primary"}),e.jsx("h4",{className:"text-white font-medium",children:r.display_name})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3",children:r.description||"No description"}),e.jsxs("div",{className:"text-xs text-slate-500",children:[((d=r.permissions)==null?void 0:d.length)||0," permissions"]})]},r.id)})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Custom Roles"}),a&&e.jsxs(o,{size:"sm",children:[e.jsx(j,{className:"h-4 w-4 mr-2"}),"Create Custom Role"]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[n==null?void 0:n.map(r=>{var d;return e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-5 w-5 text-purple-400"}),e.jsx("h4",{className:"text-white font-medium",children:r.display_name})]}),a&&e.jsx(o,{variant:"ghost",size:"sm",children:"Edit"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-3",children:r.description||"No description"}),e.jsxs("div",{className:"text-xs text-slate-500",children:[((d=r.permissions)==null?void 0:d.length)||0," permissions"]})]},r.id)}),(!n||n.length===0)&&e.jsx("div",{className:"col-span-full bg-dark-surface rounded-lg border border-dark-border p-8 text-center text-slate-400",children:"No custom roles created yet. Create custom roles to define specific permission sets for your organization."})]})]})]})},W=({organization:s,isOwner:a})=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"General Settings"}),e.jsxs("form",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Organization Name"}),e.jsx("input",{type:"text",defaultValue:s.name,disabled:!a,className:"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Description"}),e.jsx("textarea",{defaultValue:s.description||"",disabled:!a,rows:3,className:"w-full px-3 py-2 bg-dark-hover border border-dark-border rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-primary disabled:opacity-50"})]}),a&&e.jsx(o,{type:"submit",children:"Save Changes"})]})]}),a&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-red-500/30 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-4",children:"Danger Zone"}),e.jsx("p",{className:"text-sm text-slate-400 mb-4",children:"Deleting an organization is permanent and cannot be undone. All members, teams, and associated data will be removed."}),e.jsx(o,{variant:"danger",children:"Delete Organization"})]})]}),ae=()=>{const{id:s}=T(),a=F(),[t,n]=v.useState("overview"),{isOrgOwner:i,isOrgAdmin:r}=z(),{data:d,isLoading:N,error:h}=x({queryKey:["organization",s],queryFn:async()=>(await g.get(s)).data,enabled:!!s}),{data:b}=x({queryKey:["org-members",s],queryFn:async()=>(await g.listMembers(s)).data,enabled:!!s}),{data:c}=x({queryKey:["org-teams",s],queryFn:async()=>(await g.listTeams(s)).data,enabled:!!s}),l=[{id:"overview",label:"Overview",icon:e.jsx(M,{className:"h-4 w-4"})},{id:"members",label:"Members",icon:e.jsx(w,{className:"h-4 w-4"})},{id:"departments",label:"Departments",icon:e.jsx(k,{className:"h-4 w-4"})},{id:"teams",label:"Teams",icon:e.jsx(q,{className:"h-4 w-4"})},{id:"roles",label:"Roles",icon:e.jsx(j,{className:"h-4 w-4"})},{id:"quotas",label:"Quotas",icon:e.jsx(L,{className:"h-4 w-4"})},{id:"settings",label:"Settings",icon:e.jsx(A,{className:"h-4 w-4"})}];if(N)return e.jsx(f,{children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(p,{className:"h-8 w-8 animate-spin text-primary"})})});if(h||!d)return e.jsx(f,{children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-red-400 mb-4",children:"Failed to load organization"}),e.jsxs(o,{onClick:()=>a(-1),children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})});const y=()=>{switch(t){case"overview":return e.jsx(G,{organization:d,memberCount:(b==null?void 0:b.length)||0,teamCount:(c==null?void 0:c.length)||0});case"members":return e.jsx(H,{orgId:s,isAdmin:r()});case"departments":return e.jsx(O,{orgId:s,isAdmin:r()});case"teams":return e.jsx(V,{orgId:s,isAdmin:r()});case"roles":return e.jsx(J,{orgId:s,isAdmin:r()});case"quotas":return e.jsxs("div",{className:"space-y-6",children:[e.jsx($,{orgId:s}),e.jsx(I,{orgId:s,isOwner:i()})]});case"settings":return e.jsx(W,{organization:d,isOwner:i()});default:return null}};return e.jsx(f,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("button",{onClick:()=>a(-1),className:"p-1 rounded hover:bg-dark-hover transition-colors",children:e.jsx(S,{className:"h-5 w-5 text-slate-400"})}),e.jsx(M,{className:"h-6 w-6 text-primary"}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:d.name})]}),e.jsx("p",{className:"text-slate-400 ml-9",children:d.description||"Organization management"})]})}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsx("div",{className:"flex gap-1",children:l.map(m=>e.jsxs("button",{onClick:()=>n(m.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===m.id?"bg-primary text-white":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[m.icon,m.label]},m.id))})}),e.jsx("div",{children:y()})]})})};export{ae as default};
