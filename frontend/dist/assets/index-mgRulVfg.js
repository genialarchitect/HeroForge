const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AdminPage-nEfUstky.js","assets/vendor-state-Dv52s5nL.js","assets/vendor-react-BdkUp9lr.js","assets/vendor-ui-BqjU7FU2.js","assets/vendor-charts-LMABhejW.js","assets/SettingsPage-DmmHUXV6.js","assets/AssetsPage-T6I656h8.js","assets/WebAppScanPage-CdGfM14w.js","assets/DnsToolsPage-CWhFeI2W.js","assets/CompliancePage-Bg5FTvXW.js","assets/RemediationPage-CpaEJJlI.js","assets/ManualAssessmentPage-CJ6P3vL5.js","assets/AssessmentDetailPage-OupXXoB8.js"])))=>i.map(i=>d[i]);
var Pd=Object.defineProperty;var Ed=(e,r,n)=>r in e?Pd(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n;var jt=(e,r,n)=>Ed(e,typeof r!="symbol"?r+"":r,n);import{c as ql,j as l}from"./vendor-state-Dv52s5nL.js";import{a as Ss,r as O,u as Bl,b as Rd,L as zt,R as Vl,c as Dd,d as Gl,g as Ad,B as Td,e as Md,f as Be,N as as}from"./vendor-react-BdkUp9lr.js";import{B,L as ks,C as Yl,S as Ee,K as zd,U as Xl,a as Kl,b as Jl,d as Tt,G as Zl,N as os,e as $d,f as la,g as Ql,h as Ld,i as Fd,j as ec,Z as ni,H as Id,F as Hd,T as tc,k as Ud,R as Wd,W as Cs,l as Os,m as rc,E as qd,n as Bd,o as zr,p as nc,q as Vd,r as ca,s as lt,A as gt,t as ua,u as Ps,v as Gd,w as sc,x as Cr,y as pn,z as ic,D as Yd,I as Xd,J as Or,M as Kd,O as Ut,X as Pr,P as Jd,Q as Es,V as Xn,Y as ot,_ as Zd,$ as Qd,a0 as ef,a1 as tf,a2 as rf,a3 as to,a4 as nf,a5 as sf,a6 as af,a7 as of,a8 as Kn,a9 as lf,aa as cf,ab as uf,ac as df,ad as ac,ae as ro,af as no,ag as ff,ah as so,ai as hf,aj as pf}from"./vendor-ui-BqjU7FU2.js";import{i as mf,a as io,b as gf,c as ao,d as xf,e as yf,f as vf,o as bf,s as wf,m as oo,g as lo,P,R as Zt,h as _f,j as jf,C as oc,T as Qt,L as lc,B as cc,k as wr,X as _r,Y as jr,l as uc,n as Si,p as ki,A as Nf,q as Mn,r as Bt}from"./vendor-charts-LMABhejW.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Ci={},co=Ss;Ci.createRoot=co.createRoot,Ci.hydrateRoot=co.hydrateRoot;const Sf="modulepreload",kf=function(e){return"/"+e},uo={},Mt=function(r,n,s){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(u=>{if(u=kf(u),u in uo)return;uo[u]=!0;const d=u.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Sf,d||(f.as="script"),f.crossOrigin="",f.href=u,c&&f.setAttribute("nonce",c),document.head.appendChild(f),d)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return r().catch(a)})},Cf={};function Of(e,r){let n;try{n=e()}catch{return}return{getItem:i=>{var a;const o=u=>u===null?null:JSON.parse(u,void 0),c=(a=n.getItem(i))!=null?a:null;return c instanceof Promise?c.then(o):o(c)},setItem:(i,a)=>n.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>n.removeItem(i)}}const mn=e=>r=>{try{const n=e(r);return n instanceof Promise?n:{then(s){return mn(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return mn(s)(n)}}}},Pf=(e,r)=>(n,s,i)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:y=>y,version:0,merge:(y,x)=>({...x,...y}),...r},o=!1;const c=new Set,u=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...y)},s,i);const h=mn(a.serialize),f=()=>{const y=a.partialize({...s()});let x;const w=h({state:y,version:a.version}).then(j=>d.setItem(a.name,j)).catch(j=>{x=j});if(x)throw x;return w},p=i.setState;i.setState=(y,x)=>{p(y,x),f()};const m=e((...y)=>{n(...y),f()},s,i);let g;const v=()=>{var y;if(!d)return;o=!1,c.forEach(w=>w(s()));const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,s()))||void 0;return mn(d.getItem.bind(d))(a.name).then(w=>{if(w)return a.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==a.version){if(a.migrate)return a.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var j;return g=a.merge(w,(j=s())!=null?j:m),n(g,!0),f()}).then(()=>{x==null||x(g,void 0),o=!0,u.forEach(w=>w(g))}).catch(w=>{x==null||x(void 0,w)})};return i.persist={setOptions:y=>{a={...a,...y},y.getStorage&&(d=y.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:y=>(c.add(y),()=>{c.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},v(),g||m},Ef=(e,r)=>(n,s,i)=>{let a={storage:Of(()=>localStorage),partialize:v=>v,version:0,merge:(v,y)=>({...y,...v}),...r},o=!1;const c=new Set,u=new Set;let d=a.storage;if(!d)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},s,i);const h=()=>{const v=a.partialize({...s()});return d.setItem(a.name,{state:v,version:a.version})},f=i.setState;i.setState=(v,y)=>{f(v,y),h()};const p=e((...v)=>{n(...v),h()},s,i);i.getInitialState=()=>p;let m;const g=()=>{var v,y;if(!d)return;o=!1,c.forEach(w=>{var j;return w((j=s())!=null?j:p)});const x=((y=a.onRehydrateStorage)==null?void 0:y.call(a,(v=s())!=null?v:p))||void 0;return mn(d.getItem.bind(d))(a.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==a.version){if(a.migrate)return[!0,a.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var j;const[b,_]=w;if(m=a.merge(_,(j=s())!=null?j:p),n(m,!0),b)return h()}).then(()=>{x==null||x(m,void 0),m=s(),o=!0,u.forEach(w=>w(m))}).catch(w=>{x==null||x(void 0,w)})};return i.persist={setOptions:v=>{a={...a,...v},v.storage&&(d=v.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(c.add(v),()=>{c.delete(v)}),onFinishHydration:v=>(u.add(v),()=>{u.delete(v)})},a.skipHydration||g(),m||p},Rf=(e,r)=>"getStorage"in r||"serialize"in r||"deserialize"in r?((Cf?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Pf(e,r)):Ef(e,r),Df=Rf,Er=ql()(Df((e,r)=>({user:null,token:null,isAuthenticated:!1,isLoading:!1,setUser:n=>e({user:n,isAuthenticated:!!n}),setToken:n=>{e({token:n}),n?localStorage.setItem("token",n):localStorage.removeItem("token")},login:(n,s)=>{e({user:n,token:s,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("token",s)},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("token")},setLoading:n=>e({isLoading:n}),isAdmin:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1},hasRole:n=>{var s,i;return((i=(s=r().user)==null?void 0:s.roles)==null?void 0:i.includes(n))??!1},canManageUsers:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1},canManageScans:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.some(i=>["admin","auditor"].includes(i)))??!1},canViewAuditLogs:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.some(i=>["admin","auditor"].includes(i)))??!1},canManageSettings:()=>{var n,s;return((s=(n=r().user)==null?void 0:n.roles)==null?void 0:s.includes("admin"))??!1}}),{name:"auth-storage",partialize:e=>({token:e.token,user:e.user})}));function dc(e,r){return function(){return e.apply(r,arguments)}}const{toString:Af}=Object.prototype,{getPrototypeOf:da}=Object,{iterator:Rs,toStringTag:fc}=Symbol,Ds=(e=>r=>{const n=Af.call(r);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ct=e=>(e=e.toLowerCase(),r=>Ds(r)===e),As=e=>r=>typeof r===e,{isArray:$r}=Array,Rr=As("undefined");function _n(e){return e!==null&&!Rr(e)&&e.constructor!==null&&!Rr(e.constructor)&&Ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const hc=ct("ArrayBuffer");function Tf(e){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(e):r=e&&e.buffer&&hc(e.buffer),r}const Mf=As("string"),Ue=As("function"),pc=As("number"),jn=e=>e!==null&&typeof e=="object",zf=e=>e===!0||e===!1,Jn=e=>{if(Ds(e)!=="object")return!1;const r=da(e);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(fc in e)&&!(Rs in e)},$f=e=>{if(!jn(e)||_n(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Lf=ct("Date"),Ff=ct("File"),If=ct("Blob"),Hf=ct("FileList"),Uf=e=>jn(e)&&Ue(e.pipe),Wf=e=>{let r;return e&&(typeof FormData=="function"&&e instanceof FormData||Ue(e.append)&&((r=Ds(e))==="formdata"||r==="object"&&Ue(e.toString)&&e.toString()==="[object FormData]"))},qf=ct("URLSearchParams"),[Bf,Vf,Gf,Yf]=["ReadableStream","Request","Response","Headers"].map(ct),Xf=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nn(e,r,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,i;if(typeof e!="object"&&(e=[e]),$r(e))for(s=0,i=e.length;s<i;s++)r.call(null,e[s],s,e);else{if(_n(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let c;for(s=0;s<o;s++)c=a[s],r.call(null,e[c],c,e)}}function mc(e,r){if(_n(e))return null;r=r.toLowerCase();const n=Object.keys(e);let s=n.length,i;for(;s-- >0;)if(i=n[s],r===i.toLowerCase())return i;return null}const er=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gc=e=>!Rr(e)&&e!==er;function Oi(){const{caseless:e,skipUndefined:r}=gc(this)&&this||{},n={},s=(i,a)=>{const o=e&&mc(n,a)||a;Jn(n[o])&&Jn(i)?n[o]=Oi(n[o],i):Jn(i)?n[o]=Oi({},i):$r(i)?n[o]=i.slice():(!r||!Rr(i))&&(n[o]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Nn(arguments[i],s);return n}const Kf=(e,r,n,{allOwnKeys:s}={})=>(Nn(r,(i,a)=>{n&&Ue(i)?e[a]=dc(i,n):e[a]=i},{allOwnKeys:s}),e),Jf=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Zf=(e,r,n,s)=>{e.prototype=Object.create(r.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:r.prototype}),n&&Object.assign(e.prototype,n)},Qf=(e,r,n,s)=>{let i,a,o;const c={};if(r=r||{},e==null)return r;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)o=i[a],(!s||s(o,e,r))&&!c[o]&&(r[o]=e[o],c[o]=!0);e=n!==!1&&da(e)}while(e&&(!n||n(e,r))&&e!==Object.prototype);return r},eh=(e,r,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=r.length;const s=e.indexOf(r,n);return s!==-1&&s===n},th=e=>{if(!e)return null;if($r(e))return e;let r=e.length;if(!pc(r))return null;const n=new Array(r);for(;r-- >0;)n[r]=e[r];return n},rh=(e=>r=>e&&r instanceof e)(typeof Uint8Array<"u"&&da(Uint8Array)),nh=(e,r)=>{const s=(e&&e[Rs]).call(e);let i;for(;(i=s.next())&&!i.done;){const a=i.value;r.call(e,a[0],a[1])}},sh=(e,r)=>{let n;const s=[];for(;(n=e.exec(r))!==null;)s.push(n);return s},ih=ct("HTMLFormElement"),ah=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,i){return s.toUpperCase()+i}),fo=(({hasOwnProperty:e})=>(r,n)=>e.call(r,n))(Object.prototype),oh=ct("RegExp"),xc=(e,r)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Nn(n,(i,a)=>{let o;(o=r(i,a,e))!==!1&&(s[a]=o||i)}),Object.defineProperties(e,s)},lh=e=>{xc(e,(r,n)=>{if(Ue(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ue(s)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ch=(e,r)=>{const n={},s=i=>{i.forEach(a=>{n[a]=!0})};return $r(e)?s(e):s(String(e).split(r)),n},uh=()=>{},dh=(e,r)=>e!=null&&Number.isFinite(e=+e)?e:r;function fh(e){return!!(e&&Ue(e.append)&&e[fc]==="FormData"&&e[Rs])}const hh=e=>{const r=new Array(10),n=(s,i)=>{if(jn(s)){if(r.indexOf(s)>=0)return;if(_n(s))return s;if(!("toJSON"in s)){r[i]=s;const a=$r(s)?[]:{};return Nn(s,(o,c)=>{const u=n(o,i+1);!Rr(u)&&(a[c]=u)}),r[i]=void 0,a}}return s};return n(e,0)},ph=ct("AsyncFunction"),mh=e=>e&&(jn(e)||Ue(e))&&Ue(e.then)&&Ue(e.catch),yc=((e,r)=>e?setImmediate:r?((n,s)=>(er.addEventListener("message",({source:i,data:a})=>{i===er&&a===n&&s.length&&s.shift()()},!1),i=>{s.push(i),er.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ue(er.postMessage)),gh=typeof queueMicrotask<"u"?queueMicrotask.bind(er):typeof process<"u"&&process.nextTick||yc,xh=e=>e!=null&&Ue(e[Rs]),M={isArray:$r,isArrayBuffer:hc,isBuffer:_n,isFormData:Wf,isArrayBufferView:Tf,isString:Mf,isNumber:pc,isBoolean:zf,isObject:jn,isPlainObject:Jn,isEmptyObject:$f,isReadableStream:Bf,isRequest:Vf,isResponse:Gf,isHeaders:Yf,isUndefined:Rr,isDate:Lf,isFile:Ff,isBlob:If,isRegExp:oh,isFunction:Ue,isStream:Uf,isURLSearchParams:qf,isTypedArray:rh,isFileList:Hf,forEach:Nn,merge:Oi,extend:Kf,trim:Xf,stripBOM:Jf,inherits:Zf,toFlatObject:Qf,kindOf:Ds,kindOfTest:ct,endsWith:eh,toArray:th,forEachEntry:nh,matchAll:sh,isHTMLForm:ih,hasOwnProperty:fo,hasOwnProp:fo,reduceDescriptors:xc,freezeMethods:lh,toObjectSet:ch,toCamelCase:ah,noop:uh,toFiniteNumber:dh,findKey:mc,global:er,isContextDefined:gc,isSpecCompliantForm:fh,toJSONObject:hh,isAsyncFn:ph,isThenable:mh,setImmediate:yc,asap:gh,isIterable:xh};function Z(e,r,n,s,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",r&&(this.code=r),n&&(this.config=n),s&&(this.request=s),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Z,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const vc=Z.prototype,bc={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{bc[e]={value:e}});Object.defineProperties(Z,bc);Object.defineProperty(vc,"isAxiosError",{value:!0});Z.from=(e,r,n,s,i,a)=>{const o=Object.create(vc);M.toFlatObject(e,o,function(h){return h!==Error.prototype},d=>d!=="isAxiosError");const c=e&&e.message?e.message:"Error",u=r==null&&e?e.code:r;return Z.call(o,c,u,n,s,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const yh=null;function Pi(e){return M.isPlainObject(e)||M.isArray(e)}function wc(e){return M.endsWith(e,"[]")?e.slice(0,-2):e}function ho(e,r,n){return e?e.concat(r).map(function(i,a){return i=wc(i),!n&&a?"["+i+"]":i}).join(n?".":""):r}function vh(e){return M.isArray(e)&&!e.some(Pi)}const bh=M.toFlatObject(M,{},null,function(r){return/^is[A-Z]/.test(r)});function Ts(e,r,n){if(!M.isObject(e))throw new TypeError("target must be an object");r=r||new FormData,n=M.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,y){return!M.isUndefined(y[v])});const s=n.metaTokens,i=n.visitor||h,a=n.dots,o=n.indexes,u=(n.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(r);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function d(g){if(g===null)return"";if(M.isDate(g))return g.toISOString();if(M.isBoolean(g))return g.toString();if(!u&&M.isBlob(g))throw new Z("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(g)||M.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,v,y){let x=g;if(g&&!y&&typeof g=="object"){if(M.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(M.isArray(g)&&vh(g)||(M.isFileList(g)||M.endsWith(v,"[]"))&&(x=M.toArray(g)))return v=wc(v),x.forEach(function(j,b){!(M.isUndefined(j)||j===null)&&r.append(o===!0?ho([v],b,a):o===null?v:v+"[]",d(j))}),!1}return Pi(g)?!0:(r.append(ho(y,v,a),d(g)),!1)}const f=[],p=Object.assign(bh,{defaultVisitor:h,convertValue:d,isVisitable:Pi});function m(g,v){if(!M.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),M.forEach(g,function(x,w){(!(M.isUndefined(x)||x===null)&&i.call(r,x,M.isString(w)?w.trim():w,v,p))===!0&&m(x,v?v.concat(w):[w])}),f.pop()}}if(!M.isObject(e))throw new TypeError("data must be an object");return m(e),r}function po(e){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return r[s]})}function fa(e,r){this._pairs=[],e&&Ts(e,this,r)}const _c=fa.prototype;_c.append=function(r,n){this._pairs.push([r,n])};_c.toString=function(r){const n=r?function(s){return r.call(this,s,po)}:po;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function wh(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jc(e,r,n){if(!r)return e;const s=n&&n.encode||wh;M.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(i?a=i(r,n):a=M.isURLSearchParams(r)?r.toString():new fa(r,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class mo{constructor(){this.handlers=[]}use(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){M.forEach(this.handlers,function(s){s!==null&&r(s)})}}const Nc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_h=typeof URLSearchParams<"u"?URLSearchParams:fa,jh=typeof FormData<"u"?FormData:null,Nh=typeof Blob<"u"?Blob:null,Sh={isBrowser:!0,classes:{URLSearchParams:_h,FormData:jh,Blob:Nh},protocols:["http","https","file","blob","url","data"]},ha=typeof window<"u"&&typeof document<"u",Ei=typeof navigator=="object"&&navigator||void 0,kh=ha&&(!Ei||["ReactNative","NativeScript","NS"].indexOf(Ei.product)<0),Ch=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Oh=ha&&window.location.href||"http://localhost",Ph=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ha,hasStandardBrowserEnv:kh,hasStandardBrowserWebWorkerEnv:Ch,navigator:Ei,origin:Oh},Symbol.toStringTag,{value:"Module"})),Me={...Ph,...Sh};function Eh(e,r){return Ts(e,new Me.classes.URLSearchParams,{visitor:function(n,s,i,a){return Me.isNode&&M.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...r})}function Rh(e){return M.matchAll(/\w+|\[(\w*)]/g,e).map(r=>r[0]==="[]"?"":r[1]||r[0])}function Dh(e){const r={},n=Object.keys(e);let s;const i=n.length;let a;for(s=0;s<i;s++)a=n[s],r[a]=e[a];return r}function Sc(e){function r(n,s,i,a){let o=n[a++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),u=a>=n.length;return o=!o&&M.isArray(i)?i.length:o,u?(M.hasOwnProp(i,o)?i[o]=[i[o],s]:i[o]=s,!c):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),r(n,s,i[o],a)&&M.isArray(i[o])&&(i[o]=Dh(i[o])),!c)}if(M.isFormData(e)&&M.isFunction(e.entries)){const n={};return M.forEachEntry(e,(s,i)=>{r(Rh(s),i,n,0)}),n}return null}function Ah(e,r,n){if(M.isString(e))try{return(r||JSON.parse)(e),M.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Sn={transitional:Nc,adapter:["xhr","http","fetch"],transformRequest:[function(r,n){const s=n.getContentType()||"",i=s.indexOf("application/json")>-1,a=M.isObject(r);if(a&&M.isHTMLForm(r)&&(r=new FormData(r)),M.isFormData(r))return i?JSON.stringify(Sc(r)):r;if(M.isArrayBuffer(r)||M.isBuffer(r)||M.isStream(r)||M.isFile(r)||M.isBlob(r)||M.isReadableStream(r))return r;if(M.isArrayBufferView(r))return r.buffer;if(M.isURLSearchParams(r))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let c;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return Eh(r,this.formSerializer).toString();if((c=M.isFileList(r))||s.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Ts(c?{"files[]":r}:r,u&&new u,this.formSerializer)}}return a||i?(n.setContentType("application/json",!1),Ah(r)):r}],transformResponse:[function(r){const n=this.transitional||Sn.transitional,s=n&&n.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(r)||M.isReadableStream(r))return r;if(r&&M.isString(r)&&(s&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(r,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Z.from(c,Z.ERR_BAD_RESPONSE,this,null,this.response):c}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Me.classes.FormData,Blob:Me.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],e=>{Sn.headers[e]={}});const Th=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mh=e=>{const r={};let n,s,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),s=o.substring(i+1).trim(),!(!n||r[n]&&Th[n])&&(n==="set-cookie"?r[n]?r[n].push(s):r[n]=[s]:r[n]=r[n]?r[n]+", "+s:s)}),r},go=Symbol("internals");function Hr(e){return e&&String(e).trim().toLowerCase()}function Zn(e){return e===!1||e==null?e:M.isArray(e)?e.map(Zn):String(e)}function zh(e){const r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)r[s[1]]=s[2];return r}const $h=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function si(e,r,n,s,i){if(M.isFunction(s))return s.call(this,r,n);if(i&&(r=n),!!M.isString(r)){if(M.isString(s))return r.indexOf(s)!==-1;if(M.isRegExp(s))return s.test(r)}}function Lh(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,n,s)=>n.toUpperCase()+s)}function Fh(e,r){const n=M.toCamelCase(" "+r);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(i,a,o){return this[s].call(this,r,i,a,o)},configurable:!0})})}let We=class{constructor(r){r&&this.set(r)}set(r,n,s){const i=this;function a(c,u,d){const h=Hr(u);if(!h)throw new Error("header name must be a non-empty string");const f=M.findKey(i,h);(!f||i[f]===void 0||d===!0||d===void 0&&i[f]!==!1)&&(i[f||u]=Zn(c))}const o=(c,u)=>M.forEach(c,(d,h)=>a(d,h,u));if(M.isPlainObject(r)||r instanceof this.constructor)o(r,n);else if(M.isString(r)&&(r=r.trim())&&!$h(r))o(Mh(r),n);else if(M.isObject(r)&&M.isIterable(r)){let c={},u,d;for(const h of r){if(!M.isArray(h))throw TypeError("Object iterator must return a key-value pair");c[d=h[0]]=(u=c[d])?M.isArray(u)?[...u,h[1]]:[u,h[1]]:h[1]}o(c,n)}else r!=null&&a(n,r,s);return this}get(r,n){if(r=Hr(r),r){const s=M.findKey(this,r);if(s){const i=this[s];if(!n)return i;if(n===!0)return zh(i);if(M.isFunction(n))return n.call(this,i,s);if(M.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,n){if(r=Hr(r),r){const s=M.findKey(this,r);return!!(s&&this[s]!==void 0&&(!n||si(this,this[s],s,n)))}return!1}delete(r,n){const s=this;let i=!1;function a(o){if(o=Hr(o),o){const c=M.findKey(s,o);c&&(!n||si(s,s[c],c,n))&&(delete s[c],i=!0)}}return M.isArray(r)?r.forEach(a):a(r),i}clear(r){const n=Object.keys(this);let s=n.length,i=!1;for(;s--;){const a=n[s];(!r||si(this,this[a],a,r,!0))&&(delete this[a],i=!0)}return i}normalize(r){const n=this,s={};return M.forEach(this,(i,a)=>{const o=M.findKey(s,a);if(o){n[o]=Zn(i),delete n[a];return}const c=r?Lh(a):String(a).trim();c!==a&&delete n[a],n[c]=Zn(i),s[c]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const n=Object.create(null);return M.forEach(this,(s,i)=>{s!=null&&s!==!1&&(n[i]=r&&M.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,n])=>r+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...n){const s=new this(r);return n.forEach(i=>s.set(i)),s}static accessor(r){const s=(this[go]=this[go]={accessors:{}}).accessors,i=this.prototype;function a(o){const c=Hr(o);s[c]||(Fh(i,o),s[c]=!0)}return M.isArray(r)?r.forEach(a):a(r),this}};We.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(We.prototype,({value:e},r)=>{let n=r[0].toUpperCase()+r.slice(1);return{get:()=>e,set(s){this[n]=s}}});M.freezeMethods(We);function ii(e,r){const n=this||Sn,s=r||n,i=We.from(s.headers);let a=s.data;return M.forEach(e,function(c){a=c.call(n,a,i.normalize(),r?r.status:void 0)}),i.normalize(),a}function kc(e){return!!(e&&e.__CANCEL__)}function Lr(e,r,n){Z.call(this,e??"canceled",Z.ERR_CANCELED,r,n),this.name="CanceledError"}M.inherits(Lr,Z,{__CANCEL__:!0});function Cc(e,r,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):r(new Z("Request failed with status code "+n.status,[Z.ERR_BAD_REQUEST,Z.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ih(e){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return r&&r[1]||""}function Hh(e,r){e=e||10;const n=new Array(e),s=new Array(e);let i=0,a=0,o;return r=r!==void 0?r:1e3,function(u){const d=Date.now(),h=s[a];o||(o=d),n[i]=u,s[i]=d;let f=a,p=0;for(;f!==i;)p+=n[f++],f=f%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-o<r)return;const m=h&&d-h;return m?Math.round(p*1e3/m):void 0}}function Uh(e,r){let n=0,s=1e3/r,i,a;const o=(d,h=Date.now())=>{n=h,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const h=Date.now(),f=h-n;f>=s?o(d,h):(i=d,a||(a=setTimeout(()=>{a=null,o(i)},s-f)))},()=>i&&o(i)]}const ls=(e,r,n=3)=>{let s=0;const i=Hh(50,250);return Uh(a=>{const o=a.loaded,c=a.lengthComputable?a.total:void 0,u=o-s,d=i(u),h=o<=c;s=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:u,rate:d||void 0,estimated:d&&c&&h?(c-o)/d:void 0,event:a,lengthComputable:c!=null,[r?"download":"upload"]:!0};e(f)},n)},xo=(e,r)=>{const n=e!=null;return[s=>r[0]({lengthComputable:n,total:e,loaded:s}),r[1]]},yo=e=>(...r)=>M.asap(()=>e(...r)),Wh=Me.hasStandardBrowserEnv?((e,r)=>n=>(n=new URL(n,Me.origin),e.protocol===n.protocol&&e.host===n.host&&(r||e.port===n.port)))(new URL(Me.origin),Me.navigator&&/(msie|trident)/i.test(Me.navigator.userAgent)):()=>!0,qh=Me.hasStandardBrowserEnv?{write(e,r,n,s,i,a,o){if(typeof document>"u")return;const c=[`${e}=${encodeURIComponent(r)}`];M.isNumber(n)&&c.push(`expires=${new Date(n).toUTCString()}`),M.isString(s)&&c.push(`path=${s}`),M.isString(i)&&c.push(`domain=${i}`),a===!0&&c.push("secure"),M.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(e){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Bh(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Vh(e,r){return r?e.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):e}function Oc(e,r,n){let s=!Bh(r);return e&&(s||n==!1)?Vh(e,r):r}const vo=e=>e instanceof We?{...e}:e;function lr(e,r){r=r||{};const n={};function s(d,h,f,p){return M.isPlainObject(d)&&M.isPlainObject(h)?M.merge.call({caseless:p},d,h):M.isPlainObject(h)?M.merge({},h):M.isArray(h)?h.slice():h}function i(d,h,f,p){if(M.isUndefined(h)){if(!M.isUndefined(d))return s(void 0,d,f,p)}else return s(d,h,f,p)}function a(d,h){if(!M.isUndefined(h))return s(void 0,h)}function o(d,h){if(M.isUndefined(h)){if(!M.isUndefined(d))return s(void 0,d)}else return s(void 0,h)}function c(d,h,f){if(f in r)return s(d,h);if(f in e)return s(void 0,d)}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(d,h,f)=>i(vo(d),vo(h),f,!0)};return M.forEach(Object.keys({...e,...r}),function(h){const f=u[h]||i,p=f(e[h],r[h],h);M.isUndefined(p)&&f!==c||(n[h]=p)}),n}const Pc=e=>{const r=lr({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:c}=r;if(r.headers=o=We.from(o),r.url=jc(Oc(r.baseURL,r.url,r.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),M.isFormData(n)){if(Me.hasStandardBrowserEnv||Me.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(n.getHeaders)){const u=n.getHeaders(),d=["content-type","content-length"];Object.entries(u).forEach(([h,f])=>{d.includes(h.toLowerCase())&&o.set(h,f)})}}if(Me.hasStandardBrowserEnv&&(s&&M.isFunction(s)&&(s=s(r)),s||s!==!1&&Wh(r.url))){const u=i&&a&&qh.read(a);u&&o.set(i,u)}return r},Gh=typeof XMLHttpRequest<"u",Yh=Gh&&function(e){return new Promise(function(n,s){const i=Pc(e);let a=i.data;const o=We.from(i.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:d}=i,h,f,p,m,g;function v(){m&&m(),g&&g(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let y=new XMLHttpRequest;y.open(i.method.toUpperCase(),i.url,!0),y.timeout=i.timeout;function x(){if(!y)return;const j=We.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),_={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:j,config:e,request:y};Cc(function(S){n(S),v()},function(S){s(S),v()},_),y=null}"onloadend"in y?y.onloadend=x:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(x)},y.onabort=function(){y&&(s(new Z("Request aborted",Z.ECONNABORTED,e,y)),y=null)},y.onerror=function(b){const _=b&&b.message?b.message:"Network Error",N=new Z(_,Z.ERR_NETWORK,e,y);N.event=b||null,s(N),y=null},y.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||Nc;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),s(new Z(b,_.clarifyTimeoutError?Z.ETIMEDOUT:Z.ECONNABORTED,e,y)),y=null},a===void 0&&o.setContentType(null),"setRequestHeader"in y&&M.forEach(o.toJSON(),function(b,_){y.setRequestHeader(_,b)}),M.isUndefined(i.withCredentials)||(y.withCredentials=!!i.withCredentials),c&&c!=="json"&&(y.responseType=i.responseType),d&&([p,g]=ls(d,!0),y.addEventListener("progress",p)),u&&y.upload&&([f,m]=ls(u),y.upload.addEventListener("progress",f),y.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(h=j=>{y&&(s(!j||j.type?new Lr(null,e,y):j),y.abort(),y=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const w=Ih(i.url);if(w&&Me.protocols.indexOf(w)===-1){s(new Z("Unsupported protocol "+w+":",Z.ERR_BAD_REQUEST,e));return}y.send(a||null)})},Xh=(e,r)=>{const{length:n}=e=e?e.filter(Boolean):[];if(r||n){let s=new AbortController,i;const a=function(d){if(!i){i=!0,c();const h=d instanceof Error?d:this.reason;s.abort(h instanceof Z?h:new Lr(h instanceof Error?h.message:h))}};let o=r&&setTimeout(()=>{o=null,a(new Z(`timeout ${r} of ms exceeded`,Z.ETIMEDOUT))},r);const c=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:u}=s;return u.unsubscribe=()=>M.asap(c),u}},Kh=function*(e,r){let n=e.byteLength;if(n<r){yield e;return}let s=0,i;for(;s<n;)i=s+r,yield e.slice(s,i),s=i},Jh=async function*(e,r){for await(const n of Zh(e))yield*Kh(n,r)},Zh=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const r=e.getReader();try{for(;;){const{done:n,value:s}=await r.read();if(n)break;yield s}}finally{await r.cancel()}},bo=(e,r,n,s)=>{const i=Jh(e,r);let a=0,o,c=u=>{o||(o=!0,s&&s(u))};return new ReadableStream({async pull(u){try{const{done:d,value:h}=await i.next();if(d){c(),u.close();return}let f=h.byteLength;if(n){let p=a+=f;n(p)}u.enqueue(new Uint8Array(h))}catch(d){throw c(d),d}},cancel(u){return c(u),i.return()}},{highWaterMark:2})},wo=64*1024,{isFunction:zn}=M,Qh=(({Request:e,Response:r})=>({Request:e,Response:r}))(M.global),{ReadableStream:_o,TextEncoder:jo}=M.global,No=(e,...r)=>{try{return!!e(...r)}catch{return!1}},ep=e=>{e=M.merge.call({skipUndefined:!0},Qh,e);const{fetch:r,Request:n,Response:s}=e,i=r?zn(r):typeof fetch=="function",a=zn(n),o=zn(s);if(!i)return!1;const c=i&&zn(_o),u=i&&(typeof jo=="function"?(g=>v=>g.encode(v))(new jo):async g=>new Uint8Array(await new n(g).arrayBuffer())),d=a&&c&&No(()=>{let g=!1;const v=new n(Me.origin,{body:new _o,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),h=o&&c&&No(()=>M.isReadableStream(new s("").body)),f={stream:h&&(g=>g.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!f[g]&&(f[g]=(v,y)=>{let x=v&&v[g];if(x)return x.call(v);throw new Z(`Response type '${g}' is not supported`,Z.ERR_NOT_SUPPORT,y)})});const p=async g=>{if(g==null)return 0;if(M.isBlob(g))return g.size;if(M.isSpecCompliantForm(g))return(await new n(Me.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(M.isArrayBufferView(g)||M.isArrayBuffer(g))return g.byteLength;if(M.isURLSearchParams(g)&&(g=g+""),M.isString(g))return(await u(g)).byteLength},m=async(g,v)=>{const y=M.toFiniteNumber(g.getContentLength());return y??p(v)};return async g=>{let{url:v,method:y,data:x,signal:w,cancelToken:j,timeout:b,onDownloadProgress:_,onUploadProgress:N,responseType:S,headers:E,withCredentials:R="same-origin",fetchOptions:k}=Pc(g),z=r||fetch;S=S?(S+"").toLowerCase():"text";let T=Xh([w,j&&j.toAbortSignal()],b),I=null;const C=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let D;try{if(N&&d&&y!=="get"&&y!=="head"&&(D=await m(E,x))!==0){let X=new n(v,{method:"POST",body:x,duplex:"half"}),K;if(M.isFormData(x)&&(K=X.headers.get("content-type"))&&E.setContentType(K),X.body){const[le,ie]=xo(D,ls(yo(N)));x=bo(X.body,wo,le,ie)}}M.isString(R)||(R=R?"include":"omit");const A=a&&"credentials"in n.prototype,F={...k,signal:T,method:y.toUpperCase(),headers:E.normalize().toJSON(),body:x,duplex:"half",credentials:A?R:void 0};I=a&&new n(v,F);let L=await(a?z(I,k):z(v,F));const q=h&&(S==="stream"||S==="response");if(h&&(_||q&&C)){const X={};["status","statusText","headers"].forEach(je=>{X[je]=L[je]});const K=M.toFiniteNumber(L.headers.get("content-length")),[le,ie]=_&&xo(K,ls(yo(_),!0))||[];L=new s(bo(L.body,wo,le,()=>{ie&&ie(),C&&C()}),X)}S=S||"text";let V=await f[M.findKey(f,S)||"text"](L,g);return!q&&C&&C(),await new Promise((X,K)=>{Cc(X,K,{data:V,headers:We.from(L.headers),status:L.status,statusText:L.statusText,config:g,request:I})})}catch(A){throw C&&C(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new Z("Network Error",Z.ERR_NETWORK,g,I),{cause:A.cause||A}):Z.from(A,A&&A.code,g,I)}}},tp=new Map,Ec=e=>{let r=e&&e.env||{};const{fetch:n,Request:s,Response:i}=r,a=[s,i,n];let o=a.length,c=o,u,d,h=tp;for(;c--;)u=a[c],d=h.get(u),d===void 0&&h.set(u,d=c?new Map:ep(r)),h=d;return d};Ec();const pa={http:yh,xhr:Yh,fetch:{get:Ec}};M.forEach(pa,(e,r)=>{if(e){try{Object.defineProperty(e,"name",{value:r})}catch{}Object.defineProperty(e,"adapterName",{value:r})}});const So=e=>`- ${e}`,rp=e=>M.isFunction(e)||e===null||e===!1;function np(e,r){e=M.isArray(e)?e:[e];const{length:n}=e;let s,i;const a={};for(let o=0;o<n;o++){s=e[o];let c;if(i=s,!rp(s)&&(i=pa[(c=String(s)).toLowerCase()],i===void 0))throw new Z(`Unknown adapter '${c}'`);if(i&&(M.isFunction(i)||(i=i.get(r))))break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([u,d])=>`adapter ${u} `+(d===!1?"is not supported by the environment":"is not available in the build"));let c=n?o.length>1?`since :
`+o.map(So).join(`
`):" "+So(o[0]):"as no adapter specified";throw new Z("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i}const Rc={getAdapter:np,adapters:pa};function ai(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Lr(null,e)}function ko(e){return ai(e),e.headers=We.from(e.headers),e.data=ii.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rc.getAdapter(e.adapter||Sn.adapter,e)(e).then(function(s){return ai(e),s.data=ii.call(e,e.transformResponse,s),s.headers=We.from(s.headers),s},function(s){return kc(s)||(ai(e),s&&s.response&&(s.response.data=ii.call(e,e.transformResponse,s.response),s.response.headers=We.from(s.response.headers))),Promise.reject(s)})}const Dc="1.13.2",Ms={};["object","boolean","number","function","string","symbol"].forEach((e,r)=>{Ms[e]=function(s){return typeof s===e||"a"+(r<1?"n ":" ")+e}});const Co={};Ms.transitional=function(r,n,s){function i(a,o){return"[Axios v"+Dc+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,c)=>{if(r===!1)throw new Z(i(o," has been removed"+(n?" in "+n:"")),Z.ERR_DEPRECATED);return n&&!Co[o]&&(Co[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(a,o,c):!0}};Ms.spelling=function(r){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${r}`),!0)};function sp(e,r,n){if(typeof e!="object")throw new Z("options must be an object",Z.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let i=s.length;for(;i-- >0;){const a=s[i],o=r[a];if(o){const c=e[a],u=c===void 0||o(c,a,e);if(u!==!0)throw new Z("option "+a+" must be "+u,Z.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Z("Unknown option "+a,Z.ERR_BAD_OPTION)}}const Qn={assertOptions:sp,validators:Ms},dt=Qn.validators;let sr=class{constructor(r){this.defaults=r||{},this.interceptors={request:new mo,response:new mo}}async request(r,n){try{return await this._request(r,n)}catch(s){if(s instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=lr(this.defaults,n);const{transitional:s,paramsSerializer:i,headers:a}=n;s!==void 0&&Qn.assertOptions(s,{silentJSONParsing:dt.transitional(dt.boolean),forcedJSONParsing:dt.transitional(dt.boolean),clarifyTimeoutError:dt.transitional(dt.boolean)},!1),i!=null&&(M.isFunction(i)?n.paramsSerializer={serialize:i}:Qn.assertOptions(i,{encode:dt.function,serialize:dt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Qn.assertOptions(n,{baseUrl:dt.spelling("baseURL"),withXsrfToken:dt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&M.merge(a.common,a[n.method]);a&&M.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=We.concat(o,a);const c=[];let u=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(u=u&&v.synchronous,c.unshift(v.fulfilled,v.rejected))});const d=[];this.interceptors.response.forEach(function(v){d.push(v.fulfilled,v.rejected)});let h,f=0,p;if(!u){const g=[ko.bind(this),void 0];for(g.unshift(...c),g.push(...d),p=g.length,h=Promise.resolve(n);f<p;)h=h.then(g[f++],g[f++]);return h}p=c.length;let m=n;for(;f<p;){const g=c[f++],v=c[f++];try{m=g(m)}catch(y){v.call(this,y);break}}try{h=ko.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,p=d.length;f<p;)h=h.then(d[f++],d[f++]);return h}getUri(r){r=lr(this.defaults,r);const n=Oc(r.baseURL,r.url,r.allowAbsoluteUrls);return jc(n,r.params,r.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(r){sr.prototype[r]=function(n,s){return this.request(lr(s||{},{method:r,url:n,data:(s||{}).data}))}});M.forEach(["post","put","patch"],function(r){function n(s){return function(a,o,c){return this.request(lr(c||{},{method:r,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}sr.prototype[r]=n(),sr.prototype[r+"Form"]=n(!0)});let ip=class Ac{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(i=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](i);s._listeners=null}),this.promise.then=i=>{let a;const o=new Promise(c=>{s.subscribe(c),a=c}).then(i);return o.cancel=function(){s.unsubscribe(a)},o},r(function(a,o,c){s.reason||(s.reason=new Lr(a,o,c),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const r=new AbortController,n=s=>{r.abort(s)};return this.subscribe(n),r.signal.unsubscribe=()=>this.unsubscribe(n),r.signal}static source(){let r;return{token:new Ac(function(i){r=i}),cancel:r}}};function ap(e){return function(n){return e.apply(null,n)}}function op(e){return M.isObject(e)&&e.isAxiosError===!0}const Ri={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ri).forEach(([e,r])=>{Ri[r]=e});function Tc(e){const r=new sr(e),n=dc(sr.prototype.request,r);return M.extend(n,sr.prototype,r,{allOwnKeys:!0}),M.extend(n,r,null,{allOwnKeys:!0}),n.create=function(i){return Tc(lr(e,i))},n}const Se=Tc(Sn);Se.Axios=sr;Se.CanceledError=Lr;Se.CancelToken=ip;Se.isCancel=kc;Se.VERSION=Dc;Se.toFormData=Ts;Se.AxiosError=Z;Se.Cancel=Se.CanceledError;Se.all=function(r){return Promise.all(r)};Se.spread=ap;Se.isAxiosError=op;Se.mergeConfig=lr;Se.AxiosHeaders=We;Se.formToJSON=e=>Sc(M.isHTMLForm(e)?new FormData(e):e);Se.getAdapter=Rc.getAdapter;Se.HttpStatusCode=Ri;Se.default=Se;const{Axios:RN,AxiosError:DN,CanceledError:AN,isCancel:TN,CancelToken:MN,VERSION:zN,all:$N,Cancel:LN,isAxiosError:FN,spread:IN,toFormData:HN,AxiosHeaders:UN,HttpStatusCode:WN,formToJSON:qN,getAdapter:BN,mergeConfig:VN}=Se,$=Se.create({baseURL:"/api"});$.interceptors.request.use(e=>{const r=localStorage.getItem("token");return r&&(e.headers.Authorization=`Bearer ${r}`),e});const Di={register:e=>$.post("/auth/register",e),login:e=>$.post("/auth/login",e),me:()=>$.get("/auth/me"),updateProfile:e=>$.put("/auth/profile",e),changePassword:e=>$.put("/auth/password",e)},lp={setup:()=>$.post("/auth/mfa/setup"),verifySetup:e=>$.post("/auth/mfa/verify-setup",e),disable:e=>$.delete("/auth/mfa",{data:e}),regenerateRecoveryCodes:e=>$.post("/auth/mfa/recovery-codes",e),verify:e=>$.post("/auth/mfa/verify",e)},ir={create:e=>$.post("/scans",e),getAll:()=>$.get("/scans"),getById:e=>$.get(`/scans/${e}`),getResults:e=>$.get(`/scans/${e}/results`),delete:e=>$.delete(`/scans/${e}`),getPresets:()=>$.get("/scan-presets"),bulkDelete:e=>$.post("/scans/bulk-delete",{scan_ids:e}),bulkExport:(e,r,n)=>$.post("/scans/bulk-export",{scan_ids:e,format:r,...n},{responseType:"blob"})},GN={getUsers:()=>$.get("/admin/users"),getUser:e=>$.get(`/admin/users/${e}`),updateUser:(e,r)=>$.patch(`/admin/users/${e}`,r),deleteUser:e=>$.delete(`/admin/users/${e}`),assignRole:(e,r)=>$.post(`/admin/users/${e}/roles`,{role_id:r}),removeRole:(e,r)=>$.delete(`/admin/users/${e}/roles/${r}`),unlockUser:e=>$.post(`/admin/users/${e}/unlock`),getRoles:()=>$.get("/admin/roles"),getAllScans:()=>$.get("/admin/scans"),deleteScan:e=>$.delete(`/admin/scans/${e}`),getAuditLogs:(e=100,r=0)=>$.get(`/admin/audit-logs?limit=${e}&offset=${r}`),getSettings:()=>$.get("/admin/settings"),updateSetting:(e,r)=>$.patch(`/admin/settings/${e}`,{value:r})},un={create:e=>$.post("/reports",e),getAll:e=>{const r=e?`?scan_id=${e}`:"";return $.get(`/reports${r}`)},getById:e=>$.get(`/reports/${e}`),download:async e=>await $.get(`/reports/${e}/download`,{responseType:"blob"}),delete:e=>$.delete(`/reports/${e}`),getTemplates:()=>$.get("/reports/templates")},cp={getAll:()=>$.get("/target-groups"),getById:e=>$.get(`/target-groups/${e}`),create:e=>$.post("/target-groups",e),update:(e,r)=>$.put(`/target-groups/${e}`,r),delete:e=>$.delete(`/target-groups/${e}`)},YN={getAll:()=>$.get("/scheduled-scans"),getById:e=>$.get(`/scheduled-scans/${e}`),create:e=>$.post("/scheduled-scans",e),update:(e,r)=>$.put(`/scheduled-scans/${e}`,r),delete:e=>$.delete(`/scheduled-scans/${e}`)},XN={getSettings:()=>$.get("/notifications/settings"),updateSettings:e=>$.put("/notifications/settings",e),testSlack:()=>$.post("/notifications/test-slack"),testTeams:()=>$.post("/notifications/test-teams"),testEmail:()=>$.post("/notifications/test-email"),checkSmtpStatus:()=>$.get("/notifications/smtp-status")},KN={getAll:()=>$.get("/api-keys"),create:e=>$.post("/api-keys",e),update:(e,r)=>$.patch(`/api-keys/${e}`,r),delete:e=>$.delete(`/api-keys/${e}`)},JN={compare:(e,r)=>$.post("/scans/compare",{scan_id_1:e,scan_id_2:r})},up={getAll:()=>$.get("/templates"),getById:e=>$.get(`/templates/${e}`),create:e=>$.post("/templates",e),update:(e,r)=>$.put(`/templates/${e}`,r),delete:e=>$.delete(`/templates/${e}`),createScan:(e,r)=>$.post(`/templates/${e}/scan`,{name:r})},Ur={getSummary:(e=30)=>$.get(`/analytics/summary?days=${e}`),getHosts:(e=30)=>$.get(`/analytics/hosts?days=${e}`),getVulnerabilities:(e=30)=>$.get(`/analytics/vulnerabilities?days=${e}`),getServices:(e=10)=>$.get(`/analytics/services?limit=${e}`),getFrequency:(e=30)=>$.get(`/analytics/frequency?days=${e}`)},ZN={list:e=>{const r=new URLSearchParams;return e.scan_id&&r.append("scan_id",e.scan_id),e.status&&r.append("status",e.status),e.severity&&r.append("severity",e.severity),$.get(`/vulnerabilities?${r.toString()}`)},get:e=>$.get(`/vulnerabilities/${e}`),update:(e,r)=>$.put(`/vulnerabilities/${e}`,r),addComment:(e,r)=>$.post(`/vulnerabilities/${e}/comments`,{comment:r}),bulkUpdate:e=>$.post("/vulnerabilities/bulk-update",e),bulkExport:(e,r)=>$.post("/vulnerabilities/bulk-export",{vulnerability_ids:e,format:r},{responseType:"blob"}),getStats:e=>{const r=e?`?scan_id=${e}`:"";return $.get(`/vulnerabilities/stats${r}`)},getTimeline:e=>$.get(`/vulnerabilities/${e}/timeline`),markForVerification:(e,r)=>$.post(`/vulnerabilities/${e}/verify`,r),bulkAssign:e=>$.post("/vulnerabilities/bulk-assign",e)},$n={getFrameworks:()=>$.get("/compliance/frameworks"),getFramework:e=>$.get(`/compliance/frameworks/${e}`),getFrameworkControls:e=>$.get(`/compliance/frameworks/${e}/controls`),analyzeScan:(e,r)=>$.post(`/scans/${e}/compliance`,r),getScanCompliance:e=>$.get(`/scans/${e}/compliance`),generateReport:(e,r)=>$.post(`/scans/${e}/compliance/report`,r),downloadReport:e=>$.get(`/compliance/reports/${e}/download`,{responseType:"blob"})},QN={getSettings:()=>$.get("/integrations/jira/settings"),updateSettings:e=>$.post("/integrations/jira/settings",e),testConnection:()=>$.post("/integrations/jira/test"),listProjects:()=>$.get("/integrations/jira/projects"),listIssueTypes:()=>$.get("/integrations/jira/issue-types"),createTicket:(e,r)=>$.post(`/vulnerabilities/${e}/create-ticket`,r||{})},eS={performRecon:e=>$.post("/dns/recon",{domain:e.domain,include_subdomains:e.includeSubdomains,custom_wordlist:e.customWordlist,timeout_secs:e.timeoutSecs}),listResults:()=>$.get("/dns/recon"),getResult:e=>$.get(`/dns/recon/${e}`),deleteResult:e=>$.delete(`/dns/recon/${e}`),getWordlist:()=>$.get("/dns/wordlist")},dp={getSettings:()=>$.get("/integrations/siem/settings"),createSettings:e=>$.post("/integrations/siem/settings",e),updateSettings:(e,r)=>$.put(`/integrations/siem/settings/${e}`,r),deleteSettings:e=>$.delete(`/integrations/siem/settings/${e}`),testConnection:e=>$.post(`/integrations/siem/settings/${e}/test`),exportScan:e=>$.post(`/integrations/siem/export/${e}`)},tS={startScan:e=>$.post("/webapp/scan",e),getScan:e=>$.get(`/webapp/scan/${e}`)},rS={getAll:e=>{const r=e?`?framework_id=${e}`:"";return $.get(`/compliance/rubrics${r}`)},getById:e=>$.get(`/compliance/rubrics/${e}`),create:e=>$.post("/compliance/rubrics",e),update:(e,r)=>$.put(`/compliance/rubrics/${e}`,r),delete:e=>$.delete(`/compliance/rubrics/${e}`),getByFramework:e=>$.get(`/compliance/frameworks/${e}/rubrics`)},nS={getAll:(e,r)=>{const n=new URLSearchParams;e&&n.append("framework_id",e),r&&n.append("status",r);const s=n.toString();return $.get(`/compliance/assessments${s?`?${s}`:""}`)},getById:e=>$.get(`/compliance/assessments/${e}`),create:e=>$.post("/compliance/assessments",e),update:(e,r)=>$.put(`/compliance/assessments/${e}`,r),delete:e=>$.delete(`/compliance/assessments/${e}`),submit:e=>$.post(`/compliance/assessments/${e}/submit`),approve:e=>$.post(`/compliance/assessments/${e}/approve`),reject:(e,r)=>$.post(`/compliance/assessments/${e}/reject`,{notes:r})},sS={getAll:e=>$.get(`/compliance/assessments/${e}/evidence`),upload:(e,r)=>$.post(`/compliance/assessments/${e}/evidence`,r,{headers:{"Content-Type":"multipart/form-data"}}),addLink:(e,r,n,s)=>$.post(`/compliance/assessments/${e}/evidence/link`,{title:r,url:n,description:s}),delete:e=>$.delete(`/compliance/evidence/${e}`),download:async e=>(await $.get(`/compliance/evidence/${e}/download`,{responseType:"blob"})).data},iS={getAll:()=>$.get("/compliance/campaigns"),getById:e=>$.get(`/compliance/campaigns/${e}`),create:e=>$.post("/compliance/campaigns",e),update:(e,r)=>$.put(`/compliance/campaigns/${e}`,r),delete:e=>$.delete(`/compliance/campaigns/${e}`),getProgress:e=>$.get(`/compliance/campaigns/${e}/progress`)},ma=()=>{const{user:e,token:r,isAuthenticated:n,isLoading:s,login:i,logout:a,setLoading:o,setUser:c}=Er();O.useEffect(()=>{(async()=>{if(localStorage.getItem("token")&&!e){o(!0);try{const p=await Di.me();c(p.data)}catch(p){console.error("Failed to verify token:",p),a()}finally{o(!1)}}})()},[]);const u=O.useCallback(async(h,f)=>{var p,m;o(!0);try{const g=await Di.login({username:h,password:f}),{token:v,user:y}=g.data;return i(y,v),B.success("Login successful!"),!0}catch(g){const v=((m=(p=g.response)==null?void 0:p.data)==null?void 0:m.error)||"Login failed. Please check your credentials.";return B.error(v),!1}finally{o(!1)}},[i,o]),d=O.useCallback(()=>{a(),B.info("Logged out successfully")},[a]);return{user:e,token:r,isAuthenticated:n,isLoading:s,login:u,logout:d}},Ce=({variant:e="primary",size:r="md",loading:n=!1,loadingText:s,disabled:i,className:a="",children:o,"aria-label":c,...u})=>{const d="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus-ring disabled:opacity-50 disabled:cursor-not-allowed",h={primary:"bg-primary text-white hover:bg-primary-dark active:bg-blue-700",secondary:"bg-dark-surface text-slate-100 hover:bg-dark-hover border border-dark-border",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",ghost:"text-slate-300 hover:bg-dark-surface hover:text-slate-100"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg"};return l.jsxs("button",{className:`${d} ${h[e]} ${f[r]} ${a}`,disabled:i||n,"aria-busy":n,"aria-disabled":i||n,"aria-label":n&&s?s:c,...u,children:[n&&l.jsx(ks,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":"true"}),l.jsx("span",{"aria-live":n?"polite":void 0,children:n&&s?s:o})]})},fp=({content:e,children:r,position:n="top",delay:s=200,maxWidth:i=250})=>{const[a,o]=O.useState(!1),[c,u]=O.useState({x:0,y:0}),d=O.useRef(null),h=O.useRef(null),f=O.useRef(),p=()=>{f.current=setTimeout(()=>{o(!0)},s)},m=()=>{f.current&&clearTimeout(f.current),o(!1)};O.useEffect(()=>{if(a&&d.current&&h.current){const v=d.current.getBoundingClientRect(),y=h.current.getBoundingClientRect(),x=8;let w=0,j=0;switch(n){case"top":w=v.left+v.width/2-y.width/2,j=v.top-y.height-x;break;case"bottom":w=v.left+v.width/2-y.width/2,j=v.bottom+x;break;case"left":w=v.left-y.width-x,j=v.top+v.height/2-y.height/2;break;case"right":w=v.right+x,j=v.top+v.height/2-y.height/2;break}const b=10;w=Math.max(b,Math.min(w,window.innerWidth-y.width-b)),j=Math.max(b,Math.min(j,window.innerHeight-y.height-b)),u({x:w,y:j})}},[a,n]),O.useEffect(()=>()=>{f.current&&clearTimeout(f.current)},[]);const g={top:"after:top-full after:left-1/2 after:-translate-x-1/2 after:border-t-dark-surface",bottom:"after:bottom-full after:left-1/2 after:-translate-x-1/2 after:border-b-dark-surface",left:"after:left-full after:top-1/2 after:-translate-y-1/2 after:border-l-dark-surface",right:"after:right-full after:top-1/2 after:-translate-y-1/2 after:border-r-dark-surface"};return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:d,onMouseEnter:p,onMouseLeave:m,onFocus:p,onBlur:m,className:"inline-flex",children:r}),a&&l.jsx("div",{ref:h,role:"tooltip",className:`
            fixed z-[200] px-3 py-2 text-sm text-slate-100 bg-dark-surface
            border border-dark-border rounded-lg shadow-xl
            animate-fade-in pointer-events-none
            ${g[n]}
          `,style:{left:c.x,top:c.y,maxWidth:i},children:e})]})},Te=({label:e,error:r,icon:n,helpText:s,hint:i,className:a="",id:o,...c})=>{const u=O.useId(),d=o||u,h=`${d}-error`,f=`${d}-hint`,p=[r?h:null,i?f:null].filter(Boolean).join(" ")||void 0;return l.jsxs("div",{className:"w-full",children:[e&&l.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[l.jsxs("label",{htmlFor:d,className:"block text-sm font-medium text-slate-300",children:[e,c.required&&l.jsx("span",{className:"text-red-400 ml-0.5","aria-hidden":"true",children:"*"})]}),s&&l.jsx(fp,{content:s,position:"top",children:l.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-300 transition-colors","aria-label":`Help for ${e}`,children:l.jsx(Yl,{className:"h-3.5 w-3.5"})})})]}),i&&l.jsx("p",{id:f,className:"text-xs text-slate-500 mb-1.5",children:i}),l.jsxs("div",{className:"relative",children:[n&&l.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 pointer-events-none","aria-hidden":"true",children:n}),l.jsx("input",{id:d,className:`
            w-full px-3 py-2 bg-dark-surface border rounded-lg text-slate-100
            placeholder-slate-500 transition-colors focus-ring
            ${n?"pl-10":""}
            ${r?"border-red-500":"border-dark-border hover:border-dark-hover focus:border-primary"}
            ${a}
          `,"aria-invalid":r?"true":void 0,"aria-describedby":p,...c})]}),r&&l.jsx("p",{id:h,className:"mt-1 text-sm text-red-500",role:"alert",children:r})]})},hp=()=>{const[e,r]=O.useState(""),[n,s]=O.useState(""),[i,a]=O.useState(!1),[o,c]=O.useState(""),[u,d]=O.useState(""),[h,f]=O.useState(!1),{isLoading:p}=ma(),[m,g]=O.useState(!1),v=Bl(),{login:y}=Er(),x=async b=>{var _,N;if(b.preventDefault(),!(!e||!n)){g(!0);try{const E=(await Di.login({username:e,password:n})).data;E.mfa_required&&E.mfa_token?(a(!0),c(E.mfa_token),B.info("Please enter your two-factor authentication code")):(y(E.user,E.token),B.success("Login successful!"),v("/dashboard"))}catch(S){const E=((N=(_=S.response)==null?void 0:_.data)==null?void 0:N.error)||"Login failed. Please check your credentials.";B.error(E)}finally{g(!1)}}},w=async b=>{var _,N;if(b.preventDefault(),!u||(h?u.length===0:u.length!==6)){B.error(h?"Please enter a recovery code":"Please enter a valid 6-digit code");return}g(!0);try{const S=await lp.verify({mfa_token:o,...h?{recovery_code:u}:{totp_code:u}}),{token:E,user:R}=S.data;y(R,E),B.success("Login successful!"),v("/dashboard")}catch(S){B.error(((N=(_=S.response)==null?void 0:_.data)==null?void 0:N.error)||"Invalid authentication code")}finally{g(!1)}},j=()=>{a(!1),c(""),d(""),f(!1)};return i?l.jsxs("div",{className:"space-y-4 w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-primary/20 rounded-lg mb-3",children:l.jsx(Ee,{className:"h-6 w-6 text-primary"})}),l.jsx("h3",{className:"text-lg font-semibold text-white mb-1",children:"Two-Factor Authentication"}),l.jsx("p",{className:"text-sm text-slate-400",children:h?"Enter one of your recovery codes":"Enter the 6-digit code from your authenticator app"})]}),l.jsxs("form",{onSubmit:w,className:"space-y-4",children:[l.jsx(Te,{type:"text",placeholder:h?"Recovery Code":"000000",value:u,onChange:b=>{d(h?b.target.value:b.target.value.replace(/\D/g,"").slice(0,6))},icon:h?l.jsx(zd,{className:"h-5 w-5"}):l.jsx(Ee,{className:"h-5 w-5"}),className:h?"":"text-center tracking-widest font-mono",maxLength:h?void 0:6,required:!0,autoFocus:!0,autoComplete:"one-time-code"}),l.jsx("div",{className:"flex items-center justify-center",children:l.jsx("button",{type:"button",onClick:()=>{f(!h),d("")},className:"text-sm text-primary hover:text-primary-dark transition-colors",children:h?"Use authenticator code instead":"Use recovery code instead"})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(Ce,{type:"button",variant:"secondary",size:"lg",onClick:j,className:"flex-1",children:"Back"}),l.jsx(Ce,{type:"submit",variant:"primary",size:"lg",loading:m,disabled:m,className:"flex-1",children:"Verify"})]})]})]}):l.jsxs("form",{onSubmit:x,className:"space-y-4 w-full max-w-md",children:[l.jsx(Te,{type:"text",placeholder:"Username",value:e,onChange:b=>r(b.target.value),icon:l.jsx(Xl,{className:"h-5 w-5"}),required:!0,autoComplete:"username"}),l.jsx(Te,{type:"password",placeholder:"Password",value:n,onChange:b=>s(b.target.value),icon:l.jsx(Kl,{className:"h-5 w-5"}),required:!0,autoComplete:"current-password"}),l.jsx(Ce,{type:"submit",variant:"primary",size:"lg",loading:m||p,disabled:m||p,className:"w-full",children:"Sign In"})]})},pp=()=>{const{isAuthenticated:e}=ma(),r=Bl();return O.useEffect(()=>{e&&r("/dashboard")},[e,r]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-dark-bg via-slate-900 to-slate-800 p-4",children:l.jsxs("div",{className:"w-full max-w-md",children:[l.jsxs("div",{className:"text-center mb-8 animate-fadeIn",children:[l.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary rounded-lg mb-4",children:l.jsx(Ee,{className:"h-10 w-10 text-white"})}),l.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"HeroForge"}),l.jsx("p",{className:"text-slate-400 text-lg",children:"Network Triage & Reconnaissance"})]}),l.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-2xl p-8 animate-fadeIn",children:[l.jsx("h2",{className:"text-2xl font-semibold text-white mb-6 text-center",children:"Sign In"}),l.jsx(hp,{})]}),l.jsx("div",{className:"text-center mt-6 text-slate-500 text-sm",children:l.jsx("p",{children:"Authorized personnel only"})})]})})},mp=()=>{const{user:e,logout:r}=ma(),n=Er(i=>i.isAdmin),s=Rd();return l.jsx("header",{className:"bg-dark-surface border-b border-dark-border shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex items-center justify-between h-16",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"flex items-center justify-center w-10 h-10 bg-primary rounded-lg",children:l.jsx(Ee,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"HeroForge"}),l.jsx("p",{className:"text-xs text-slate-400",children:"Network Triage Dashboard"})]})]}),e&&l.jsxs("nav",{className:"flex items-center space-x-1",children:[l.jsxs(zt,{to:"/dashboard",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/dashboard")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Jl,{className:"h-4 w-4"}),"Dashboard"]}),l.jsxs(zt,{to:"/assets",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/assets")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Tt,{className:"h-4 w-4"}),"Assets"]}),l.jsxs(zt,{to:"/webapp-scan",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/webapp-scan")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Zl,{className:"h-4 w-4"}),"Web Scan"]}),l.jsxs(zt,{to:"/dns-tools",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/dns-tools")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(os,{className:"h-4 w-4"}),"DNS Tools"]}),l.jsxs(zt,{to:"/compliance",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname==="/compliance"?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx($d,{className:"h-4 w-4"}),"Compliance"]}),l.jsxs(zt,{to:"/manual-assessments",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/manual-assessments")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(la,{className:"h-4 w-4"}),"Assessments"]}),l.jsxs(zt,{to:"/settings",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/settings")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Ql,{className:"h-4 w-4"}),"Settings"]}),n()&&l.jsxs(zt,{to:"/admin",className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors ${s.pathname.startsWith("/admin")?"bg-primary/10 text-primary font-medium":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Ld,{className:"h-4 w-4"}),"Admin Console"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[e&&l.jsxs("div",{className:"flex items-center space-x-3 text-sm",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Xl,{className:"h-5 w-5 text-slate-400"}),l.jsx("span",{className:"text-slate-300",children:e.username})]}),e.roles&&e.roles.length>0&&l.jsx("div",{className:"flex gap-1",children:e.roles.map(i=>l.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs font-medium rounded border bg-slate-500/20 text-slate-300 border-slate-500/30 capitalize",children:i},i))})]}),l.jsxs(Ce,{variant:"ghost",size:"sm",onClick:r,className:"text-slate-400 hover:text-white",children:[l.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})})})},gp=({children:e})=>l.jsxs("div",{className:"min-h-screen bg-dark-bg",children:[l.jsx(mp,{}),l.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e})]}),br=({label:e,checked:r,onChange:n,className:s=""})=>l.jsxs("label",{className:`inline-flex items-center cursor-pointer ${s}`,children:[l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:i=>n(i.target.checked),className:"sr-only"}),l.jsx("div",{className:`
            w-5 h-5 border-2 rounded transition-all
            ${r?"bg-primary border-primary":"bg-dark-surface border-dark-border hover:border-primary"}
          `,children:r&&l.jsx(ec,{className:"h-full w-full text-white p-0.5"})})]}),e&&l.jsx("span",{className:"ml-2 text-sm text-slate-300",children:e})]}),re=({children:e,variant:r="default",className:n="",onClick:s})=>{const i="bg-dark-surface border border-dark-border rounded-lg p-4 shadow-lg",a={default:"",interactive:"cursor-pointer hover:border-primary hover:shadow-xl transition-all duration-200"};return l.jsx("div",{className:`${i} ${a[r]} ${n}`,onClick:s,children:e})},xt=ql(e=>({scans:[],activeScan:null,results:new Map,liveUpdates:new Map,setScans:r=>e({scans:r}),addScan:r=>e(n=>({scans:[r,...n.scans]})),setActiveScan:r=>e({activeScan:r}),updateScanStatus:(r,n)=>e(s=>{var a;const i=n;return{scans:s.scans.map(o=>o.id===r?{...o,status:i}:o),activeScan:((a=s.activeScan)==null?void 0:a.id)===r?{...s.activeScan,status:i}:s.activeScan}}),setResults:(r,n)=>e(s=>{const i=new Map(s.results);return i.set(r,n),{results:i}}),addHostToResults:(r,n)=>e(s=>{const i=new Map(s.results),a=i.get(r)||[],o=a.findIndex(c=>c.target.ip===n.target.ip);return o>=0?a[o]=n:a.push(n),i.set(r,a),{results:i}}),updateHostInResults:(r,n,s)=>e(i=>{const a=new Map(i.results),c=(a.get(r)||[]).map(u=>u.target.ip===n?{...u,...s}:u);return a.set(r,c),{results:a}}),addLiveUpdate:(r,n)=>e(s=>{const i=new Map(s.liveUpdates),a=i.get(r)||[];return a.push(n),i.set(r,a),{liveUpdates:i}}),clearLiveUpdates:r=>e(n=>{const s=new Map(n.liveUpdates);return s.delete(r),{liveUpdates:s}})})),xp=[{id:"tcp_connect",label:"TCP Connect",description:"Standard TCP scan (most reliable)"},{id:"udp",label:"UDP Only",description:"UDP port scanning (requires root)"},{id:"comprehensive",label:"Comprehensive",description:"TCP + UDP scanning (thorough)"},{id:"syn",label:"SYN Stealth",description:"Half-open TCP scan (requires root)"}],yp=[{id:"http",label:"HTTP",category:"Web"},{id:"https",label:"HTTPS",category:"Web"},{id:"dns",label:"DNS",category:"Network"},{id:"smb",label:"SMB",category:"Network"},{id:"ftp",label:"FTP",category:"Network"},{id:"ssh",label:"SSH",category:"Network"},{id:"smtp",label:"SMTP",category:"Network"},{id:"ldap",label:"LDAP",category:"Network"},{id:"rdp",label:"RDP",category:"Remote"},{id:"vnc",label:"VNC",category:"Remote"},{id:"telnet",label:"Telnet",category:"Remote"},{id:"snmp",label:"SNMP",category:"Network"},{id:"mysql",label:"MySQL",category:"Database"},{id:"postgresql",label:"PostgreSQL",category:"Database"},{id:"mongodb",label:"MongoDB",category:"Database"},{id:"redis",label:"Redis",category:"Database"},{id:"elasticsearch",label:"Elasticsearch",category:"Database"}],vp=()=>{const[e,r]=O.useState(""),[n,s]=O.useState(""),[i,a]=O.useState(""),[o,c]=O.useState(1),[u,d]=O.useState(1e3),[h,f]=O.useState(100),[p,m]=O.useState("tcp_connect"),[g,v]=O.useState(53),[y,x]=O.useState(500),[w,j]=O.useState(2),[b,_]=O.useState(!0),[N,S]=O.useState(!0),[E,R]=O.useState(!1),[k,z]=O.useState(!1),[T,I]=O.useState("light"),[C,D]=O.useState([]),[A,F]=O.useState(!1),[L,q]=O.useState([]),[V,X]=O.useState(!1),[K,le]=O.useState(""),[ie,je]=O.useState(""),[se,de]=O.useState([]),[W,Y]=O.useState(null),{addScan:ae}=xt(),te=p==="udp"||p==="comprehensive";O.useEffect(()=>{ce(),be()},[]);const ce=async()=>{try{const H=await cp.getAll();q(H.data)}catch(H){console.error("Failed to load target groups:",H)}},be=async()=>{try{const H=await ir.getPresets();de(H.data)}catch(H){console.error("Failed to load scan presets:",H)}},ke=H=>{const oe=JSON.parse(H.targets||"[]");a(oe.join(", "))},Ie=H=>{Y(H.id),H.id==="webapp"?(c(80),d(8443)):(c(H.port_range[0]),d(H.port_range[1])),f(H.threads),m(H.scan_type),_(H.enable_os_detection),S(H.enable_service_detection),R(H.enable_vuln_scan),z(H.enable_enumeration),H.enum_depth&&I(H.enum_depth),H.udp_port_range&&(v(H.udp_port_range[0]),x(H.udp_port_range[1])),H.udp_retries&&j(H.udp_retries),H.enum_services?D(H.enum_services):D([]),B.success(`Applied "${H.name}" preset`)},we=H=>{switch(H){case"Zap":return ni;case"Radar":return Bd;case"Globe":return Zl;case"EyeOff":return qd;default:return ni}},Je=H=>{const oe=H.trim(),hr=/^(\d{1,3}\.){3}\d{1,3}$/,Tn=/^(\d{1,3}\.){3}\d{1,3}\/\d{1,2}$/,Fr=/^(\d{1,3}\.){3}\d{1,3}-(\d{1,3}\.){3}\d{1,3}$/,Ir=/^[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?)*$/;return hr.test(oe)||Tn.test(oe)||Fr.test(oe)||Ir.test(oe)},pe=H=>H.split(/[,\n]/).map(oe=>oe.trim()).filter(oe=>oe.length>0),_e=H=>{const oe=pe(H);return oe.length===0?!1:oe.every(Je)},Ze=async H=>{var hr,Tn;if(H.preventDefault(),!e.trim()){B.error("Please enter a scan name");return}if(!i.trim()){B.error("Please enter a target");return}if(!_e(i)){B.error("Invalid target format. Use IP (192.168.1.1), CIDR (192.168.1.0/24), range, or hostname. Separate multiple targets with commas.");return}if(o<1||u>65535||o>u){B.error("Invalid port range");return}const oe=pe(i);F(!0);try{const Fr=await ir.create({name:e.trim(),targets:oe,port_range:[o,u],threads:h,scan_type:p,udp_port_range:te?[g,y]:void 0,udp_retries:te?w:void 0,enable_os_detection:b,enable_service_detection:N,enable_vuln_scan:E,enable_enumeration:k,enum_depth:k?T:void 0,enum_services:k&&C.length>0?C:void 0});if(ae(Fr.data),B.success("Scan started successfully!"),V&&K.trim())try{await up.create({name:K.trim(),description:ie.trim()||void 0,config:{targets:oe,port_range:[o,u],threads:h,scan_type:p,udp_port_range:te?[g,y]:void 0,udp_retries:te?w:void 0,enable_os_detection:b,enable_service_detection:N,enable_vuln_scan:E,enable_enumeration:k,enum_depth:k?T:void 0,enum_services:k&&C.length>0?C:void 0}}),B.success("Template saved!")}catch(Ir){console.error("Failed to save template:",Ir),B.warning("Scan started but template save failed")}r(""),a(""),s(""),c(1),d(1e3),f(100),m("tcp_connect"),v(53),x(500),j(2),z(!1),I("light"),D([]),X(!1),le(""),je("")}catch(Fr){const Ir=((Tn=(hr=Fr.response)==null?void 0:hr.data)==null?void 0:Tn.error)||"Failed to start scan";B.error(Ir)}finally{F(!1)}},An=H=>{D(oe=>oe.includes(H)?oe.filter(hr=>hr!==H):[...oe,H])};return l.jsxs(re,{children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Create New Scan"}),l.jsxs("form",{onSubmit:Ze,className:"space-y-4",children:[se.length>0&&l.jsxs("div",{className:"space-y-3 pb-4 border-b border-dark-border",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(ni,{className:"h-5 w-5 text-yellow-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Quick Presets"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:se.map(H=>{const oe=we(H.icon);return l.jsxs("button",{type:"button",onClick:()=>Ie(H),className:`px-3 py-3 text-sm rounded-lg border transition-all text-left ${W===H.id?"bg-gradient-to-br from-yellow-600/20 to-orange-600/20 border-yellow-500 text-white shadow-lg":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500 hover:bg-dark-surface/50"}`,children:[l.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[l.jsx(oe,{className:`h-4 w-4 ${W===H.id?"text-yellow-400":"text-slate-500"}`}),l.jsx("div",{className:"font-medium",children:H.name})]}),l.jsx("div",{className:"text-xs opacity-70 line-clamp-2",children:H.description})]},H.id)})}),l.jsx("p",{className:"text-xs text-slate-500 italic",children:"Select a preset to auto-configure scan settings, or customize manually below."})]}),l.jsx(Te,{label:"Scan Name",type:"text",placeholder:"Production Network Scan",value:e,onChange:H=>r(H.target.value),required:!0}),l.jsx(Te,{label:"Customer Tag (Optional)",type:"text",placeholder:"ACME Corp",value:n,onChange:H=>s(H.target.value),icon:l.jsx(Id,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300",children:"Target"}),L.length>0&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Hd,{className:"h-3 w-3 text-slate-500"}),l.jsx("span",{className:"text-xs text-slate-500",children:"Use group:"}),L.slice(0,3).map(H=>l.jsx("button",{type:"button",onClick:()=>ke(H),className:"px-2 py-0.5 text-xs rounded border border-dark-border text-slate-400 hover:text-white hover:border-primary transition-colors",style:{borderLeftColor:H.color,borderLeftWidth:3},children:H.name},H.id)),L.length>3&&l.jsxs("span",{className:"text-xs text-slate-500",children:["+",L.length-3]})]})]}),l.jsx(Te,{type:"text",placeholder:"192.168.1.0/24, 10.0.0.1-10.0.0.100, or hostname",value:i,onChange:H=>a(H.target.value),icon:l.jsx(tc,{className:"h-5 w-5"}),required:!0})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Te,{label:"Start Port",type:"number",min:1,max:65535,value:o,onChange:H=>{c(Number(H.target.value)),Y(null)}}),l.jsx(Te,{label:"End Port",type:"number",min:1,max:65535,value:u,onChange:H=>{d(Number(H.target.value)),Y(null)}})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:["Threads: ",h]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(Ud,{className:"h-5 w-5 text-slate-400"}),l.jsx("input",{type:"range",min:1,max:100,value:h,onChange:H=>{f(Number(H.target.value)),Y(null)},className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]}),l.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Wd,{className:"h-5 w-5 text-primary"}),l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Scan Type"})]}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:xp.map(H=>l.jsxs("button",{type:"button",onClick:()=>{m(H.id),Y(null)},className:`px-3 py-2 text-sm rounded-lg border transition-colors text-left ${p===H.id?"bg-primary/20 border-primary text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:[l.jsx("div",{className:"font-medium",children:H.label}),l.jsx("div",{className:"text-xs opacity-70",children:H.description})]},H.id))}),te&&l.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Cs,{className:"h-4 w-4 text-cyan-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-400",children:"UDP Options"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsx(Te,{label:"UDP Start Port",type:"number",min:1,max:65535,value:g,onChange:H=>v(Number(H.target.value))}),l.jsx(Te,{label:"UDP End Port",type:"number",min:1,max:65535,value:y,onChange:H=>x(Number(H.target.value))})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:["UDP Retries: ",w]}),l.jsx("input",{type:"range",min:1,max:5,value:w,onChange:H=>j(Number(H.target.value)),className:"w-full h-2 bg-dark-surface rounded-lg appearance-none cursor-pointer slider"})]})]})]}),l.jsxs("div",{className:"space-y-2 border-t border-dark-border pt-4",children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Scan Options"}),l.jsx(br,{label:"Enable OS Detection",checked:b,onChange:_}),l.jsx(br,{label:"Enable Service Detection",checked:N,onChange:S}),l.jsx(br,{label:"Enable Vulnerability Scanning",checked:E,onChange:R})]}),l.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(Os,{className:"h-5 w-5 text-cyan-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Service Enumeration"})]}),l.jsx(br,{label:"Enable Deep Service Enumeration",checked:k,onChange:z}),k&&l.jsxs("div",{className:"ml-4 space-y-4 animate-fadeIn",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Enumeration Depth"}),l.jsxs("select",{value:T,onChange:H=>I(H.target.value),className:"w-full px-3 py-2 bg-dark-surface border border-dark-border rounded-lg text-white focus:ring-2 focus:ring-cyan-500 focus:border-transparent",children:[l.jsx("option",{value:"passive",children:"Passive - Banner analysis only"}),l.jsx("option",{value:"light",children:"Light - Common checks (default)"}),l.jsx("option",{value:"aggressive",children:"Aggressive - Full enumeration"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-2",children:"Services to Enumerate (leave empty for all detected)"}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:yp.map(H=>l.jsx("button",{type:"button",onClick:()=>An(H.id),className:`px-3 py-1.5 text-sm rounded-md border transition-colors ${C.includes(H.id)?"bg-cyan-600 border-cyan-500 text-white":"bg-dark-surface border-dark-border text-slate-400 hover:border-slate-500"}`,children:H.label},H.id))}),C.length>0&&l.jsxs("p",{className:"mt-2 text-xs text-slate-500",children:["Selected: ",C.join(", ")]})]})]})]}),l.jsxs("div",{className:"space-y-3 border-t border-dark-border pt-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(rc,{className:"h-5 w-5 text-purple-400"}),l.jsx("p",{className:"text-sm font-medium text-slate-300",children:"Save Configuration"})]}),l.jsx(br,{label:"Save this scan configuration as a template",checked:V,onChange:X}),V&&l.jsxs("div",{className:"ml-4 space-y-3 animate-fadeIn",children:[l.jsx(Te,{label:"Template Name",type:"text",placeholder:"Production Network Scan Template",value:K,onChange:H=>le(H.target.value)}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Template Description (Optional)"}),l.jsx("textarea",{value:ie,onChange:H=>je(H.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:2,placeholder:"Quick template for scanning production servers"})]})]})]}),l.jsx(Ce,{type:"submit",variant:"primary",size:"lg",loading:A,className:"w-full",children:"Start Scan"})]})]})},Ye=({children:e,variant:r="status",type:n="pending",className:s=""})=>{const i="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a={pending:"bg-status-pending/20 text-status-pending border border-status-pending/30",running:"bg-status-running/20 text-status-running border border-status-running/30",completed:"bg-status-completed/20 text-status-completed border border-status-completed/30",failed:"bg-status-failed/20 text-status-failed border border-status-failed/30"},u=(r==="status"?a:{critical:"bg-severity-critical/20 text-severity-critical border border-severity-critical/30",high:"bg-severity-high/20 text-severity-high border border-severity-high/30",medium:"bg-severity-medium/20 text-severity-medium border border-severity-medium/30",low:"bg-severity-low/20 text-severity-low border border-severity-low/30"})[n]||a.pending;return l.jsx("span",{className:`${i} ${u} ${s}`,children:e})};function ge(e){const r=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&r==="[object Date]"?new e.constructor(+e):typeof e=="number"||r==="[object Number]"||typeof e=="string"||r==="[object String]"?new Date(e):new Date(NaN)}function Wt(e,r){return e instanceof Date?new e.constructor(r):new Date(r)}const Mc=6048e5,bp=864e5,Ln=43200,Oo=1440;let wp={};function kn(){return wp}function gn(e,r){var c,u,d,h;const n=kn(),s=(r==null?void 0:r.weekStartsOn)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=ge(e),a=i.getDay(),o=(a<s?7:0)+a-s;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function cs(e){return gn(e,{weekStartsOn:1})}function zc(e){const r=ge(e),n=r.getFullYear(),s=Wt(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=cs(s),a=Wt(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=cs(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function Po(e){const r=ge(e);return r.setHours(0,0,0,0),r}function us(e){const r=ge(e),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+e-+n}function _p(e,r){const n=Po(e),s=Po(r),i=+n-us(n),a=+s-us(s);return Math.round((i-a)/bp)}function jp(e){const r=zc(e),n=Wt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),cs(n)}function es(e,r){const n=ge(e),s=ge(r),i=n.getTime()-s.getTime();return i<0?-1:i>0?1:i}function Np(e){return Wt(e,Date.now())}function Sp(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kp(e){if(!Sp(e)&&typeof e!="number")return!1;const r=ge(e);return!isNaN(Number(r))}function Cp(e,r){const n=ge(e),s=ge(r),i=n.getFullYear()-s.getFullYear(),a=n.getMonth()-s.getMonth();return i*12+a}function Op(e){return r=>{const n=Math.trunc,s=n(r);return s===0?0:s}}function Pp(e,r){return+ge(e)-+ge(r)}function Ep(e){const r=ge(e);return r.setHours(23,59,59,999),r}function Rp(e){const r=ge(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Dp(e){const r=ge(e);return+Ep(r)==+Rp(r)}function Ap(e,r){const n=ge(e),s=ge(r),i=es(n,s),a=Math.abs(Cp(n,s));let o;if(a<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*a);let c=es(n,s)===-i;Dp(ge(e))&&a===1&&es(e,s)===1&&(c=!1),o=i*(a-Number(c))}return o===0?0:o}function Tp(e,r,n){const s=Pp(e,r)/1e3;return Op()(s)}function Mp(e){const r=ge(e),n=Wt(e,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zp={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$p=(e,r,n)=>{let s;const i=zp[e];return typeof i=="string"?s=i:r===1?s=i.one:s=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function oi(e){return(r={})=>{const n=r.width?String(r.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Lp={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fp={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ip={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hp={date:oi({formats:Lp,defaultWidth:"full"}),time:oi({formats:Fp,defaultWidth:"full"}),dateTime:oi({formats:Ip,defaultWidth:"full"})},Up={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Wp=(e,r,n,s)=>Up[e];function Wr(e){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;i=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[c]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(r):r;return i[a]}}const qp={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Bp={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vp={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Gp={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Yp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xp={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kp=(e,r)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Jp={ordinalNumber:Kp,era:Wr({values:qp,defaultWidth:"wide"}),quarter:Wr({values:Bp,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Wr({values:Vp,defaultWidth:"wide"}),day:Wr({values:Gp,defaultWidth:"wide"}),dayPeriod:Wr({values:Yp,defaultWidth:"wide",formattingValues:Xp,defaultFormattingWidth:"wide"})};function qr(e){return(r,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=r.match(i);if(!a)return null;const o=a[0],c=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(c)?Qp(c,f=>f.test(o)):Zp(c,f=>f.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=r.slice(o.length);return{value:d,rest:h}}}function Zp(e,r){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r(e[n]))return n}function Qp(e,r){for(let n=0;n<e.length;n++)if(r(e[n]))return n}function em(e){return(r,n={})=>{const s=r.match(e.matchPattern);if(!s)return null;const i=s[0],a=r.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const c=r.slice(i.length);return{value:o,rest:c}}}const tm=/^(\d+)(th|st|nd|rd)?/i,rm=/\d+/i,nm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},sm={any:[/^b/i,/^(a|c)/i]},im={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},am={any:[/1/i,/2/i,/3/i,/4/i]},om={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},lm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},cm={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},um={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},dm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},hm={ordinalNumber:em({matchPattern:tm,parsePattern:rm,valueCallback:e=>parseInt(e,10)}),era:qr({matchPatterns:nm,defaultMatchWidth:"wide",parsePatterns:sm,defaultParseWidth:"any"}),quarter:qr({matchPatterns:im,defaultMatchWidth:"wide",parsePatterns:am,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qr({matchPatterns:om,defaultMatchWidth:"wide",parsePatterns:lm,defaultParseWidth:"any"}),day:qr({matchPatterns:cm,defaultMatchWidth:"wide",parsePatterns:um,defaultParseWidth:"any"}),dayPeriod:qr({matchPatterns:dm,defaultMatchWidth:"any",parsePatterns:fm,defaultParseWidth:"any"})},$c={code:"en-US",formatDistance:$p,formatLong:Hp,formatRelative:Wp,localize:Jp,match:hm,options:{weekStartsOn:0,firstWeekContainsDate:1}};function pm(e){const r=ge(e);return _p(r,Mp(r))+1}function mm(e){const r=ge(e),n=+cs(r)-+jp(r);return Math.round(n/Mc)+1}function Lc(e,r){var h,f,p,m;const n=ge(e),s=n.getFullYear(),i=kn(),a=(r==null?void 0:r.firstWeekContainsDate)??((f=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((m=(p=i.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Wt(e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const c=gn(o,r),u=Wt(e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const d=gn(u,r);return n.getTime()>=c.getTime()?s+1:n.getTime()>=d.getTime()?s:s-1}function gm(e,r){var c,u,d,h;const n=kn(),s=(r==null?void 0:r.firstWeekContainsDate)??((u=(c=r==null?void 0:r.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=Lc(e,r),a=Wt(e,0);return a.setFullYear(i,0,s),a.setHours(0,0,0,0),gn(a,r)}function xm(e,r){const n=ge(e),s=+gn(n,r)-+gm(n,r);return Math.round(s/Mc)+1}function he(e,r){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(r,"0");return n+s}const $t={y(e,r){const n=e.getFullYear(),s=n>0?n:1-n;return he(r==="yy"?s%100:s,r.length)},M(e,r){const n=e.getMonth();return r==="M"?String(n+1):he(n+1,2)},d(e,r){return he(e.getDate(),r.length)},a(e,r){const n=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,r){return he(e.getHours()%12||12,r.length)},H(e,r){return he(e.getHours(),r.length)},m(e,r){return he(e.getMinutes(),r.length)},s(e,r){return he(e.getSeconds(),r.length)},S(e,r){const n=r.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return he(i,r.length)}},pr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Eo={G:function(e,r,n){const s=e.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,r,n){if(r==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return $t.y(e,r)},Y:function(e,r,n,s){const i=Lc(e,s),a=i>0?i:1-i;if(r==="YY"){const o=a%100;return he(o,2)}return r==="Yo"?n.ordinalNumber(a,{unit:"year"}):he(a,r.length)},R:function(e,r){const n=zc(e);return he(n,r.length)},u:function(e,r){const n=e.getFullYear();return he(n,r.length)},Q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return he(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,r,n){const s=Math.ceil((e.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return he(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,r,n){const s=e.getMonth();switch(r){case"M":case"MM":return $t.M(e,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,r,n){const s=e.getMonth();switch(r){case"L":return String(s+1);case"LL":return he(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,r,n,s){const i=xm(e,s);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):he(i,r.length)},I:function(e,r,n){const s=mm(e);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):he(s,r.length)},d:function(e,r,n){return r==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):$t.d(e,r)},D:function(e,r,n){const s=pm(e);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):he(s,r.length)},E:function(e,r,n){const s=e.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,r,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return he(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,r,n,s){const i=e.getDay(),a=(i-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return he(a,r.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,r,n){const s=e.getDay(),i=s===0?7:s;switch(r){case"i":return String(i);case"ii":return he(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,r,n){const i=e.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,r,n){const s=e.getHours();let i;switch(s===12?i=pr.noon:s===0?i=pr.midnight:i=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,r,n){const s=e.getHours();let i;switch(s>=17?i=pr.evening:s>=12?i=pr.afternoon:s>=4?i=pr.morning:i=pr.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,r,n){if(r==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return $t.h(e,r)},H:function(e,r,n){return r==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):$t.H(e,r)},K:function(e,r,n){const s=e.getHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,r.length)},k:function(e,r,n){let s=e.getHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):he(s,r.length)},m:function(e,r,n){return r==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):$t.m(e,r)},s:function(e,r,n){return r==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):$t.s(e,r)},S:function(e,r){return $t.S(e,r)},X:function(e,r,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Do(s);case"XXXX":case"XX":return Kt(s);case"XXXXX":case"XXX":default:return Kt(s,":")}},x:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"x":return Do(s);case"xxxx":case"xx":return Kt(s);case"xxxxx":case"xxx":default:return Kt(s,":")}},O:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Ro(s,":");case"OOOO":default:return"GMT"+Kt(s,":")}},z:function(e,r,n){const s=e.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Ro(s,":");case"zzzz":default:return"GMT"+Kt(s,":")}},t:function(e,r,n){const s=Math.trunc(e.getTime()/1e3);return he(s,r.length)},T:function(e,r,n){const s=e.getTime();return he(s,r.length)}};function Ro(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),a=s%60;return a===0?n+String(i):n+String(i)+r+he(a,2)}function Do(e,r){return e%60===0?(e>0?"-":"+")+he(Math.abs(e)/60,2):Kt(e,r)}function Kt(e,r=""){const n=e>0?"-":"+",s=Math.abs(e),i=he(Math.trunc(s/60),2),a=he(s%60,2);return n+i+r+a}const Ao=(e,r)=>{switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},Fc=(e,r)=>{switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},ym=(e,r)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Ao(e,r);let a;switch(s){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Ao(s,r)).replace("{{time}}",Fc(i,r))},vm={p:Fc,P:ym},bm=/^D+$/,wm=/^Y+$/,_m=["D","DD","YY","YYYY"];function jm(e){return bm.test(e)}function Nm(e){return wm.test(e)}function Sm(e,r,n){const s=km(e,r,n);if(console.warn(s),_m.includes(e))throw new RangeError(s)}function km(e,r,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${r}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Cm=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Om=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pm=/^'([^]*?)'?$/,Em=/''/g,Rm=/[a-zA-Z]/;function tr(e,r,n){var h,f,p,m;const s=kn(),i=s.locale??$c,a=s.firstWeekContainsDate??((f=(h=s.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=s.weekStartsOn??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,c=ge(e);if(!kp(c))throw new RangeError("Invalid time value");let u=r.match(Om).map(g=>{const v=g[0];if(v==="p"||v==="P"){const y=vm[v];return y(g,i.formatLong)}return g}).join("").match(Cm).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const v=g[0];if(v==="'")return{isToken:!1,value:Dm(g)};if(Eo[v])return{isToken:!0,value:g};if(v.match(Rm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:g}});i.localize.preprocessor&&(u=i.localize.preprocessor(c,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return u.map(g=>{if(!g.isToken)return g.value;const v=g.value;(Nm(v)||jm(v))&&Sm(v,r,String(e));const y=Eo[v[0]];return y(c,v,i.localize,d)}).join("")}function Dm(e){const r=e.match(Pm);return r?r[1].replace(Em,"'"):e}function Am(e,r,n){const s=kn(),i=(n==null?void 0:n.locale)??s.locale??$c,a=2520,o=es(e,r);if(isNaN(o))throw new RangeError("Invalid time value");const c=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let u,d;o>0?(u=ge(r),d=ge(e)):(u=ge(e),d=ge(r));const h=Tp(d,u),f=(us(d)-us(u))/1e3,p=Math.round((h-f)/60);let m;if(p<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,c):h<10?i.formatDistance("lessThanXSeconds",10,c):h<20?i.formatDistance("lessThanXSeconds",20,c):h<40?i.formatDistance("halfAMinute",0,c):h<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):p===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",p,c);if(p<45)return i.formatDistance("xMinutes",p,c);if(p<90)return i.formatDistance("aboutXHours",1,c);if(p<Oo){const g=Math.round(p/60);return i.formatDistance("aboutXHours",g,c)}else{if(p<a)return i.formatDistance("xDays",1,c);if(p<Ln){const g=Math.round(p/Oo);return i.formatDistance("xDays",g,c)}else if(p<Ln*2)return m=Math.round(p/Ln),i.formatDistance("aboutXMonths",m,c)}if(m=Ap(d,u),m<12){const g=Math.round(p/Ln);return i.formatDistance("xMonths",g,c)}else{const g=m%12,v=Math.trunc(m/12);return g<3?i.formatDistance("aboutXYears",v,c):g<9?i.formatDistance("overXYears",v,c):i.formatDistance("almostXYears",v+1,c)}}function ga(e,r){return Am(e,Np(e),r)}const Tm=({scan:e,isActive:r,onClick:n})=>{const s=JSON.parse(e.targets),i=e.status,a=()=>({pending:"Pending",running:"Running",completed:"Completed",failed:"Failed"})[e.status]||e.status;return l.jsxs("div",{onClick:n,className:`
        p-4 border rounded-lg cursor-pointer transition-all duration-200
        ${r?"bg-primary/10 border-primary shadow-lg":"bg-dark-surface border-dark-border hover:border-primary/50 hover:shadow-md"}
      `,children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h4",{className:"text-white font-semibold truncate flex-1",children:e.name}),l.jsxs(Ye,{variant:"status",type:i,children:[i==="running"&&l.jsx("span",{className:"inline-block w-2 h-2 bg-primary rounded-full animate-pulse-dot mr-1"}),a()]})]}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center text-slate-400",children:[l.jsx(tc,{className:"h-4 w-4 mr-2"}),l.jsx("span",{className:"font-mono text-xs",children:s[0]})]}),l.jsxs("div",{className:"flex items-center text-slate-500",children:[l.jsx(zr,{className:"h-4 w-4 mr-2"}),l.jsx("span",{children:tr(new Date(e.created_at),"MMM d, yyyy HH:mm")})]})]})]})},qt=({size:e="md",className:r=""})=>{const n={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return l.jsx(ks,{className:`${n[e]} animate-spin text-primary ${r}`})},Mm=({selectedIds:e,onSelectionChange:r})=>{const{scans:n,activeScan:s,setScans:i,setActiveScan:a}=xt(),[o,c]=O.useState(!0),[u,d]=O.useState(""),[h,f]=O.useState("all");O.useEffect(()=>{p()},[]);const p=async()=>{try{const y=await ir.getAll();i(y.data)}catch{B.error("Failed to load scans")}finally{c(!1)}},m=n.filter(y=>{const x=y.name.toLowerCase().includes(u.toLowerCase())||y.targets.toLowerCase().includes(u.toLowerCase()),w=h==="all"||y.status===h;return x&&w}),g=y=>{r&&(y.target.checked?r(new Set(m.map(x=>x.id))):r(new Set))},v=(y,x)=>{if(!r||!e)return;const w=new Set(e);x?w.add(y):w.delete(y),r(w)};return o?l.jsx(re,{children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(qt,{})})}):l.jsx(re,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-semibold text-white",children:"Scan History"}),l.jsxs("span",{className:"text-sm text-slate-400",children:[n.length," scans",e&&e.size>0&&` (${e.size} selected)`]})]}),l.jsx(Te,{type:"text",placeholder:"Search by name, target, or customer...",value:u,onChange:y=>d(y.target.value),icon:l.jsx(Os,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[l.jsx(nc,{className:"h-4 w-4 text-slate-400"}),l.jsx("span",{className:"text-slate-400",children:"Filter:"}),l.jsxs("select",{value:h,onChange:y=>f(y.target.value),className:"bg-dark-bg border border-dark-border text-slate-300 rounded px-2 py-1 focus:outline-none focus:border-primary",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"pending",children:"Pending"}),l.jsx("option",{value:"running",children:"Running"}),l.jsx("option",{value:"completed",children:"Completed"}),l.jsx("option",{value:"failed",children:"Failed"})]})]}),r&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"checkbox",id:"select-all",checked:(e==null?void 0:e.size)===m.length&&m.length>0,onChange:g,className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary"}),l.jsx("label",{htmlFor:"select-all",className:"text-sm text-slate-400 cursor-pointer",children:"Select All"})]})]}),l.jsx("div",{className:"space-y-2 max-h-[600px] overflow-y-auto",children:m.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500",children:u||h!=="all"?"No scans match your filters":"No scans yet. Create your first scan above."}):m.map(y=>l.jsxs("div",{className:"flex items-center space-x-2",children:[r&&l.jsx("input",{type:"checkbox",checked:(e==null?void 0:e.has(y.id))||!1,onChange:x=>v(y.id,x.target.checked),className:"rounded border-dark-border bg-dark-bg text-primary focus:ring-primary flex-shrink-0"}),l.jsx("div",{className:"flex-1",children:l.jsx(Tm,{scan:y,isActive:(s==null?void 0:s.id)===y.id,onClick:()=>a(y)})})]},y.id))})]})})},Br=[{name:"host_discovery",label:"Host Discovery",progressStart:0,progressEnd:20},{name:"port_scanning",label:"Port Scanning",progressStart:20,progressEnd:40},{name:"service_detection",label:"Service Detection",progressStart:40,progressEnd:60},{name:"enumeration",label:"Enumeration",progressStart:60,progressEnd:75},{name:"os_fingerprinting",label:"OS Fingerprinting",progressStart:75,progressEnd:85},{name:"vulnerability_scanning",label:"Vulnerability Scanning",progressStart:85,progressEnd:100}],zm=({currentPhase:e,progress:r=0,isComplete:n=!1})=>{var c;const s=u=>u.toLowerCase().replace(/\s+/g,"_"),a=(()=>{if(n)return Br.length;if(!e)return-1;const u=s(e);return Br.findIndex(d=>d.name===u||s(d.label)===u)})(),o=u=>n||u<a?"completed":u===a?"active":"pending";return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute top-6 left-0 right-0 h-0.5 bg-dark-border"}),l.jsx("div",{className:"absolute top-6 left-0 h-0.5 bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${n?100:a/Br.length*100}%`}}),l.jsx("div",{className:"relative grid grid-cols-6 gap-2",children:Br.map((u,d)=>{const h=o(d);return l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:`
                    relative z-10 flex items-center justify-center w-12 h-12 rounded-full border-2 transition-all duration-300
                    ${h==="completed"?"bg-green-500 border-green-500 shadow-lg shadow-green-500/50":h==="active"?"bg-primary border-primary shadow-lg shadow-primary/50 animate-pulse-glow":"bg-dark-surface border-dark-border"}
                  `,children:h==="completed"?l.jsx(ec,{className:"h-6 w-6 text-white"}):h==="active"?l.jsx(ks,{className:"h-6 w-6 text-white animate-spin"}):l.jsx(Vd,{className:"h-6 w-6 text-slate-600"})}),l.jsxs("div",{className:"mt-3 text-center",children:[l.jsx("p",{className:`text-xs font-medium transition-colors ${h==="completed"?"text-green-500":h==="active"?"text-primary":"text-slate-500"}`,children:u.label}),h==="active"&&l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"In Progress..."}),h==="completed"&&l.jsx("p",{className:"text-xs text-green-500/70 mt-1",children:"Complete"})]})]},u.name)})})]}),l.jsxs("div",{className:"space-y-2 pt-4 border-t border-dark-border",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:n?l.jsx("span",{className:"text-green-500 font-medium",children:"Scan Complete"}):e?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-primary font-medium",children:((c=Br[a])==null?void 0:c.label)||e})," in progress..."]}):l.jsx("span",{className:"text-slate-500",children:"Initializing..."})}),l.jsxs("span",{className:"text-white font-semibold tabular-nums",children:[Math.round(r),"%"]})]}),l.jsx("div",{className:"relative h-3 bg-dark-surface rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary via-primary-light to-primary transition-all duration-500 ease-out",style:{width:`${n?100:r}%`},children:l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white to-transparent opacity-30 animate-shimmer"})})})]})]})},Vr=({value:e,duration:r=500})=>{const[n,s]=O.useState(0);return O.useEffect(()=>{if(n===e)return;const i=n,a=e-i,o=Date.now(),c=()=>{const u=Date.now()-o,d=Math.min(u/r,1),h=1-Math.pow(1-d,3),f=Math.round(i+a*h);s(f),d<1&&requestAnimationFrame(c)};requestAnimationFrame(c)},[e,r]),l.jsx("span",{className:"tabular-nums",children:n.toLocaleString()})},$m=({hostsFound:e,portsOpen:r,servicesDetected:n,vulnerabilitiesFound:s,criticalVulns:i=0,highVulns:a=0,mediumVulns:o=0,lowVulns:c=0})=>{const u=[{label:"Hosts Found",value:e,icon:Tt,color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"},{label:"Open Ports",value:r,icon:Cs,color:"text-green-400",bgColor:"bg-green-500/10",borderColor:"border-green-500/30"},{label:"Services Detected",value:n,icon:ca,color:"text-purple-400",bgColor:"bg-purple-500/10",borderColor:"border-purple-500/30"},{label:"Vulnerabilities",value:s,icon:lt,color:s>0?"text-red-400":"text-slate-500",bgColor:s>0?"bg-red-500/10":"bg-slate-500/10",borderColor:s>0?"border-red-500/30":"border-slate-500/30"}],d=h=>{switch(h){case"critical":return"bg-severity-critical text-white";case"high":return"bg-severity-high text-white";case"medium":return"bg-severity-medium text-white";case"low":return"bg-severity-low text-white";default:return"bg-slate-600 text-white"}};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:u.map(h=>{const f=h.icon;return l.jsxs("div",{className:`relative overflow-hidden rounded-lg border ${h.borderColor} ${h.bgColor} p-4 transition-all duration-300 hover:scale-105`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx(f,{className:`h-5 w-5 ${h.color}`}),h.value>0&&l.jsx("div",{className:"absolute top-2 right-2 w-2 h-2 rounded-full bg-current animate-pulse-dot"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("p",{className:"text-2xl font-bold text-white",children:l.jsx(Vr,{value:h.value})}),l.jsx("p",{className:"text-xs text-slate-400 font-medium",children:h.label})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent pointer-events-none"})]},h.label)})}),s>0&&l.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[l.jsx(Ee,{className:"h-4 w-4 text-red-400"}),l.jsx("h4",{className:"text-sm font-semibold text-white",children:"Vulnerability Breakdown"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[i>0&&l.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("critical")}`,children:[l.jsx("span",{className:"font-bold",children:l.jsx(Vr,{value:i})})," Critical"]}),a>0&&l.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("high")}`,children:[l.jsx("span",{className:"font-bold",children:l.jsx(Vr,{value:a})})," High"]}),o>0&&l.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("medium")}`,children:[l.jsx("span",{className:"font-bold",children:l.jsx(Vr,{value:o})})," Medium"]}),c>0&&l.jsxs("div",{className:`px-3 py-1.5 rounded-lg text-xs font-medium ${d("low")}`,children:[l.jsx("span",{className:"font-bold",children:l.jsx(Vr,{value:c})})," Low"]})]})]})]})};class Lm{constructor(r,n){jt(this,"ws",null);jt(this,"scanId");jt(this,"token");jt(this,"reconnectAttempts",0);jt(this,"maxReconnectAttempts",10);jt(this,"reconnectDelay",1e3);jt(this,"messageHandlers",[]);jt(this,"statusHandlers",[]);this.scanId=r,this.token=n||localStorage.getItem("token")||""}connect(){if(!this.token){console.error("WebSocket connection failed: No authentication token available"),this.updateStatus("failed");return}const r=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.hostname,s=window.location.port||(r==="wss:"?"443":"80"),i=`${r}//${n}:${s}/api/ws/scans/${this.scanId}?token=${encodeURIComponent(this.token)}`;this.updateStatus("connecting");try{this.ws=new WebSocket(i),this.ws.onopen=()=>{console.log(`WebSocket connected for scan: ${this.scanId}`),this.reconnectAttempts=0,this.reconnectDelay=1e3,this.updateStatus("connected")},this.ws.onmessage=a=>{try{const o=JSON.parse(a.data);this.messageHandlers.forEach(c=>c(o))}catch(o){console.error("Failed to parse WebSocket message:",o)}},this.ws.onerror=a=>{console.error("WebSocket error:",a)},this.ws.onclose=()=>{console.log("WebSocket disconnected"),this.updateStatus("disconnected"),this.attemptReconnect()}}catch(a){console.error("Failed to create WebSocket:",a),this.updateStatus("failed")}}attemptReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts){console.log("Max reconnection attempts reached"),this.updateStatus("failed");return}this.reconnectAttempts++;const r=Math.min(this.reconnectDelay*Math.pow(2,this.reconnectAttempts-1),8e3);console.log(`Reconnecting in ${r}ms... (Attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.connect()},r)}onMessage(r){this.messageHandlers.push(r)}onStatusChange(r){this.statusHandlers.push(r)}updateStatus(r){this.statusHandlers.forEach(n=>n(r))}disconnect(){this.ws&&(this.ws.close(),this.ws=null),this.messageHandlers=[],this.statusHandlers=[]}reconnect(){this.disconnect(),this.reconnectAttempts=0,this.connect()}}const Fm=e=>{const[r,n]=O.useState("disconnected"),[s,i]=O.useState(null),a=O.useRef(null),{updateScanStatus:o,addHostToResults:c,updateHostInResults:u,results:d}=xt();O.useEffect(()=>{if(!e)return;const p=new Lm(e);return a.current=p,p.onStatusChange(m=>{n(m),i(m==="failed"?"Failed to connect to WebSocket":null)}),p.onMessage(m=>{h(e,m)}),p.connect(),()=>{p.disconnect(),a.current=null}},[e]);const h=(p,m)=>{switch(console.log("WebSocket message:",m),m.type){case"scanStarted":o(p,"running"),B.info("Scan started");break;case"phaseStarted":break;case"hostDiscovered":const g={target:{ip:m.ip,hostname:m.hostname||null},is_alive:!0,os_guess:null,ports:[],vulnerabilities:[],scan_duration:{secs:0,nanos:0}};c(p,g);break;case"portFound":const y=(d.get(p)||[]).find(_=>_.target.ip===m.ip);if(y){const _={port:m.port,protocol:m.protocol==="TCP"?"TCP":"UDP",state:m.state,service:null},N=[...y.ports,_];u(p,m.ip,{ports:N})}break;case"serviceDetected":const w=(d.get(p)||[]).find(_=>_.target.ip===m.ip);if(w){const _=w.ports.map(N=>N.port===m.port?{...N,service:{name:m.service_name,version:m.version||null,banner:null,cpe:null,ssl_info:null}}:N);u(p,m.ip,{ports:_})}break;case"vulnerabilityFound":const b=(d.get(p)||[]).find(_=>_.target.ip===m.ip);if(b){const _={cve_id:m.cve_id||null,title:m.title,severity:m.severity,description:"",affected_service:null},N=[...b.vulnerabilities,_];u(p,m.ip,{vulnerabilities:N}),m.severity==="Critical"?B.error(` CRITICAL vulnerability found on ${m.ip}: ${m.title}`,{autoClose:8e3}):m.severity==="High"&&B.warning(` HIGH severity vulnerability found on ${m.ip}: ${m.title}`,{autoClose:6e3})}break;case"scanCompleted":o(p,"completed"),B.success(`Scan completed! Found ${m.total_hosts} hosts`);break;case"error":o(p,"failed"),B.error(`Scan error: ${m.message}`);break;default:console.log("Unknown message type:",m.type)}};return{status:r,error:s,reconnect:()=>{a.current&&a.current.reconnect()}}},Im=({scanId:e})=>{const{status:r,error:n,reconnect:s}=Fm(e),{liveUpdates:i,scans:a}=xt(),[o,c]=O.useState(!0),u=O.useMemo(()=>a.find(b=>b.id===e),[a,e]),{currentPhase:d,progress:h,isComplete:f,metrics:p,currentActivity:m,estimatedTime:g}=O.useMemo(()=>{var V,X,K,le,ie,je;if(!e)return{currentPhase:void 0,progress:0,isComplete:!1,metrics:{hostsFound:0,portsOpen:0,servicesDetected:0,vulnerabilitiesFound:0,criticalVulns:0,highVulns:0,mediumVulns:0,lowVulns:0},currentActivity:"",estimatedTime:null};const b=i.get(e)||[],_=(u==null?void 0:u.status)==="completed",N=b.filter(se=>se.type==="phaseStarted"),S=N.length>0?N[N.length-1]:null,E=b.filter(se=>se.type==="scanProgress"),R=E.length>0?E[E.length-1]:null,k=b.filter(se=>se.type==="hostDiscovered"),z=b.filter(se=>se.type==="portFound"),T=b.filter(se=>se.type==="serviceDetected"),I=b.filter(se=>se.type==="vulnerabilityFound"),C=I.filter(se=>{var de;return((de=se.data)==null?void 0:de.severity)==="Critical"}).length,D=I.filter(se=>{var de;return((de=se.data)==null?void 0:de.severity)==="High"}).length,A=I.filter(se=>{var de;return((de=se.data)==null?void 0:de.severity)==="Medium"}).length,F=I.filter(se=>{var de;return((de=se.data)==null?void 0:de.severity)==="Low"}).length,L=((V=R==null?void 0:R.data)==null?void 0:V.message)||((X=S==null?void 0:S.data)==null?void 0:X.phase)||"";let q=null;if(!_&&R&&((K=R.data)==null?void 0:K.progress)>0){const se=R.data.progress,de=b.find(W=>W.type==="scanStarted");if(de){const W=new Date(de.timestamp).getTime(),ae=(Date.now()-W)/1e3,te=ae/se*100;q=Math.max(0,te-ae)}}return{currentPhase:(le=S==null?void 0:S.data)==null?void 0:le.phase,progress:((ie=R==null?void 0:R.data)==null?void 0:ie.progress)||((je=S==null?void 0:S.data)==null?void 0:je.progress)||0,isComplete:_,metrics:{hostsFound:k.length,portsOpen:z.length,servicesDetected:T.length,vulnerabilitiesFound:I.length,criticalVulns:C,highVulns:D,mediumVulns:A,lowVulns:F},currentActivity:L,estimatedTime:q}},[e,i,u]),v=b=>b===null?"Calculating...":b<60?`~${Math.round(b)}s remaining`:b<3600?`~${Math.round(b/60)}m remaining`:`~${Math.round(b/3600)}h ${Math.round(b%3600/60)}m remaining`;if(!e)return l.jsx(re,{children:l.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a scan to view real-time progress"})});const y=()=>{switch(r){case"connected":return"text-green-500";case"connecting":return"text-yellow-500";case"disconnected":case"failed":return"text-red-500";default:return"text-slate-500"}},x=()=>r==="connected"?l.jsx(Cs,{className:"h-5 w-5"}):l.jsx(Gd,{className:"h-5 w-5"}),w=()=>{switch(r){case"connected":return"Connected - Receiving live updates";case"connecting":return"Connecting to scan...";case"disconnected":return"Disconnected";case"failed":return"Connection failed";default:return"Unknown"}},j=(u==null?void 0:u.status)==="running"||(u==null?void 0:u.status)==="completed";return l.jsx(re,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[l.jsx(gt,{className:"h-5 w-5 mr-2"}),"Real-Time Scan Progress"]}),l.jsxs(Ye,{variant:"status",type:r==="connected"?"running":"pending",children:[r==="connected"&&l.jsx("span",{className:"inline-block w-2 h-2 bg-green-500 rounded-full animate-pulse-dot mr-1"}),"Live"]})]}),l.jsx("button",{onClick:()=>c(!o),className:"p-2 hover:bg-dark-hover rounded-lg transition-colors",children:o?l.jsx(ua,{className:"h-5 w-5 text-slate-400"}):l.jsx(Ps,{className:"h-5 w-5 text-slate-400"})})]}),l.jsxs("div",{className:`flex items-center space-x-2 ${y()}`,children:[x(),l.jsx("span",{className:"text-sm",children:w()})]}),n&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[l.jsx("p",{className:"text-red-500 text-sm",children:n}),l.jsx("button",{onClick:s,className:"mt-2 text-xs text-red-400 hover:text-red-300 underline",children:"Try reconnecting"})]}),o&&l.jsxs(l.Fragment,{children:[j&&!f&&m&&l.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg p-3 space-y-2",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(gt,{className:"h-4 w-4 text-primary mt-0.5 animate-pulse"}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("p",{className:"text-sm text-slate-300",children:m})})]}),g!==null&&l.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[l.jsx(zr,{className:"h-3 w-3"}),l.jsx("span",{children:v(g)})]})]}),j&&l.jsx($m,{hostsFound:p.hostsFound,portsOpen:p.portsOpen,servicesDetected:p.servicesDetected,vulnerabilitiesFound:p.vulnerabilitiesFound,criticalVulns:p.criticalVulns,highVulns:p.highVulns,mediumVulns:p.mediumVulns,lowVulns:p.lowVulns}),j&&l.jsx("div",{className:"border-t border-dark-border pt-4",children:l.jsx(zm,{currentPhase:d,progress:h,isComplete:f})}),r==="connected"&&!j&&l.jsxs("div",{className:"border-t border-dark-border pt-4 text-sm text-slate-400",children:[l.jsx("p",{children:"Listening for scan events:"}),l.jsxs("ul",{className:"mt-2 space-y-1 text-xs",children:[l.jsx("li",{children:" Host discoveries"}),l.jsx("li",{children:" Open ports"}),l.jsx("li",{children:" Service detections"}),l.jsx("li",{children:" Vulnerability findings"})]})]})]})]})})},Hm=({onScanSelect:e})=>{const{scans:r,liveUpdates:n,activeScan:s}=xt(),i=O.useMemo(()=>r.filter(d=>d.status==="running"),[r]),a=O.useMemo(()=>{const d=new Map;return i.forEach(h=>{var g;const p=(n.get(h.id)||[]).filter(v=>v.type==="scanProgress"||v.type==="phaseStarted"),m=p.length>0?p[p.length-1]:null;d.set(h.id,((g=m==null?void 0:m.data)==null?void 0:g.progress)||0)}),d},[i,n]),o=O.useMemo(()=>{let d=0,h=0,f=0;i.forEach(m=>{const g=n.get(m.id)||[];d+=a.get(m.id)||0,h+=g.filter(v=>v.type==="hostDiscovered").length,f+=g.filter(v=>v.type==="vulnerabilityFound").length});const p=i.length>0?d/i.length:0;return{totalScans:i.length,avgProgress:p,totalHosts:h,totalVulns:f}},[i,n,a]),c=d=>{switch(d){case"running":return l.jsx(ks,{className:"h-4 w-4 text-primary animate-spin"});case"completed":return l.jsx(pn,{className:"h-4 w-4 text-green-500"});case"failed":return l.jsx(Cr,{className:"h-4 w-4 text-red-500"});default:return l.jsx(gt,{className:"h-4 w-4 text-slate-400"})}},u=d=>{if(!d.started_at)return"";const h=new Date(d.started_at).getTime(),f=d.completed_at?new Date(d.completed_at).getTime():Date.now(),p=Math.floor((f-h)/1e3);return p<60?`${p}s`:p<3600?`${Math.floor(p/60)}m`:`${Math.floor(p/3600)}h ${Math.floor(p%3600/60)}m`};return i.length===0?null:l.jsx(re,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gt,{className:"h-5 w-5 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Active Scans"}),l.jsxs(Ye,{variant:"status",type:"running",children:[o.totalScans," Running"]})]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 pb-3 border-b border-dark-border",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-primary",children:[Math.round(o.avgProgress),"%"]}),l.jsx("p",{className:"text-xs text-slate-400",children:"Avg Progress"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-400",children:o.totalHosts}),l.jsx("p",{className:"text-xs text-slate-400",children:"Total Hosts"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-red-400",children:o.totalVulns}),l.jsx("p",{className:"text-xs text-slate-400",children:"Total Vulns"})]})]}),l.jsx("div",{className:"space-y-2 max-h-80 overflow-y-auto custom-scrollbar",children:i.map(d=>{const h=a.get(d.id)||0,f=(s==null?void 0:s.id)===d.id;return l.jsxs("div",{onClick:()=>e==null?void 0:e(d.id),className:`
                  group relative p-3 rounded-lg border transition-all cursor-pointer
                  ${f?"bg-primary/10 border-primary":"bg-dark-surface border-dark-border hover:border-primary/50 hover:bg-dark-hover"}
                `,children:[l.jsx("div",{className:"absolute inset-0 bg-primary/5 rounded-lg transition-all duration-300",style:{width:`${h}%`}}),l.jsxs("div",{className:"relative flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[c(d.status),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-white truncate",children:d.name}),l.jsx("p",{className:"text-xs text-slate-400 truncate",children:d.targets})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-semibold text-primary tabular-nums",children:[Math.round(h),"%"]}),l.jsx("p",{className:"text-xs text-slate-500",children:u(d)})]}),l.jsx(sc,{className:`h-4 w-4 text-slate-400 transition-transform ${f?"text-primary":"group-hover:translate-x-1"}`})]})]}),l.jsx("div",{className:"relative mt-2 h-1 bg-dark-bg rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-primary to-primary-light transition-all duration-500",style:{width:`${h}%`}})})]},d.id)})})]})})},Um=({scanId:e,maxItems:r=50})=>{const{liveUpdates:n}=xt(),[s,i]=O.useState(!1),a=O.useRef(null),[o,c]=O.useState(!0),u=e?n.get(e)||[]:[],h=(s?u.filter(g=>{var v,y;return g.type==="vulnerabilityFound"&&(((v=g.data)==null?void 0:v.severity)==="Critical"||((y=g.data)==null?void 0:y.severity)==="High")}):u).slice(-r);O.useEffect(()=>{o&&a.current&&a.current.scrollIntoView({behavior:"smooth"})},[h.length,o]);const f=g=>{switch(g){case"hostDiscovered":return l.jsx(Tt,{className:"h-4 w-4 text-blue-400"});case"portFound":return l.jsx(Cs,{className:"h-4 w-4 text-green-400"});case"serviceDetected":return l.jsx(ca,{className:"h-4 w-4 text-purple-400"});case"vulnerabilityFound":return l.jsx(lt,{className:"h-4 w-4 text-red-400"});case"phaseStarted":return l.jsx(gt,{className:"h-4 w-4 text-primary"});case"scanStarted":case"scanCompleted":return l.jsx(Ee,{className:"h-4 w-4 text-green-400"});default:return l.jsx(gt,{className:"h-4 w-4 text-slate-400"})}},p=g=>{var v,y,x,w,j,b,_,N,S,E,R,k,z,T,I,C,D;switch(g.type){case"hostDiscovered":return l.jsxs(l.Fragment,{children:["Discovered host ",l.jsx("code",{className:"text-primary font-mono",children:(v=g.data)==null?void 0:v.ip}),((y=g.data)==null?void 0:y.hostname)&&` (${g.data.hostname})`]});case"portFound":return l.jsxs(l.Fragment,{children:["Found open port"," ",l.jsxs("code",{className:"text-green-400 font-mono",children:[(x=g.data)==null?void 0:x.port,"/",(w=g.data)==null?void 0:w.protocol]})," ","on ",l.jsx("code",{className:"text-primary font-mono",children:(j=g.data)==null?void 0:j.ip})]});case"serviceDetected":return l.jsxs(l.Fragment,{children:["Detected service ",l.jsx("code",{className:"text-purple-400",children:(b=g.data)==null?void 0:b.service_name})," on"," ",l.jsx("code",{className:"text-primary font-mono",children:(_=g.data)==null?void 0:_.ip}),":",(N=g.data)==null?void 0:N.port]});case"vulnerabilityFound":return l.jsxs(l.Fragment,{children:["Found"," ",l.jsx(Ye,{variant:"severity",type:((E=(S=g.data)==null?void 0:S.severity)==null?void 0:E.toLowerCase())||"low",children:(R=g.data)==null?void 0:R.severity})," ","vulnerability on ",l.jsx("code",{className:"text-primary font-mono",children:(k=g.data)==null?void 0:k.ip}),":"," ",l.jsx("span",{className:"text-white",children:(z=g.data)==null?void 0:z.title})]});case"phaseStarted":return l.jsxs(l.Fragment,{children:["Started phase: ",l.jsx("span",{className:"text-primary font-medium",children:(T=g.data)==null?void 0:T.phase})]});case"scanStarted":return l.jsx("span",{className:"text-green-400 font-medium",children:"Scan started"});case"scanCompleted":return l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-green-400 font-medium",children:"Scan completed"})," - Found"," ",((I=g.data)==null?void 0:I.total_hosts)||0," hosts in ",((C=g.data)==null?void 0:C.duration)||0,"s"]});case"error":return l.jsxs("span",{className:"text-red-400",children:["Error: ",(D=g.data)==null?void 0:D.message]});default:return l.jsx("span",{className:"text-slate-400",children:g.type})}},m=g=>{var v;if(g.type==="vulnerabilityFound")switch((v=g.data)==null?void 0:v.severity){case"Critical":return"border-l-severity-critical bg-severity-critical/5";case"High":return"border-l-severity-high bg-severity-high/5";case"Medium":return"border-l-severity-medium bg-severity-medium/5";default:return"border-l-severity-low bg-severity-low/5"}return"border-l-slate-600 bg-dark-bg"};return e?l.jsxs(re,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(gt,{className:"h-5 w-5 text-primary"}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Live Activity Feed"}),l.jsxs("span",{className:"text-sm text-slate-400",children:["(",h.length," events)"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-1 px-3 py-1.5 rounded-lg text-sm transition-colors ${s?"bg-red-500/20 text-red-400 border border-red-500/50":"bg-dark-surface text-slate-400 border border-dark-border hover:border-primary"}`,children:[l.jsx(nc,{className:"h-3 w-3"}),s?"Critical/High Only":"All Events"]}),l.jsx("button",{onClick:()=>c(!o),className:`px-3 py-1.5 rounded-lg text-sm transition-colors ${o?"bg-primary text-white":"bg-dark-surface text-slate-400 border border-dark-border"}`,children:"Auto-scroll"})]})]}),l.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto pr-2 custom-scrollbar",children:[h.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500",children:s?"No critical/high severity findings yet":"Waiting for scan events..."}):h.map((g,v)=>l.jsx("div",{className:`border-l-4 rounded-r-lg p-3 transition-all hover:bg-dark-surface/50 ${m(g)}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-0.5",children:f(g.type)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm text-slate-300",children:p(g)}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:tr(new Date(g.timestamp),"HH:mm:ss.SSS")})]})]})},v)),l.jsx("div",{ref:a})]})]}):l.jsx(re,{children:l.jsx("div",{className:"text-center py-8 text-slate-500",children:"Select a running scan to view live activity"})})},Wm={Critical:10,High:7,Medium:4,Low:1};function li(e){let r=0;const n=e.vulnerabilities.reduce((a,o)=>a+Wm[o.severity],0),s=e.ports.filter(a=>a.state==="Open").length,i=Math.min(s*2,30);return r=n+i,Math.min(Math.round(r),100)}function qm(e){return e>=70?"Critical":e>=50?"High":e>=25?"Medium":"Low"}function Ic(e){const r={Critical:0,High:0,Medium:0,Low:0};return e.forEach(n=>{n.vulnerabilities.forEach(s=>{r[s.severity]++})}),r}function Bm(e){const r=new Map;return e.forEach(n=>{n.ports.filter(s=>s.state==="Open").forEach(s=>{var a;const i=r.get(s.port);i?i.count++:r.set(s.port,{count:1,service:((a=s.service)==null?void 0:a.name)||`Port ${s.port}`})})}),Array.from(r.entries()).map(([n,s])=>({port:n,...s})).sort((n,s)=>s.count-n.count).slice(0,10)}function Vm(e){const r=e.length,n=e.reduce((o,c)=>o+c.ports.filter(u=>u.state==="Open").length,0),s=Ic(e),i=Object.values(s).reduce((o,c)=>o+c,0),a=s.Critical;return{totalHosts:r,totalPorts:n,totalVulnerabilities:i,criticalVulnerabilities:a,vulnerabilities:s}}function Hc(e){switch(e.toLowerCase()){case"critical":return"critical";case"high":return"high";case"medium":return"medium";case"low":case"info":case"informational":return"low";default:return"low"}}const Gm=({vulnerability:e,compact:r=!1})=>{const[n,s]=O.useState(!1),i=()=>{e.cve_id&&(navigator.clipboard.writeText(e.cve_id),B.success("CVE ID copied to clipboard"))},a=c=>`https://nvd.nist.gov/vuln/detail/${c}`,o=c=>{switch(c){case"Critical":return"border-severity-critical bg-severity-critical/10";case"High":return"border-severity-high bg-severity-high/10";case"Medium":return"border-severity-medium bg-severity-medium/10";case"Low":return"border-severity-low bg-severity-low/10";default:return"border-slate-600 bg-slate-600/10"}};return l.jsx("div",{className:`border-l-4 rounded-lg p-4 ${o(e.severity)}`,children:l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ee,{className:"h-4 w-4 text-red-400 flex-shrink-0"}),l.jsx("h4",{className:"text-white font-semibold text-sm truncate",children:e.title})]}),l.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[e.cve_id&&l.jsxs("div",{className:"flex items-center gap-1 bg-dark-surface px-2 py-1 rounded",children:[l.jsx("code",{className:"text-xs text-primary font-mono",children:e.cve_id}),l.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors",title:"Copy CVE ID",children:l.jsx(ic,{className:"h-3 w-3"})}),l.jsx("a",{href:a(e.cve_id),target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",title:"View on NVD",children:l.jsx(Yd,{className:"h-3 w-3"})})]}),l.jsx(Ye,{variant:"severity",type:Hc(e.severity),children:e.severity}),e.affected_service&&l.jsxs("span",{className:"text-xs text-slate-400",children:["Affects: ",l.jsx("span",{className:"text-slate-300 font-mono",children:e.affected_service})]})]}),!r&&e.description&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`text-sm text-slate-300 mt-2 ${n?"":"line-clamp-2"}`,children:e.description}),e.description.length>100&&l.jsx("button",{onClick:()=>s(!n),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:n?l.jsxs(l.Fragment,{children:["Show less ",l.jsx(ua,{className:"h-3 w-3"})]}):l.jsxs(l.Fragment,{children:["Show more ",l.jsx(Ps,{className:"h-3 w-3"})]})})]})]})})})},Ym=({banner:e,service:r})=>{const[n,s]=O.useState(!1),i=()=>{navigator.clipboard.writeText(e),B.success("Service banner copied to clipboard")},a=e.length>100,o=n||!a?e:e.substring(0,100)+"...";return l.jsxs("div",{className:"bg-dark-bg border border-dark-border rounded-lg p-3 mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Xd,{className:"h-4 w-4 text-green-400"}),l.jsxs("span",{className:"text-xs font-semibold text-slate-300",children:["Service Banner ",r&&`(${r})`]})]}),l.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors p-1 rounded hover:bg-dark-surface",title:"Copy banner",children:l.jsx(ic,{className:"h-3 w-3"})})]}),l.jsx("pre",{className:"bg-slate-900 rounded p-2 overflow-x-auto",children:l.jsx("code",{className:"text-xs text-green-400 font-mono whitespace-pre-wrap break-all",children:o})}),a&&l.jsx("button",{onClick:()=>s(!n),className:"flex items-center gap-1 text-xs text-primary hover:text-primary-light transition-colors mt-2",children:n?l.jsxs(l.Fragment,{children:["Show less ",l.jsx(ua,{className:"h-3 w-3"})]}):l.jsxs(l.Fragment,{children:["Show full banner ",l.jsx(Ps,{className:"h-3 w-3"})]})})]})},Xm=({sslInfo:e,port:r})=>{const s=e.cert_expired||e.hostname_mismatch?"critical":e.weak_protocols.length>0||e.weak_ciphers.length>0||e.self_signed?"warning":!e.hsts_enabled&&r===443?"info":"good",i=()=>e.cert_expired?"text-red-400":e.days_until_expiry?e.days_until_expiry<30?"text-yellow-400":e.days_until_expiry<90?"text-blue-400":"text-green-400":"text-slate-400";return l.jsxs("div",{className:"mt-3 space-y-3 border-t border-dark-border pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Kl,{className:"h-4 w-4 text-primary"}),l.jsx("span",{className:"text-sm font-semibold text-white",children:"SSL/TLS Certificate"}),s==="critical"&&l.jsx(Ye,{variant:"severity",type:"critical",children:"Critical Issues"}),s==="warning"&&l.jsx(Ye,{variant:"severity",type:"high",children:"Security Issues"}),s==="good"&&l.jsx(Ye,{variant:"severity",type:"low",children:"Secure"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.cert_valid&&!e.cert_expired?l.jsx(pn,{className:"h-3 w-3 text-green-500"}):l.jsx(Cr,{className:"h-3 w-3 text-red-500"}),l.jsx("span",{className:"font-medium text-slate-300",children:"Certificate Status"})]}),l.jsx("div",{className:e.cert_expired?"text-red-400":"text-green-400",children:e.cert_expired?"Expired":"Valid"})]}),l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(zr,{className:"h-3 w-3 text-slate-400"}),l.jsx("span",{className:"font-medium text-slate-300",children:"Expires In"})]}),l.jsx("div",{className:i(),children:e.days_until_expiry!==null?e.cert_expired?`${Math.abs(e.days_until_expiry)} days ago`:`${e.days_until_expiry} days`:"Unknown"})]}),l.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Tt,{className:"h-3 w-3 text-slate-400"}),l.jsx("span",{className:"font-medium text-slate-300",children:"Subject"})]}),l.jsx("div",{className:"text-slate-400 truncate",title:e.subject,children:e.subject})]}),l.jsxs("div",{className:"bg-dark-bg rounded p-2 col-span-2",children:[l.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[l.jsx(Ee,{className:"h-3 w-3 text-slate-400"}),l.jsx("span",{className:"font-medium text-slate-300",children:"Issuer"})]}),l.jsx("div",{className:"text-slate-400 truncate",title:e.issuer,children:e.issuer})]}),l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsx("span",{className:"font-medium text-slate-300",children:"Valid From"}),l.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_from).toLocaleDateString()})]}),l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsx("span",{className:"font-medium text-slate-300",children:"Valid Until"}),l.jsx("div",{className:"text-slate-400 text-[10px] mt-1",children:new Date(e.valid_until).toLocaleDateString()})]})]}),(e.self_signed||e.hostname_mismatch||e.weak_protocols.length>0||e.weak_ciphers.length>0||!e.hsts_enabled||e.chain_issues.length>0)&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-1 text-sm font-medium text-yellow-400",children:[l.jsx(lt,{className:"h-4 w-4"}),"Security Findings"]}),e.self_signed&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-yellow-400 font-medium",children:"Self-Signed Certificate"}),l.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate is not from a trusted Certificate Authority"})]}),e.hostname_mismatch&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-red-400 font-medium",children:"Hostname Mismatch"}),l.jsx("div",{className:"text-slate-400 mt-1",children:"Certificate does not match the hostname"})]}),e.weak_protocols.length>0&&l.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-red-400 font-medium",children:"Weak Protocols"}),l.jsx("div",{className:"text-slate-400 mt-1",children:e.weak_protocols.join(", ")})]}),e.weak_ciphers.length>0&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-yellow-400 font-medium",children:"Weak Ciphers"}),l.jsx("div",{className:"text-slate-400 mt-1 max-h-16 overflow-y-auto",children:e.weak_ciphers.join(", ")})]}),!e.hsts_enabled&&r===443&&l.jsxs("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-blue-400 font-medium",children:"HSTS Not Enabled"}),l.jsx("div",{className:"text-slate-400 mt-1",children:"HTTP Strict Transport Security header not detected"})]}),e.chain_issues.length>0&&l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded p-2 text-xs",children:[l.jsx("div",{className:"text-yellow-400 font-medium",children:"Certificate Chain Issues"}),l.jsx("div",{className:"text-slate-400 mt-1",children:e.chain_issues.join(", ")})]})]}),e.protocols.length>0&&l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"Supported Protocols"}),l.jsx("div",{className:"flex flex-wrap gap-1",children:e.protocols.map(a=>l.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] ${e.weak_protocols.includes(a)?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:a},a))})]}),e.hsts_enabled&&l.jsxs("div",{className:"bg-dark-bg rounded p-2",children:[l.jsx("div",{className:"text-xs font-medium text-slate-300 mb-1",children:"HSTS"}),l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsx(pn,{className:"h-3 w-3 text-green-500"}),l.jsx("span",{className:"text-green-400",children:"Enabled"}),e.hsts_max_age&&l.jsxs("span",{className:"text-slate-400",children:["(max-age: ",e.hsts_max_age.toLocaleString(),"s)"]})]})]})]})},Km=({hosts:e,scanName:r="scan",disabled:n=!1})=>{const[s,i]=O.useState(!1),a=()=>{const h={scan:r,exportedAt:new Date().toISOString(),totalHosts:e.length,hosts:e.map(f=>({ip:f.target.ip,hostname:f.target.hostname,isAlive:f.is_alive,osGuess:f.os_guess,ports:f.ports.map(p=>({port:p.port,protocol:p.protocol,state:p.state,service:p.service})),vulnerabilities:f.vulnerabilities}))};u(JSON.stringify(h,null,2),`${r}_${tr(new Date,"yyyy-MM-dd_HHmmss")}.json`,"application/json"),B.success("Exported as JSON")},o=()=>{let h=`IP,Hostname,Alive,OS,Ports,Vulnerabilities,Critical,High,Medium,Low
`;e.forEach(f=>{var g;const p=f.ports.filter(v=>v.state==="Open").map(v=>v.port).join(";"),m={Critical:f.vulnerabilities.filter(v=>v.severity==="Critical").length,High:f.vulnerabilities.filter(v=>v.severity==="High").length,Medium:f.vulnerabilities.filter(v=>v.severity==="Medium").length,Low:f.vulnerabilities.filter(v=>v.severity==="Low").length};h+=`"${f.target.ip}",`,h+=`"${f.target.hostname||""}",`,h+=`${f.is_alive},`,h+=`"${((g=f.os_guess)==null?void 0:g.os_family)||""}",`,h+=`"${p}",`,h+=`${f.vulnerabilities.length},`,h+=`${m.Critical},`,h+=`${m.High},`,h+=`${m.Medium},`,h+=`${m.Low}
`}),u(h,`${r}_${tr(new Date,"yyyy-MM-dd_HHmmss")}.csv`,"text/csv"),B.success("Exported as CSV")},c=()=>{const h=`<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HeroForge Scan Report - ${r}</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: #0f172a;
      color: #e2e8f0;
      padding: 2rem;
    }
    .container { max-width: 1200px; margin: 0 auto; }
    h1 { color: #3b82f6; margin-bottom: 0.5rem; }
    .meta { color: #94a3b8; margin-bottom: 2rem; }
    .summary {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-bottom: 2rem;
    }
    .card {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
    }
    .card h3 { color: #cbd5e1; font-size: 0.875rem; margin-bottom: 0.5rem; }
    .card .value { font-size: 2rem; font-weight: bold; }
    .host {
      background: #1e293b;
      border: 1px solid #334155;
      border-radius: 8px;
      padding: 1.5rem;
      margin-bottom: 1rem;
    }
    .host-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #334155;
    }
    .host-ip { font-family: monospace; font-size: 1.25rem; color: #3b82f6; }
    .badge {
      display: inline-block;
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.75rem;
      font-weight: 600;
    }
    .badge-critical { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
    .badge-high { background: rgba(249, 115, 22, 0.2); color: #f97316; }
    .badge-medium { background: rgba(234, 179, 8, 0.2); color: #eab308; }
    .badge-low { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
    .section { margin-top: 1rem; }
    .section h4 { color: #cbd5e1; margin-bottom: 0.5rem; font-size: 0.875rem; }
    .ports { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 0.5rem; }
    .port {
      background: #0f172a;
      padding: 0.5rem;
      border-radius: 4px;
      font-family: monospace;
      font-size: 0.875rem;
    }
    .vuln {
      background: rgba(239, 68, 68, 0.1);
      border-left: 4px solid #ef4444;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 4px;
    }
    .vuln-title { color: #fff; font-weight: 600; margin-bottom: 0.25rem; }
    .vuln-cve { color: #3b82f6; font-family: monospace; font-size: 0.875rem; }
    @media print {
      body { background: white; color: black; }
      .card, .host { border-color: #ccc; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1> HeroForge Scan Report</h1>
    <p class="meta">
      Scan: ${r} |
      Generated: ${tr(new Date,"PPpp")} |
      Hosts: ${e.length}
    </p>

    <div class="summary">
      <div class="card">
        <h3>Total Hosts</h3>
        <div class="value" style="color: #3b82f6;">${e.length}</div>
      </div>
      <div class="card">
        <h3>Open Ports</h3>
        <div class="value" style="color: #22c55e;">
          ${e.reduce((f,p)=>f+p.ports.filter(m=>m.state==="Open").length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Total Vulnerabilities</h3>
        <div class="value" style="color: #eab308;">
          ${e.reduce((f,p)=>f+p.vulnerabilities.length,0)}
        </div>
      </div>
      <div class="card">
        <h3>Critical Findings</h3>
        <div class="value" style="color: #ef4444;">
          ${e.reduce((f,p)=>f+p.vulnerabilities.filter(m=>m.severity==="Critical").length,0)}
        </div>
      </div>
    </div>

    <h2 style="color: #cbd5e1; margin-bottom: 1rem;">Discovered Hosts</h2>
    ${e.map(f=>`
      <div class="host">
        <div class="host-header">
          <div>
            <div class="host-ip">${f.target.ip}</div>
            ${f.target.hostname?`<div style="color: #94a3b8; font-size: 0.875rem;">${f.target.hostname}</div>`:""}
          </div>
          <div>
            ${f.vulnerabilities.length>0?`<span class="badge badge-critical">${f.vulnerabilities.length} vulnerabilities</span>`:""}
          </div>
        </div>

        ${f.os_guess?`
          <div class="section">
            <h4>OS Detection</h4>
            <p style="color: #94a3b8; font-size: 0.875rem;">
              ${f.os_guess.os_family} ${f.os_guess.os_version||""} (${f.os_guess.confidence}% confidence)
            </p>
          </div>
        `:""}

        ${f.ports.filter(p=>p.state==="Open").length>0?`
          <div class="section">
            <h4>Open Ports (${f.ports.filter(p=>p.state==="Open").length})</h4>
            <div class="ports">
              ${f.ports.filter(p=>p.state==="Open").map(p=>`
                <div class="port">
                  <strong>${p.port}/${p.protocol}</strong><br>
                  ${p.service?`<span style="color: #94a3b8;">${p.service.name} ${p.service.version||""}</span>`:""}
                </div>
              `).join("")}
            </div>
          </div>
        `:""}

        ${f.vulnerabilities.length>0?`
          <div class="section">
            <h4>Vulnerabilities (${f.vulnerabilities.length})</h4>
            ${f.vulnerabilities.map(p=>`
              <div class="vuln">
                <div class="vuln-title">${p.title}</div>
                ${p.cve_id?`<div class="vuln-cve">${p.cve_id}</div>`:""}
                <span class="badge badge-${p.severity.toLowerCase()}">${p.severity}</span>
              </div>
            `).join("")}
          </div>
        `:""}
      </div>
    `).join("")}

    <footer style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #334155; text-align: center; color: #64748b;">
      <p>Generated by HeroForge - Network Reconnaissance Tool</p>
      <p style="font-size: 0.875rem;">For authorized security testing only</p>
    </footer>
  </div>
</body>
</html>`;u(h,`${r}_${tr(new Date,"yyyy-MM-dd_HHmmss")}.html`,"text/html"),B.success("Exported as HTML report")},u=(h,f,p)=>{const m=new Blob([h],{type:p}),g=URL.createObjectURL(m),v=document.createElement("a");v.href=g,v.download=f,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(g)},d=h=>{if(i(!1),e.length===0){B.error("No results to export");return}switch(h){case"json":a();break;case"csv":o();break;case"html":c();break}};return l.jsxs("div",{className:"relative",children:[l.jsxs(Ce,{onClick:()=>i(!s),disabled:n||e.length===0,variant:"secondary",children:[l.jsx(Or,{className:"h-4 w-4 mr-2"}),"Export Results"]}),s&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),l.jsx("div",{className:"absolute right-0 mt-2 w-56 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-20 overflow-hidden",children:l.jsxs("div",{className:"p-2",children:[l.jsxs("button",{onClick:()=>d("json"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[l.jsx(Kd,{className:"h-4 w-4 text-blue-400"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"JSON"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Full data export"})]})]}),l.jsxs("button",{onClick:()=>d("csv"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[l.jsx(Ut,{className:"h-4 w-4 text-green-400"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"CSV"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Spreadsheet format"})]})]}),l.jsxs("button",{onClick:()=>d("html"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm text-slate-300 hover:bg-dark-hover rounded transition-colors",children:[l.jsx(ca,{className:"h-4 w-4 text-purple-400"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium",children:"HTML"}),l.jsx("div",{className:"text-xs text-slate-500",children:"Printable report"})]})]})]})})]})]})},Jm={tableOfContents:"Table of Contents",executiveSummary:"Executive Summary",riskOverview:"Risk Overview",hostInventory:"Host Inventory",portAnalysis:"Port Analysis",vulnerabilityFindings:"Vulnerability Findings",serviceEnumeration:"Service Enumeration",remediationRecommendations:"Remediation Recommendations",appendix:"Appendix"},Zm=({scanId:e,scanName:r,onClose:n,onReportCreated:s})=>{const[i,a]=O.useState([]),[o,c]=O.useState(!0),[u,d]=O.useState(!1),[h,f]=O.useState(!1),[p,m]=O.useState(`${r} Report`),[g,v]=O.useState(""),[y,x]=O.useState("pdf"),[w,j]=O.useState("technical"),[b,_]=O.useState([]),[N,S]=O.useState({include_charts:!0,company_name:"",assessor_name:"",classification:"Confidential"});O.useEffect(()=>{E()},[]),O.useEffect(()=>{const T=i.find(I=>I.id===w);T&&_(T.default_sections)},[w,i]);const E=async()=>{try{const T=await un.getTemplates();a(T.data);const I=T.data.find(C=>C.id==="technical");I&&_(I.default_sections)}catch{B.error("Failed to load report templates")}finally{c(!1)}},R=T=>{_(I=>I.includes(T)?I.filter(C=>C!==T):[...I,T])},k=async()=>{var T,I;if(!p.trim()){B.error("Please enter a report name");return}if(b.length===0){B.error("Please select at least one section");return}d(!0);try{const C={scan_id:e,name:p.trim(),description:g.trim()||void 0,format:y,template_id:w,sections:b,options:N};await un.create(C),B.success("Report generation started"),s==null||s(),n()}catch(C){const D=((I=(T=C.response)==null?void 0:T.data)==null?void 0:I.error)||"Failed to create report";B.error(D)}finally{d(!1)}},z=i.find(T=>T.id===w);return o?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:l.jsx(re,{className:"w-full max-w-2xl mx-4",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(qt,{})})})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 overflow-y-auto",children:l.jsxs(re,{className:"w-full max-w-2xl my-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ut,{className:"h-6 w-6 text-primary"}),l.jsx("h2",{className:"text-xl font-semibold text-white",children:"Generate Report"})]}),l.jsx("button",{onClick:n,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",children:l.jsx(Pr,{className:"h-5 w-5 text-slate-400"})})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Name"}),l.jsx(Te,{type:"text",value:p,onChange:T=>m(T.target.value),placeholder:"Enter report name"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Description (optional)"}),l.jsx("textarea",{value:g,onChange:T=>v(T.target.value),placeholder:"Brief description of the report",className:"w-full bg-dark-surface border border-dark-border rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-transparent resize-none",rows:2})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Report Template"}),l.jsx("div",{className:"grid grid-cols-3 gap-3",children:i.map(T=>l.jsxs("button",{onClick:()=>j(T.id),className:`p-4 rounded-lg border text-left transition-all ${w===T.id?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[l.jsx("p",{className:"font-medium text-white",children:T.name}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:T.description})]},T.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Output Format"}),l.jsx("div",{className:"flex gap-3",children:z==null?void 0:z.supports_formats.map(T=>l.jsxs("button",{onClick:()=>x(T),className:`px-6 py-3 rounded-lg border font-medium transition-all flex items-center gap-2 ${y===T?"border-primary bg-primary/10 text-primary":"border-dark-border text-slate-400 hover:border-primary/50"}`,children:[l.jsx(Or,{className:"h-4 w-4"}),T.toUpperCase()]},T))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Included Sections"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(Jm).map(([T,I])=>l.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border cursor-pointer transition-all ${b.includes(I)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:[l.jsx("input",{type:"checkbox",checked:b.includes(I),onChange:()=>R(I),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),l.jsx("span",{className:"text-sm text-white",children:I})]},T))})]}),l.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors",children:[l.jsx(Ql,{className:"h-4 w-4"}),h?"Hide":"Show"," Advanced Options"]}),h&&l.jsxs("div",{className:"space-y-4 p-4 bg-dark-surface rounded-lg border border-dark-border",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Company Name"}),l.jsx(Te,{type:"text",value:N.company_name||"",onChange:T=>S({...N,company_name:T.target.value}),placeholder:"Your Company"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Assessor Name"}),l.jsx(Te,{type:"text",value:N.assessor_name||"",onChange:T=>S({...N,assessor_name:T.target.value}),placeholder:"Security Analyst"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Classification"}),l.jsxs("select",{value:N.classification||"",onChange:T=>S({...N,classification:T.target.value}),className:"w-full bg-dark-bg border border-dark-border rounded-lg px-4 py-3 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[l.jsx("option",{value:"",children:"None"}),l.jsx("option",{value:"Public",children:"Public"}),l.jsx("option",{value:"Internal",children:"Internal"}),l.jsx("option",{value:"Confidential",children:"Confidential"}),l.jsx("option",{value:"Restricted",children:"Restricted"})]})]}),l.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:N.include_charts,onChange:T=>S({...N,include_charts:T.target.checked}),className:"w-4 h-4 rounded border-dark-border text-primary focus:ring-primary"}),l.jsx("span",{className:"text-sm text-white",children:"Include visual charts"})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-dark-border",children:[l.jsx(Ce,{variant:"ghost",onClick:n,children:"Cancel"}),l.jsx(Ce,{onClick:k,disabled:u,children:u?l.jsxs(l.Fragment,{children:[l.jsx(qt,{size:"sm",className:"mr-2"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]})]})})},Qm=({isOpen:e,onClose:r,onConfirm:n,title:s,message:i,confirmLabel:a="Confirm",cancelLabel:o="Cancel",variant:c="danger",itemCount:u,loading:d=!1})=>{const h=O.useRef(null),f=O.useRef(null);if(O.useEffect(()=>{var v;if(e){f.current=document.activeElement,(v=h.current)==null||v.focus();const y=x=>{var w;if(x.key==="Escape"&&r(),x.key==="Tab"){const j=(w=h.current)==null?void 0:w.querySelectorAll('button:not([disabled]), [tabindex]:not([tabindex="-1"])');if(j&&j.length>0){const b=j[0],_=j[j.length-1];x.shiftKey&&document.activeElement===b?(x.preventDefault(),_.focus()):!x.shiftKey&&document.activeElement===_&&(x.preventDefault(),b.focus())}}};return document.addEventListener("keydown",y),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",y),document.body.style.overflow="",f.current instanceof HTMLElement&&f.current.focus()}}},[e,r]),!e)return null;const p={danger:l.jsx(Es,{className:"h-6 w-6 text-red-400"}),warning:l.jsx(lt,{className:"h-6 w-6 text-yellow-400"}),info:l.jsx(Jd,{className:"h-6 w-6 text-blue-400"})},m={danger:"danger",warning:"primary",info:"primary"},g={danger:"bg-red-500/10",warning:"bg-yellow-500/10",info:"bg-blue-500/10"};return l.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[100]",onClick:v=>{v.target===v.currentTarget&&r()},role:"presentation",children:l.jsxs("div",{ref:h,role:"alertdialog","aria-modal":"true","aria-labelledby":"dialog-title","aria-describedby":"dialog-description",tabIndex:-1,className:"bg-dark-card border border-dark-border rounded-xl p-6 max-w-md w-full mx-4 shadow-2xl animate-scale-in focus:outline-none",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`p-3 rounded-full ${g[c]}`,children:p[c]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{id:"dialog-title",className:"text-lg font-semibold text-white",children:s}),l.jsx("p",{id:"dialog-description",className:"text-slate-400 mt-2",children:i}),u!==void 0&&u>0&&l.jsxs("p",{className:"text-sm text-slate-500 mt-2",children:["This will affect ",l.jsx("span",{className:"font-medium text-slate-300",children:u})," item",u!==1?"s":"","."]}),c==="danger"&&l.jsxs("p",{className:"text-sm text-red-400/80 mt-2 flex items-center gap-1",children:[l.jsx(lt,{className:"h-3.5 w-3.5"}),"This action cannot be undone."]})]}),l.jsx("button",{onClick:r,disabled:d,className:"text-slate-500 hover:text-slate-300 transition-colors p-1 rounded hover:bg-dark-hover disabled:opacity-50","aria-label":"Close dialog",children:l.jsx(Pr,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[l.jsx(Ce,{variant:"secondary",onClick:r,disabled:d,children:o}),l.jsx(Ce,{variant:m[c],onClick:n,loading:d,children:a})]})]})})},eg=({scanId:e,onGenerateNew:r})=>{const[n,s]=O.useState([]),[i,a]=O.useState(!0),[o,c]=O.useState(null),[u,d]=O.useState(null),[h,f]=O.useState(null);O.useEffect(()=>{p();const w=setInterval(()=>{n.filter(b=>b.status==="pending"||b.status==="generating").length>0&&p()},5e3);return()=>clearInterval(w)},[e]);const p=async()=>{try{const w=await un.getAll(e);s(w.data)}catch{B.error("Failed to load reports")}finally{a(!1)}},m=async w=>{if(w.status!=="completed"){B.warning("Report is not ready for download");return}c(w.id);try{const j=await un.download(w.id),b=new Blob([j.data],{type:j.headers["content-type"]}),_=window.URL.createObjectURL(b),N=document.createElement("a");N.href=_,N.download=`${w.name.replace(/\s+/g,"_")}.${w.format}`,document.body.appendChild(N),N.click(),window.URL.revokeObjectURL(_),document.body.removeChild(N),B.success("Report downloaded")}catch{B.error("Failed to download report")}finally{c(null)}},g=async()=>{if(h){d(h.id);try{await un.delete(h.id),s(w=>w.filter(j=>j.id!==h.id)),B.success(`Report "${h.name}" deleted`),f(null)}catch{B.error("Failed to delete report")}finally{d(null)}}},v=w=>{switch(w){case"completed":return l.jsx(pn,{className:"h-4 w-4 text-green-500"});case"failed":return l.jsx(Cr,{className:"h-4 w-4 text-red-500"});case"generating":return l.jsx(ot,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return l.jsx(zr,{className:"h-4 w-4 text-slate-400"})}},y=w=>{switch(w){case"completed":return"completed";case"generating":return"running";case"failed":return"failed";default:return"pending"}},x=w=>w?w<1024?`${w} B`:w<1024*1024?`${(w/1024).toFixed(1)} KB`:`${(w/(1024*1024)).toFixed(1)} MB`:"-";return i?l.jsx(re,{children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(qt,{})})}):n.length===0?l.jsx(re,{children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Ut,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),l.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Reports Yet"}),l.jsx("p",{className:"text-slate-400 mb-4",children:"Generate a professional report from your scan results."}),r&&l.jsxs(Ce,{onClick:r,children:[l.jsx(Ut,{className:"h-4 w-4 mr-2"}),"Generate Report"]})]})}):l.jsxs(re,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[l.jsx(Ut,{className:"h-5 w-5 text-primary"}),"Reports"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:p,className:"p-2 hover:bg-dark-surface rounded-lg transition-colors",title:"Refresh",children:l.jsx(Xn,{className:"h-4 w-4 text-slate-400"})}),r&&l.jsxs(Ce,{size:"sm",onClick:r,children:[l.jsx(Ut,{className:"h-4 w-4 mr-1"}),"New Report"]})]})]}),l.jsx("div",{className:"space-y-3",children:n.map(w=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-dark-surface rounded-lg border border-dark-border hover:border-primary/30 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"p-2 bg-dark-bg rounded-lg",children:v(w.status)}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-white",children:w.name}),l.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-400 mt-1",children:[l.jsx("span",{className:"uppercase font-mono",children:w.format}),l.jsx("span",{children:"|"}),l.jsx("span",{children:w.template_id}),l.jsx("span",{children:"|"}),l.jsx("span",{children:tr(new Date(w.created_at),"MMM d, yyyy HH:mm")}),w.file_size&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:"|"}),l.jsx("span",{children:x(w.file_size)})]})]}),w.error_message&&l.jsx("p",{className:"text-sm text-red-400 mt-1",children:w.error_message})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ye,{variant:"status",type:y(w.status),children:w.status}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("button",{onClick:()=>m(w),disabled:w.status!=="completed"||o===w.id,className:`p-2 rounded-lg transition-colors ${w.status==="completed"?"hover:bg-dark-bg text-slate-400 hover:text-white":"text-slate-600 cursor-not-allowed"}`,title:"Download",children:o===w.id?l.jsx(ot,{className:"h-4 w-4 animate-spin"}):l.jsx(Or,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>f(w),disabled:u===w.id,className:"p-2 rounded-lg text-slate-400 hover:text-red-400 hover:bg-dark-bg transition-colors",title:"Delete","aria-label":`Delete report ${w.name}`,children:u===w.id?l.jsx(ot,{className:"h-4 w-4 animate-spin"}):l.jsx(Es,{className:"h-4 w-4"})})]})]})]},w.id))}),l.jsx(Qm,{isOpen:!!h,onClose:()=>f(null),onConfirm:g,title:"Delete Report",message:`Are you sure you want to delete the report "${h==null?void 0:h.name}"?`,confirmLabel:"Delete Report",variant:"danger",loading:!!u})]})},tg=({scanId:e,scanName:r,onClose:n})=>{const[s,i]=O.useState([]),[a,o]=O.useState(new Set),[c,u]=O.useState(!1),[d,h]=O.useState(!1),[f,p]=O.useState(null),[m,g]=O.useState(null),[v,y]=O.useState(!1),[x,w]=O.useState("pdf");O.useEffect(()=>{j()},[]);const j=async()=>{u(!0);try{const R=await $n.getFrameworks();i(R.data.frameworks),o(new Set(["pci_dss","nist_800_53","owasp_top10"]))}catch{B.error("Failed to load compliance frameworks")}finally{u(!1)}},b=async()=>{var R,k;if(a.size===0){B.warning("Please select at least one framework");return}h(!0);try{const z=await $n.analyzeScan(e,{frameworks:Array.from(a)});p(z.data),B.success("Compliance analysis completed")}catch(z){B.error(((k=(R=z.response)==null?void 0:R.data)==null?void 0:k.error)||"Analysis failed")}finally{h(!1)}},_=R=>{const k=new Set(a);k.has(R)?k.delete(R):k.add(R),o(k)},N=R=>R>=80?"text-green-400":R>=60?"text-yellow-400":R>=40?"text-orange-400":"text-red-400",S=R=>R>=80?"completed":R>=60?"running":"failed",E=async()=>{var R,k;if(f){y(!0);try{const z=f.summary.frameworks.map(F=>String(F.framework).toLowerCase().replace(/_/g,"_")),T=await $n.generateReport(e,{frameworks:z,format:x,include_evidence:!0}),I=await $n.downloadReport(T.data.report_id),C=new Blob([I.data],{type:x==="pdf"?"application/pdf":x==="html"?"text/html":"application/json"}),D=window.URL.createObjectURL(C),A=document.createElement("a");A.href=D,A.download=`compliance_report_${e}.${x}`,document.body.appendChild(A),A.click(),document.body.removeChild(A),window.URL.revokeObjectURL(D),B.success(`${x.toUpperCase()} report generated and downloaded successfully`)}catch(z){B.error(((k=(R=z.response)==null?void 0:R.data)==null?void 0:k.error)||"Failed to generate report")}finally{y(!1)}}};return c?l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:l.jsx(re,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(qt,{})})})}):l.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4",children:l.jsxs(re,{className:"w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Ee,{className:"h-6 w-6 text-primary"}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Compliance Analysis"}),l.jsxs("p",{className:"text-sm text-slate-400",children:["Scan: ",r]})]})]}),l.jsx("button",{onClick:n,className:"text-slate-400 hover:text-white transition-colors",children:l.jsx(Cr,{className:"h-6 w-6"})})]}),f?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"mb-6 p-4 bg-dark-bg rounded-lg border border-dark-border",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsxs("p",{className:`text-3xl font-bold ${N(f.summary.overall_score)}`,children:[f.summary.overall_score.toFixed(0),"%"]}),l.jsx("p",{className:"text-sm text-slate-400",children:"Overall Score"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold text-white",children:f.summary.total_findings}),l.jsx("p",{className:"text-sm text-slate-400",children:"Total Findings"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold text-red-400",children:f.summary.critical_findings+f.summary.high_findings}),l.jsx("p",{className:"text-sm text-slate-400",children:"Critical/High"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:f.summary.medium_findings+f.summary.low_findings}),l.jsx("p",{className:"text-sm text-slate-400",children:"Medium/Low"})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white",children:"Framework Results"}),f.summary.frameworks.map(R=>l.jsxs("div",{className:"border border-dark-border rounded-lg overflow-hidden",children:[l.jsxs("div",{onClick:()=>g(m===R.framework?null:R.framework),className:"flex items-center justify-between p-4 bg-dark-surface cursor-pointer hover:bg-dark-hover transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[m===R.framework?l.jsx(Ps,{className:"h-5 w-5 text-slate-400"}):l.jsx(sc,{className:"h-5 w-5 text-slate-400"}),l.jsx("span",{className:"font-medium text-white",children:R.framework})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Zd,{className:"h-4 w-4 text-green-400"}),l.jsx("span",{className:"text-green-400",children:R.compliant})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Cr,{className:"h-4 w-4 text-red-400"}),l.jsx("span",{className:"text-red-400",children:R.non_compliant})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(lt,{className:"h-4 w-4 text-yellow-400"}),l.jsx("span",{className:"text-yellow-400",children:R.partially_compliant})]}),l.jsxs(Ye,{variant:"status",type:S(R.compliance_score),children:[R.compliance_score.toFixed(0),"%"]})]})]}),m===R.framework&&l.jsxs("div",{className:"p-4 bg-dark-bg border-t border-dark-border",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4 text-sm",children:[l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Total Controls"}),l.jsx("p",{className:"text-xl font-bold text-white",children:R.total_controls})]}),l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Compliant"}),l.jsx("p",{className:"text-xl font-bold text-green-400",children:R.compliant})]}),l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Non-Compliant"}),l.jsx("p",{className:"text-xl font-bold text-red-400",children:R.non_compliant})]}),l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Partially Compliant"}),l.jsx("p",{className:"text-xl font-bold text-yellow-400",children:R.partially_compliant})]}),l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Not Applicable"}),l.jsx("p",{className:"text-xl font-bold text-slate-400",children:R.not_applicable})]}),l.jsxs("div",{className:"p-3 bg-dark-surface rounded-lg",children:[l.jsx("p",{className:"text-slate-400",children:"Not Assessed"}),l.jsx("p",{className:"text-xl font-bold text-slate-500",children:R.not_assessed})]})]}),R.by_category&&R.by_category.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"By Category"}),l.jsx("div",{className:"space-y-2",children:R.by_category.map(k=>l.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-surface rounded",children:[l.jsx("span",{className:"text-sm text-white",children:k.category}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"text-xs text-slate-400",children:[k.compliant,"/",k.total," compliant"]}),l.jsx("div",{className:"w-24 bg-dark-border rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${k.percentage>=80?"bg-green-500":k.percentage>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${k.percentage}%`}})}),l.jsxs("span",{className:"text-xs text-slate-300 w-12 text-right",children:[k.percentage.toFixed(0),"%"]})]})]},k.category))})]})]})]},R.framework))]}),l.jsxs("div",{className:"mt-6 pt-4 border-t border-dark-border",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Generate Compliance Report"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"flex gap-2",children:["pdf","html","json"].map(R=>l.jsx("button",{onClick:()=>w(R),className:`px-4 py-2 rounded-lg font-medium transition-colors ${x===R?"bg-primary text-white":"bg-dark-surface text-slate-400 hover:bg-dark-hover"}`,children:R.toUpperCase()},R))}),l.jsx(Ce,{onClick:E,disabled:v,className:"ml-auto",children:v?l.jsxs(l.Fragment,{children:[l.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),"Generating..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Qd,{className:"h-4 w-4 mr-2"}),"Generate Report"]})})]})]}),l.jsxs("div",{className:"flex justify-end gap-3 mt-6 pt-4 border-t border-dark-border",children:[l.jsxs(Ce,{variant:"secondary",onClick:()=>p(null),children:[l.jsx(Xn,{className:"h-4 w-4 mr-2"}),"Run New Analysis"]}),l.jsx(Ce,{onClick:n,children:"Close"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Select Compliance Frameworks"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(R=>l.jsx("div",{onClick:()=>_(R.id),className:`p-4 rounded-lg border cursor-pointer transition-all ${a.has(R.id)?"border-primary bg-primary/10":"border-dark-border hover:border-primary/50"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(br,{checked:a.has(R.id),onChange:()=>_(R.id)}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"font-medium text-white",children:R.name}),l.jsxs(Ye,{variant:"status",type:"running",children:["v",R.version]})]}),l.jsx("p",{className:"text-sm text-slate-400 mt-1",children:R.description}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-slate-500",children:[l.jsxs("span",{children:[R.control_count," controls"]}),l.jsxs("span",{children:[R.automated_percentage.toFixed(0),"% automated"]})]})]})]})},R.id))})]}),l.jsxs("div",{className:"flex justify-end gap-3",children:[l.jsx(Ce,{variant:"secondary",onClick:n,children:"Cancel"}),l.jsx(Ce,{onClick:b,disabled:d||a.size===0,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Xn,{className:"h-4 w-4 animate-spin mr-2"}),"Analyzing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(la,{className:"h-4 w-4 mr-2"}),"Run Analysis"]})})]})]})]})})};function rg(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function ng(e,r,n){return r=dg(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function To(e,r){return ag(e)||rg(e,r)||Uc(e,r)||cg()}function sg(e){return ig(e)||og(e)||Uc(e)||lg()}function ig(e){if(Array.isArray(e))return Ai(e)}function ag(e){if(Array.isArray(e))return e}function og(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uc(e,r){if(e){if(typeof e=="string")return Ai(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ai(e,r)}}function Ai(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=e[n];return s}function lg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ug(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function dg(e){var r=ug(e,"string");return typeof r=="symbol"?r:String(r)}var fg=function(r,n){var s=new Set(n);return Object.assign.apply(Object,[{}].concat(sg(Object.entries(r).filter(function(i){var a=To(i,1),o=a[0];return!s.has(o)}).map(function(i){var a=To(i,2),o=a[0],c=a[1];return ng({},o,c)}))))};function Ti(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function hg(e){if(Array.isArray(e))return e}function pg(e){if(Array.isArray(e))return Ti(e)}function mg(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gg(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function xg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vg(e,r){return hg(e)||gg(e,r)||Wc(e,r)||xg()}function Mo(e){return pg(e)||mg(e)||Wc(e)||yg()}function Wc(e,r){if(e){if(typeof e=="string")return Ti(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ti(e,r):void 0}}function bg(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.wrapperElementType,s=n===void 0?"div":n,i=r.nodeMapper,a=i===void 0?function(h){return h}:i,o=r.methodNames,c=o===void 0?[]:o,u=r.initPropNames,d=u===void 0?[]:u;return O.forwardRef(function(h,f){var p=O.useRef(),m=O.useMemo(function(){var y=Object.fromEntries(d.filter(function(x){return h.hasOwnProperty(x)}).map(function(x){return[x,h[x]]}));return e(y)},[]);zo(function(){m(a(p.current))},O.useLayoutEffect),zo(function(){return m._destructor instanceof Function?m._destructor:void 0});var g=O.useCallback(function(y){for(var x=arguments.length,w=new Array(x>1?x-1:0),j=1;j<x;j++)w[j-1]=arguments[j];return m[y]instanceof Function?m[y].apply(m,w):void 0},[m]),v=O.useRef({});return Object.keys(fg(h,[].concat(Mo(c),Mo(d)))).filter(function(y){return v.current[y]!==h[y]}).forEach(function(y){return g(y,h[y])}),v.current=h,O.useImperativeHandle(f,function(){return Object.fromEntries(c.map(function(y){return[y,function(){for(var x=arguments.length,w=new Array(x),j=0;j<x;j++)w[j]=arguments[j];return g.apply(void 0,[y].concat(w))}]}))},[g]),Vl.createElement(s,{ref:p})})}function zo(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:O.useEffect,n=O.useRef(),s=O.useRef(!1),i=O.useRef(!1),a=O.useState(0),o=vg(a,2);o[0];var c=o[1];s.current&&(i.current=!0),r(function(){return s.current||(n.current=e(),s.current=!0),c(function(u){return u+1}),function(){i.current&&n.current&&n.current()}},[])}var Mi="http://www.w3.org/1999/xhtml";const $o={svg:"http://www.w3.org/2000/svg",xhtml:Mi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function zs(e){var r=e+="",n=r.indexOf(":");return n>=0&&(r=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),$o.hasOwnProperty(r)?{space:$o[r],local:e}:e}function wg(e){return function(){var r=this.ownerDocument,n=this.namespaceURI;return n===Mi&&r.documentElement.namespaceURI===Mi?r.createElement(e):r.createElementNS(n,e)}}function _g(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function qc(e){var r=zs(e);return(r.local?_g:wg)(r)}function jg(){}function xa(e){return e==null?jg:function(){return this.querySelector(e)}}function Ng(e){typeof e!="function"&&(e=xa(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],o=a.length,c=s[i]=new Array(o),u,d,h=0;h<o;++h)(u=a[h])&&(d=e.call(u,u.__data__,h,a))&&("__data__"in u&&(d.__data__=u.__data__),c[h]=d);return new Ke(s,this._parents)}function Sg(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function kg(){return[]}function Bc(e){return e==null?kg:function(){return this.querySelectorAll(e)}}function Cg(e){return function(){return Sg(e.apply(this,arguments))}}function Og(e){typeof e=="function"?e=Cg(e):e=Bc(e);for(var r=this._groups,n=r.length,s=[],i=[],a=0;a<n;++a)for(var o=r[a],c=o.length,u,d=0;d<c;++d)(u=o[d])&&(s.push(e.call(u,u.__data__,d,o)),i.push(u));return new Ke(s,i)}function Vc(e){return function(){return this.matches(e)}}function Gc(e){return function(r){return r.matches(e)}}var Pg=Array.prototype.find;function Eg(e){return function(){return Pg.call(this.children,e)}}function Rg(){return this.firstElementChild}function Dg(e){return this.select(e==null?Rg:Eg(typeof e=="function"?e:Gc(e)))}var Ag=Array.prototype.filter;function Tg(){return Array.from(this.children)}function Mg(e){return function(){return Ag.call(this.children,e)}}function zg(e){return this.selectAll(e==null?Tg:Mg(typeof e=="function"?e:Gc(e)))}function $g(e){typeof e!="function"&&(e=Vc(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],o=a.length,c=s[i]=[],u,d=0;d<o;++d)(u=a[d])&&e.call(u,u.__data__,d,a)&&c.push(u);return new Ke(s,this._parents)}function Yc(e){return new Array(e.length)}function Lg(){return new Ke(this._enter||this._groups.map(Yc),this._parents)}function ds(e,r){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=r}ds.prototype={constructor:ds,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,r){return this._parent.insertBefore(e,r)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fg(e){return function(){return e}}function Ig(e,r,n,s,i,a){for(var o=0,c,u=r.length,d=a.length;o<d;++o)(c=r[o])?(c.__data__=a[o],s[o]=c):n[o]=new ds(e,a[o]);for(;o<u;++o)(c=r[o])&&(i[o]=c)}function Hg(e,r,n,s,i,a,o){var c,u,d=new Map,h=r.length,f=a.length,p=new Array(h),m;for(c=0;c<h;++c)(u=r[c])&&(p[c]=m=o.call(u,u.__data__,c,r)+"",d.has(m)?i[c]=u:d.set(m,u));for(c=0;c<f;++c)m=o.call(e,a[c],c,a)+"",(u=d.get(m))?(s[c]=u,u.__data__=a[c],d.delete(m)):n[c]=new ds(e,a[c]);for(c=0;c<h;++c)(u=r[c])&&d.get(p[c])===u&&(i[c]=u)}function Ug(e){return e.__data__}function Wg(e,r){if(!arguments.length)return Array.from(this,Ug);var n=r?Hg:Ig,s=this._parents,i=this._groups;typeof e!="function"&&(e=Fg(e));for(var a=i.length,o=new Array(a),c=new Array(a),u=new Array(a),d=0;d<a;++d){var h=s[d],f=i[d],p=f.length,m=qg(e.call(h,h&&h.__data__,d,s)),g=m.length,v=c[d]=new Array(g),y=o[d]=new Array(g),x=u[d]=new Array(p);n(h,f,v,y,x,m,r);for(var w=0,j=0,b,_;w<g;++w)if(b=v[w]){for(w>=j&&(j=w+1);!(_=y[j])&&++j<g;);b._next=_||null}}return o=new Ke(o,s),o._enter=c,o._exit=u,o}function qg(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Bg(){return new Ke(this._exit||this._groups.map(Yc),this._parents)}function Vg(e,r,n){var s=this.enter(),i=this,a=this.exit();return typeof e=="function"?(s=e(s),s&&(s=s.selection())):s=s.append(e+""),r!=null&&(i=r(i),i&&(i=i.selection())),n==null?a.remove():n(a),s&&i?s.merge(i).order():i}function Gg(e){for(var r=e.selection?e.selection():e,n=this._groups,s=r._groups,i=n.length,a=s.length,o=Math.min(i,a),c=new Array(i),u=0;u<o;++u)for(var d=n[u],h=s[u],f=d.length,p=c[u]=new Array(f),m,g=0;g<f;++g)(m=d[g]||h[g])&&(p[g]=m);for(;u<i;++u)c[u]=n[u];return new Ke(c,this._parents)}function Yg(){for(var e=this._groups,r=-1,n=e.length;++r<n;)for(var s=e[r],i=s.length-1,a=s[i],o;--i>=0;)(o=s[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Xg(e){e||(e=Kg);function r(f,p){return f&&p?e(f.__data__,p.__data__):!f-!p}for(var n=this._groups,s=n.length,i=new Array(s),a=0;a<s;++a){for(var o=n[a],c=o.length,u=i[a]=new Array(c),d,h=0;h<c;++h)(d=o[h])&&(u[h]=d);u.sort(r)}return new Ke(i,this._parents).order()}function Kg(e,r){return e<r?-1:e>r?1:e>=r?0:NaN}function Jg(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zg(){return Array.from(this)}function Qg(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],i=0,a=s.length;i<a;++i){var o=s[i];if(o)return o}return null}function ex(){let e=0;for(const r of this)++e;return e}function tx(){return!this.node()}function rx(e){for(var r=this._groups,n=0,s=r.length;n<s;++n)for(var i=r[n],a=0,o=i.length,c;a<o;++a)(c=i[a])&&e.call(c,c.__data__,a,i);return this}function nx(e){return function(){this.removeAttribute(e)}}function sx(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ix(e,r){return function(){this.setAttribute(e,r)}}function ax(e,r){return function(){this.setAttributeNS(e.space,e.local,r)}}function ox(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function lx(e,r){return function(){var n=r.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function cx(e,r){var n=zs(e);if(arguments.length<2){var s=this.node();return n.local?s.getAttributeNS(n.space,n.local):s.getAttribute(n)}return this.each((r==null?n.local?sx:nx:typeof r=="function"?n.local?lx:ox:n.local?ax:ix)(n,r))}function Xc(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ux(e){return function(){this.style.removeProperty(e)}}function dx(e,r,n){return function(){this.style.setProperty(e,r,n)}}function fx(e,r,n){return function(){var s=r.apply(this,arguments);s==null?this.style.removeProperty(e):this.style.setProperty(e,s,n)}}function hx(e,r,n){return arguments.length>1?this.each((r==null?ux:typeof r=="function"?fx:dx)(e,r,n??"")):Dr(this.node(),e)}function Dr(e,r){return e.style.getPropertyValue(r)||Xc(e).getComputedStyle(e,null).getPropertyValue(r)}function px(e){return function(){delete this[e]}}function mx(e,r){return function(){this[e]=r}}function gx(e,r){return function(){var n=r.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function xx(e,r){return arguments.length>1?this.each((r==null?px:typeof r=="function"?gx:mx)(e,r)):this.node()[e]}function Kc(e){return e.trim().split(/^|\s+/)}function ya(e){return e.classList||new Jc(e)}function Jc(e){this._node=e,this._names=Kc(e.getAttribute("class")||"")}Jc.prototype={add:function(e){var r=this._names.indexOf(e);r<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var r=this._names.indexOf(e);r>=0&&(this._names.splice(r,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Zc(e,r){for(var n=ya(e),s=-1,i=r.length;++s<i;)n.add(r[s])}function Qc(e,r){for(var n=ya(e),s=-1,i=r.length;++s<i;)n.remove(r[s])}function yx(e){return function(){Zc(this,e)}}function vx(e){return function(){Qc(this,e)}}function bx(e,r){return function(){(r.apply(this,arguments)?Zc:Qc)(this,e)}}function wx(e,r){var n=Kc(e+"");if(arguments.length<2){for(var s=ya(this.node()),i=-1,a=n.length;++i<a;)if(!s.contains(n[i]))return!1;return!0}return this.each((typeof r=="function"?bx:r?yx:vx)(n,r))}function _x(){this.textContent=""}function jx(e){return function(){this.textContent=e}}function Nx(e){return function(){var r=e.apply(this,arguments);this.textContent=r??""}}function Sx(e){return arguments.length?this.each(e==null?_x:(typeof e=="function"?Nx:jx)(e)):this.node().textContent}function kx(){this.innerHTML=""}function Cx(e){return function(){this.innerHTML=e}}function Ox(e){return function(){var r=e.apply(this,arguments);this.innerHTML=r??""}}function Px(e){return arguments.length?this.each(e==null?kx:(typeof e=="function"?Ox:Cx)(e)):this.node().innerHTML}function Ex(){this.nextSibling&&this.parentNode.appendChild(this)}function Rx(){return this.each(Ex)}function Dx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ax(){return this.each(Dx)}function Tx(e){var r=typeof e=="function"?e:qc(e);return this.select(function(){return this.appendChild(r.apply(this,arguments))})}function Mx(){return null}function zx(e,r){var n=typeof e=="function"?e:qc(e),s=r==null?Mx:typeof r=="function"?r:xa(r);return this.select(function(){return this.insertBefore(n.apply(this,arguments),s.apply(this,arguments)||null)})}function $x(){var e=this.parentNode;e&&e.removeChild(this)}function Lx(){return this.each($x)}function Fx(){var e=this.cloneNode(!1),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Ix(){var e=this.cloneNode(!0),r=this.parentNode;return r?r.insertBefore(e,this.nextSibling):e}function Hx(e){return this.select(e?Ix:Fx)}function Ux(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Wx(e){return function(r){e.call(this,r,this.__data__)}}function qx(e){return e.trim().split(/^|\s+/).map(function(r){var n="",s=r.indexOf(".");return s>=0&&(n=r.slice(s+1),r=r.slice(0,s)),{type:r,name:n}})}function Bx(e){return function(){var r=this.__on;if(r){for(var n=0,s=-1,i=r.length,a;n<i;++n)a=r[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):r[++s]=a;++s?r.length=s:delete this.__on}}}function Vx(e,r,n){return function(){var s=this.__on,i,a=Wx(r);if(s){for(var o=0,c=s.length;o<c;++o)if((i=s[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=r;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:r,listener:a,options:n},s?s.push(i):this.__on=[i]}}function Gx(e,r,n){var s=qx(e+""),i,a=s.length,o;if(arguments.length<2){var c=this.node().__on;if(c){for(var u=0,d=c.length,h;u<d;++u)for(i=0,h=c[u];i<a;++i)if((o=s[i]).type===h.type&&o.name===h.name)return h.value}return}for(c=r?Vx:Bx,i=0;i<a;++i)this.each(c(s[i],r,n));return this}function eu(e,r,n){var s=Xc(e),i=s.CustomEvent;typeof i=="function"?i=new i(r,n):(i=s.document.createEvent("Event"),n?(i.initEvent(r,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(r,!1,!1)),e.dispatchEvent(i)}function Yx(e,r){return function(){return eu(this,e,r)}}function Xx(e,r){return function(){return eu(this,e,r.apply(this,arguments))}}function Kx(e,r){return this.each((typeof r=="function"?Xx:Yx)(e,r))}function*Jx(){for(var e=this._groups,r=0,n=e.length;r<n;++r)for(var s=e[r],i=0,a=s.length,o;i<a;++i)(o=s[i])&&(yield o)}var tu=[null];function Ke(e,r){this._groups=e,this._parents=r}function Cn(){return new Ke([[document.documentElement]],tu)}function Zx(){return this}Ke.prototype=Cn.prototype={constructor:Ke,select:Ng,selectAll:Og,selectChild:Dg,selectChildren:zg,filter:$g,data:Wg,enter:Lg,exit:Bg,join:Vg,merge:Gg,selection:Zx,order:Yg,sort:Xg,call:Jg,nodes:Zg,node:Qg,size:ex,empty:tx,each:rx,attr:cx,style:hx,property:xx,classed:wx,text:Sx,html:Px,raise:Rx,lower:Ax,append:Tx,insert:zx,remove:Lx,clone:Hx,datum:Ux,on:Gx,dispatch:Kx,[Symbol.iterator]:Jx};function tt(e){return typeof e=="string"?new Ke([[document.querySelector(e)]],[document.documentElement]):new Ke([[e]],tu)}function Qx(e){let r;for(;r=e.sourceEvent;)e=r;return e}function pt(e,r){if(e=Qx(e),r===void 0&&(r=e.currentTarget),r){var n=r.ownerSVGElement||r;if(n.createSVGPoint){var s=n.createSVGPoint();return s.x=e.clientX,s.y=e.clientY,s=s.matrixTransform(r.getScreenCTM().inverse()),[s.x,s.y]}if(r.getBoundingClientRect){var i=r.getBoundingClientRect();return[e.clientX-i.left-r.clientLeft,e.clientY-i.top-r.clientTop]}}return[e.pageX,e.pageY]}var ey={value:()=>{}};function On(){for(var e=0,r=arguments.length,n={},s;e<r;++e){if(!(s=arguments[e]+"")||s in n||/[\s.]/.test(s))throw new Error("illegal type: "+s);n[s]=[]}return new ts(n)}function ts(e){this._=e}function ty(e,r){return e.trim().split(/^|\s+/).map(function(n){var s="",i=n.indexOf(".");if(i>=0&&(s=n.slice(i+1),n=n.slice(0,i)),n&&!r.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:s}})}ts.prototype=On.prototype={constructor:ts,on:function(e,r){var n=this._,s=ty(e+"",n),i,a=-1,o=s.length;if(arguments.length<2){for(;++a<o;)if((i=(e=s[a]).type)&&(i=ry(n[i],e.name)))return i;return}if(r!=null&&typeof r!="function")throw new Error("invalid callback: "+r);for(;++a<o;)if(i=(e=s[a]).type)n[i]=Lo(n[i],e.name,r);else if(r==null)for(i in n)n[i]=Lo(n[i],e.name,null);return this},copy:function(){var e={},r=this._;for(var n in r)e[n]=r[n].slice();return new ts(e)},call:function(e,r){if((i=arguments.length-2)>0)for(var n=new Array(i),s=0,i,a;s<i;++s)n[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],s=0,i=a.length;s<i;++s)a[s].value.apply(r,n)},apply:function(e,r,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var s=this._[e],i=0,a=s.length;i<a;++i)s[i].value.apply(r,n)}};function ry(e,r){for(var n=0,s=e.length,i;n<s;++n)if((i=e[n]).name===r)return i.value}function Lo(e,r,n){for(var s=0,i=e.length;s<i;++s)if(e[s].name===r){e[s]=ey,e=e.slice(0,s).concat(e.slice(s+1));break}return n!=null&&e.push({name:r,value:n}),e}const ny={passive:!1},xn={capture:!0,passive:!1};function ci(e){e.stopImmediatePropagation()}function Sr(e){e.preventDefault(),e.stopImmediatePropagation()}function ru(e){var r=e.document.documentElement,n=tt(e).on("dragstart.drag",Sr,xn);"onselectstart"in r?n.on("selectstart.drag",Sr,xn):(r.__noselect=r.style.MozUserSelect,r.style.MozUserSelect="none")}function nu(e,r){var n=e.document.documentElement,s=tt(e).on("dragstart.drag",null);r&&(s.on("click.drag",Sr,xn),setTimeout(function(){s.on("click.drag",null)},0)),"onselectstart"in n?s.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fn=e=>()=>e;function zi(e,{sourceEvent:r,subject:n,target:s,identifier:i,active:a,x:o,y:c,dx:u,dy:d,dispatch:h}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:d,enumerable:!0,configurable:!0},_:{value:h}})}zi.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function sy(e){return!e.ctrlKey&&!e.button}function iy(){return this.parentNode}function ay(e,r){return r??{x:e.x,y:e.y}}function oy(){return navigator.maxTouchPoints||"ontouchstart"in this}function ly(){var e=sy,r=iy,n=ay,s=oy,i={},a=On("start","drag","end"),o=0,c,u,d,h,f=0;function p(b){b.on("mousedown.drag",m).filter(s).on("touchstart.drag",y).on("touchmove.drag",x,ny).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(b,_){if(!(h||!e.call(this,b,_))){var N=j(this,r.call(this,b,_),b,_,"mouse");N&&(tt(b.view).on("mousemove.drag",g,xn).on("mouseup.drag",v,xn),ru(b.view),ci(b),d=!1,c=b.clientX,u=b.clientY,N("start",b))}}function g(b){if(Sr(b),!d){var _=b.clientX-c,N=b.clientY-u;d=_*_+N*N>f}i.mouse("drag",b)}function v(b){tt(b.view).on("mousemove.drag mouseup.drag",null),nu(b.view,d),Sr(b),i.mouse("end",b)}function y(b,_){if(e.call(this,b,_)){var N=b.changedTouches,S=r.call(this,b,_),E=N.length,R,k;for(R=0;R<E;++R)(k=j(this,S,b,_,N[R].identifier,N[R]))&&(ci(b),k("start",b,N[R]))}}function x(b){var _=b.changedTouches,N=_.length,S,E;for(S=0;S<N;++S)(E=i[_[S].identifier])&&(Sr(b),E("drag",b,_[S]))}function w(b){var _=b.changedTouches,N=_.length,S,E;for(h&&clearTimeout(h),h=setTimeout(function(){h=null},500),S=0;S<N;++S)(E=i[_[S].identifier])&&(ci(b),E("end",b,_[S]))}function j(b,_,N,S,E,R){var k=a.copy(),z=pt(R||N,_),T,I,C;if((C=n.call(b,new zi("beforestart",{sourceEvent:N,target:p,identifier:E,active:o,x:z[0],y:z[1],dx:0,dy:0,dispatch:k}),S))!=null)return T=C.x-z[0]||0,I=C.y-z[1]||0,function D(A,F,L){var q=z,V;switch(A){case"start":i[E]=D,V=o++;break;case"end":delete i[E],--o;case"drag":z=pt(L||F,_),V=o;break}k.call(A,b,new zi(A,{sourceEvent:F,subject:C,target:p,identifier:E,active:V,x:z[0]+T,y:z[1]+I,dx:z[0]-q[0],dy:z[1]-q[1],dispatch:k}),S)}}return p.filter=function(b){return arguments.length?(e=typeof b=="function"?b:Fn(!!b),p):e},p.container=function(b){return arguments.length?(r=typeof b=="function"?b:Fn(b),p):r},p.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Fn(b),p):n},p.touchable=function(b){return arguments.length?(s=typeof b=="function"?b:Fn(!!b),p):s},p.on=function(){var b=a.on.apply(a,arguments);return b===a?p:b},p.clickDistance=function(b){return arguments.length?(f=(b=+b)*b,p):Math.sqrt(f)},p}var Ar=0,nn=0,Gr=0,su=1e3,fs,sn,hs=0,cr=0,$s=0,yn=typeof performance=="object"&&performance.now?performance:Date,iu=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function va(){return cr||(iu(cy),cr=yn.now()+$s)}function cy(){cr=0}function ps(){this._call=this._time=this._next=null}ps.prototype=ba.prototype={constructor:ps,restart:function(e,r,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?va():+n)+(r==null?0:+r),!this._next&&sn!==this&&(sn?sn._next=this:fs=this,sn=this),this._call=e,this._time=n,$i()},stop:function(){this._call&&(this._call=null,this._time=1/0,$i())}};function ba(e,r,n){var s=new ps;return s.restart(e,r,n),s}function uy(){va(),++Ar;for(var e=fs,r;e;)(r=cr-e._time)>=0&&e._call.call(void 0,r),e=e._next;--Ar}function Fo(){cr=(hs=yn.now())+$s,Ar=nn=0;try{uy()}finally{Ar=0,fy(),cr=0}}function dy(){var e=yn.now(),r=e-hs;r>su&&($s-=r,hs=e)}function fy(){for(var e,r=fs,n,s=1/0;r;)r._call?(s>r._time&&(s=r._time),e=r,r=r._next):(n=r._next,r._next=null,r=e?e._next=n:fs=n);sn=e,$i(s)}function $i(e){if(!Ar){nn&&(nn=clearTimeout(nn));var r=e-cr;r>24?(e<1/0&&(nn=setTimeout(Fo,e-yn.now()-$s)),Gr&&(Gr=clearInterval(Gr))):(Gr||(hs=yn.now(),Gr=setInterval(dy,su)),Ar=1,iu(Fo))}}function Io(e,r,n){var s=new ps;return r=r==null?0:+r,s.restart(i=>{s.stop(),e(i+r)},r,n),s}var hy=On("start","end","cancel","interrupt"),py=[],au=0,Ho=1,Li=2,rs=3,Uo=4,Fi=5,ns=6;function Ls(e,r,n,s,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;my(e,n,{name:r,index:s,group:i,on:hy,tween:py,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:au})}function wa(e,r){var n=ut(e,r);if(n.state>au)throw new Error("too late; already scheduled");return n}function vt(e,r){var n=ut(e,r);if(n.state>rs)throw new Error("too late; already running");return n}function ut(e,r){var n=e.__transition;if(!n||!(n=n[r]))throw new Error("transition not found");return n}function my(e,r,n){var s=e.__transition,i;s[r]=n,n.timer=ba(a,0,n.time);function a(d){n.state=Ho,n.timer.restart(o,n.delay,n.time),n.delay<=d&&o(d-n.delay)}function o(d){var h,f,p,m;if(n.state!==Ho)return u();for(h in s)if(m=s[h],m.name===n.name){if(m.state===rs)return Io(o);m.state===Uo?(m.state=ns,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete s[h]):+h<r&&(m.state=ns,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete s[h])}if(Io(function(){n.state===rs&&(n.state=Uo,n.timer.restart(c,n.delay,n.time),c(d))}),n.state=Li,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Li){for(n.state=rs,i=new Array(p=n.tween.length),h=0,f=-1;h<p;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function c(d){for(var h=d<n.duration?n.ease.call(null,d/n.duration):(n.timer.restart(u),n.state=Fi,1),f=-1,p=i.length;++f<p;)i[f].call(e,h);n.state===Fi&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=ns,n.timer.stop(),delete s[r];for(var d in s)return;delete e.__transition}}function ss(e,r){var n=e.__transition,s,i,a=!0,o;if(n){r=r==null?null:r+"";for(o in n){if((s=n[o]).name!==r){a=!1;continue}i=s.state>Li&&s.state<Fi,s.state=ns,s.timer.stop(),s.on.call(i?"interrupt":"cancel",e,e.__data__,s.index,s.group),delete n[o]}a&&delete e.__transition}}function gy(e){return this.each(function(){ss(this,e)})}function xy(e,r){var n,s;return function(){var i=vt(this,e),a=i.tween;if(a!==n){s=n=a;for(var o=0,c=s.length;o<c;++o)if(s[o].name===r){s=s.slice(),s.splice(o,1);break}}i.tween=s}}function yy(e,r,n){var s,i;if(typeof n!="function")throw new Error;return function(){var a=vt(this,e),o=a.tween;if(o!==s){i=(s=o).slice();for(var c={name:r,value:n},u=0,d=i.length;u<d;++u)if(i[u].name===r){i[u]=c;break}u===d&&i.push(c)}a.tween=i}}function vy(e,r){var n=this._id;if(e+="",arguments.length<2){for(var s=ut(this.node(),n).tween,i=0,a=s.length,o;i<a;++i)if((o=s[i]).name===e)return o.value;return null}return this.each((r==null?xy:yy)(n,e,r))}function _a(e,r,n){var s=e._id;return e.each(function(){var i=vt(this,s);(i.value||(i.value={}))[r]=n.apply(this,arguments)}),function(i){return ut(i,s).value[r]}}function ou(e,r){var n;return(typeof r=="number"?mf:r instanceof ao?io:(n=ao(r))?(r=n,io):gf)(e,r)}function by(e){return function(){this.removeAttribute(e)}}function wy(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _y(e,r,n){var s,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===s?a:a=r(s=o,n)}}function jy(e,r,n){var s,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===s?a:a=r(s=o,n)}}function Ny(e,r,n){var s,i,a;return function(){var o,c=n(this),u;return c==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=c+"",o===u?null:o===s&&u===i?a:(i=u,a=r(s=o,c)))}}function Sy(e,r,n){var s,i,a;return function(){var o,c=n(this),u;return c==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=c+"",o===u?null:o===s&&u===i?a:(i=u,a=r(s=o,c)))}}function ky(e,r){var n=zs(e),s=n==="transform"?xf:ou;return this.attrTween(e,typeof r=="function"?(n.local?Sy:Ny)(n,s,_a(this,"attr."+e,r)):r==null?(n.local?wy:by)(n):(n.local?jy:_y)(n,s,r))}function Cy(e,r){return function(n){this.setAttribute(e,r.call(this,n))}}function Oy(e,r){return function(n){this.setAttributeNS(e.space,e.local,r.call(this,n))}}function Py(e,r){var n,s;function i(){var a=r.apply(this,arguments);return a!==s&&(n=(s=a)&&Oy(e,a)),n}return i._value=r,i}function Ey(e,r){var n,s;function i(){var a=r.apply(this,arguments);return a!==s&&(n=(s=a)&&Cy(e,a)),n}return i._value=r,i}function Ry(e,r){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(r==null)return this.tween(n,null);if(typeof r!="function")throw new Error;var s=zs(e);return this.tween(n,(s.local?Py:Ey)(s,r))}function Dy(e,r){return function(){wa(this,e).delay=+r.apply(this,arguments)}}function Ay(e,r){return r=+r,function(){wa(this,e).delay=r}}function Ty(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?Dy:Ay)(r,e)):ut(this.node(),r).delay}function My(e,r){return function(){vt(this,e).duration=+r.apply(this,arguments)}}function zy(e,r){return r=+r,function(){vt(this,e).duration=r}}function $y(e){var r=this._id;return arguments.length?this.each((typeof e=="function"?My:zy)(r,e)):ut(this.node(),r).duration}function Ly(e,r){if(typeof r!="function")throw new Error;return function(){vt(this,e).ease=r}}function Fy(e){var r=this._id;return arguments.length?this.each(Ly(r,e)):ut(this.node(),r).ease}function Iy(e,r){return function(){var n=r.apply(this,arguments);if(typeof n!="function")throw new Error;vt(this,e).ease=n}}function Hy(e){if(typeof e!="function")throw new Error;return this.each(Iy(this._id,e))}function Uy(e){typeof e!="function"&&(e=Vc(e));for(var r=this._groups,n=r.length,s=new Array(n),i=0;i<n;++i)for(var a=r[i],o=a.length,c=s[i]=[],u,d=0;d<o;++d)(u=a[d])&&e.call(u,u.__data__,d,a)&&c.push(u);return new At(s,this._parents,this._name,this._id)}function Wy(e){if(e._id!==this._id)throw new Error;for(var r=this._groups,n=e._groups,s=r.length,i=n.length,a=Math.min(s,i),o=new Array(s),c=0;c<a;++c)for(var u=r[c],d=n[c],h=u.length,f=o[c]=new Array(h),p,m=0;m<h;++m)(p=u[m]||d[m])&&(f[m]=p);for(;c<s;++c)o[c]=r[c];return new At(o,this._parents,this._name,this._id)}function qy(e){return(e+"").trim().split(/^|\s+/).every(function(r){var n=r.indexOf(".");return n>=0&&(r=r.slice(0,n)),!r||r==="start"})}function By(e,r,n){var s,i,a=qy(r)?wa:vt;return function(){var o=a(this,e),c=o.on;c!==s&&(i=(s=c).copy()).on(r,n),o.on=i}}function Vy(e,r){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(By(n,e,r))}function Gy(e){return function(){var r=this.parentNode;for(var n in this.__transition)if(+n!==e)return;r&&r.removeChild(this)}}function Yy(){return this.on("end.remove",Gy(this._id))}function Xy(e){var r=this._name,n=this._id;typeof e!="function"&&(e=xa(e));for(var s=this._groups,i=s.length,a=new Array(i),o=0;o<i;++o)for(var c=s[o],u=c.length,d=a[o]=new Array(u),h,f,p=0;p<u;++p)(h=c[p])&&(f=e.call(h,h.__data__,p,c))&&("__data__"in h&&(f.__data__=h.__data__),d[p]=f,Ls(d[p],r,n,p,d,ut(h,n)));return new At(a,this._parents,r,n)}function Ky(e){var r=this._name,n=this._id;typeof e!="function"&&(e=Bc(e));for(var s=this._groups,i=s.length,a=[],o=[],c=0;c<i;++c)for(var u=s[c],d=u.length,h,f=0;f<d;++f)if(h=u[f]){for(var p=e.call(h,h.__data__,f,u),m,g=ut(h,n),v=0,y=p.length;v<y;++v)(m=p[v])&&Ls(m,r,n,v,p,g);a.push(p),o.push(h)}return new At(a,o,r,n)}var Jy=Cn.prototype.constructor;function Zy(){return new Jy(this._groups,this._parents)}function Qy(e,r){var n,s,i;return function(){var a=Dr(this,e),o=(this.style.removeProperty(e),Dr(this,e));return a===o?null:a===n&&o===s?i:i=r(n=a,s=o)}}function lu(e){return function(){this.style.removeProperty(e)}}function e0(e,r,n){var s,i=n+"",a;return function(){var o=Dr(this,e);return o===i?null:o===s?a:a=r(s=o,n)}}function t0(e,r,n){var s,i,a;return function(){var o=Dr(this,e),c=n(this),u=c+"";return c==null&&(u=c=(this.style.removeProperty(e),Dr(this,e))),o===u?null:o===s&&u===i?a:(i=u,a=r(s=o,c))}}function r0(e,r){var n,s,i,a="style."+r,o="end."+a,c;return function(){var u=vt(this,e),d=u.on,h=u.value[a]==null?c||(c=lu(r)):void 0;(d!==n||i!==h)&&(s=(n=d).copy()).on(o,i=h),u.on=s}}function n0(e,r,n){var s=(e+="")=="transform"?yf:ou;return r==null?this.styleTween(e,Qy(e,s)).on("end.style."+e,lu(e)):typeof r=="function"?this.styleTween(e,t0(e,s,_a(this,"style."+e,r))).each(r0(this._id,e)):this.styleTween(e,e0(e,s,r),n).on("end.style."+e,null)}function s0(e,r,n){return function(s){this.style.setProperty(e,r.call(this,s),n)}}function i0(e,r,n){var s,i;function a(){var o=r.apply(this,arguments);return o!==i&&(s=(i=o)&&s0(e,o,n)),s}return a._value=r,a}function a0(e,r,n){var s="style."+(e+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(r==null)return this.tween(s,null);if(typeof r!="function")throw new Error;return this.tween(s,i0(e,r,n??""))}function o0(e){return function(){this.textContent=e}}function l0(e){return function(){var r=e(this);this.textContent=r??""}}function c0(e){return this.tween("text",typeof e=="function"?l0(_a(this,"text",e)):o0(e==null?"":e+""))}function u0(e){return function(r){this.textContent=e.call(this,r)}}function d0(e){var r,n;function s(){var i=e.apply(this,arguments);return i!==n&&(r=(n=i)&&u0(i)),r}return s._value=e,s}function f0(e){var r="text";if(arguments.length<1)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,d0(e))}function h0(){for(var e=this._name,r=this._id,n=cu(),s=this._groups,i=s.length,a=0;a<i;++a)for(var o=s[a],c=o.length,u,d=0;d<c;++d)if(u=o[d]){var h=ut(u,r);Ls(u,e,n,d,o,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new At(s,this._parents,e,n)}function p0(){var e,r,n=this,s=n._id,i=n.size();return new Promise(function(a,o){var c={value:o},u={value:function(){--i===0&&a()}};n.each(function(){var d=vt(this,s),h=d.on;h!==e&&(r=(e=h).copy(),r._.cancel.push(c),r._.interrupt.push(c),r._.end.push(u)),d.on=r}),i===0&&a()})}var m0=0;function At(e,r,n,s){this._groups=e,this._parents=r,this._name=n,this._id=s}function cu(){return++m0}var Nt=Cn.prototype;At.prototype={constructor:At,select:Xy,selectAll:Ky,selectChild:Nt.selectChild,selectChildren:Nt.selectChildren,filter:Uy,merge:Wy,selection:Zy,transition:h0,call:Nt.call,nodes:Nt.nodes,node:Nt.node,size:Nt.size,empty:Nt.empty,each:Nt.each,on:Vy,attr:ky,attrTween:Ry,style:n0,styleTween:a0,text:c0,textTween:f0,remove:Yy,tween:vy,delay:Ty,duration:$y,ease:Fy,easeVarying:Hy,end:p0,[Symbol.iterator]:Nt[Symbol.iterator]};function g0(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var x0={time:null,delay:0,duration:250,ease:g0};function y0(e,r){for(var n;!(n=e.__transition)||!(n=n[r]);)if(!(e=e.parentNode))throw new Error(`transition ${r} not found`);return n}function v0(e){var r,n;e instanceof At?(r=e._id,e=e._name):(r=cu(),(n=x0).time=va(),e=e==null?null:e+"");for(var s=this._groups,i=s.length,a=0;a<i;++a)for(var o=s[a],c=o.length,u,d=0;d<c;++d)(u=o[d])&&Ls(u,e,r,d,o,n||y0(u,r));return new At(s,this._parents,e,r)}Cn.prototype.interrupt=gy;Cn.prototype.transition=v0;const In=e=>()=>e;function b0(e,{sourceEvent:r,target:n,transform:s,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:r,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:s,enumerable:!0,configurable:!0},_:{value:i}})}function Pt(e,r,n){this.k=e,this.x=r,this.y=n}Pt.prototype={constructor:Pt,scale:function(e){return e===1?this:new Pt(this.k*e,this.x,this.y)},translate:function(e,r){return e===0&r===0?this:new Pt(this.k,this.x+this.k*e,this.y+this.k*r)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ja=new Pt(1,0,0);ht.prototype=Pt.prototype;function ht(e){for(;!e.__zoom;)if(!(e=e.parentNode))return ja;return e.__zoom}function ui(e){e.stopImmediatePropagation()}function Yr(e){e.preventDefault(),e.stopImmediatePropagation()}function w0(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function _0(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function Wo(){return this.__zoom||ja}function j0(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function N0(){return navigator.maxTouchPoints||"ontouchstart"in this}function S0(e,r,n){var s=e.invertX(r[0][0])-n[0][0],i=e.invertX(r[1][0])-n[1][0],a=e.invertY(r[0][1])-n[0][1],o=e.invertY(r[1][1])-n[1][1];return e.translate(i>s?(s+i)/2:Math.min(0,s)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function k0(){var e=w0,r=_0,n=S0,s=j0,i=N0,a=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],c=250,u=vf,d=On("start","zoom","end"),h,f,p,m=500,g=150,v=0,y=10;function x(C){C.property("__zoom",Wo).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",R).on("dblclick.zoom",k).filter(i).on("touchstart.zoom",z).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",I).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}x.transform=function(C,D,A,F){var L=C.selection?C.selection():C;L.property("__zoom",Wo),C!==L?_(C,D,A,F):L.interrupt().each(function(){N(this,arguments).event(F).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},x.scaleBy=function(C,D,A,F){x.scaleTo(C,function(){var L=this.__zoom.k,q=typeof D=="function"?D.apply(this,arguments):D;return L*q},A,F)},x.scaleTo=function(C,D,A,F){x.transform(C,function(){var L=r.apply(this,arguments),q=this.__zoom,V=A==null?b(L):typeof A=="function"?A.apply(this,arguments):A,X=q.invert(V),K=typeof D=="function"?D.apply(this,arguments):D;return n(j(w(q,K),V,X),L,o)},A,F)},x.translateBy=function(C,D,A,F){x.transform(C,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof A=="function"?A.apply(this,arguments):A),r.apply(this,arguments),o)},null,F)},x.translateTo=function(C,D,A,F,L){x.transform(C,function(){var q=r.apply(this,arguments),V=this.__zoom,X=F==null?b(q):typeof F=="function"?F.apply(this,arguments):F;return n(ja.translate(X[0],X[1]).scale(V.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof A=="function"?-A.apply(this,arguments):-A),q,o)},F,L)};function w(C,D){return D=Math.max(a[0],Math.min(a[1],D)),D===C.k?C:new Pt(D,C.x,C.y)}function j(C,D,A){var F=D[0]-A[0]*C.k,L=D[1]-A[1]*C.k;return F===C.x&&L===C.y?C:new Pt(C.k,F,L)}function b(C){return[(+C[0][0]+ +C[1][0])/2,(+C[0][1]+ +C[1][1])/2]}function _(C,D,A,F){C.on("start.zoom",function(){N(this,arguments).event(F).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(F).end()}).tween("zoom",function(){var L=this,q=arguments,V=N(L,q).event(F),X=r.apply(L,q),K=A==null?b(X):typeof A=="function"?A.apply(L,q):A,le=Math.max(X[1][0]-X[0][0],X[1][1]-X[0][1]),ie=L.__zoom,je=typeof D=="function"?D.apply(L,q):D,se=u(ie.invert(K).concat(le/ie.k),je.invert(K).concat(le/je.k));return function(de){if(de===1)de=je;else{var W=se(de),Y=le/W[2];de=new Pt(Y,K[0]-W[0]*Y,K[1]-W[1]*Y)}V.zoom(null,de)}})}function N(C,D,A){return!A&&C.__zooming||new S(C,D)}function S(C,D){this.that=C,this.args=D,this.active=0,this.sourceEvent=null,this.extent=r.apply(C,D),this.taps=0}S.prototype={event:function(C){return C&&(this.sourceEvent=C),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(C,D){return this.mouse&&C!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&C!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&C!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(C){var D=tt(this.that).datum();d.call(C,this.that,new b0(C,{sourceEvent:this.sourceEvent,target:x,transform:this.that.__zoom,dispatch:d}),D)}};function E(C,...D){if(!e.apply(this,arguments))return;var A=N(this,D).event(C),F=this.__zoom,L=Math.max(a[0],Math.min(a[1],F.k*Math.pow(2,s.apply(this,arguments)))),q=pt(C);if(A.wheel)(A.mouse[0][0]!==q[0]||A.mouse[0][1]!==q[1])&&(A.mouse[1]=F.invert(A.mouse[0]=q)),clearTimeout(A.wheel);else{if(F.k===L)return;A.mouse=[q,F.invert(q)],ss(this),A.start()}Yr(C),A.wheel=setTimeout(V,g),A.zoom("mouse",n(j(w(F,L),A.mouse[0],A.mouse[1]),A.extent,o));function V(){A.wheel=null,A.end()}}function R(C,...D){if(p||!e.apply(this,arguments))return;var A=C.currentTarget,F=N(this,D,!0).event(C),L=tt(C.view).on("mousemove.zoom",K,!0).on("mouseup.zoom",le,!0),q=pt(C,A),V=C.clientX,X=C.clientY;ru(C.view),ui(C),F.mouse=[q,this.__zoom.invert(q)],ss(this),F.start();function K(ie){if(Yr(ie),!F.moved){var je=ie.clientX-V,se=ie.clientY-X;F.moved=je*je+se*se>v}F.event(ie).zoom("mouse",n(j(F.that.__zoom,F.mouse[0]=pt(ie,A),F.mouse[1]),F.extent,o))}function le(ie){L.on("mousemove.zoom mouseup.zoom",null),nu(ie.view,F.moved),Yr(ie),F.event(ie).end()}}function k(C,...D){if(e.apply(this,arguments)){var A=this.__zoom,F=pt(C.changedTouches?C.changedTouches[0]:C,this),L=A.invert(F),q=A.k*(C.shiftKey?.5:2),V=n(j(w(A,q),F,L),r.apply(this,D),o);Yr(C),c>0?tt(this).transition().duration(c).call(_,V,F,C):tt(this).call(x.transform,V,F,C)}}function z(C,...D){if(e.apply(this,arguments)){var A=C.touches,F=A.length,L=N(this,D,C.changedTouches.length===F).event(C),q,V,X,K;for(ui(C),V=0;V<F;++V)X=A[V],K=pt(X,this),K=[K,this.__zoom.invert(K),X.identifier],L.touch0?!L.touch1&&L.touch0[2]!==K[2]&&(L.touch1=K,L.taps=0):(L.touch0=K,q=!0,L.taps=1+!!h);h&&(h=clearTimeout(h)),q&&(L.taps<2&&(f=K[0],h=setTimeout(function(){h=null},m)),ss(this),L.start())}}function T(C,...D){if(this.__zooming){var A=N(this,D).event(C),F=C.changedTouches,L=F.length,q,V,X,K;for(Yr(C),q=0;q<L;++q)V=F[q],X=pt(V,this),A.touch0&&A.touch0[2]===V.identifier?A.touch0[0]=X:A.touch1&&A.touch1[2]===V.identifier&&(A.touch1[0]=X);if(V=A.that.__zoom,A.touch1){var le=A.touch0[0],ie=A.touch0[1],je=A.touch1[0],se=A.touch1[1],de=(de=je[0]-le[0])*de+(de=je[1]-le[1])*de,W=(W=se[0]-ie[0])*W+(W=se[1]-ie[1])*W;V=w(V,Math.sqrt(de/W)),X=[(le[0]+je[0])/2,(le[1]+je[1])/2],K=[(ie[0]+se[0])/2,(ie[1]+se[1])/2]}else if(A.touch0)X=A.touch0[0],K=A.touch0[1];else return;A.zoom("touch",n(j(V,X,K),A.extent,o))}}function I(C,...D){if(this.__zooming){var A=N(this,D).event(C),F=C.changedTouches,L=F.length,q,V;for(ui(C),p&&clearTimeout(p),p=setTimeout(function(){p=null},m),q=0;q<L;++q)V=F[q],A.touch0&&A.touch0[2]===V.identifier?delete A.touch0:A.touch1&&A.touch1[2]===V.identifier&&delete A.touch1;if(A.touch1&&!A.touch0&&(A.touch0=A.touch1,delete A.touch1),A.touch0)A.touch0[1]=this.__zoom.invert(A.touch0[0]);else if(A.end(),A.taps===2&&(V=pt(V,this),Math.hypot(f[0]-V[0],f[1]-V[1])<y)){var X=tt(this).on("dblclick.zoom");X&&X.apply(this,arguments)}}}return x.wheelDelta=function(C){return arguments.length?(s=typeof C=="function"?C:In(+C),x):s},x.filter=function(C){return arguments.length?(e=typeof C=="function"?C:In(!!C),x):e},x.touchable=function(C){return arguments.length?(i=typeof C=="function"?C:In(!!C),x):i},x.extent=function(C){return arguments.length?(r=typeof C=="function"?C:In([[+C[0][0],+C[0][1]],[+C[1][0],+C[1][1]]]),x):r},x.scaleExtent=function(C){return arguments.length?(a[0]=+C[0],a[1]=+C[1],x):[a[0],a[1]]},x.translateExtent=function(C){return arguments.length?(o[0][0]=+C[0][0],o[1][0]=+C[1][0],o[0][1]=+C[0][1],o[1][1]=+C[1][1],x):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},x.constrain=function(C){return arguments.length?(n=C,x):n},x.duration=function(C){return arguments.length?(c=+C,x):c},x.interpolate=function(C){return arguments.length?(u=C,x):u},x.on=function(){var C=d.on.apply(d,arguments);return C===d?x:C},x.clickDistance=function(C){return arguments.length?(v=(C=+C)*C,x):Math.sqrt(v)},x.tapDistance=function(C){return arguments.length?(y=+C,x):y},x}var C0=typeof global=="object"&&global&&global.Object===Object&&global,O0=typeof self=="object"&&self&&self.Object===Object&&self,uu=C0||O0||Function("return this")(),ms=uu.Symbol,du=Object.prototype,P0=du.hasOwnProperty,E0=du.toString,Xr=ms?ms.toStringTag:void 0;function R0(e){var r=P0.call(e,Xr),n=e[Xr];try{e[Xr]=void 0;var s=!0}catch{}var i=E0.call(e);return s&&(r?e[Xr]=n:delete e[Xr]),i}var D0=Object.prototype,A0=D0.toString;function T0(e){return A0.call(e)}var M0="[object Null]",z0="[object Undefined]",qo=ms?ms.toStringTag:void 0;function $0(e){return e==null?e===void 0?z0:M0:qo&&qo in Object(e)?R0(e):T0(e)}function L0(e){return e!=null&&typeof e=="object"}var F0="[object Symbol]";function I0(e){return typeof e=="symbol"||L0(e)&&$0(e)==F0}var H0=/\s/;function U0(e){for(var r=e.length;r--&&H0.test(e.charAt(r)););return r}var W0=/^\s+/;function q0(e){return e&&e.slice(0,U0(e)+1).replace(W0,"")}function gs(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Bo=NaN,B0=/^[-+]0x[0-9a-f]+$/i,V0=/^0b[01]+$/i,G0=/^0o[0-7]+$/i,Y0=parseInt;function Vo(e){if(typeof e=="number")return e;if(I0(e))return Bo;if(gs(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=gs(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=q0(e);var n=V0.test(e);return n||G0.test(e)?Y0(e.slice(2),n?2:8):B0.test(e)?Bo:+e}var di=function(){return uu.Date.now()},X0="Expected a function",K0=Math.max,J0=Math.min;function fu(e,r,n){var s,i,a,o,c,u,d=0,h=!1,f=!1,p=!0;if(typeof e!="function")throw new TypeError(X0);r=Vo(r)||0,gs(n)&&(h=!!n.leading,f="maxWait"in n,a=f?K0(Vo(n.maxWait)||0,r):a,p="trailing"in n?!!n.trailing:p);function m(N){var S=s,E=i;return s=i=void 0,d=N,o=e.apply(E,S),o}function g(N){return d=N,c=setTimeout(x,r),h?m(N):o}function v(N){var S=N-u,E=N-d,R=r-S;return f?J0(R,a-E):R}function y(N){var S=N-u,E=N-d;return u===void 0||S>=r||S<0||f&&E>=a}function x(){var N=di();if(y(N))return w(N);c=setTimeout(x,v(N))}function w(N){return c=void 0,p&&s?m(N):(s=i=void 0,o)}function j(){c!==void 0&&clearTimeout(c),d=0,s=u=i=c=void 0}function b(){return c===void 0?o:w(di())}function _(){var N=di(),S=y(N);if(s=arguments,i=this,u=N,S){if(c===void 0)return g(u);if(f)return clearTimeout(c),c=setTimeout(x,r),m(u)}return c===void 0&&(c=setTimeout(x,r)),o}return _.cancel=j,_.flush=b,_}var Z0="Expected a function";function Q0(e,r,n){var s=!0,i=!0;if(typeof e!="function")throw new TypeError(Z0);return gs(n)&&(s="leading"in n?!!n.leading:s,i="trailing"in n?!!n.trailing:i),fu(e,r,{leading:s,maxWait:r,trailing:i})}var ar=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return e},Out:function(e){return e},InOut:function(e){return e}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var r=1.70158;return e===1?1:e*e*((r+1)*e-r)},Out:function(e){var r=1.70158;return e===0?0:--e*e*((r+1)*e+r)+1},InOut:function(e){var r=2.5949095;return(e*=2)<1?.5*(e*e*((r+1)*e-r)):.5*((e-=2)*e*((r+1)*e+r)+2)}}),Bounce:Object.freeze({In:function(e){return 1-ar.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?ar.Bounce.In(e*2)*.5:ar.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(r){return Math.pow(r,e)},Out:function(r){return 1-Math.pow(1-r,e)},InOut:function(r){return r<.5?Math.pow(r*2,e)/2:(1-Math.pow(2-r*2,e))/2+.5}}}}),an=function(){return performance.now()},hu=function(){function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];this._tweens={},this._tweensAddedDuringUpdate={},this.add.apply(this,r)}return e.prototype.getAll=function(){var r=this;return Object.keys(this._tweens).map(function(n){return r._tweens[n]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(){for(var r,n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];for(var i=0,a=n;i<a.length;i++){var o=a[i];(r=o._group)===null||r===void 0||r.remove(o),o._group=this,this._tweens[o.getId()]=o,this._tweensAddedDuringUpdate[o.getId()]=o}},e.prototype.remove=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];for(var s=0,i=r;s<i.length;s++){var a=i[s];a._group=void 0,delete this._tweens[a.getId()],delete this._tweensAddedDuringUpdate[a.getId()]}},e.prototype.allStopped=function(){return this.getAll().every(function(r){return!r.isPlaying()})},e.prototype.update=function(r,n){r===void 0&&(r=an()),n===void 0&&(n=!0);var s=Object.keys(this._tweens);if(s.length!==0)for(;s.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<s.length;i++){var a=this._tweens[s[i]],o=!n;a&&a.update(r,o)===!1&&!n&&this.remove(a)}s=Object.keys(this._tweensAddedDuringUpdate)}},e}(),Ii={Linear:function(e,r){var n=e.length-1,s=n*r,i=Math.floor(s),a=Ii.Utils.Linear;return r<0?a(e[0],e[1],s):r>1?a(e[n],e[n-1],n-s):a(e[i],e[i+1>n?n:i+1],s-i)},Utils:{Linear:function(e,r,n){return(r-e)*n+e}}},pu=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),Hi=new hu,Go=function(){function e(r,n){this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=ar.Linear.None,this._interpolationFunction=Ii.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=pu.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1,this._object=r,typeof n=="object"?(this._group=n,n.add(this)):n===!0&&(this._group=Hi,Hi.add(this))}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(r,n){if(n===void 0&&(n=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=r,this._propertiesAreSetUp=!1,this._duration=n<0?0:n,this},e.prototype.duration=function(r){return r===void 0&&(r=1e3),this._duration=r<0?0:r,this},e.prototype.dynamic=function(r){return r===void 0&&(r=!1),this._isDynamic=r,this},e.prototype.start=function(r,n){if(r===void 0&&(r=an()),n===void 0&&(n=!1),this._isPlaying)return this;if(this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var s in this._valuesStartRepeat)this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=r,this._startTime+=this._delayTime,!this._propertiesAreSetUp||n){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var a in this._valuesEnd)i[a]=this._valuesEnd[a];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,n)}return this},e.prototype.startFromCurrentValues=function(r){return this.start(r,!0)},e.prototype._setupProperties=function(r,n,s,i,a){for(var o in s){var c=r[o],u=Array.isArray(c),d=u?"array":typeof c,h=!u&&Array.isArray(s[o]);if(!(d==="undefined"||d==="function")){if(h){var f=s[o];if(f.length===0)continue;for(var p=[c],m=0,g=f.length;m<g;m+=1){var v=this._handleRelativeValue(c,f[m]);if(isNaN(v)){h=!1,console.warn("Found invalid interpolation list. Skipping.");break}p.push(v)}h&&(s[o]=p)}if((d==="object"||u)&&c&&!h){n[o]=u?[]:{};var y=c;for(var x in y)n[o][x]=y[x];i[o]=u?[]:{};var f=s[o];if(!this._isDynamic){var w={};for(var x in f)w[x]=f[x];s[o]=f=w}this._setupProperties(y,n[o],f,i[o],a)}else(typeof n[o]>"u"||a)&&(n[o]=c),u||(n[o]*=1),h?i[o]=s[o].slice().reverse():i[o]=n[o]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(this._startTime+this._duration),this},e.prototype.pause=function(r){return r===void 0&&(r=an()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=r,this)},e.prototype.resume=function(r){return r===void 0&&(r=an()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=r-this._pauseStart,this._pauseStart=0,this)},e.prototype.stopChainedTweens=function(){for(var r=0,n=this._chainedTweens.length;r<n;r++)this._chainedTweens[r].stop();return this},e.prototype.group=function(r){return r?(r.add(this),this):(console.warn("tween.group() without args has been removed, use group.add(tween) instead."),this)},e.prototype.remove=function(){var r;return(r=this._group)===null||r===void 0||r.remove(this),this},e.prototype.delay=function(r){return r===void 0&&(r=0),this._delayTime=r,this},e.prototype.repeat=function(r){return r===void 0&&(r=0),this._initialRepeat=r,this._repeat=r,this},e.prototype.repeatDelay=function(r){return this._repeatDelayTime=r,this},e.prototype.yoyo=function(r){return r===void 0&&(r=!1),this._yoyo=r,this},e.prototype.easing=function(r){return r===void 0&&(r=ar.Linear.None),this._easingFunction=r,this},e.prototype.interpolation=function(r){return r===void 0&&(r=Ii.Linear),this._interpolationFunction=r,this},e.prototype.chain=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return this._chainedTweens=r,this},e.prototype.onStart=function(r){return this._onStartCallback=r,this},e.prototype.onEveryStart=function(r){return this._onEveryStartCallback=r,this},e.prototype.onUpdate=function(r){return this._onUpdateCallback=r,this},e.prototype.onRepeat=function(r){return this._onRepeatCallback=r,this},e.prototype.onComplete=function(r){return this._onCompleteCallback=r,this},e.prototype.onStop=function(r){return this._onStopCallback=r,this},e.prototype.update=function(r,n){var s=this,i;if(r===void 0&&(r=an()),n===void 0&&(n=e.autoStartOnUpdate),this._isPaused)return!0;var a;if(!this._goToEnd&&!this._isPlaying)if(n)this.start(r,!0);else return!1;if(this._goToEnd=!1,r<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=r-this._startTime,c=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),u=this._duration+this._repeat*c,d=function(){if(s._duration===0||o>u)return 1;var v=Math.trunc(o/c),y=o-v*c,x=Math.min(y/s._duration,1);return x===0&&o===s._duration?1:x},h=d(),f=this._easingFunction(h);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,f),this._onUpdateCallback&&this._onUpdateCallback(this._object,h),this._duration===0||o>=this._duration)if(this._repeat>0){var p=Math.min(Math.trunc((o-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=p);for(a in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[a]=="string"&&(this._valuesStartRepeat[a]=this._valuesStartRepeat[a]+parseFloat(this._valuesEnd[a])),this._yoyo&&this._swapEndStartRepeatValues(a),this._valuesStart[a]=this._valuesStartRepeat[a];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*p,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var m=0,g=this._chainedTweens.length;m<g;m++)this._chainedTweens[m].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(r,n,s,i){for(var a in s)if(n[a]!==void 0){var o=n[a]||0,c=s[a],u=Array.isArray(r[a]),d=Array.isArray(c),h=!u&&d;h?r[a]=this._interpolationFunction(c,i):typeof c=="object"&&c?this._updateProperties(r[a],o,c,i):(c=this._handleRelativeValue(o,c),typeof c=="number"&&(r[a]=o+(c-o)*i))}},e.prototype._handleRelativeValue=function(r,n){return typeof n!="string"?n:n.charAt(0)==="+"||n.charAt(0)==="-"?r+parseFloat(n):parseFloat(n)},e.prototype._swapEndStartRepeatValues=function(r){var n=this._valuesStartRepeat[r],s=this._valuesEnd[r];typeof s=="string"?this._valuesStartRepeat[r]=this._valuesStartRepeat[r]+parseFloat(s):this._valuesStartRepeat[r]=this._valuesEnd[r],this._valuesEnd[r]=n},e.autoStartOnUpdate=!1,e}();pu.nextId;var yt=Hi;yt.getAll.bind(yt);yt.removeAll.bind(yt);yt.add.bind(yt);yt.remove.bind(yt);yt.update.bind(yt);function Yo(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function ev(e){if(Array.isArray(e))return e}function tv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rv(e,r,n){return Object.defineProperty(e,"prototype",{writable:!1}),e}function nv(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function sv(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iv(e,r){return ev(e)||nv(e,r)||av(e,r)||sv()}function av(e,r){if(e){if(typeof e=="string")return Yo(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,r):void 0}}var ov=rv(function e(r,n){var s=n.default,i=s===void 0?null:s,a=n.triggerUpdate,o=a===void 0?!0:a,c=n.onChange,u=c===void 0?function(d,h){}:c;tv(this,e),this.name=r,this.defaultVal=i,this.triggerUpdate=o,this.onChange=u});function Na(e){var r=e.stateInit,n=r===void 0?function(){return{}}:r,s=e.props,i=s===void 0?{}:s,a=e.methods,o=a===void 0?{}:a,c=e.aliases,u=c===void 0?{}:c,d=e.init,h=d===void 0?function(){}:d,f=e.update,p=f===void 0?function(){}:f,m=Object.keys(i).map(function(g){return new ov(g,i[g])});return function g(){for(var v=arguments.length,y=new Array(v),x=0;x<v;x++)y[x]=arguments[x];var w=!!(this instanceof g&&this.constructor),j=w?y.shift():void 0,b=y[0],_=b===void 0?{}:b,N=Object.assign({},n instanceof Function?n(_):n,{initialised:!1}),S={};function E(z){return R(z,_),k(),E}var R=function(T,I){h.call(E,T,N,I),N.initialised=!0},k=fu(function(){N.initialised&&(p.call(E,N,S),S={})},1);return m.forEach(function(z){E[z.name]=T(z);function T(I){var C=I.name,D=I.triggerUpdate,A=D===void 0?!1:D,F=I.onChange,L=F===void 0?function(X,K){}:F,q=I.defaultVal,V=q===void 0?null:q;return function(X){var K=N[C];if(!arguments.length)return K;var le=X===void 0?V:X;return N[C]=le,L.call(E,le,N,K),!S.hasOwnProperty(C)&&(S[C]=K),A&&k(),E}}}),Object.keys(o).forEach(function(z){E[z]=function(){for(var T,I=arguments.length,C=new Array(I),D=0;D<I;D++)C[D]=arguments[D];return(T=o[z]).call.apply(T,[E,N].concat(C))}}),Object.entries(u).forEach(function(z){var T=iv(z,2),I=T[0],C=T[1];return E[I]=E[C]}),E.resetProps=function(){return m.forEach(function(z){E[z.name](z.defaultVal)}),E},E.resetProps(),N._rerender=k,w&&j&&E(j),E}}var fe=function(e){return typeof e=="function"?e:typeof e=="string"?function(r){return r[e]}:function(r){return e}};function xs(e){"@babel/helpers - typeof";return xs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},xs(e)}var lv=/^\s+/,cv=/\s+$/;function G(e,r){if(e=e||"",r=r||{},e instanceof G)return e;if(!(this instanceof G))return new G(e,r);var n=uv(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=r.format||n.format,this._gradientType=r.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}G.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},getLuminance:function(){var r=this.toRgb(),n,s,i,a,o,c;return n=r.r/255,s=r.g/255,i=r.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),s<=.03928?o=s/12.92:o=Math.pow((s+.055)/1.055,2.4),i<=.03928?c=i/12.92:c=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*c},setAlpha:function(r){return this._a=mu(r),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var r=Ko(this._r,this._g,this._b);return{h:r.h*360,s:r.s,v:r.v,a:this._a}},toHsvString:function(){var r=Ko(this._r,this._g,this._b),n=Math.round(r.h*360),s=Math.round(r.s*100),i=Math.round(r.v*100);return this._a==1?"hsv("+n+", "+s+"%, "+i+"%)":"hsva("+n+", "+s+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var r=Xo(this._r,this._g,this._b);return{h:r.h*360,s:r.s,l:r.l,a:this._a}},toHslString:function(){var r=Xo(this._r,this._g,this._b),n=Math.round(r.h*360),s=Math.round(r.s*100),i=Math.round(r.l*100);return this._a==1?"hsl("+n+", "+s+"%, "+i+"%)":"hsla("+n+", "+s+"%, "+i+"%, "+this._roundA+")"},toHex:function(r){return Jo(this._r,this._g,this._b,r)},toHexString:function(r){return"#"+this.toHex(r)},toHex8:function(r){return pv(this._r,this._g,this._b,this._a,r)},toHex8String:function(r){return"#"+this.toHex8(r)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(ye(this._r,255)*100)+"%",g:Math.round(ye(this._g,255)*100)+"%",b:Math.round(ye(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(ye(this._r,255)*100)+"%, "+Math.round(ye(this._g,255)*100)+"%, "+Math.round(ye(this._b,255)*100)+"%)":"rgba("+Math.round(ye(this._r,255)*100)+"%, "+Math.round(ye(this._g,255)*100)+"%, "+Math.round(ye(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:kv[Jo(this._r,this._g,this._b,!0)]||!1},toFilter:function(r){var n="#"+Zo(this._r,this._g,this._b,this._a),s=n,i=this._gradientType?"GradientType = 1, ":"";if(r){var a=G(r);s="#"+Zo(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+n+",endColorstr="+s+")"},toString:function(r){var n=!!r;r=r||this._format;var s=!1,i=this._a<1&&this._a>=0,a=!n&&i&&(r==="hex"||r==="hex6"||r==="hex3"||r==="hex4"||r==="hex8"||r==="name");return a?r==="name"&&this._a===0?this.toName():this.toRgbString():(r==="rgb"&&(s=this.toRgbString()),r==="prgb"&&(s=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(s=this.toHexString()),r==="hex3"&&(s=this.toHexString(!0)),r==="hex4"&&(s=this.toHex8String(!0)),r==="hex8"&&(s=this.toHex8String()),r==="name"&&(s=this.toName()),r==="hsl"&&(s=this.toHslString()),r==="hsv"&&(s=this.toHsvString()),s||this.toHexString())},clone:function(){return G(this.toString())},_applyModification:function(r,n){var s=r.apply(null,[this].concat([].slice.call(n)));return this._r=s._r,this._g=s._g,this._b=s._b,this.setAlpha(s._a),this},lighten:function(){return this._applyModification(yv,arguments)},brighten:function(){return this._applyModification(vv,arguments)},darken:function(){return this._applyModification(bv,arguments)},desaturate:function(){return this._applyModification(mv,arguments)},saturate:function(){return this._applyModification(gv,arguments)},greyscale:function(){return this._applyModification(xv,arguments)},spin:function(){return this._applyModification(wv,arguments)},_applyCombination:function(r,n){return r.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(Nv,arguments)},complement:function(){return this._applyCombination(_v,arguments)},monochromatic:function(){return this._applyCombination(Sv,arguments)},splitcomplement:function(){return this._applyCombination(jv,arguments)},triad:function(){return this._applyCombination(Qo,[3])},tetrad:function(){return this._applyCombination(Qo,[4])}};G.fromRatio=function(e,r){if(xs(e)=="object"){var n={};for(var s in e)e.hasOwnProperty(s)&&(s==="a"?n[s]=e[s]:n[s]=on(e[s]));e=n}return G(e,r)};function uv(e){var r={r:0,g:0,b:0},n=1,s=null,i=null,a=null,o=!1,c=!1;return typeof e=="string"&&(e=Ev(e)),xs(e)=="object"&&(St(e.r)&&St(e.g)&&St(e.b)?(r=dv(e.r,e.g,e.b),o=!0,c=String(e.r).substr(-1)==="%"?"prgb":"rgb"):St(e.h)&&St(e.s)&&St(e.v)?(s=on(e.s),i=on(e.v),r=hv(e.h,s,i),o=!0,c="hsv"):St(e.h)&&St(e.s)&&St(e.l)&&(s=on(e.s),a=on(e.l),r=fv(e.h,s,a),o=!0,c="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=mu(n),{ok:o,format:e.format||c,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}function dv(e,r,n){return{r:ye(e,255)*255,g:ye(r,255)*255,b:ye(n,255)*255}}function Xo(e,r,n){e=ye(e,255),r=ye(r,255),n=ye(n,255);var s=Math.max(e,r,n),i=Math.min(e,r,n),a,o,c=(s+i)/2;if(s==i)a=o=0;else{var u=s-i;switch(o=c>.5?u/(2-s-i):u/(s+i),s){case e:a=(r-n)/u+(r<n?6:0);break;case r:a=(n-e)/u+2;break;case n:a=(e-r)/u+4;break}a/=6}return{h:a,s:o,l:c}}function fv(e,r,n){var s,i,a;e=ye(e,360),r=ye(r,100),n=ye(n,100);function o(d,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?d+(h-d)*6*f:f<1/2?h:f<2/3?d+(h-d)*(2/3-f)*6:d}if(r===0)s=i=a=n;else{var c=n<.5?n*(1+r):n+r-n*r,u=2*n-c;s=o(u,c,e+1/3),i=o(u,c,e),a=o(u,c,e-1/3)}return{r:s*255,g:i*255,b:a*255}}function Ko(e,r,n){e=ye(e,255),r=ye(r,255),n=ye(n,255);var s=Math.max(e,r,n),i=Math.min(e,r,n),a,o,c=s,u=s-i;if(o=s===0?0:u/s,s==i)a=0;else{switch(s){case e:a=(r-n)/u+(r<n?6:0);break;case r:a=(n-e)/u+2;break;case n:a=(e-r)/u+4;break}a/=6}return{h:a,s:o,v:c}}function hv(e,r,n){e=ye(e,360)*6,r=ye(r,100),n=ye(n,100);var s=Math.floor(e),i=e-s,a=n*(1-r),o=n*(1-i*r),c=n*(1-(1-i)*r),u=s%6,d=[n,o,a,a,c,n][u],h=[c,n,n,o,a,a][u],f=[a,a,c,n,n,o][u];return{r:d*255,g:h*255,b:f*255}}function Jo(e,r,n,s){var i=[at(Math.round(e).toString(16)),at(Math.round(r).toString(16)),at(Math.round(n).toString(16))];return s&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function pv(e,r,n,s,i){var a=[at(Math.round(e).toString(16)),at(Math.round(r).toString(16)),at(Math.round(n).toString(16)),at(gu(s))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Zo(e,r,n,s){var i=[at(gu(s)),at(Math.round(e).toString(16)),at(Math.round(r).toString(16)),at(Math.round(n).toString(16))];return i.join("")}G.equals=function(e,r){return!e||!r?!1:G(e).toRgbString()==G(r).toRgbString()};G.random=function(){return G.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function mv(e,r){r=r===0?0:r||10;var n=G(e).toHsl();return n.s-=r/100,n.s=Fs(n.s),G(n)}function gv(e,r){r=r===0?0:r||10;var n=G(e).toHsl();return n.s+=r/100,n.s=Fs(n.s),G(n)}function xv(e){return G(e).desaturate(100)}function yv(e,r){r=r===0?0:r||10;var n=G(e).toHsl();return n.l+=r/100,n.l=Fs(n.l),G(n)}function vv(e,r){r=r===0?0:r||10;var n=G(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),G(n)}function bv(e,r){r=r===0?0:r||10;var n=G(e).toHsl();return n.l-=r/100,n.l=Fs(n.l),G(n)}function wv(e,r){var n=G(e).toHsl(),s=(n.h+r)%360;return n.h=s<0?360+s:s,G(n)}function _v(e){var r=G(e).toHsl();return r.h=(r.h+180)%360,G(r)}function Qo(e,r){if(isNaN(r)||r<=0)throw new Error("Argument to polyad must be a positive number");for(var n=G(e).toHsl(),s=[G(e)],i=360/r,a=1;a<r;a++)s.push(G({h:(n.h+a*i)%360,s:n.s,l:n.l}));return s}function jv(e){var r=G(e).toHsl(),n=r.h;return[G(e),G({h:(n+72)%360,s:r.s,l:r.l}),G({h:(n+216)%360,s:r.s,l:r.l})]}function Nv(e,r,n){r=r||6,n=n||30;var s=G(e).toHsl(),i=360/n,a=[G(e)];for(s.h=(s.h-(i*r>>1)+720)%360;--r;)s.h=(s.h+i)%360,a.push(G(s));return a}function Sv(e,r){r=r||6;for(var n=G(e).toHsv(),s=n.h,i=n.s,a=n.v,o=[],c=1/r;r--;)o.push(G({h:s,s:i,v:a})),a=(a+c)%1;return o}G.mix=function(e,r,n){n=n===0?0:n||50;var s=G(e).toRgb(),i=G(r).toRgb(),a=n/100,o={r:(i.r-s.r)*a+s.r,g:(i.g-s.g)*a+s.g,b:(i.b-s.b)*a+s.b,a:(i.a-s.a)*a+s.a};return G(o)};G.readability=function(e,r){var n=G(e),s=G(r);return(Math.max(n.getLuminance(),s.getLuminance())+.05)/(Math.min(n.getLuminance(),s.getLuminance())+.05)};G.isReadable=function(e,r,n){var s=G.readability(e,r),i,a;switch(a=!1,i=Rv(n),i.level+i.size){case"AAsmall":case"AAAlarge":a=s>=4.5;break;case"AAlarge":a=s>=3;break;case"AAAsmall":a=s>=7;break}return a};G.mostReadable=function(e,r,n){var s=null,i=0,a,o,c,u;n=n||{},o=n.includeFallbackColors,c=n.level,u=n.size;for(var d=0;d<r.length;d++)a=G.readability(e,r[d]),a>i&&(i=a,s=G(r[d]));return G.isReadable(e,s,{level:c,size:u})||!o?s:(n.includeFallbackColors=!1,G.mostReadable(e,["#fff","#000"],n))};var Ui=G.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},kv=G.hexNames=Cv(Ui);function Cv(e){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[e[n]]=n);return r}function mu(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function ye(e,r){Ov(e)&&(e="100%");var n=Pv(e);return e=Math.min(r,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*r,10)/100),Math.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function Fs(e){return Math.min(1,Math.max(0,e))}function Ve(e){return parseInt(e,16)}function Ov(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Pv(e){return typeof e=="string"&&e.indexOf("%")!=-1}function at(e){return e.length==1?"0"+e:""+e}function on(e){return e<=1&&(e=e*100+"%"),e}function gu(e){return Math.round(parseFloat(e)*255).toString(16)}function el(e){return Ve(e)/255}var nt=function(){var e="[-\\+]?\\d+%?",r="[-\\+]?\\d*\\.\\d+%?",n="(?:"+r+")|(?:"+e+")",s="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+s),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+s),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+s),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function St(e){return!!nt.CSS_UNIT.exec(e)}function Ev(e){e=e.replace(lv,"").replace(cv,"").toLowerCase();var r=!1;if(Ui[e])e=Ui[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=nt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=nt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=nt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=nt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=nt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=nt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=nt.hex8.exec(e))?{r:Ve(n[1]),g:Ve(n[2]),b:Ve(n[3]),a:el(n[4]),format:r?"name":"hex8"}:(n=nt.hex6.exec(e))?{r:Ve(n[1]),g:Ve(n[2]),b:Ve(n[3]),format:r?"name":"hex"}:(n=nt.hex4.exec(e))?{r:Ve(n[1]+""+n[1]),g:Ve(n[2]+""+n[2]),b:Ve(n[3]+""+n[3]),a:el(n[4]+""+n[4]),format:r?"name":"hex8"}:(n=nt.hex3.exec(e))?{r:Ve(n[1]+""+n[1]),g:Ve(n[2]+""+n[2]),b:Ve(n[3]+""+n[3]),format:r?"name":"hex"}:!1}function Rv(e){var r,n;return e=e||{level:"AA",size:"small"},r=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),r!=="AA"&&r!=="AAA"&&(r="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:r,size:n}}function Wi(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Dv(e){if(Array.isArray(e))return Wi(e)}function xu(e,r,n){if(typeof e=="function"?e===r:e.has(r))return arguments.length<3?r:n;throw new TypeError("Private element is not present on this object")}function Av(e,r){if(r.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Tv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qe(e,r){return e.get(xu(e,r))}function tl(e,r,n){Av(e,r),r.set(e,n)}function rl(e,r,n){return e.set(xu(e,r),n),n}function Mv(e,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,Hv(s.key),s)}}function zv(e,r,n){return r&&Mv(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $v(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Lv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fv(e){return Dv(e)||$v(e)||Uv(e)||Lv()}function Iv(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hv(e){var r=Iv(e,"string");return typeof r=="symbol"?r:r+""}function Uv(e,r){if(e){if(typeof e=="string")return Wi(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wi(e,r):void 0}}var Wv=123,qv=function(r){return"#".concat(Math.min(r,Math.pow(2,24)).toString(16).padStart(6,"0"))},yu=function(r,n,s){return(r<<16)+(n<<8)+s},Bv=function(r){var n=G(r).toRgb(),s=n.r,i=n.g,a=n.b;return yu(s,i,a)},nl=function(r,n){return r*Wv%Math.pow(2,n)},Vt=new WeakMap,kt=new WeakMap,Vv=function(){function e(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:6;Tv(this,e),tl(this,Vt,void 0),tl(this,kt,void 0),rl(kt,this,r),this.reset()}return zv(e,[{key:"reset",value:function(){rl(Vt,this,["__reserved for background__"])}},{key:"register",value:function(n){if(Qe(Vt,this).length>=Math.pow(2,24-Qe(kt,this)))return null;var s=Qe(Vt,this).length,i=nl(s,Qe(kt,this)),a=qv(s+(i<<24-Qe(kt,this)));return Qe(Vt,this).push(n),a}},{key:"lookup",value:function(n){if(!n)return null;var s=typeof n=="string"?Bv(n):yu.apply(void 0,Fv(n));if(!s)return null;var i=s&Math.pow(2,24-Qe(kt,this))-1,a=s>>24-Qe(kt,this)&Math.pow(2,Qe(kt,this))-1;return nl(i,Qe(kt,this))!==a||i>=Qe(Vt,this).length?null:Qe(Vt,this)[i]}}])}(),Pn,ve,vu,bu,Jt,sl,wu,_u,ju,Sa,qi,Bi,vn={},Nu=[],Gv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Is=Array.isArray;function mt(e,r){for(var n in r)e[n]=r[n];return e}function ka(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Yv(e,r,n){var s,i,a,o={};for(a in r)a=="key"?s=r[a]:a=="ref"?i=r[a]:o[a]=r[a];if(arguments.length>2&&(o.children=arguments.length>3?Pn.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)o[a]===void 0&&(o[a]=e.defaultProps[a]);return dn(e,o,s,i,null)}function dn(e,r,n,s,i){var a={type:e,props:r,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++vu,__i:-1,__u:0};return i==null&&ve.vnode!=null&&ve.vnode(a),a}function Hs(e){return e.children}function is(e,r){this.props=e,this.context=r}function Tr(e,r){if(r==null)return e.__?Tr(e.__,e.__i+1):null;for(var n;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Tr(e):null}function Su(e){var r,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,r=0;r<e.__k.length;r++)if((n=e.__k[r])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Su(e)}}function il(e){(!e.__d&&(e.__d=!0)&&Jt.push(e)&&!ys.__r++||sl!=ve.debounceRendering)&&((sl=ve.debounceRendering)||wu)(ys)}function ys(){for(var e,r,n,s,i,a,o,c=1;Jt.length;)Jt.length>c&&Jt.sort(_u),e=Jt.shift(),c=Jt.length,e.__d&&(n=void 0,s=void 0,i=(s=(r=e).__v).__e,a=[],o=[],r.__P&&((n=mt({},s)).__v=s.__v+1,ve.vnode&&ve.vnode(n),Ca(r.__P,n,s,r.__n,r.__P.namespaceURI,32&s.__u?[i]:null,a,i??Tr(s),!!(32&s.__u),o),n.__v=s.__v,n.__.__k[n.__i]=n,Ou(a,n,o),s.__e=s.__=null,n.__e!=i&&Su(n)));ys.__r=0}function ku(e,r,n,s,i,a,o,c,u,d,h){var f,p,m,g,v,y,x,w=s&&s.__k||Nu,j=r.length;for(u=Xv(n,r,w,u,j),f=0;f<j;f++)(m=n.__k[f])!=null&&(p=m.__i==-1?vn:w[m.__i]||vn,m.__i=f,y=Ca(e,m,p,i,a,o,c,u,d,h),g=m.__e,m.ref&&p.ref!=m.ref&&(p.ref&&Oa(p.ref,null,m),h.push(m.ref,m.__c||g,m)),v==null&&g!=null&&(v=g),(x=!!(4&m.__u))||p.__k===m.__k?u=Cu(m,u,e,x):typeof m.type=="function"&&y!==void 0?u=y:g&&(u=g.nextSibling),m.__u&=-7);return n.__e=v,u}function Xv(e,r,n,s,i){var a,o,c,u,d,h=n.length,f=h,p=0;for(e.__k=new Array(i),a=0;a<i;a++)(o=r[a])!=null&&typeof o!="boolean"&&typeof o!="function"?(typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?o=e.__k[a]=dn(null,o,null,null,null):Is(o)?o=e.__k[a]=dn(Hs,{children:o},null,null,null):o.constructor==null&&o.__b>0?o=e.__k[a]=dn(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):e.__k[a]=o,u=a+p,o.__=e,o.__b=e.__b+1,(d=o.__i=Kv(o,n,u,f))!=-1&&(f--,(c=n[d])&&(c.__u|=2)),c==null||c.__v==null?(d==-1&&(i>h?p--:i<h&&p++),typeof o.type!="function"&&(o.__u|=4)):d!=u&&(d==u-1?p--:d==u+1?p++:(d>u?p--:p++,o.__u|=4))):e.__k[a]=null;if(f)for(a=0;a<h;a++)(c=n[a])!=null&&!(2&c.__u)&&(c.__e==s&&(s=Tr(c)),Eu(c,c));return s}function Cu(e,r,n,s){var i,a;if(typeof e.type=="function"){for(i=e.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=e,r=Cu(i[a],r,n,s));return r}e.__e!=r&&(s&&(r&&e.type&&!r.parentNode&&(r=Tr(e)),n.insertBefore(e.__e,r||null)),r=e.__e);do r=r&&r.nextSibling;while(r!=null&&r.nodeType==8);return r}function Kv(e,r,n,s){var i,a,o,c=e.key,u=e.type,d=r[n],h=d!=null&&(2&d.__u)==0;if(d===null&&c==null||h&&c==d.key&&u==d.type)return n;if(s>(h?1:0)){for(i=n-1,a=n+1;i>=0||a<r.length;)if((d=r[o=i>=0?i--:a++])!=null&&!(2&d.__u)&&c==d.key&&u==d.type)return o}return-1}function al(e,r,n){r[0]=="-"?e.setProperty(r,n??""):e[r]=n==null?"":typeof n!="number"||Gv.test(r)?n:n+"px"}function Hn(e,r,n,s,i){var a,o;e:if(r=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof s=="string"&&(e.style.cssText=s=""),s)for(r in s)n&&r in n||al(e.style,r,"");if(n)for(r in n)s&&n[r]==s[r]||al(e.style,r,n[r])}else if(r[0]=="o"&&r[1]=="n")a=r!=(r=r.replace(ju,"$1")),o=r.toLowerCase(),r=o in e||r=="onFocusOut"||r=="onFocusIn"?o.slice(2):r.slice(2),e.l||(e.l={}),e.l[r+a]=n,n?s?n.u=s.u:(n.u=Sa,e.addEventListener(r,a?Bi:qi,a)):e.removeEventListener(r,a?Bi:qi,a);else{if(i=="http://www.w3.org/2000/svg")r=r.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(r!="width"&&r!="height"&&r!="href"&&r!="list"&&r!="form"&&r!="tabIndex"&&r!="download"&&r!="rowSpan"&&r!="colSpan"&&r!="role"&&r!="popover"&&r in e)try{e[r]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&r[4]!="-"?e.removeAttribute(r):e.setAttribute(r,r=="popover"&&n==1?"":n))}}function ol(e){return function(r){if(this.l){var n=this.l[r.type+e];if(r.t==null)r.t=Sa++;else if(r.t<n.u)return;return n(ve.event?ve.event(r):r)}}}function Ca(e,r,n,s,i,a,o,c,u,d){var h,f,p,m,g,v,y,x,w,j,b,_,N,S,E,R,k,z=r.type;if(r.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),a=[c=r.__e=n.__e]),(h=ve.__b)&&h(r);e:if(typeof z=="function")try{if(x=r.props,w="prototype"in z&&z.prototype.render,j=(h=z.contextType)&&s[h.__c],b=h?j?j.props.value:h.__:s,n.__c?y=(f=r.__c=n.__c).__=f.__E:(w?r.__c=f=new z(x,b):(r.__c=f=new is(x,b),f.constructor=z,f.render=Zv),j&&j.sub(f),f.state||(f.state={}),f.__n=s,p=f.__d=!0,f.__h=[],f._sb=[]),w&&f.__s==null&&(f.__s=f.state),w&&z.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=mt({},f.__s)),mt(f.__s,z.getDerivedStateFromProps(x,f.__s))),m=f.props,g=f.state,f.__v=r,p)w&&z.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),w&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(w&&z.getDerivedStateFromProps==null&&x!==m&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(x,b),r.__v==n.__v||!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(x,f.__s,b)===!1){for(r.__v!=n.__v&&(f.props=x,f.state=f.__s,f.__d=!1),r.__e=n.__e,r.__k=n.__k,r.__k.some(function(T){T&&(T.__=r)}),_=0;_<f._sb.length;_++)f.__h.push(f._sb[_]);f._sb=[],f.__h.length&&o.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(x,f.__s,b),w&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(m,g,v)})}if(f.context=b,f.props=x,f.__P=e,f.__e=!1,N=ve.__r,S=0,w){for(f.state=f.__s,f.__d=!1,N&&N(r),h=f.render(f.props,f.state,f.context),E=0;E<f._sb.length;E++)f.__h.push(f._sb[E]);f._sb=[]}else do f.__d=!1,N&&N(r),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++S<25);f.state=f.__s,f.getChildContext!=null&&(s=mt(mt({},s),f.getChildContext())),w&&!p&&f.getSnapshotBeforeUpdate!=null&&(v=f.getSnapshotBeforeUpdate(m,g)),R=h,h!=null&&h.type===Hs&&h.key==null&&(R=Pu(h.props.children)),c=ku(e,Is(R)?R:[R],r,n,s,i,a,o,c,u,d),f.base=r.__e,r.__u&=-161,f.__h.length&&o.push(f),y&&(f.__E=f.__=null)}catch(T){if(r.__v=null,u||a!=null)if(T.then){for(r.__u|=u?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,r.__e=c}else{for(k=a.length;k--;)ka(a[k]);Vi(r)}else r.__e=n.__e,r.__k=n.__k,T.then||Vi(r);ve.__e(T,r,n)}else a==null&&r.__v==n.__v?(r.__k=n.__k,r.__e=n.__e):c=r.__e=Jv(n.__e,r,n,s,i,a,o,u,d);return(h=ve.diffed)&&h(r),128&r.__u?void 0:c}function Vi(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Vi)}function Ou(e,r,n){for(var s=0;s<n.length;s++)Oa(n[s],n[++s],n[++s]);ve.__c&&ve.__c(r,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(a){a.call(i)})}catch(a){ve.__e(a,i.__v)}})}function Pu(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Is(e)?e.map(Pu):mt({},e)}function Jv(e,r,n,s,i,a,o,c,u){var d,h,f,p,m,g,v,y=n.props||vn,x=r.props,w=r.type;if(w=="svg"?i="http://www.w3.org/2000/svg":w=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),a!=null){for(d=0;d<a.length;d++)if((m=a[d])&&"setAttribute"in m==!!w&&(w?m.localName==w:m.nodeType==3)){e=m,a[d]=null;break}}if(e==null){if(w==null)return document.createTextNode(x);e=document.createElementNS(i,w,x.is&&x),c&&(ve.__m&&ve.__m(r,a),c=!1),a=null}if(w==null)y===x||c&&e.data==x||(e.data=x);else{if(a=a&&Pn.call(e.childNodes),!c&&a!=null)for(y={},d=0;d<e.attributes.length;d++)y[(m=e.attributes[d]).name]=m.value;for(d in y)if(m=y[d],d!="children"){if(d=="dangerouslySetInnerHTML")f=m;else if(!(d in x)){if(d=="value"&&"defaultValue"in x||d=="checked"&&"defaultChecked"in x)continue;Hn(e,d,null,m,i)}}for(d in x)m=x[d],d=="children"?p=m:d=="dangerouslySetInnerHTML"?h=m:d=="value"?g=m:d=="checked"?v=m:c&&typeof m!="function"||y[d]===m||Hn(e,d,m,y[d],i);if(h)c||f&&(h.__html==f.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),r.__k=[];else if(f&&(e.innerHTML=""),ku(r.type=="template"?e.content:e,Is(p)?p:[p],r,n,s,w=="foreignObject"?"http://www.w3.org/1999/xhtml":i,a,o,a?a[0]:n.__k&&Tr(n,0),c,u),a!=null)for(d=a.length;d--;)ka(a[d]);c||(d="value",w=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[d]||w=="progress"&&!g||w=="option"&&g!=y[d])&&Hn(e,d,g,y[d],i),d="checked",v!=null&&v!=e[d]&&Hn(e,d,v,y[d],i))}return e}function Oa(e,r,n){try{if(typeof e=="function"){var s=typeof e.__u=="function";s&&e.__u(),s&&r==null||(e.__u=e(r))}else e.current=r}catch(i){ve.__e(i,n)}}function Eu(e,r,n){var s,i;if(ve.unmount&&ve.unmount(e),(s=e.ref)&&(s.current&&s.current!=e.__e||Oa(s,null,r)),(s=e.__c)!=null){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(a){ve.__e(a,r)}s.base=s.__P=null}if(s=e.__k)for(i=0;i<s.length;i++)s[i]&&Eu(s[i],r,n||typeof e.type!="function");n||ka(e.__e),e.__c=e.__=e.__e=void 0}function Zv(e,r,n){return this.constructor(e,n)}function Qv(e,r,n){var s,i,a,o;r==document&&(r=document.documentElement),ve.__&&ve.__(e,r),i=(s=!1)?null:r.__k,a=[],o=[],Ca(r,e=r.__k=Yv(Hs,null,[e]),i||vn,vn,r.namespaceURI,i?null:r.firstChild?Pn.call(r.childNodes):null,a,i?i.__e:r.firstChild,s,o),Ou(a,e,o)}function Ru(e,r,n){var s,i,a,o,c=mt({},e.props);for(a in e.type&&e.type.defaultProps&&(o=e.type.defaultProps),r)a=="key"?s=r[a]:a=="ref"?i=r[a]:c[a]=r[a]===void 0&&o!=null?o[a]:r[a];return arguments.length>2&&(c.children=arguments.length>3?Pn.call(arguments,2):n),dn(e.type,c,s||e.key,i||e.ref,null)}Pn=Nu.slice,ve={__e:function(e,r,n,s){for(var i,a,o;r=r.__;)if((i=r.__c)&&!i.__)try{if((a=i.constructor)&&a.getDerivedStateFromError!=null&&(i.setState(a.getDerivedStateFromError(e)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,s||{}),o=i.__d),o)return i.__E=i}catch(c){e=c}throw e}},vu=0,bu=function(e){return e!=null&&e.constructor==null},is.prototype.setState=function(e,r){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=mt({},this.state),typeof e=="function"&&(e=e(mt({},n),this.props)),e&&mt(n,e),e!=null&&this.__v&&(r&&this._sb.push(r),il(this))},is.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),il(this))},is.prototype.render=Hs,Jt=[],wu=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_u=function(e,r){return e.__v.__b-r.__v.__b},ys.__r=0,ju=/(PointerCapture)$|Capture$/i,Sa=0,qi=ol(!1),Bi=ol(!0);function ll(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function eb(e){if(Array.isArray(e))return e}function tb(e,r,n){return(r=ob(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function rb(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function nb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function sb(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cl(Object(n),!0).forEach(function(s){tb(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function ib(e,r){return eb(e)||rb(e,r)||lb(e,r)||nb()}function ab(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function ob(e){var r=ab(e,"string");return typeof r=="symbol"?r:r+""}function vs(e){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},vs(e)}function lb(e,r){if(e){if(typeof e=="string")return ll(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ll(e,r):void 0}}var Gi=function(r){if(vs(r)!=="object")return r;var n=Ru(r);if(n.props){var s;n.props=sb({},n.props),n!=null&&(s=n.props)!==null&&s!==void 0&&s.children&&(n.props.children=Array.isArray(n.props.children)?n.props.children.map(Gi):Gi(n.props.children))}return n},cb=function(r){return bu(Ru(r))},ub=function(r,n){delete n.__k,Qv(Gi(r),n)};function db(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var fb=`.float-tooltip-kap {
  position: absolute;
  width: max-content; /* prevent shrinking near right edge */
  max-width: max(50%, 150px);
  padding: 3px 5px;
  border-radius: 3px;
  font: 12px sans-serif;
  color: #eee;
  background: rgba(0,0,0,0.6);
  pointer-events: none;
}
`;db(fb);var hb=Na({props:{content:{default:!1},offsetX:{triggerUpdate:!1},offsetY:{triggerUpdate:!1}},init:function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.style,a=i===void 0?{}:i,o=!!r&&vs(r)==="object"&&!!r.node&&typeof r.node=="function",c=tt(o?r.node():r);c.style("position")==="static"&&c.style("position","relative"),n.tooltipEl=c.append("div").attr("class","float-tooltip-kap"),Object.entries(a).forEach(function(d){var h=ib(d,2),f=h[0],p=h[1];return n.tooltipEl.style(f,p)}),n.tooltipEl.style("left","-10000px").style("display","none");var u="tooltip-".concat(Math.round(Math.random()*1e12));n.mouseInside=!1,c.on("mousemove.".concat(u),function(d){n.mouseInside=!0;var h=pt(d),f=c.node(),p=f.offsetWidth,m=f.offsetHeight,g=[n.offsetX===null||n.offsetX===void 0?"-".concat(h[0]/p*100,"%"):typeof n.offsetX=="number"?"calc(-50% + ".concat(n.offsetX,"px)"):n.offsetX,n.offsetY===null||n.offsetY===void 0?m>130&&m-h[1]<100?"calc(-100% - 6px)":"21px":typeof n.offsetY=="number"?n.offsetY<0?"calc(-100% - ".concat(Math.abs(n.offsetY),"px)"):"".concat(n.offsetY,"px"):n.offsetY];n.tooltipEl.style("left",h[0]+"px").style("top",h[1]+"px").style("transform","translate(".concat(g.join(","),")")),n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseover.".concat(u),function(){n.mouseInside=!0,n.content&&n.tooltipEl.style("display","inline")}),c.on("mouseout.".concat(u),function(){n.mouseInside=!1,n.tooltipEl.style("display","none")})},update:function(r){r.tooltipEl.style("display",r.content&&r.mouseInside?"inline":"none"),r.content?r.content instanceof HTMLElement?(r.tooltipEl.text(""),r.tooltipEl.append(function(){return r.content})):typeof r.content=="string"?r.tooltipEl.html(r.content):cb(r.content)?(r.tooltipEl.text(""),ub(r.content,r.tooltipEl.node())):(r.tooltipEl.style("display","none"),console.warn("Tooltip content is invalid, skipping.",r.content,r.content.toString())):r.tooltipEl.text("")}});function pb(e,r,n){var s,i=1;e==null&&(e=0),r==null&&(r=0),n==null&&(n=0);function a(){var o,c=s.length,u,d=0,h=0,f=0;for(o=0;o<c;++o)u=s[o],d+=u.x||0,h+=u.y||0,f+=u.z||0;for(d=(d/c-e)*i,h=(h/c-r)*i,f=(f/c-n)*i,o=0;o<c;++o)u=s[o],d&&(u.x-=d),h&&(u.y-=h),f&&(u.z-=f)}return a.initialize=function(o){s=o},a.x=function(o){return arguments.length?(e=+o,a):e},a.y=function(o){return arguments.length?(r=+o,a):r},a.z=function(o){return arguments.length?(n=+o,a):n},a.strength=function(o){return arguments.length?(i=+o,a):i},a}function mb(e){const r=+this._x.call(null,e);return Du(this.cover(r),r,e)}function Du(e,r,n){if(isNaN(r))return e;var s,i=e._root,a={data:n},o=e._x0,c=e._x1,u,d,h,f,p;if(!i)return e._root=a,e;for(;i.length;)if((h=r>=(u=(o+c)/2))?o=u:c=u,s=i,!(i=i[f=+h]))return s[f]=a,e;if(d=+e._x.call(null,i.data),r===d)return a.next=i,s?s[f]=a:e._root=a,e;do s=s?s[f]=new Array(2):e._root=new Array(2),(h=r>=(u=(o+c)/2))?o=u:c=u;while((f=+h)==(p=+(d>=u)));return s[p]=i,s[f]=a,e}function gb(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r);let s=1/0,i=-1/0;for(let a=0,o;a<r;++a)isNaN(o=+this._x.call(null,e[a]))||(n[a]=o,o<s&&(s=o),o>i&&(i=o));if(s>i)return this;this.cover(s).cover(i);for(let a=0;a<r;++a)Du(this,n[a],e[a]);return this}function xb(e){if(isNaN(e=+e))return this;var r=this._x0,n=this._x1;if(isNaN(r))n=(r=Math.floor(e))+1;else{for(var s=n-r||1,i=this._root,a,o;r>e||e>=n;)switch(o=+(e<r),a=new Array(2),a[o]=i,i=a,s*=2,o){case 0:n=r+s;break;case 1:r=n-s;break}this._root&&this._root.length&&(this._root=i)}return this._x0=r,this._x1=n,this}function yb(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function vb(e){return arguments.length?this.cover(+e[0][0]).cover(+e[1][0]):isNaN(this._x0)?void 0:[[this._x0],[this._x1]]}function Rt(e,r,n){this.node=e,this.x0=r,this.x1=n}function bb(e,r){var n,s=this._x0,i,a,o=this._x1,c=[],u=this._root,d,h;for(u&&c.push(new Rt(u,s,o)),r==null?r=1/0:(s=e-r,o=e+r);d=c.pop();)if(!(!(u=d.node)||(i=d.x0)>o||(a=d.x1)<s))if(u.length){var f=(i+a)/2;c.push(new Rt(u[1],f,a),new Rt(u[0],i,f)),(h=+(e>=f))&&(d=c[c.length-1],c[c.length-1]=c[c.length-1-h],c[c.length-1-h]=d)}else{var p=Math.abs(e-+this._x.call(null,u.data));p<r&&(r=p,s=e-p,o=e+p,n=u.data)}return n}function wb(e){if(isNaN(u=+this._x.call(null,e)))return this;var r,n=this._root,s,i,a,o=this._x0,c=this._x1,u,d,h,f,p;if(!n)return this;if(n.length)for(;;){if((h=u>=(d=(o+c)/2))?o=d:c=d,r=n,!(n=n[f=+h]))return this;if(!n.length)break;r[f+1&1]&&(s=r,p=f)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[f]=a:delete r[f],(n=r[0]||r[1])&&n===(r[1]||r[0])&&!n.length&&(s?s[p]=n:this._root=n),this):(this._root=a,this)}function _b(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function jb(){return this._root}function Nb(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Sb(e){var r=[],n,s=this._root,i,a,o;for(s&&r.push(new Rt(s,this._x0,this._x1));n=r.pop();)if(!e(s=n.node,a=n.x0,o=n.x1)&&s.length){var c=(a+o)/2;(i=s[1])&&r.push(new Rt(i,c,o)),(i=s[0])&&r.push(new Rt(i,a,c))}return this}function kb(e){var r=[],n=[],s;for(this._root&&r.push(new Rt(this._root,this._x0,this._x1));s=r.pop();){var i=s.node;if(i.length){var a,o=s.x0,c=s.x1,u=(o+c)/2;(a=i[0])&&r.push(new Rt(a,o,u)),(a=i[1])&&r.push(new Rt(a,u,c))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.x1);return this}function Cb(e){return e[0]}function Ob(e){return arguments.length?(this._x=e,this):this._x}function Au(e,r){var n=new Pa(r??Cb,NaN,NaN);return e==null?n:n.addAll(e)}function Pa(e,r,n){this._x=e,this._x0=r,this._x1=n,this._root=void 0}function ul(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var qe=Au.prototype=Pa.prototype;qe.copy=function(){var e=new Pa(this._x,this._x0,this._x1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=ul(r),e;for(n=[{source:r,target:e._root=new Array(2)}];r=n.pop();)for(var i=0;i<2;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(2)}):r.target[i]=ul(s));return e};qe.add=mb;qe.addAll=gb;qe.cover=xb;qe.data=yb;qe.extent=vb;qe.find=bb;qe.remove=wb;qe.removeAll=_b;qe.root=jb;qe.size=Nb;qe.visit=Sb;qe.visitAfter=kb;qe.x=Ob;function Pb(e){const r=+this._x.call(null,e),n=+this._y.call(null,e);return Tu(this.cover(r,n),r,n,e)}function Tu(e,r,n,s){if(isNaN(r)||isNaN(n))return e;var i,a=e._root,o={data:s},c=e._x0,u=e._y0,d=e._x1,h=e._y1,f,p,m,g,v,y,x,w;if(!a)return e._root=o,e;for(;a.length;)if((v=r>=(f=(c+d)/2))?c=f:d=f,(y=n>=(p=(u+h)/2))?u=p:h=p,i=a,!(a=a[x=y<<1|v]))return i[x]=o,e;if(m=+e._x.call(null,a.data),g=+e._y.call(null,a.data),r===m&&n===g)return o.next=a,i?i[x]=o:e._root=o,e;do i=i?i[x]=new Array(4):e._root=new Array(4),(v=r>=(f=(c+d)/2))?c=f:d=f,(y=n>=(p=(u+h)/2))?u=p:h=p;while((x=y<<1|v)===(w=(g>=p)<<1|m>=f));return i[w]=a,i[x]=o,e}function Eb(e){var r,n,s=e.length,i,a,o=new Array(s),c=new Array(s),u=1/0,d=1/0,h=-1/0,f=-1/0;for(n=0;n<s;++n)isNaN(i=+this._x.call(null,r=e[n]))||isNaN(a=+this._y.call(null,r))||(o[n]=i,c[n]=a,i<u&&(u=i),i>h&&(h=i),a<d&&(d=a),a>f&&(f=a));if(u>h||d>f)return this;for(this.cover(u,d).cover(h,f),n=0;n<s;++n)Tu(this,o[n],c[n],e[n]);return this}function Rb(e,r){if(isNaN(e=+e)||isNaN(r=+r))return this;var n=this._x0,s=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(s=Math.floor(r))+1;else{for(var o=i-n||1,c=this._root,u,d;n>e||e>=i||s>r||r>=a;)switch(d=(r<s)<<1|e<n,u=new Array(4),u[d]=c,c=u,o*=2,d){case 0:i=n+o,a=s+o;break;case 1:n=i-o,a=s+o;break;case 2:i=n+o,s=a-o;break;case 3:n=i-o,s=a-o;break}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=s,this._x1=i,this._y1=a,this}function Db(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function Ab(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Le(e,r,n,s,i){this.node=e,this.x0=r,this.y0=n,this.x1=s,this.y1=i}function Tb(e,r,n){var s,i=this._x0,a=this._y0,o,c,u,d,h=this._x1,f=this._y1,p=[],m=this._root,g,v;for(m&&p.push(new Le(m,i,a,h,f)),n==null?n=1/0:(i=e-n,a=r-n,h=e+n,f=r+n,n*=n);g=p.pop();)if(!(!(m=g.node)||(o=g.x0)>h||(c=g.y0)>f||(u=g.x1)<i||(d=g.y1)<a))if(m.length){var y=(o+u)/2,x=(c+d)/2;p.push(new Le(m[3],y,x,u,d),new Le(m[2],o,x,y,d),new Le(m[1],y,c,u,x),new Le(m[0],o,c,y,x)),(v=(r>=x)<<1|e>=y)&&(g=p[p.length-1],p[p.length-1]=p[p.length-1-v],p[p.length-1-v]=g)}else{var w=e-+this._x.call(null,m.data),j=r-+this._y.call(null,m.data),b=w*w+j*j;if(b<n){var _=Math.sqrt(n=b);i=e-_,a=r-_,h=e+_,f=r+_,s=m.data}}return s}function Mb(e){if(isNaN(h=+this._x.call(null,e))||isNaN(f=+this._y.call(null,e)))return this;var r,n=this._root,s,i,a,o=this._x0,c=this._y0,u=this._x1,d=this._y1,h,f,p,m,g,v,y,x;if(!n)return this;if(n.length)for(;;){if((g=h>=(p=(o+u)/2))?o=p:u=p,(v=f>=(m=(c+d)/2))?c=m:d=m,r=n,!(n=n[y=v<<1|g]))return this;if(!n.length)break;(r[y+1&3]||r[y+2&3]||r[y+3&3])&&(s=r,x=y)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[y]=a:delete r[y],(n=r[0]||r[1]||r[2]||r[3])&&n===(r[3]||r[2]||r[1]||r[0])&&!n.length&&(s?s[x]=n:this._root=n),this):(this._root=a,this)}function zb(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function $b(){return this._root}function Lb(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function Fb(e){var r=[],n,s=this._root,i,a,o,c,u;for(s&&r.push(new Le(s,this._x0,this._y0,this._x1,this._y1));n=r.pop();)if(!e(s=n.node,a=n.x0,o=n.y0,c=n.x1,u=n.y1)&&s.length){var d=(a+c)/2,h=(o+u)/2;(i=s[3])&&r.push(new Le(i,d,h,c,u)),(i=s[2])&&r.push(new Le(i,a,h,d,u)),(i=s[1])&&r.push(new Le(i,d,o,c,h)),(i=s[0])&&r.push(new Le(i,a,o,d,h))}return this}function Ib(e){var r=[],n=[],s;for(this._root&&r.push(new Le(this._root,this._x0,this._y0,this._x1,this._y1));s=r.pop();){var i=s.node;if(i.length){var a,o=s.x0,c=s.y0,u=s.x1,d=s.y1,h=(o+u)/2,f=(c+d)/2;(a=i[0])&&r.push(new Le(a,o,c,h,f)),(a=i[1])&&r.push(new Le(a,h,c,u,f)),(a=i[2])&&r.push(new Le(a,o,f,h,d)),(a=i[3])&&r.push(new Le(a,h,f,u,d))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.y0,s.x1,s.y1);return this}function Hb(e){return e[0]}function Ub(e){return arguments.length?(this._x=e,this):this._x}function Wb(e){return e[1]}function qb(e){return arguments.length?(this._y=e,this):this._y}function Mu(e,r,n){var s=new Ea(r??Hb,n??Wb,NaN,NaN,NaN,NaN);return e==null?s:s.addAll(e)}function Ea(e,r,n,s,i,a){this._x=e,this._y=r,this._x0=n,this._y0=s,this._x1=i,this._y1=a,this._root=void 0}function dl(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Fe=Mu.prototype=Ea.prototype;Fe.copy=function(){var e=new Ea(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=dl(r),e;for(n=[{source:r,target:e._root=new Array(4)}];r=n.pop();)for(var i=0;i<4;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(4)}):r.target[i]=dl(s));return e};Fe.add=Pb;Fe.addAll=Eb;Fe.cover=Rb;Fe.data=Db;Fe.extent=Ab;Fe.find=Tb;Fe.remove=Mb;Fe.removeAll=zb;Fe.root=$b;Fe.size=Lb;Fe.visit=Fb;Fe.visitAfter=Ib;Fe.x=Ub;Fe.y=qb;function Bb(e){const r=+this._x.call(null,e),n=+this._y.call(null,e),s=+this._z.call(null,e);return zu(this.cover(r,n,s),r,n,s,e)}function zu(e,r,n,s,i){if(isNaN(r)||isNaN(n)||isNaN(s))return e;var a,o=e._root,c={data:i},u=e._x0,d=e._y0,h=e._z0,f=e._x1,p=e._y1,m=e._z1,g,v,y,x,w,j,b,_,N,S,E;if(!o)return e._root=c,e;for(;o.length;)if((b=r>=(g=(u+f)/2))?u=g:f=g,(_=n>=(v=(d+p)/2))?d=v:p=v,(N=s>=(y=(h+m)/2))?h=y:m=y,a=o,!(o=o[S=N<<2|_<<1|b]))return a[S]=c,e;if(x=+e._x.call(null,o.data),w=+e._y.call(null,o.data),j=+e._z.call(null,o.data),r===x&&n===w&&s===j)return c.next=o,a?a[S]=c:e._root=c,e;do a=a?a[S]=new Array(8):e._root=new Array(8),(b=r>=(g=(u+f)/2))?u=g:f=g,(_=n>=(v=(d+p)/2))?d=v:p=v,(N=s>=(y=(h+m)/2))?h=y:m=y;while((S=N<<2|_<<1|b)===(E=(j>=y)<<2|(w>=v)<<1|x>=g));return a[E]=o,a[S]=c,e}function Vb(e){Array.isArray(e)||(e=Array.from(e));const r=e.length,n=new Float64Array(r),s=new Float64Array(r),i=new Float64Array(r);let a=1/0,o=1/0,c=1/0,u=-1/0,d=-1/0,h=-1/0;for(let f=0,p,m,g,v;f<r;++f)isNaN(m=+this._x.call(null,p=e[f]))||isNaN(g=+this._y.call(null,p))||isNaN(v=+this._z.call(null,p))||(n[f]=m,s[f]=g,i[f]=v,m<a&&(a=m),m>u&&(u=m),g<o&&(o=g),g>d&&(d=g),v<c&&(c=v),v>h&&(h=v));if(a>u||o>d||c>h)return this;this.cover(a,o,c).cover(u,d,h);for(let f=0;f<r;++f)zu(this,n[f],s[f],i[f],e[f]);return this}function Gb(e,r,n){if(isNaN(e=+e)||isNaN(r=+r)||isNaN(n=+n))return this;var s=this._x0,i=this._y0,a=this._z0,o=this._x1,c=this._y1,u=this._z1;if(isNaN(s))o=(s=Math.floor(e))+1,c=(i=Math.floor(r))+1,u=(a=Math.floor(n))+1;else{for(var d=o-s||1,h=this._root,f,p;s>e||e>=o||i>r||r>=c||a>n||n>=u;)switch(p=(n<a)<<2|(r<i)<<1|e<s,f=new Array(8),f[p]=h,h=f,d*=2,p){case 0:o=s+d,c=i+d,u=a+d;break;case 1:s=o-d,c=i+d,u=a+d;break;case 2:o=s+d,i=c-d,u=a+d;break;case 3:s=o-d,i=c-d,u=a+d;break;case 4:o=s+d,c=i+d,a=u-d;break;case 5:s=o-d,c=i+d,a=u-d;break;case 6:o=s+d,i=c-d,a=u-d;break;case 7:s=o-d,i=c-d,a=u-d;break}this._root&&this._root.length&&(this._root=h)}return this._x0=s,this._y0=i,this._z0=a,this._x1=o,this._y1=c,this._z1=u,this}function Yb(){var e=[];return this.visit(function(r){if(!r.length)do e.push(r.data);while(r=r.next)}),e}function Xb(e){return arguments.length?this.cover(+e[0][0],+e[0][1],+e[0][2]).cover(+e[1][0],+e[1][1],+e[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function me(e,r,n,s,i,a,o){this.node=e,this.x0=r,this.y0=n,this.z0=s,this.x1=i,this.y1=a,this.z1=o}function Kb(e,r,n,s){var i,a=this._x0,o=this._y0,c=this._z0,u,d,h,f,p,m,g=this._x1,v=this._y1,y=this._z1,x=[],w=this._root,j,b;for(w&&x.push(new me(w,a,o,c,g,v,y)),s==null?s=1/0:(a=e-s,o=r-s,c=n-s,g=e+s,v=r+s,y=n+s,s*=s);j=x.pop();)if(!(!(w=j.node)||(u=j.x0)>g||(d=j.y0)>v||(h=j.z0)>y||(f=j.x1)<a||(p=j.y1)<o||(m=j.z1)<c))if(w.length){var _=(u+f)/2,N=(d+p)/2,S=(h+m)/2;x.push(new me(w[7],_,N,S,f,p,m),new me(w[6],u,N,S,_,p,m),new me(w[5],_,d,S,f,N,m),new me(w[4],u,d,S,_,N,m),new me(w[3],_,N,h,f,p,S),new me(w[2],u,N,h,_,p,S),new me(w[1],_,d,h,f,N,S),new me(w[0],u,d,h,_,N,S)),(b=(n>=S)<<2|(r>=N)<<1|e>=_)&&(j=x[x.length-1],x[x.length-1]=x[x.length-1-b],x[x.length-1-b]=j)}else{var E=e-+this._x.call(null,w.data),R=r-+this._y.call(null,w.data),k=n-+this._z.call(null,w.data),z=E*E+R*R+k*k;if(z<s){var T=Math.sqrt(s=z);a=e-T,o=r-T,c=n-T,g=e+T,v=r+T,y=n+T,i=w.data}}return i}const Jb=(e,r,n,s,i,a)=>Math.sqrt((e-s)**2+(r-i)**2+(n-a)**2);function Zb(e,r,n,s){const i=[],a=e-s,o=r-s,c=n-s,u=e+s,d=r+s,h=n+s;return this.visit((f,p,m,g,v,y,x)=>{if(!f.length)do{const w=f.data;Jb(e,r,n,this._x(w),this._y(w),this._z(w))<=s&&i.push(w)}while(f=f.next);return p>u||m>d||g>h||v<a||y<o||x<c}),i}function Qb(e){if(isNaN(p=+this._x.call(null,e))||isNaN(m=+this._y.call(null,e))||isNaN(g=+this._z.call(null,e)))return this;var r,n=this._root,s,i,a,o=this._x0,c=this._y0,u=this._z0,d=this._x1,h=this._y1,f=this._z1,p,m,g,v,y,x,w,j,b,_,N;if(!n)return this;if(n.length)for(;;){if((w=p>=(v=(o+d)/2))?o=v:d=v,(j=m>=(y=(c+h)/2))?c=y:h=y,(b=g>=(x=(u+f)/2))?u=x:f=x,r=n,!(n=n[_=b<<2|j<<1|w]))return this;if(!n.length)break;(r[_+1&7]||r[_+2&7]||r[_+3&7]||r[_+4&7]||r[_+5&7]||r[_+6&7]||r[_+7&7])&&(s=r,N=_)}for(;n.data!==e;)if(i=n,!(n=n.next))return this;return(a=n.next)&&delete n.next,i?(a?i.next=a:delete i.next,this):r?(a?r[_]=a:delete r[_],(n=r[0]||r[1]||r[2]||r[3]||r[4]||r[5]||r[6]||r[7])&&n===(r[7]||r[6]||r[5]||r[4]||r[3]||r[2]||r[1]||r[0])&&!n.length&&(s?s[N]=n:this._root=n),this):(this._root=a,this)}function ew(e){for(var r=0,n=e.length;r<n;++r)this.remove(e[r]);return this}function tw(){return this._root}function rw(){var e=0;return this.visit(function(r){if(!r.length)do++e;while(r=r.next)}),e}function nw(e){var r=[],n,s=this._root,i,a,o,c,u,d,h;for(s&&r.push(new me(s,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));n=r.pop();)if(!e(s=n.node,a=n.x0,o=n.y0,c=n.z0,u=n.x1,d=n.y1,h=n.z1)&&s.length){var f=(a+u)/2,p=(o+d)/2,m=(c+h)/2;(i=s[7])&&r.push(new me(i,f,p,m,u,d,h)),(i=s[6])&&r.push(new me(i,a,p,m,f,d,h)),(i=s[5])&&r.push(new me(i,f,o,m,u,p,h)),(i=s[4])&&r.push(new me(i,a,o,m,f,p,h)),(i=s[3])&&r.push(new me(i,f,p,c,u,d,m)),(i=s[2])&&r.push(new me(i,a,p,c,f,d,m)),(i=s[1])&&r.push(new me(i,f,o,c,u,p,m)),(i=s[0])&&r.push(new me(i,a,o,c,f,p,m))}return this}function sw(e){var r=[],n=[],s;for(this._root&&r.push(new me(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));s=r.pop();){var i=s.node;if(i.length){var a,o=s.x0,c=s.y0,u=s.z0,d=s.x1,h=s.y1,f=s.z1,p=(o+d)/2,m=(c+h)/2,g=(u+f)/2;(a=i[0])&&r.push(new me(a,o,c,u,p,m,g)),(a=i[1])&&r.push(new me(a,p,c,u,d,m,g)),(a=i[2])&&r.push(new me(a,o,m,u,p,h,g)),(a=i[3])&&r.push(new me(a,p,m,u,d,h,g)),(a=i[4])&&r.push(new me(a,o,c,g,p,m,f)),(a=i[5])&&r.push(new me(a,p,c,g,d,m,f)),(a=i[6])&&r.push(new me(a,o,m,g,p,h,f)),(a=i[7])&&r.push(new me(a,p,m,g,d,h,f))}n.push(s)}for(;s=n.pop();)e(s.node,s.x0,s.y0,s.z0,s.x1,s.y1,s.z1);return this}function iw(e){return e[0]}function aw(e){return arguments.length?(this._x=e,this):this._x}function ow(e){return e[1]}function lw(e){return arguments.length?(this._y=e,this):this._y}function cw(e){return e[2]}function uw(e){return arguments.length?(this._z=e,this):this._z}function $u(e,r,n,s){var i=new Ra(r??iw,n??ow,s??cw,NaN,NaN,NaN,NaN,NaN,NaN);return e==null?i:i.addAll(e)}function Ra(e,r,n,s,i,a,o,c,u){this._x=e,this._y=r,this._z=n,this._x0=s,this._y0=i,this._z0=a,this._x1=o,this._y1=c,this._z1=u,this._root=void 0}function fl(e){for(var r={data:e.data},n=r;e=e.next;)n=n.next={data:e.data};return r}var Re=$u.prototype=Ra.prototype;Re.copy=function(){var e=new Ra(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),r=this._root,n,s;if(!r)return e;if(!r.length)return e._root=fl(r),e;for(n=[{source:r,target:e._root=new Array(8)}];r=n.pop();)for(var i=0;i<8;++i)(s=r.source[i])&&(s.length?n.push({source:s,target:r.target[i]=new Array(8)}):r.target[i]=fl(s));return e};Re.add=Bb;Re.addAll=Vb;Re.cover=Gb;Re.data=Yb;Re.extent=Xb;Re.find=Kb;Re.findAllWithinRadius=Zb;Re.remove=Qb;Re.removeAll=ew;Re.root=tw;Re.size=rw;Re.visit=nw;Re.visitAfter=sw;Re.x=aw;Re.y=lw;Re.z=uw;function Et(e){return function(){return e}}function Ot(e){return(e()-.5)*1e-6}function dw(e){return e.index}function hl(e,r){var n=e.get(r);if(!n)throw new Error("node not found: "+r);return n}function fw(e){var r=dw,n=p,s,i=Et(30),a,o,c,u,d,h,f=1;e==null&&(e=[]);function p(x){return 1/Math.min(u[x.source.index],u[x.target.index])}function m(x){for(var w=0,j=e.length;w<f;++w)for(var b=0,_,N,S,E=0,R=0,k=0,z,T;b<j;++b)_=e[b],N=_.source,S=_.target,E=S.x+S.vx-N.x-N.vx||Ot(h),c>1&&(R=S.y+S.vy-N.y-N.vy||Ot(h)),c>2&&(k=S.z+S.vz-N.z-N.vz||Ot(h)),z=Math.sqrt(E*E+R*R+k*k),z=(z-a[b])/z*x*s[b],E*=z,R*=z,k*=z,S.vx-=E*(T=d[b]),c>1&&(S.vy-=R*T),c>2&&(S.vz-=k*T),N.vx+=E*(T=1-T),c>1&&(N.vy+=R*T),c>2&&(N.vz+=k*T)}function g(){if(o){var x,w=o.length,j=e.length,b=new Map(o.map((N,S)=>[r(N,S,o),N])),_;for(x=0,u=new Array(w);x<j;++x)_=e[x],_.index=x,typeof _.source!="object"&&(_.source=hl(b,_.source)),typeof _.target!="object"&&(_.target=hl(b,_.target)),u[_.source.index]=(u[_.source.index]||0)+1,u[_.target.index]=(u[_.target.index]||0)+1;for(x=0,d=new Array(j);x<j;++x)_=e[x],d[x]=u[_.source.index]/(u[_.source.index]+u[_.target.index]);s=new Array(j),v(),a=new Array(j),y()}}function v(){if(o)for(var x=0,w=e.length;x<w;++x)s[x]=+n(e[x],x,e)}function y(){if(o)for(var x=0,w=e.length;x<w;++x)a[x]=+i(e[x],x,e)}return m.initialize=function(x,...w){o=x,h=w.find(j=>typeof j=="function")||Math.random,c=w.find(j=>[1,2,3].includes(j))||2,g()},m.links=function(x){return arguments.length?(e=x,g(),m):e},m.id=function(x){return arguments.length?(r=x,m):r},m.iterations=function(x){return arguments.length?(f=+x,m):f},m.strength=function(x){return arguments.length?(n=typeof x=="function"?x:Et(+x),v(),m):n},m.distance=function(x){return arguments.length?(i=typeof x=="function"?x:Et(+x),y(),m):i},m}const hw=1664525,pw=1013904223,pl=4294967296;function mw(){let e=1;return()=>(e=(hw*e+pw)%pl)/pl}var ml=3;function fi(e){return e.x}function gl(e){return e.y}function gw(e){return e.z}var xw=10,yw=Math.PI*(3-Math.sqrt(5)),vw=Math.PI*20/(9+Math.sqrt(221));function bw(e,r){r=r||2;var n=Math.min(ml,Math.max(1,Math.round(r))),s,i=1,a=.001,o=1-Math.pow(a,1/300),c=0,u=.6,d=new Map,h=ba(m),f=On("tick","end"),p=mw();e==null&&(e=[]);function m(){g(),f.call("tick",s),i<a&&(h.stop(),f.call("end",s))}function g(x){var w,j=e.length,b;x===void 0&&(x=1);for(var _=0;_<x;++_)for(i+=(c-i)*o,d.forEach(function(N){N(i)}),w=0;w<j;++w)b=e[w],b.fx==null?b.x+=b.vx*=u:(b.x=b.fx,b.vx=0),n>1&&(b.fy==null?b.y+=b.vy*=u:(b.y=b.fy,b.vy=0)),n>2&&(b.fz==null?b.z+=b.vz*=u:(b.z=b.fz,b.vz=0));return s}function v(){for(var x=0,w=e.length,j;x<w;++x){if(j=e[x],j.index=x,j.fx!=null&&(j.x=j.fx),j.fy!=null&&(j.y=j.fy),j.fz!=null&&(j.z=j.fz),isNaN(j.x)||n>1&&isNaN(j.y)||n>2&&isNaN(j.z)){var b=xw*(n>2?Math.cbrt(.5+x):n>1?Math.sqrt(.5+x):x),_=x*yw,N=x*vw;n===1?j.x=b:n===2?(j.x=b*Math.cos(_),j.y=b*Math.sin(_)):(j.x=b*Math.sin(_)*Math.cos(N),j.y=b*Math.cos(_),j.z=b*Math.sin(_)*Math.sin(N))}(isNaN(j.vx)||n>1&&isNaN(j.vy)||n>2&&isNaN(j.vz))&&(j.vx=0,n>1&&(j.vy=0),n>2&&(j.vz=0))}}function y(x){return x.initialize&&x.initialize(e,p,n),x}return v(),s={tick:g,restart:function(){return h.restart(m),s},stop:function(){return h.stop(),s},numDimensions:function(x){return arguments.length?(n=Math.min(ml,Math.max(1,Math.round(x))),d.forEach(y),s):n},nodes:function(x){return arguments.length?(e=x,v(),d.forEach(y),s):e},alpha:function(x){return arguments.length?(i=+x,s):i},alphaMin:function(x){return arguments.length?(a=+x,s):a},alphaDecay:function(x){return arguments.length?(o=+x,s):+o},alphaTarget:function(x){return arguments.length?(c=+x,s):c},velocityDecay:function(x){return arguments.length?(u=1-x,s):1-u},randomSource:function(x){return arguments.length?(p=x,d.forEach(y),s):p},force:function(x,w){return arguments.length>1?(w==null?d.delete(x):d.set(x,y(w)),s):d.get(x)},find:function(){var x=Array.prototype.slice.call(arguments),w=x.shift()||0,j=(n>1?x.shift():null)||0,b=(n>2?x.shift():null)||0,_=x.shift()||1/0,N=0,S=e.length,E,R,k,z,T,I;for(_*=_,N=0;N<S;++N)T=e[N],E=w-T.x,R=j-(T.y||0),k=b-(T.z||0),z=E*E+R*R+k*k,z<_&&(I=T,_=z);return I},on:function(x,w){return arguments.length>1?(f.on(x,w),s):f.on(x)}}}function ww(){var e,r,n,s,i,a=Et(-30),o,c=1,u=1/0,d=.81;function h(g){var v,y=e.length,x=(r===1?Au(e,fi):r===2?Mu(e,fi,gl):r===3?$u(e,fi,gl,gw):null).visitAfter(p);for(i=g,v=0;v<y;++v)n=e[v],x.visit(m)}function f(){if(e){var g,v=e.length,y;for(o=new Array(v),g=0;g<v;++g)y=e[g],o[y.index]=+a(y,g,e)}}function p(g){var v=0,y,x,w=0,j,b,_,N,S=g.length;if(S){for(j=b=_=N=0;N<S;++N)(y=g[N])&&(x=Math.abs(y.value))&&(v+=y.value,w+=x,j+=x*(y.x||0),b+=x*(y.y||0),_+=x*(y.z||0));v*=Math.sqrt(4/S),g.x=j/w,r>1&&(g.y=b/w),r>2&&(g.z=_/w)}else{y=g,y.x=y.data.x,r>1&&(y.y=y.data.y),r>2&&(y.z=y.data.z);do v+=o[y.data.index];while(y=y.next)}g.value=v}function m(g,v,y,x,w){if(!g.value)return!0;var j=[y,x,w][r-1],b=g.x-n.x,_=r>1?g.y-n.y:0,N=r>2?g.z-n.z:0,S=j-v,E=b*b+_*_+N*N;if(S*S/d<E)return E<u&&(b===0&&(b=Ot(s),E+=b*b),r>1&&_===0&&(_=Ot(s),E+=_*_),r>2&&N===0&&(N=Ot(s),E+=N*N),E<c&&(E=Math.sqrt(c*E)),n.vx+=b*g.value*i/E,r>1&&(n.vy+=_*g.value*i/E),r>2&&(n.vz+=N*g.value*i/E)),!0;if(g.length||E>=u)return;(g.data!==n||g.next)&&(b===0&&(b=Ot(s),E+=b*b),r>1&&_===0&&(_=Ot(s),E+=_*_),r>2&&N===0&&(N=Ot(s),E+=N*N),E<c&&(E=Math.sqrt(c*E)));do g.data!==n&&(S=o[g.data.index]*i/E,n.vx+=b*S,r>1&&(n.vy+=_*S),r>2&&(n.vz+=N*S));while(g=g.next)}return h.initialize=function(g,...v){e=g,s=v.find(y=>typeof y=="function")||Math.random,r=v.find(y=>[1,2,3].includes(y))||2,f()},h.strength=function(g){return arguments.length?(a=typeof g=="function"?g:Et(+g),f(),h):a},h.distanceMin=function(g){return arguments.length?(c=g*g,h):Math.sqrt(c)},h.distanceMax=function(g){return arguments.length?(u=g*g,h):Math.sqrt(u)},h.theta=function(g){return arguments.length?(d=g*g,h):Math.sqrt(d)},h}function _w(e,r,n,s){var i,a,o=Et(.1),c,u;typeof e!="function"&&(e=Et(+e)),r==null&&(r=0),n==null&&(n=0),s==null&&(s=0);function d(f){for(var p=0,m=i.length;p<m;++p){var g=i[p],v=g.x-r||1e-6,y=(g.y||0)-n||1e-6,x=(g.z||0)-s||1e-6,w=Math.sqrt(v*v+y*y+x*x),j=(u[p]-w)*c[p]*f/w;g.vx+=v*j,a>1&&(g.vy+=y*j),a>2&&(g.vz+=x*j)}}function h(){if(i){var f,p=i.length;for(c=new Array(p),u=new Array(p),f=0;f<p;++f)u[f]=+e(i[f],f,i),c[f]=isNaN(u[f])?0:+o(i[f],f,i)}}return d.initialize=function(f,...p){i=f,a=p.find(m=>[1,2,3].includes(m))||2,h()},d.strength=function(f){return arguments.length?(o=typeof f=="function"?f:Et(+f),h(),d):o},d.radius=function(f){return arguments.length?(e=typeof f=="function"?f:Et(+f),h(),d):e},d.x=function(f){return arguments.length?(r=+f,d):r},d.y=function(f){return arguments.length?(n=+f,d):n},d.z=function(f){return arguments.length?(s=+f,d):s},d}const{abs:Kr,cos:Ct,sin:mr,acos:jw,atan2:Jr,sqrt:Lt,pow:et}=Math;function Zr(e){return e<0?-et(-e,1/3):et(e,1/3)}const Lu=Math.PI,Un=2*Lu,Ft=Lu/2,Nw=1e-6,hi=Number.MAX_SAFE_INTEGER||9007199254740991,pi=Number.MIN_SAFE_INTEGER||-9007199254740991,Sw={x:0,y:0,z:0},U={Tvalues:[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213],Cvalues:[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872],arcfn:function(e,r){const n=r(e);let s=n.x*n.x+n.y*n.y;return typeof n.z<"u"&&(s+=n.z*n.z),Lt(s)},compute:function(e,r,n){if(e===0)return r[0].t=0,r[0];const s=r.length-1;if(e===1)return r[s].t=1,r[s];const i=1-e;let a=r;if(s===0)return r[0].t=e,r[0];if(s===1){const c={x:i*a[0].x+e*a[1].x,y:i*a[0].y+e*a[1].y,t:e};return n&&(c.z=i*a[0].z+e*a[1].z),c}if(s<4){let c=i*i,u=e*e,d,h,f,p=0;s===2?(a=[a[0],a[1],a[2],Sw],d=c,h=i*e*2,f=u):s===3&&(d=c*i,h=c*e*3,f=i*u*3,p=e*u);const m={x:d*a[0].x+h*a[1].x+f*a[2].x+p*a[3].x,y:d*a[0].y+h*a[1].y+f*a[2].y+p*a[3].y,t:e};return n&&(m.z=d*a[0].z+h*a[1].z+f*a[2].z+p*a[3].z),m}const o=JSON.parse(JSON.stringify(r));for(;o.length>1;){for(let c=0;c<o.length-1;c++)o[c]={x:o[c].x+(o[c+1].x-o[c].x)*e,y:o[c].y+(o[c+1].y-o[c].y)*e},typeof o[c].z<"u"&&(o[c].z=o[c].z+(o[c+1].z-o[c].z)*e);o.splice(o.length-1,1)}return o[0].t=e,o[0]},computeWithRatios:function(e,r,n,s){const i=1-e,a=n,o=r;let c=a[0],u=a[1],d=a[2],h=a[3],f;if(c*=i,u*=e,o.length===2)return f=c+u,{x:(c*o[0].x+u*o[1].x)/f,y:(c*o[0].y+u*o[1].y)/f,z:s?(c*o[0].z+u*o[1].z)/f:!1,t:e};if(c*=i,u*=2*i,d*=e*e,o.length===3)return f=c+u+d,{x:(c*o[0].x+u*o[1].x+d*o[2].x)/f,y:(c*o[0].y+u*o[1].y+d*o[2].y)/f,z:s?(c*o[0].z+u*o[1].z+d*o[2].z)/f:!1,t:e};if(c*=i,u*=1.5*i,d*=3*i,h*=e*e*e,o.length===4)return f=c+u+d+h,{x:(c*o[0].x+u*o[1].x+d*o[2].x+h*o[3].x)/f,y:(c*o[0].y+u*o[1].y+d*o[2].y+h*o[3].y)/f,z:s?(c*o[0].z+u*o[1].z+d*o[2].z+h*o[3].z)/f:!1,t:e}},derive:function(e,r){const n=[];for(let s=e,i=s.length,a=i-1;i>1;i--,a--){const o=[];for(let c=0,u;c<a;c++)u={x:a*(s[c+1].x-s[c].x),y:a*(s[c+1].y-s[c].y)},r&&(u.z=a*(s[c+1].z-s[c].z)),o.push(u);n.push(o),s=o}return n},between:function(e,r,n){return r<=e&&e<=n||U.approximately(e,r)||U.approximately(e,n)},approximately:function(e,r,n){return Kr(e-r)<=(n||Nw)},length:function(e){const n=U.Tvalues.length;let s=0;for(let i=0,a;i<n;i++)a=.5*U.Tvalues[i]+.5,s+=U.Cvalues[i]*U.arcfn(a,e);return .5*s},map:function(e,r,n,s,i){const a=n-r,o=i-s,c=e-r,u=c/a;return s+o*u},lerp:function(e,r,n){const s={x:r.x+e*(n.x-r.x),y:r.y+e*(n.y-r.y)};return r.z!==void 0&&n.z!==void 0&&(s.z=r.z+e*(n.z-r.z)),s},pointToString:function(e){let r=e.x+"/"+e.y;return typeof e.z<"u"&&(r+="/"+e.z),r},pointsToString:function(e){return"["+e.map(U.pointToString).join(", ")+"]"},copy:function(e){return JSON.parse(JSON.stringify(e))},angle:function(e,r,n){const s=r.x-e.x,i=r.y-e.y,a=n.x-e.x,o=n.y-e.y,c=s*o-i*a,u=s*a+i*o;return Jr(c,u)},round:function(e,r){const n=""+e,s=n.indexOf(".");return parseFloat(n.substring(0,s+1+r))},dist:function(e,r){const n=e.x-r.x,s=e.y-r.y;return Lt(n*n+s*s)},closest:function(e,r){let n=et(2,63),s,i;return e.forEach(function(a,o){i=U.dist(r,a),i<n&&(n=i,s=o)}),{mdist:n,mpos:s}},abcratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=et(e,r)+et(1-e,r),s=n-1;return Kr(s/n)},projectionratio:function(e,r){if(r!==2&&r!==3)return!1;if(typeof e>"u")e=.5;else if(e===0||e===1)return e;const n=et(1-e,r),s=et(e,r)+n;return n/s},lli8:function(e,r,n,s,i,a,o,c){const u=(e*s-r*n)*(i-o)-(e-n)*(i*c-a*o),d=(e*s-r*n)*(a-c)-(r-s)*(i*c-a*o),h=(e-n)*(a-c)-(r-s)*(i-o);return h==0?!1:{x:u/h,y:d/h}},lli4:function(e,r,n,s){const i=e.x,a=e.y,o=r.x,c=r.y,u=n.x,d=n.y,h=s.x,f=s.y;return U.lli8(i,a,o,c,u,d,h,f)},lli:function(e,r){return U.lli4(e,e.c,r,r.c)},makeline:function(e,r){return new xe(e.x,e.y,(e.x+r.x)/2,(e.y+r.y)/2,r.x,r.y)},findbbox:function(e){let r=hi,n=hi,s=pi,i=pi;return e.forEach(function(a){const o=a.bbox();r>o.x.min&&(r=o.x.min),n>o.y.min&&(n=o.y.min),s<o.x.max&&(s=o.x.max),i<o.y.max&&(i=o.y.max)}),{x:{min:r,mid:(r+s)/2,max:s,size:s-r},y:{min:n,mid:(n+i)/2,max:i,size:i-n}}},shapeintersections:function(e,r,n,s,i){if(!U.bboxoverlap(r,s))return[];const a=[],o=[e.startcap,e.forward,e.back,e.endcap],c=[n.startcap,n.forward,n.back,n.endcap];return o.forEach(function(u){u.virtual||c.forEach(function(d){if(d.virtual)return;const h=u.intersects(d,i);h.length>0&&(h.c1=u,h.c2=d,h.s1=e,h.s2=n,a.push(h))})}),a},makeshape:function(e,r,n){const s=r.points.length,i=e.points.length,a=U.makeline(r.points[s-1],e.points[0]),o=U.makeline(e.points[i-1],r.points[0]),c={startcap:a,forward:e,back:r,endcap:o,bbox:U.findbbox([a,e,r,o])};return c.intersections=function(u){return U.shapeintersections(c,c.bbox,u,u.bbox,n)},c},getminmax:function(e,r,n){if(!n)return{min:0,max:0};let s=hi,i=pi,a,o;n.indexOf(0)===-1&&(n=[0].concat(n)),n.indexOf(1)===-1&&n.push(1);for(let c=0,u=n.length;c<u;c++)a=n[c],o=e.get(a),o[r]<s&&(s=o[r]),o[r]>i&&(i=o[r]);return{min:s,mid:(s+i)/2,max:i,size:i-s}},align:function(e,r){const n=r.p1.x,s=r.p1.y,i=-Jr(r.p2.y-s,r.p2.x-n),a=function(o){return{x:(o.x-n)*Ct(i)-(o.y-s)*mr(i),y:(o.x-n)*mr(i)+(o.y-s)*Ct(i)}};return e.map(a)},roots:function(e,r){r=r||{p1:{x:0,y:0},p2:{x:1,y:0}};const n=e.length-1,s=U.align(e,r),i=function(S){return 0<=S&&S<=1};if(n===2){const S=s[0].y,E=s[1].y,R=s[2].y,k=S-2*E+R;if(k!==0){const z=-Lt(E*E-S*R),T=-S+E,I=-(z+T)/k,C=-(-z+T)/k;return[I,C].filter(i)}else if(E!==R&&k===0)return[(2*E-R)/(2*E-2*R)].filter(i);return[]}const a=s[0].y,o=s[1].y,c=s[2].y,u=s[3].y;let d=-a+3*o-3*c+u,h=3*a-6*o+3*c,f=-3*a+3*o,p=a;if(U.approximately(d,0)){if(U.approximately(h,0))return U.approximately(f,0)?[]:[-p/f].filter(i);const S=Lt(f*f-4*h*p),E=2*h;return[(S-f)/E,(-f-S)/E].filter(i)}h/=d,f/=d,p/=d;const m=(3*f-h*h)/3,g=m/3,v=(2*h*h*h-9*h*f+27*p)/27,y=v/2,x=y*y+g*g*g;let w,j,b,_,N;if(x<0){const S=-m/3,E=S*S*S,R=Lt(E),k=-v/(2*R),z=k<-1?-1:k>1?1:k,T=jw(z),I=Zr(R),C=2*I;return b=C*Ct(T/3)-h/3,_=C*Ct((T+Un)/3)-h/3,N=C*Ct((T+2*Un)/3)-h/3,[b,_,N].filter(i)}else{if(x===0)return w=y<0?Zr(-y):-Zr(y),b=2*w-h/3,_=-w-h/3,[b,_].filter(i);{const S=Lt(x);return w=Zr(-y+S),j=Zr(y+S),[w-j-h/3].filter(i)}}},droots:function(e){if(e.length===3){const r=e[0],n=e[1],s=e[2],i=r-2*n+s;if(i!==0){const a=-Lt(n*n-r*s),o=-r+n,c=-(a+o)/i,u=-(-a+o)/i;return[c,u]}else if(n!==s&&i===0)return[(2*n-s)/(2*(n-s))];return[]}if(e.length===2){const r=e[0],n=e[1];return r!==n?[r/(r-n)]:[]}return[]},curvature:function(e,r,n,s,i){let a,o,c,u,d=0,h=0;const f=U.compute(e,r),p=U.compute(e,n),m=f.x*f.x+f.y*f.y;if(s?(a=Lt(et(f.y*p.z-p.y*f.z,2)+et(f.z*p.x-p.z*f.x,2)+et(f.x*p.y-p.x*f.y,2)),o=et(m+f.z*f.z,3/2)):(a=f.x*p.y-f.y*p.x,o=et(m,3/2)),a===0||o===0)return{k:0,r:0};if(d=a/o,h=o/a,!i){const g=U.curvature(e-.001,r,n,s,!0).k,v=U.curvature(e+.001,r,n,s,!0).k;u=(v-d+(d-g))/2,c=(Kr(v-d)+Kr(d-g))/2}return{k:d,r:h,dk:u,adk:c}},inflections:function(e){if(e.length<4)return[];const r=U.align(e,{p1:e[0],p2:e.slice(-1)[0]}),n=r[2].x*r[1].y,s=r[3].x*r[1].y,i=r[1].x*r[2].y,a=r[3].x*r[2].y,o=18*(-3*n+2*s+3*i-a),c=18*(3*n-s-3*i),u=18*(i-n);if(U.approximately(o,0)){if(!U.approximately(c,0)){let p=-u/c;if(0<=p&&p<=1)return[p]}return[]}const d=2*o;if(U.approximately(d,0))return[];const h=c*c-4*o*u;if(h<0)return[];const f=Math.sqrt(h);return[(f-c)/d,-(c+f)/d].filter(function(p){return 0<=p&&p<=1})},bboxoverlap:function(e,r){const n=["x","y"],s=n.length;for(let i=0,a,o,c,u;i<s;i++)if(a=n[i],o=e[a].mid,c=r[a].mid,u=(e[a].size+r[a].size)/2,Kr(o-c)>=u)return!1;return!0},expandbox:function(e,r){r.x.min<e.x.min&&(e.x.min=r.x.min),r.y.min<e.y.min&&(e.y.min=r.y.min),r.z&&r.z.min<e.z.min&&(e.z.min=r.z.min),r.x.max>e.x.max&&(e.x.max=r.x.max),r.y.max>e.y.max&&(e.y.max=r.y.max),r.z&&r.z.max>e.z.max&&(e.z.max=r.z.max),e.x.mid=(e.x.min+e.x.max)/2,e.y.mid=(e.y.min+e.y.max)/2,e.z&&(e.z.mid=(e.z.min+e.z.max)/2),e.x.size=e.x.max-e.x.min,e.y.size=e.y.max-e.y.min,e.z&&(e.z.size=e.z.max-e.z.min)},pairiteration:function(e,r,n){const s=e.bbox(),i=r.bbox(),a=1e5,o=n||.5;if(s.x.size+s.y.size<o&&i.x.size+i.y.size<o)return[(a*(e._t1+e._t2)/2|0)/a+"/"+(a*(r._t1+r._t2)/2|0)/a];let c=e.split(.5),u=r.split(.5),d=[{left:c.left,right:u.left},{left:c.left,right:u.right},{left:c.right,right:u.right},{left:c.right,right:u.left}];d=d.filter(function(f){return U.bboxoverlap(f.left.bbox(),f.right.bbox())});let h=[];return d.length===0||(d.forEach(function(f){h=h.concat(U.pairiteration(f.left,f.right,o))}),h=h.filter(function(f,p){return h.indexOf(f)===p})),h},getccenter:function(e,r,n){const s=r.x-e.x,i=r.y-e.y,a=n.x-r.x,o=n.y-r.y,c=s*Ct(Ft)-i*mr(Ft),u=s*mr(Ft)+i*Ct(Ft),d=a*Ct(Ft)-o*mr(Ft),h=a*mr(Ft)+o*Ct(Ft),f=(e.x+r.x)/2,p=(e.y+r.y)/2,m=(r.x+n.x)/2,g=(r.y+n.y)/2,v=f+c,y=p+u,x=m+d,w=g+h,j=U.lli8(f,p,v,y,m,g,x,w),b=U.dist(j,e);let _=Jr(e.y-j.y,e.x-j.x),N=Jr(r.y-j.y,r.x-j.x),S=Jr(n.y-j.y,n.x-j.x),E;return _<S?((_>N||N>S)&&(_+=Un),_>S&&(E=S,S=_,_=E)):S<N&&N<_?(E=S,S=_,_=E):S+=Un,j.s=_,j.e=S,j.r=b,j},numberSort:function(e,r){return e-r}};class fn{constructor(r){this.curves=[],this._3d=!1,r&&(this.curves=r,this._3d=this.curves[0]._3d)}valueOf(){return this.toString()}toString(){return"["+this.curves.map(function(r){return U.pointsToString(r.points)}).join(", ")+"]"}addCurve(r){this.curves.push(r),this._3d=this._3d||r._3d}length(){return this.curves.map(function(r){return r.length()}).reduce(function(r,n){return r+n})}curve(r){return this.curves[r]}bbox(){const r=this.curves;for(var n=r[0].bbox(),s=1;s<r.length;s++)U.expandbox(n,r[s].bbox());return n}offset(r){const n=[];return this.curves.forEach(function(s){n.push(...s.offset(r))}),new fn(n)}}const{abs:Qr,min:xl,max:yl,cos:kw,sin:Cw,acos:Ow,sqrt:en}=Math,Pw=Math.PI;class xe{constructor(r){let n=r&&r.forEach?r:Array.from(arguments).slice(),s=!1;if(typeof n[0]=="object"){s=n.length;const m=[];n.forEach(function(g){["x","y","z"].forEach(function(v){typeof g[v]<"u"&&m.push(g[v])})}),n=m}let i=!1;const a=n.length;if(s){if(s>4){if(arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");i=!0}}else if(a!==6&&a!==8&&a!==9&&a!==12&&arguments.length!==1)throw new Error("Only new Bezier(point[]) is accepted for 4th and higher order curves");const o=this._3d=!i&&(a===9||a===12)||r&&r[0]&&typeof r[0].z<"u",c=this.points=[];for(let m=0,g=o?3:2;m<a;m+=g){var u={x:n[m],y:n[m+1]};o&&(u.z=n[m+2]),c.push(u)}const d=this.order=c.length-1,h=this.dims=["x","y"];o&&h.push("z"),this.dimlen=h.length;const f=U.align(c,{p1:c[0],p2:c[d]}),p=U.dist(c[0],c[d]);this._linear=f.reduce((m,g)=>m+Qr(g.y),0)<p/50,this._lut=[],this._t1=0,this._t2=1,this.update()}static quadraticFromPoints(r,n,s,i){if(typeof i>"u"&&(i=.5),i===0)return new xe(n,n,s);if(i===1)return new xe(r,n,n);const a=xe.getABC(2,r,n,s,i);return new xe(r,a.A,s)}static cubicFromPoints(r,n,s,i,a){typeof i>"u"&&(i=.5);const o=xe.getABC(3,r,n,s,i);typeof a>"u"&&(a=U.dist(n,o.C));const c=a*(1-i)/i,u=U.dist(r,s),d=(s.x-r.x)/u,h=(s.y-r.y)/u,f=a*d,p=a*h,m=c*d,g=c*h,v={x:n.x-f,y:n.y-p},y={x:n.x+m,y:n.y+g},x=o.A,w={x:x.x+(v.x-x.x)/(1-i),y:x.y+(v.y-x.y)/(1-i)},j={x:x.x+(y.x-x.x)/i,y:x.y+(y.y-x.y)/i},b={x:r.x+(w.x-r.x)/i,y:r.y+(w.y-r.y)/i},_={x:s.x+(j.x-s.x)/(1-i),y:s.y+(j.y-s.y)/(1-i)};return new xe(r,b,_,s)}static getUtils(){return U}getUtils(){return xe.getUtils()}static get PolyBezier(){return fn}valueOf(){return this.toString()}toString(){return U.pointsToString(this.points)}toSVG(){if(this._3d)return!1;const r=this.points,n=r[0].x,s=r[0].y,i=["M",n,s,this.order===2?"Q":"C"];for(let a=1,o=r.length;a<o;a++)i.push(r[a].x),i.push(r[a].y);return i.join(" ")}setRatios(r){if(r.length!==this.points.length)throw new Error("incorrect number of ratio values");this.ratios=r,this._lut=[]}verify(){const r=this.coordDigest();r!==this._print&&(this._print=r,this.update())}coordDigest(){return this.points.map(function(r,n){return""+n+r.x+r.y+(r.z?r.z:0)}).join("")}update(){this._lut=[],this.dpoints=U.derive(this.points,this._3d),this.computedirection()}computedirection(){const r=this.points,n=U.angle(r[0],r[this.order],r[1]);this.clockwise=n>0}length(){return U.length(this.derivative.bind(this))}static getABC(r=2,n,s,i,a=.5){const o=U.projectionratio(a,r),c=1-o,u={x:o*n.x+c*i.x,y:o*n.y+c*i.y},d=U.abcratio(a,r);return{A:{x:s.x+(s.x-u.x)/d,y:s.y+(s.y-u.y)/d},B:s,C:u,S:n,E:i}}getABC(r,n){n=n||this.get(r);let s=this.points[0],i=this.points[this.order];return xe.getABC(this.order,s,n,i,r)}getLUT(r){if(this.verify(),r=r||100,this._lut.length===r+1)return this._lut;this._lut=[],r++,this._lut=[];for(let n=0,s,i;n<r;n++)i=n/(r-1),s=this.compute(i),s.t=i,this._lut.push(s);return this._lut}on(r,n){n=n||5;const s=this.getLUT(),i=[];for(let a=0,o,c=0;a<s.length;a++)o=s[a],U.dist(o,r)<n&&(i.push(o),c+=a/s.length);return i.length?t/=i.length:!1}project(r){const n=this.getLUT(),s=n.length-1,i=U.closest(n,r),a=i.mpos,o=(a-1)/s,c=(a+1)/s,u=.1/s;let d=i.mdist,h=o,f=h,p;d+=1;for(let m;h<c+u;h+=u)p=this.compute(h),m=U.dist(r,p),m<d&&(d=m,f=h);return f=f<0?0:f>1?1:f,p=this.compute(f),p.t=f,p.d=d,p}get(r){return this.compute(r)}point(r){return this.points[r]}compute(r){return this.ratios?U.computeWithRatios(r,this.points,this.ratios,this._3d):U.compute(r,this.points,this._3d,this.ratios)}raise(){const r=this.points,n=[r[0]],s=r.length;for(let i=1,a,o;i<s;i++)a=r[i],o=r[i-1],n[i]={x:(s-i)/s*a.x+i/s*o.x,y:(s-i)/s*a.y+i/s*o.y};return n[s]=r[s-1],new xe(n)}derivative(r){return U.compute(r,this.dpoints[0],this._3d)}dderivative(r){return U.compute(r,this.dpoints[1],this._3d)}align(){let r=this.points;return new xe(U.align(r,{p1:r[0],p2:r[r.length-1]}))}curvature(r){return U.curvature(r,this.dpoints[0],this.dpoints[1],this._3d)}inflections(){return U.inflections(this.points)}normal(r){return this._3d?this.__normal3(r):this.__normal2(r)}__normal2(r){const n=this.derivative(r),s=en(n.x*n.x+n.y*n.y);return{t:r,x:-n.y/s,y:n.x/s}}__normal3(r){const n=this.derivative(r),s=this.derivative(r+.01),i=en(n.x*n.x+n.y*n.y+n.z*n.z),a=en(s.x*s.x+s.y*s.y+s.z*s.z);n.x/=i,n.y/=i,n.z/=i,s.x/=a,s.y/=a,s.z/=a;const o={x:s.y*n.z-s.z*n.y,y:s.z*n.x-s.x*n.z,z:s.x*n.y-s.y*n.x},c=en(o.x*o.x+o.y*o.y+o.z*o.z);o.x/=c,o.y/=c,o.z/=c;const u=[o.x*o.x,o.x*o.y-o.z,o.x*o.z+o.y,o.x*o.y+o.z,o.y*o.y,o.y*o.z-o.x,o.x*o.z-o.y,o.y*o.z+o.x,o.z*o.z];return{t:r,x:u[0]*n.x+u[1]*n.y+u[2]*n.z,y:u[3]*n.x+u[4]*n.y+u[5]*n.z,z:u[6]*n.x+u[7]*n.y+u[8]*n.z}}hull(r){let n=this.points,s=[],i=[],a=0;for(i[a++]=n[0],i[a++]=n[1],i[a++]=n[2],this.order===3&&(i[a++]=n[3]);n.length>1;){s=[];for(let o=0,c,u=n.length-1;o<u;o++)c=U.lerp(r,n[o],n[o+1]),i[a++]=c,s.push(c);n=s}return i}split(r,n){if(r===0&&n)return this.split(n).left;if(n===1)return this.split(r).right;const s=this.hull(r),i={left:this.order===2?new xe([s[0],s[3],s[5]]):new xe([s[0],s[4],s[7],s[9]]),right:this.order===2?new xe([s[5],s[4],s[2]]):new xe([s[9],s[8],s[6],s[3]]),span:s};return i.left._t1=U.map(0,0,1,this._t1,this._t2),i.left._t2=U.map(r,0,1,this._t1,this._t2),i.right._t1=U.map(r,0,1,this._t1,this._t2),i.right._t2=U.map(1,0,1,this._t1,this._t2),n?(n=U.map(n,r,1,0,1),i.right.split(n).left):i}extrema(){const r={};let n=[];return this.dims.forEach((function(s){let i=function(o){return o[s]},a=this.dpoints[0].map(i);r[s]=U.droots(a),this.order===3&&(a=this.dpoints[1].map(i),r[s]=r[s].concat(U.droots(a))),r[s]=r[s].filter(function(o){return o>=0&&o<=1}),n=n.concat(r[s].sort(U.numberSort))}).bind(this)),r.values=n.sort(U.numberSort).filter(function(s,i){return n.indexOf(s)===i}),r}bbox(){const r=this.extrema(),n={};return this.dims.forEach((function(s){n[s]=U.getminmax(this,s,r[s])}).bind(this)),n}overlaps(r){const n=this.bbox(),s=r.bbox();return U.bboxoverlap(n,s)}offset(r,n){if(typeof n<"u"){const s=this.get(r),i=this.normal(r),a={c:s,n:i,x:s.x+i.x*n,y:s.y+i.y*n};return this._3d&&(a.z=s.z+i.z*n),a}if(this._linear){const s=this.normal(0),i=this.points.map(function(a){const o={x:a.x+r*s.x,y:a.y+r*s.y};return a.z&&s.z&&(o.z=a.z+r*s.z),o});return[new xe(i)]}return this.reduce().map(function(s){return s._linear?s.offset(r)[0]:s.scale(r)})}simple(){if(this.order===3){const i=U.angle(this.points[0],this.points[3],this.points[1]),a=U.angle(this.points[0],this.points[3],this.points[2]);if(i>0&&a<0||i<0&&a>0)return!1}const r=this.normal(0),n=this.normal(1);let s=r.x*n.x+r.y*n.y;return this._3d&&(s+=r.z*n.z),Qr(Ow(s))<Pw/3}reduce(){let r,n=0,s=0,i=.01,a,o=[],c=[],u=this.extrema().values;for(u.indexOf(0)===-1&&(u=[0].concat(u)),u.indexOf(1)===-1&&u.push(1),n=u[0],r=1;r<u.length;r++)s=u[r],a=this.split(n,s),a._t1=n,a._t2=s,o.push(a),n=s;return o.forEach(function(d){for(n=0,s=0;s<=1;)for(s=n+i;s<=1+i;s+=i)if(a=d.split(n,s),!a.simple()){if(s-=i,Qr(n-s)<i)return[];a=d.split(n,s),a._t1=U.map(n,0,1,d._t1,d._t2),a._t2=U.map(s,0,1,d._t1,d._t2),c.push(a),n=s;break}n<1&&(a=d.split(n,1),a._t1=U.map(n,0,1,d._t1,d._t2),a._t2=d._t2,c.push(a))}),c}translate(r,n,s){s=typeof s=="number"?s:n;const i=this.order;let a=this.points.map((o,c)=>(1-c/i)*n+c/i*s);return new xe(this.points.map((o,c)=>({x:o.x+r.x*a[c],y:o.y+r.y*a[c]})))}scale(r){const n=this.order;let s=!1;if(typeof r=="function"&&(s=r),s&&n===2)return this.raise().scale(s);const i=this.clockwise,a=this.points;if(this._linear)return this.translate(this.normal(0),s?s(0):r,s?s(1):r);const o=s?s(0):r,c=s?s(1):r,u=[this.offset(0,10),this.offset(1,10)],d=[],h=U.lli4(u[0],u[0].c,u[1],u[1].c);if(!h)throw new Error("cannot scale this curve. Try reducing it first.");return[0,1].forEach(function(f){const p=d[f*n]=U.copy(a[f*n]);p.x+=(f?c:o)*u[f].n.x,p.y+=(f?c:o)*u[f].n.y}),s?([0,1].forEach(function(f){if(!(n===2&&f)){var p=a[f+1],m={x:p.x-h.x,y:p.y-h.y},g=s?s((f+1)/n):r;s&&!i&&(g=-g);var v=en(m.x*m.x+m.y*m.y);m.x/=v,m.y/=v,d[f+1]={x:p.x+g*m.x,y:p.y+g*m.y}}}),new xe(d)):([0,1].forEach(f=>{if(n===2&&f)return;const p=d[f*n],m=this.derivative(f),g={x:p.x+m.x,y:p.y+m.y};d[f+1]=U.lli4(p,g,h,a[f+1])}),new xe(d))}outline(r,n,s,i){if(n=n===void 0?r:n,this._linear){const _=this.normal(0),N=this.points[0],S=this.points[this.points.length-1];let E,R,k;s===void 0&&(s=r,i=n),E={x:N.x+_.x*r,y:N.y+_.y*r},k={x:S.x+_.x*s,y:S.y+_.y*s},R={x:(E.x+k.x)/2,y:(E.y+k.y)/2};const z=[E,R,k];E={x:N.x-_.x*n,y:N.y-_.y*n},k={x:S.x-_.x*i,y:S.y-_.y*i},R={x:(E.x+k.x)/2,y:(E.y+k.y)/2};const T=[k,R,E],I=U.makeline(T[2],z[0]),C=U.makeline(z[2],T[0]),D=[I,new xe(z),C,new xe(T)];return new fn(D)}const a=this.reduce(),o=a.length,c=[];let u=[],d,h=0,f=this.length();const p=typeof s<"u"&&typeof i<"u";function m(_,N,S,E,R){return function(k){const z=E/S,T=(E+R)/S,I=N-_;return U.map(k,0,1,_+z*I,_+T*I)}}a.forEach(function(_){const N=_.length();p?(c.push(_.scale(m(r,s,f,h,N))),u.push(_.scale(m(-n,-i,f,h,N)))):(c.push(_.scale(r)),u.push(_.scale(-n))),h+=N}),u=u.map(function(_){return d=_.points,d[3]?_.points=[d[3],d[2],d[1],d[0]]:_.points=[d[2],d[1],d[0]],_}).reverse();const g=c[0].points[0],v=c[o-1].points[c[o-1].points.length-1],y=u[o-1].points[u[o-1].points.length-1],x=u[0].points[0],w=U.makeline(y,g),j=U.makeline(v,x),b=[w].concat(c).concat([j]).concat(u);return new fn(b)}outlineshapes(r,n,s){n=n||r;const i=this.outline(r,n).curves,a=[];for(let o=1,c=i.length;o<c/2;o++){const u=U.makeshape(i[o],i[c-o],s);u.startcap.virtual=o>1,u.endcap.virtual=o<c/2-1,a.push(u)}return a}intersects(r,n){return r?r.p1&&r.p2?this.lineIntersects(r):(r instanceof xe&&(r=r.reduce()),this.curveintersects(this.reduce(),r,n)):this.selfintersects(n)}lineIntersects(r){const n=xl(r.p1.x,r.p2.x),s=xl(r.p1.y,r.p2.y),i=yl(r.p1.x,r.p2.x),a=yl(r.p1.y,r.p2.y);return U.roots(this.points,r).filter(o=>{var c=this.get(o);return U.between(c.x,n,i)&&U.between(c.y,s,a)})}selfintersects(r){const n=this.reduce(),s=n.length-2,i=[];for(let a=0,o,c,u;a<s;a++)c=n.slice(a,a+1),u=n.slice(a+2),o=this.curveintersects(c,u,r),i.push(...o);return i}curveintersects(r,n,s){const i=[];r.forEach(function(o){n.forEach(function(c){o.overlaps(c)&&i.push({left:o,right:c})})});let a=[];return i.forEach(function(o){const c=U.pairiteration(o.left,o.right,s);c.length>0&&(a=a.concat(c))}),a}arcs(r){return r=r||.5,this._iterate(r,[])}_error(r,n,s,i){const a=(i-s)/4,o=this.get(s+a),c=this.get(i-a),u=U.dist(r,n),d=U.dist(r,o),h=U.dist(r,c);return Qr(d-u)+Qr(h-u)}_iterate(r,n){let s=0,i=1,a;do{a=0,i=1;let o=this.get(s),c,u,d,h,f=!1,p=!1,m,g=i,v=1;do if(p=f,h=d,g=(s+i)/2,c=this.get(g),u=this.get(i),d=U.getccenter(o,c,u),d.interval={start:s,end:i},f=this._error(d,o,s,i)<=r,m=p&&!f,m||(v=i),f){if(i>=1){if(d.interval.end=v=1,h=d,i>1){let x={x:d.x+d.r*kw(d.e),y:d.y+d.r*Cw(d.e)};d.e+=U.angle({x:d.x,y:d.y},x,this.get(1))}break}i=i+(i-s)/2}else i=g;while(!m&&a++<100);if(a>=100)break;h=h||d,n.push(h),s=v}while(i<1);return n}}function Yi(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Ew(e){if(Array.isArray(e))return e}function Rw(e){if(Array.isArray(e))return Yi(e)}function Dw(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Aw(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function Tw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zw(e,r){if(e==null)return{};var n,s,i=$w(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $w(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.includes(s))continue;n[s]=e[s]}return n}function Lw(e,r){return Ew(e)||Aw(e,r)||Fu(e,r)||Tw()}function Fw(e){return Rw(e)||Dw(e)||Fu(e)||Mw()}function Iw(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Hw(e){var r=Iw(e,"string");return typeof r=="symbol"?r:r+""}function Fu(e,r){if(e){if(typeof e=="string")return Yi(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yi(e,r):void 0}}var Uw=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(r instanceof Array?r.length?r:[void 0]:[r]).map(function(c){return{keyAccessor:c,isProp:!(c instanceof Function)}}),a=e.reduce(function(c,u){var d=c,h=u;return i.forEach(function(f,p){var m=f.keyAccessor,g=f.isProp,v;if(g){var y=h,x=y[m],w=zw(y,[m].map(Hw));v=x,h=w}else v=m(h,p);p+1<i.length?(d.hasOwnProperty(v)||(d[v]={}),d=d[v]):n?(d.hasOwnProperty(v)||(d[v]=[]),d[v].push(h)):d[v]=h}),c},{});n instanceof Function&&function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;d===i.length?Object.keys(u).forEach(function(h){return u[h]=n(u[h])}):Object.values(u).forEach(function(h){return c(h,d+1)})}(a);var o=a;return s&&(o=[],function c(u){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];d.length===i.length?o.push({keys:d,vals:u}):Object.entries(u).forEach(function(h){var f=Lw(h,2),p=f[0],m=f[1];return c(m,[].concat(Fw(d),[p]))})}(a),r instanceof Array&&r.length===0&&o.length===1&&(o[0].keys=[])),o};function Ww(e){for(var r=e.length/6|0,n=new Array(r),s=0;s<r;)n[s]="#"+e.slice(s*6,++s*6);return n}const qw=Ww("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function Bw(e,r){r===void 0&&(r={});var n=r.insertAt;if(!(typeof document>"u")){var s=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&s.firstChild?s.insertBefore(i,s.firstChild):s.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var Vw=`.force-graph-container canvas {
  display: block;
  user-select: none;
  outline: none;
  -webkit-tap-highlight-color: transparent;
}

.force-graph-container .clickable {
  cursor: pointer;
}

.force-graph-container .grabbable {
  cursor: move;
  cursor: grab;
  cursor: -moz-grab;
  cursor: -webkit-grab;
}

.force-graph-container .grabbable:active {
  cursor: grabbing;
  cursor: -moz-grabbing;
  cursor: -webkit-grabbing;
}
`;Bw(Vw);function Xi(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,s=Array(r);n<r;n++)s[n]=e[n];return s}function Gw(e){if(Array.isArray(e))return e}function Yw(e){if(Array.isArray(e))return Xi(e)}function vl(e,r,n){if(Iu())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,r);var i=new(e.bind.apply(e,s));return i}function bn(e,r,n){return(r=e_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Iu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Iu=function(){return!!e})()}function Xw(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Kw(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var s,i,a,o,c=[],u=!0,d=!1;try{if(a=(n=n.call(e)).next,r!==0)for(;!(u=(s=a.call(n)).done)&&(c.push(s.value),c.length!==r);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return c}}function Jw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function gr(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bl(Object(n),!0).forEach(function(s){bn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function hn(e,r){return Gw(e)||Kw(e,r)||Hu(e,r)||Jw()}function rt(e){return Yw(e)||Xw(e)||Hu(e)||Zw()}function Qw(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function e_(e){var r=Qw(e,"string");return typeof r=="symbol"?r:r+""}function Ki(e){"@babel/helpers - typeof";return Ki=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ki(e)}function Hu(e,r){if(e){if(typeof e=="string")return Xi(e,r);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xi(e,r):void 0}}var t_=bf(qw);function wl(e,r,n){!r||typeof n!="string"||e.filter(function(s){return!s[n]}).forEach(function(s){s[n]=t_(r(s))})}function r_(e,r){var n=e.nodes,s=e.links,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.nodeFilter,o=a===void 0?function(){return!0}:a,c=i.onLoopError,u=c===void 0?function(m){throw"Invalid DAG structure! Found cycle in node path: ".concat(m.join(" -> "),".")}:c,d={};n.forEach(function(m){return d[r(m)]={data:m,out:[],depth:-1,skip:!o(m)}}),s.forEach(function(m){var g=m.source,v=m.target,y=b(g),x=b(v);if(!d.hasOwnProperty(y))throw"Missing source node with id: ".concat(y);if(!d.hasOwnProperty(x))throw"Missing target node with id: ".concat(x);var w=d[y],j=d[x];w.out.push(j);function b(_){return Ki(_)==="object"?r(_):_}});var h=[];p(Object.values(d));var f=Object.assign.apply(Object,[{}].concat(rt(Object.entries(d).filter(function(m){var g=hn(m,2),v=g[1];return!v.skip}).map(function(m){var g=hn(m,2),v=g[0],y=g[1];return bn({},v,y.depth)}))));return f;function p(m){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,y=function(){var b=m[x];if(g.indexOf(b)!==-1){var _=[].concat(rt(g.slice(g.indexOf(b))),[b]).map(function(N){return r(N.data)});return h.some(function(N){return N.length===_.length&&N.every(function(S,E){return S===_[E]})})||(h.push(_),u(_)),1}v>b.depth&&(b.depth=v,p(b.out,[].concat(rt(g),[b]),v+(b.skip?0:1)))},x=0,w=m.length;x<w;x++)y()}}var n_=2,De=function(r,n){return n.onNeedsRedraw&&n.onNeedsRedraw()},_l=function(r,n){if(!n.isShadow){var s=fe(n.linkDirectionalParticles);n.graphData.links.forEach(function(i){var a=Math.round(Math.abs(s(i)));a?i.__photons=rt(Array(a)).map(function(){return{}}):delete i.__photons})}},bs=Na({props:{graphData:{default:{nodes:[],links:[]},onChange:function(r,n){n.engineRunning=!1,_l(r,n)}},dagMode:{onChange:function(r,n){!r&&(n.graphData.nodes||[]).forEach(function(s){return s.fx=s.fy=void 0})}},dagLevelDistance:{},dagNodeFilter:{default:function(r){return!0}},onDagError:{triggerUpdate:!1},nodeRelSize:{default:4,triggerUpdate:!1,onChange:De},nodeId:{default:"id"},nodeVal:{default:"val",triggerUpdate:!1,onChange:De},nodeColor:{default:"color",triggerUpdate:!1,onChange:De},nodeAutoColorBy:{},nodeCanvasObject:{triggerUpdate:!1,onChange:De},nodeCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:De},nodeVisibility:{default:!0,triggerUpdate:!1,onChange:De},linkSource:{default:"source"},linkTarget:{default:"target"},linkVisibility:{default:!0,triggerUpdate:!1,onChange:De},linkColor:{default:"color",triggerUpdate:!1,onChange:De},linkAutoColorBy:{},linkLineDash:{triggerUpdate:!1,onChange:De},linkWidth:{default:1,triggerUpdate:!1,onChange:De},linkCurvature:{default:0,triggerUpdate:!1,onChange:De},linkCanvasObject:{triggerUpdate:!1,onChange:De},linkCanvasObjectMode:{default:function(){return"replace"},triggerUpdate:!1,onChange:De},linkDirectionalArrowLength:{default:0,triggerUpdate:!1,onChange:De},linkDirectionalArrowColor:{triggerUpdate:!1,onChange:De},linkDirectionalArrowRelPos:{default:.5,triggerUpdate:!1,onChange:De},linkDirectionalParticles:{default:0,triggerUpdate:!1,onChange:_l},linkDirectionalParticleSpeed:{default:.01,triggerUpdate:!1},linkDirectionalParticleOffset:{default:0,triggerUpdate:!1},linkDirectionalParticleWidth:{default:4,triggerUpdate:!1},linkDirectionalParticleColor:{triggerUpdate:!1},linkDirectionalParticleCanvasObject:{triggerUpdate:!1},globalScale:{default:1,triggerUpdate:!1},d3AlphaMin:{default:0,triggerUpdate:!1},d3AlphaDecay:{default:.0228,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaDecay(r)}},d3AlphaTarget:{default:0,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.alphaTarget(r)}},d3VelocityDecay:{default:.4,triggerUpdate:!1,onChange:function(r,n){n.forceLayout.velocityDecay(r)}},warmupTicks:{default:0,triggerUpdate:!1},cooldownTicks:{default:1/0,triggerUpdate:!1},cooldownTime:{default:15e3,triggerUpdate:!1},onUpdate:{default:function(){},triggerUpdate:!1},onFinishUpdate:{default:function(){},triggerUpdate:!1},onEngineTick:{default:function(){},triggerUpdate:!1},onEngineStop:{default:function(){},triggerUpdate:!1},onNeedsRedraw:{triggerUpdate:!1},isShadow:{default:!1,triggerUpdate:!1}},methods:{d3Force:function(r,n,s){return s===void 0?r.forceLayout.force(n):(r.forceLayout.force(n,s),this)},d3ReheatSimulation:function(r){return r.forceLayout.alpha(1),this.resetCountdown(),this},resetCountdown:function(r){return r.cntTicks=0,r.startTickTime=new Date,r.engineRunning=!0,this},isEngineRunning:function(r){return!!r.engineRunning},tickFrame:function(r){return!r.isShadow&&n(),i(),!r.isShadow&&a(),!r.isShadow&&o(),s(),this;function n(){r.engineRunning&&(++r.cntTicks>r.cooldownTicks||new Date-r.startTickTime>r.cooldownTime||r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin?(r.engineRunning=!1,r.onEngineStop()):(r.forceLayout.tick(),r.onEngineTick()))}function s(){var c=fe(r.nodeVisibility),u=fe(r.nodeVal),d=fe(r.nodeColor),h=fe(r.nodeCanvasObjectMode),f=r.ctx,p=r.isShadow/r.globalScale,m=r.graphData.nodes.filter(c);f.save(),m.forEach(function(g){var v=h(g);if(r.nodeCanvasObject&&(v==="before"||v==="replace")&&(r.nodeCanvasObject(g,f,r.globalScale),v==="replace")){f.restore();return}var y=Math.sqrt(Math.max(0,u(g)||1))*r.nodeRelSize+p;f.beginPath(),f.arc(g.x,g.y,y,0,2*Math.PI,!1),f.fillStyle=d(g)||"rgba(31, 120, 180, 0.92)",f.fill(),r.nodeCanvasObject&&v==="after"&&r.nodeCanvasObject(g,r.ctx,r.globalScale)}),f.restore()}function i(){var c=fe(r.linkVisibility),u=fe(r.linkColor),d=fe(r.linkWidth),h=fe(r.linkLineDash),f=fe(r.linkCurvature),p=fe(r.linkCanvasObjectMode),m=r.ctx,g=r.isShadow*2,v=r.graphData.links.filter(c);v.forEach(N);var y=[],x=[],w=v;if(r.linkCanvasObject){var j=[],b=[];v.forEach(function(S){return({before:y,after:x,replace:j}[p(S)]||b).push(S)}),w=[].concat(rt(y),x,b),y=y.concat(j)}m.save(),y.forEach(function(S){return r.linkCanvasObject(S,m,r.globalScale)}),m.restore();var _=Uw(w,[u,d,h]);m.save(),Object.entries(_).forEach(function(S){var E=hn(S,2),R=E[0],k=E[1],z=!R||R==="undefined"?"rgba(0,0,0,0.15)":R;Object.entries(k).forEach(function(T){var I=hn(T,2),C=I[0],D=I[1],A=(C||1)/r.globalScale+g;Object.entries(D).forEach(function(F){var L=hn(F,2);L[0];var q=L[1],V=h(q[0]);m.beginPath(),q.forEach(function(X){var K=X.source,le=X.target;if(!(!K||!le||!K.hasOwnProperty("x")||!le.hasOwnProperty("x"))){m.moveTo(K.x,K.y);var ie=X.__controlPoints;ie?m[ie.length===2?"quadraticCurveTo":"bezierCurveTo"].apply(m,rt(ie).concat([le.x,le.y])):m.lineTo(le.x,le.y)}}),m.strokeStyle=z,m.lineWidth=A,m.setLineDash(V||[]),m.stroke()})})}),m.restore(),m.save(),x.forEach(function(S){return r.linkCanvasObject(S,m,r.globalScale)}),m.restore();function N(S){var E=f(S);if(!E){S.__controlPoints=null;return}var R=S.source,k=S.target;if(!(!R||!k||!R.hasOwnProperty("x")||!k.hasOwnProperty("x"))){var z=Math.sqrt(Math.pow(k.x-R.x,2)+Math.pow(k.y-R.y,2));if(z>0){var T=Math.atan2(k.y-R.y,k.x-R.x),I=z*E,C={x:(R.x+k.x)/2+I*Math.cos(T-Math.PI/2),y:(R.y+k.y)/2+I*Math.sin(T-Math.PI/2)};S.__controlPoints=[C.x,C.y]}else{var D=E*70;S.__controlPoints=[k.x,k.y-D,k.x+D,k.y]}}}}function a(){var c=1.6,u=.2,d=fe(r.linkDirectionalArrowLength),h=fe(r.linkDirectionalArrowRelPos),f=fe(r.linkVisibility),p=fe(r.linkDirectionalArrowColor||r.linkColor),m=fe(r.nodeVal),g=r.ctx;g.save(),r.graphData.links.filter(f).forEach(function(v){var y=d(v);if(!(!y||y<0)){var x=v.source,w=v.target;if(!(!x||!w||!x.hasOwnProperty("x")||!w.hasOwnProperty("x"))){var j=Math.sqrt(Math.max(0,m(x)||1))*r.nodeRelSize,b=Math.sqrt(Math.max(0,m(w)||1))*r.nodeRelSize,_=Math.min(1,Math.max(0,h(v))),N=p(v)||"rgba(0,0,0,0.28)",S=y/c/2,E=v.__controlPoints&&vl(xe,[x.x,x.y].concat(rt(v.__controlPoints),[w.x,w.y])),R=E?function(A){return E.get(A)}:function(A){return{x:x.x+(w.x-x.x)*A||0,y:x.y+(w.y-x.y)*A||0}},k=E?E.length():Math.sqrt(Math.pow(w.x-x.x,2)+Math.pow(w.y-x.y,2)),z=j+y+(k-j-b-y)*_,T=R(z/k),I=R((z-y)/k),C=R((z-y*(1-u))/k),D=Math.atan2(T.y-I.y,T.x-I.x)-Math.PI/2;g.beginPath(),g.moveTo(T.x,T.y),g.lineTo(I.x+S*Math.cos(D),I.y+S*Math.sin(D)),g.lineTo(C.x,C.y),g.lineTo(I.x-S*Math.cos(D),I.y-S*Math.sin(D)),g.fillStyle=N,g.fill()}}}),g.restore()}function o(){var c=fe(r.linkDirectionalParticles),u=fe(r.linkDirectionalParticleSpeed),d=fe(r.linkDirectionalParticleOffset),h=fe(r.linkDirectionalParticleWidth),f=fe(r.linkVisibility),p=fe(r.linkDirectionalParticleColor||r.linkColor),m=r.ctx;m.save(),r.graphData.links.filter(f).forEach(function(g){var v=c(g);if(!(!g.hasOwnProperty("__photons")||!g.__photons.length)){var y=g.source,x=g.target;if(!(!y||!x||!y.hasOwnProperty("x")||!x.hasOwnProperty("x"))){var w=u(g),j=Math.abs(d(g)),b=g.__photons||[],_=Math.max(0,h(g)/2)/Math.sqrt(r.globalScale),N=p(g)||"rgba(0,0,0,0.28)";m.fillStyle=N;var S=g.__controlPoints?vl(xe,[y.x,y.y].concat(rt(g.__controlPoints),[x.x,x.y])):null,E=0,R=!1;b.forEach(function(k){var z=!!k.__singleHop;if(k.hasOwnProperty("__progressRatio")||(k.__progressRatio=z?0:(E+j)/v),!z&&E++,k.__progressRatio+=w,k.__progressRatio>=1)if(!z)k.__progressRatio=k.__progressRatio%1;else{R=!0;return}var T=k.__progressRatio,I=S?S.get(T):{x:y.x+(x.x-y.x)*T||0,y:y.y+(x.y-y.y)*T||0};r.linkDirectionalParticleCanvasObject?r.linkDirectionalParticleCanvasObject(I.x,I.y,g,m,r.globalScale):(m.beginPath(),m.arc(I.x,I.y,_,0,2*Math.PI,!1),m.fill())}),R&&(g.__photons=g.__photons.filter(function(k){return!k.__singleHop||k.__progressRatio<=1}))}}}),m.restore()}},emitParticle:function(r,n){return n&&(!n.__photons&&(n.__photons=[]),n.__photons.push({__singleHop:!0})),this}},stateInit:function(){return{forceLayout:bw().force("link",fw()).force("charge",ww()).force("center",pb()).force("dagRadial",null).stop(),engineRunning:!1}},init:function(r,n){n.ctx=r},update:function(r,n){r.engineRunning=!1,r.onUpdate(),r.nodeAutoColorBy!==null&&wl(r.graphData.nodes,fe(r.nodeAutoColorBy),r.nodeColor),r.linkAutoColorBy!==null&&wl(r.graphData.links,fe(r.linkAutoColorBy),r.linkColor),r.graphData.links.forEach(function(p){p.source=p[r.linkSource],p.target=p[r.linkTarget]}),r.forceLayout.stop().alpha(1).nodes(r.graphData.nodes);var s=r.forceLayout.force("link");s&&s.id(function(p){return p[r.nodeId]}).links(r.graphData.links);var i=r.dagMode&&r_(r.graphData,function(p){return p[r.nodeId]},{nodeFilter:r.dagNodeFilter,onLoopError:r.onDagError||void 0}),a=Math.max.apply(Math,rt(Object.values(i||[]))),o=r.dagLevelDistance||r.graphData.nodes.length/(a||1)*n_*(["radialin","radialout"].indexOf(r.dagMode)!==-1?.7:1);if(["lr","rl","td","bu"].includes(n.dagMode)){var c=["lr","rl"].includes(n.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(p){return delete p[c]})}if(["lr","rl","td","bu"].includes(r.dagMode)){var u=["rl","bu"].includes(r.dagMode),d=function(m){return(i[m[r.nodeId]]-a/2)*o*(u?-1:1)},h=["lr","rl"].includes(r.dagMode)?"fx":"fy";r.graphData.nodes.filter(r.dagNodeFilter).forEach(function(p){return p[h]=d(p)})}r.forceLayout.force("dagRadial",["radialin","radialout"].indexOf(r.dagMode)!==-1?_w(function(p){var m=i[p[r.nodeId]]||-1;return(r.dagMode==="radialin"?a-m:m)*o}).strength(function(p){return r.dagNodeFilter(p)?1:0}):null);for(var f=0;f<r.warmupTicks&&!(r.d3AlphaMin>0&&r.forceLayout.alpha()<r.d3AlphaMin);f++)r.forceLayout.tick();this.resetCountdown(),r.onFinishUpdate()}});function Uu(e,r){var n=e instanceof Array?e:[e],s=new r;return s._destructor&&s._destructor(),{linkProp:function(a){return{default:s[a](),onChange:function(c,u){n.forEach(function(d){return u[d][a](c)})},triggerUpdate:!1}},linkMethod:function(a){return function(o){for(var c=arguments.length,u=new Array(c>1?c-1:0),d=1;d<c;d++)u[d-1]=arguments[d];var h=[];return n.forEach(function(f){var p=o[f],m=p[a].apply(p,u);m!==p&&h.push(m)}),h.length?h[0]:this}}}}var s_=800,i_=4,a_=5,Wu=Uu("forceGraph",bs),o_=Uu(["forceGraph","shadowGraph"],bs),l_=Object.assign.apply(Object,rt(["nodeColor","nodeAutoColorBy","nodeCanvasObject","nodeCanvasObjectMode","linkColor","linkAutoColorBy","linkLineDash","linkWidth","linkCanvasObject","linkCanvasObjectMode","linkDirectionalArrowLength","linkDirectionalArrowColor","linkDirectionalArrowRelPos","linkDirectionalParticles","linkDirectionalParticleSpeed","linkDirectionalParticleOffset","linkDirectionalParticleWidth","linkDirectionalParticleColor","linkDirectionalParticleCanvasObject","dagMode","dagLevelDistance","dagNodeFilter","onDagError","d3AlphaMin","d3AlphaDecay","d3VelocityDecay","warmupTicks","cooldownTicks","cooldownTime","onEngineTick","onEngineStop"].map(function(e){return bn({},e,Wu.linkProp(e))})).concat(rt(["nodeRelSize","nodeId","nodeVal","nodeVisibility","linkSource","linkTarget","linkVisibility","linkCurvature"].map(function(e){return bn({},e,o_.linkProp(e))})))),c_=Object.assign.apply(Object,rt(["d3Force","d3ReheatSimulation","emitParticle"].map(function(e){return bn({},e,Wu.linkMethod(e))})));function mi(e){if(e.canvas){var r=e.canvas.width,n=e.canvas.height;r===300&&n===150&&(r=n=0);var s=window.devicePixelRatio;r/=s,n/=s,[e.canvas,e.shadowCanvas].forEach(function(a){a.style.width="".concat(e.width,"px"),a.style.height="".concat(e.height,"px"),a.width=e.width*s,a.height=e.height*s,!r&&!n&&a.getContext("2d").scale(s,s)});var i=ht(e.canvas).k;e.zoom.translateBy(e.zoom.__baseElem,(e.width-r)/2/i,(e.height-n)/2/i),e.needsRedraw=!0}}function qu(e){var r=window.devicePixelRatio;e.setTransform(r,0,0,r,0,0)}function jl(e,r,n){e.save(),qu(e),e.clearRect(0,0,r,n),e.restore()}var u_=Na({props:gr({width:{default:window.innerWidth,onChange:function(r,n){return mi(n)},triggerUpdate:!1},height:{default:window.innerHeight,onChange:function(r,n){return mi(n)},triggerUpdate:!1},graphData:{default:{nodes:[],links:[]},onChange:function(r,n){[r.nodes,r.links].every(function(i){return(i||[]).every(function(a){return!a.hasOwnProperty("__indexColor")})})&&n.colorTracker.reset(),[{type:"Node",objs:r.nodes},{type:"Link",objs:r.links}].forEach(s),n.forceGraph.graphData(r),n.shadowGraph.graphData(r);function s(i){var a=i.type,o=i.objs;o.filter(function(c){if(!c.hasOwnProperty("__indexColor"))return!0;var u=n.colorTracker.lookup(c.__indexColor);return!u||!u.hasOwnProperty("d")||u.d!==c}).forEach(function(c){c.__indexColor=n.colorTracker.register({type:a,d:c})})}},triggerUpdate:!1},backgroundColor:{onChange:function(r,n){n.canvas&&r&&(n.canvas.style.background=r)},triggerUpdate:!1},nodeLabel:{default:"name",triggerUpdate:!1},nodePointerAreaPaint:{onChange:function(r,n){n.shadowGraph.nodeCanvasObject(r?function(s,i,a){return r(s,s.__indexColor,i,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkPointerAreaPaint:{onChange:function(r,n){n.shadowGraph.linkCanvasObject(r?function(s,i,a){return r(s,s.__indexColor,i,a)}:null),n.flushShadowCanvas&&n.flushShadowCanvas()},triggerUpdate:!1},linkLabel:{default:"name",triggerUpdate:!1},linkHoverPrecision:{default:4,triggerUpdate:!1},minZoom:{default:.01,onChange:function(r,n){n.zoom.scaleExtent([r,n.zoom.scaleExtent()[1]])},triggerUpdate:!1},maxZoom:{default:1e3,onChange:function(r,n){n.zoom.scaleExtent([n.zoom.scaleExtent()[0],r])},triggerUpdate:!1},enableNodeDrag:{default:!0,triggerUpdate:!1},enableZoomInteraction:{default:!0,triggerUpdate:!1},enablePanInteraction:{default:!0,triggerUpdate:!1},enableZoomPanInteraction:{default:!0,triggerUpdate:!1},enablePointerInteraction:{default:!0,onChange:function(r,n){n.hoverObj=null},triggerUpdate:!1},autoPauseRedraw:{default:!0,triggerUpdate:!1},onNodeDrag:{default:function(){},triggerUpdate:!1},onNodeDragEnd:{default:function(){},triggerUpdate:!1},onNodeClick:{triggerUpdate:!1},onNodeRightClick:{triggerUpdate:!1},onNodeHover:{triggerUpdate:!1},onLinkClick:{triggerUpdate:!1},onLinkRightClick:{triggerUpdate:!1},onLinkHover:{triggerUpdate:!1},onBackgroundClick:{triggerUpdate:!1},onBackgroundRightClick:{triggerUpdate:!1},showPointerCursor:{default:!0,triggerUpdate:!1},onZoom:{triggerUpdate:!1},onZoomEnd:{triggerUpdate:!1},onRenderFramePre:{triggerUpdate:!1},onRenderFramePost:{triggerUpdate:!1}},l_),aliases:{stopAnimation:"pauseAnimation"},methods:gr({graph2ScreenCoords:function(r,n,s){var i=ht(r.canvas);return{x:n*i.k+i.x,y:s*i.k+i.y}},screen2GraphCoords:function(r,n,s){var i=ht(r.canvas);return{x:(n-i.x)/i.k,y:(s-i.y)/i.k}},centerAt:function(r,n,s,i){if(!r.canvas)return null;if(n!==void 0||s!==void 0){var a=Object.assign({},n!==void 0?{x:n}:{},s!==void 0?{y:s}:{});return i?r.tweenGroup.add(new Go(o()).to(a,i).easing(ar.Quadratic.Out).onUpdate(c).start()):c(a),this}return o();function o(){var u=ht(r.canvas);return{x:(r.width/2-u.x)/u.k,y:(r.height/2-u.y)/u.k}}function c(u){var d=u.x,h=u.y;r.zoom.translateTo(r.zoom.__baseElem,d===void 0?o().x:d,h===void 0?o().y:h),r.needsRedraw=!0}},zoom:function(r,n,s){if(!r.canvas)return null;if(n!==void 0)return s?r.tweenGroup.add(new Go({k:i()}).to({k:n},s).easing(ar.Quadratic.Out).onUpdate(function(o){var c=o.k;return a(c)}).start()):a(n),this;return i();function i(){return ht(r.canvas).k}function a(o){r.zoom.scaleTo(r.zoom.__baseElem,o),r.needsRedraw=!0}},zoomToFit:function(r){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:10,i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];var c=this.getGraphBbox.apply(this,a);if(c){var u={x:(c.x[0]+c.x[1])/2,y:(c.y[0]+c.y[1])/2},d=Math.max(1e-12,Math.min(1e12,(r.width-s*2)/(c.x[1]-c.x[0]),(r.height-s*2)/(c.y[1]-c.y[0])));this.centerAt(u.x,u.y,n),this.zoom(d,n)}return this},getGraphBbox:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0},s=fe(r.nodeVal),i=function(c){return Math.sqrt(Math.max(0,s(c)||1))*r.nodeRelSize},a=r.graphData.nodes.filter(n).map(function(o){return{x:o.x,y:o.y,r:i(o)}});return a.length?{x:[oo(a,function(o){return o.x-o.r}),lo(a,function(o){return o.x+o.r})],y:[oo(a,function(o){return o.y-o.r}),lo(a,function(o){return o.y+o.r})]}:null},pauseAnimation:function(r){return r.animationFrameRequestId&&(cancelAnimationFrame(r.animationFrameRequestId),r.animationFrameRequestId=null),this},resumeAnimation:function(r){return r.animationFrameRequestId||this._animationCycle(),this},_destructor:function(){this.pauseAnimation(),this.graphData({nodes:[],links:[]})}},c_),stateInit:function(){return{lastSetZoom:1,zoom:k0(),forceGraph:new bs,shadowGraph:new bs().cooldownTicks(0).nodeColor("__indexColor").linkColor("__indexColor").isShadow(!0),colorTracker:new Vv,tweenGroup:new hu}},init:function(r,n){var s=this;r.innerHTML="";var i=document.createElement("div");i.classList.add("force-graph-container"),i.style.position="relative",r.appendChild(i),n.canvas=document.createElement("canvas"),n.backgroundColor&&(n.canvas.style.background=n.backgroundColor),i.appendChild(n.canvas),n.shadowCanvas=document.createElement("canvas");var a=n.canvas.getContext("2d"),o=n.shadowCanvas.getContext("2d",{willReadFrequently:!0}),c={x:-1e12,y:-1e12},u=function(){var f=null,p=window.devicePixelRatio,m=c.x>0&&c.y>0?o.getImageData(c.x*p,c.y*p,1,1):null;return m&&(f=n.colorTracker.lookup(m.data)),f};tt(n.canvas).call(ly().subject(function(){if(!n.enableNodeDrag)return null;var h=u();return h&&h.type==="Node"?h.d:null}).on("start",function(h){var f=h.subject;f.__initialDragPos={x:f.x,y:f.y,fx:f.fx,fy:f.fy},h.active||(f.fx=f.x,f.fy=f.y),n.canvas.classList.add("grabbable")}).on("drag",function(h){var f=h.subject,p=f.__initialDragPos,m=h,g=ht(n.canvas).k,v={x:p.x+(m.x-p.x)/g-f.x,y:p.y+(m.y-p.y)/g-f.y};["x","y"].forEach(function(y){return f["f".concat(y)]=f[y]=p[y]+(m[y]-p[y])/g}),!(!f.__dragged&&a_>=Math.sqrt(wf(["x","y"].map(function(y){return Math.pow(h[y]-p[y],2)}))))&&(n.forceGraph.d3AlphaTarget(.3).resetCountdown(),n.isPointerDragging=!0,f.__dragged=!0,n.onNodeDrag(f,v))}).on("end",function(h){var f=h.subject,p=f.__initialDragPos,m={x:f.x-p.x,y:f.y-p.y};p.fx===void 0&&(f.fx=void 0),p.fy===void 0&&(f.fy=void 0),delete f.__initialDragPos,n.forceGraph.d3AlphaTarget()&&n.forceGraph.d3AlphaTarget(0).resetCountdown(),n.canvas.classList.remove("grabbable"),n.isPointerDragging=!1,f.__dragged&&(delete f.__dragged,n.onNodeDragEnd(f,m))})),n.zoom(n.zoom.__baseElem=tt(n.canvas)),n.zoom.__baseElem.on("dblclick.zoom",null),n.zoom.filter(function(h){return!h.button&&n.enableZoomPanInteraction&&(h.type!=="wheel"||fe(n.enableZoomInteraction)(h))&&(h.type==="wheel"||fe(n.enablePanInteraction)(h))}).on("zoom",function(h){var f=h.transform;[a,o].forEach(function(p){qu(p),p.translate(f.x,f.y),p.scale(f.k,f.k)}),n.isPointerDragging=!0,n.onZoom&&n.onZoom(gr(gr({},f),s.centerAt())),n.needsRedraw=!0}).on("end",function(h){n.isPointerDragging=!1,n.onZoomEnd&&n.onZoomEnd(gr(gr({},h.transform),s.centerAt()))}),mi(n),n.forceGraph.onNeedsRedraw(function(){return n.needsRedraw=!0}).onFinishUpdate(function(){ht(n.canvas).k===n.lastSetZoom&&n.graphData.nodes.length&&(n.zoom.scaleTo(n.zoom.__baseElem,n.lastSetZoom=i_/Math.cbrt(n.graphData.nodes.length)),n.needsRedraw=!0)}),n.tooltip=new hb(i),["pointermove","pointerdown"].forEach(function(h){return i.addEventListener(h,function(f){h==="pointerdown"&&(n.isPointerPressed=!0,n.pointerDownEvent=f),!n.isPointerDragging&&f.type==="pointermove"&&n.onBackgroundClick&&(f.pressure>0||n.isPointerPressed)&&(f.pointerType==="mouse"||f.movementX===void 0||[f.movementX,f.movementY].some(function(g){return Math.abs(g)>1}))&&(n.isPointerDragging=!0);var p=m(i);c.x=f.pageX-p.left,c.y=f.pageY-p.top;function m(g){var v=g.getBoundingClientRect(),y=window.pageXOffset||document.documentElement.scrollLeft,x=window.pageYOffset||document.documentElement.scrollTop;return{top:v.top+x,left:v.left+y}}},{passive:!0})}),i.addEventListener("pointerup",function(h){if(n.isPointerPressed){if(n.isPointerPressed=!1,n.isPointerDragging){n.isPointerDragging=!1;return}var f=[h,n.pointerDownEvent];requestAnimationFrame(function(){if(h.button===0)if(n.hoverObj){var p=n["on".concat(n.hoverObj.type,"Click")];p&&p.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundClick&&n.onBackgroundClick.apply(n,f);if(h.button===2)if(n.hoverObj){var m=n["on".concat(n.hoverObj.type,"RightClick")];m&&m.apply(void 0,[n.hoverObj.d].concat(f))}else n.onBackgroundRightClick&&n.onBackgroundRightClick.apply(n,f)})}},{passive:!0}),i.addEventListener("contextmenu",function(h){return!n.onBackgroundRightClick&&!n.onNodeRightClick&&!n.onLinkRightClick?!0:(h.preventDefault(),!1)}),n.forceGraph(a),n.shadowGraph(o);var d=Q0(function(){jl(o,n.width,n.height),n.shadowGraph.linkWidth(function(f){return fe(n.linkWidth)(f)+n.linkHoverPrecision});var h=ht(n.canvas);n.shadowGraph.globalScale(h.k).tickFrame()},s_);n.flushShadowCanvas=d.flush,(this._animationCycle=function h(){var f=!n.autoPauseRedraw||!!n.needsRedraw||n.forceGraph.isEngineRunning()||n.graphData.links.some(function(j){return j.__photons&&j.__photons.length});if(n.needsRedraw=!1,n.enablePointerInteraction){var p=n.isPointerDragging?null:u();if(p!==n.hoverObj){var m=n.hoverObj,g=m?m.type:null,v=p?p.type:null;if(g&&g!==v){var y=n["on".concat(g,"Hover")];y&&y(null,m.d)}if(v){var x=n["on".concat(v,"Hover")];x&&x(p.d,g===v?m.d:null)}n.tooltip.content(p&&fe(n["".concat(p.type.toLowerCase(),"Label")])(p.d)||null),n.canvas.classList[(p&&n["on".concat(v,"Click")]||!p&&n.onBackgroundClick)&&fe(n.showPointerCursor)(p==null?void 0:p.d)?"add":"remove"]("clickable"),n.hoverObj=p}f&&d()}if(f){jl(a,n.width,n.height);var w=ht(n.canvas).k;n.onRenderFramePre&&n.onRenderFramePre(a,w),n.forceGraph.globalScale(w).tickFrame(),n.onRenderFramePost&&n.onRenderFramePost(a,w)}n.tweenGroup.update(),n.animationFrameRequestId=requestAnimationFrame(h)})()},update:function(r){}});const Us={width:P.number,height:P.number,graphData:P.shape({nodes:P.arrayOf(P.object).isRequired,links:P.arrayOf(P.object).isRequired}),backgroundColor:P.string,nodeRelSize:P.number,nodeId:P.string,nodeLabel:P.oneOfType([P.string,P.func]),nodeVal:P.oneOfType([P.number,P.string,P.func]),nodeVisibility:P.oneOfType([P.bool,P.string,P.func]),nodeColor:P.oneOfType([P.string,P.func]),nodeAutoColorBy:P.oneOfType([P.string,P.func]),onNodeHover:P.func,onNodeClick:P.func,linkSource:P.string,linkTarget:P.string,linkLabel:P.oneOfType([P.string,P.func]),linkVisibility:P.oneOfType([P.bool,P.string,P.func]),linkColor:P.oneOfType([P.string,P.func]),linkAutoColorBy:P.oneOfType([P.string,P.func]),linkWidth:P.oneOfType([P.number,P.string,P.func]),linkCurvature:P.oneOfType([P.number,P.string,P.func]),linkDirectionalArrowLength:P.oneOfType([P.number,P.string,P.func]),linkDirectionalArrowColor:P.oneOfType([P.string,P.func]),linkDirectionalArrowRelPos:P.oneOfType([P.number,P.string,P.func]),linkDirectionalParticles:P.oneOfType([P.number,P.string,P.func]),linkDirectionalParticleSpeed:P.oneOfType([P.number,P.string,P.func]),linkDirectionalParticleOffset:P.oneOfType([P.number,P.string,P.func]),linkDirectionalParticleWidth:P.oneOfType([P.number,P.string,P.func]),linkDirectionalParticleColor:P.oneOfType([P.string,P.func]),onLinkHover:P.func,onLinkClick:P.func,dagMode:P.oneOf(["td","bu","lr","rl","zin","zout","radialin","radialout"]),dagLevelDistance:P.number,dagNodeFilter:P.func,onDagError:P.func,d3AlphaMin:P.number,d3AlphaDecay:P.number,d3VelocityDecay:P.number,warmupTicks:P.number,cooldownTicks:P.number,cooldownTime:P.number,onEngineTick:P.func,onEngineStop:P.func,getGraphBbox:P.func},Bu={zoomToFit:P.func,onNodeRightClick:P.func,onNodeDrag:P.func,onNodeDragEnd:P.func,onLinkRightClick:P.func,linkHoverPrecision:P.number,onBackgroundClick:P.func,onBackgroundRightClick:P.func,showPointerCursor:P.oneOfType([P.bool,P.func]),enablePointerInteraction:P.bool,enableNodeDrag:P.bool},Da={showNavInfo:P.bool,nodeOpacity:P.number,nodeResolution:P.number,nodeThreeObject:P.oneOfType([P.object,P.string,P.func]),nodeThreeObjectExtend:P.oneOfType([P.bool,P.string,P.func]),nodePositionUpdate:P.func,linkOpacity:P.number,linkResolution:P.number,linkCurveRotation:P.oneOfType([P.number,P.string,P.func]),linkMaterial:P.oneOfType([P.object,P.string,P.func]),linkThreeObject:P.oneOfType([P.object,P.string,P.func]),linkThreeObjectExtend:P.oneOfType([P.bool,P.string,P.func]),linkPositionUpdate:P.func,linkDirectionalArrowResolution:P.number,linkDirectionalParticleResolution:P.number,linkDirectionalParticleThreeObject:P.oneOfType([P.object,P.string,P.func]),forceEngine:P.oneOf(["d3","ngraph"]),ngraphPhysics:P.object,numDimensions:P.oneOf([1,2,3])},d_=Object.assign({},Us,Bu,{linkLineDash:P.oneOfType([P.arrayOf(P.number),P.string,P.func]),nodeCanvasObjectMode:P.oneOfType([P.string,P.func]),nodeCanvasObject:P.func,nodePointerAreaPaint:P.func,linkCanvasObjectMode:P.oneOfType([P.string,P.func]),linkCanvasObject:P.func,linkPointerAreaPaint:P.func,linkDirectionalParticleCanvasObject:P.func,autoPauseRedraw:P.bool,minZoom:P.number,maxZoom:P.number,enableZoomInteraction:P.oneOfType([P.bool,P.func]),enablePanInteraction:P.oneOfType([P.bool,P.func]),onZoom:P.func,onZoomEnd:P.func,onRenderFramePre:P.func,onRenderFramePost:P.func});Object.assign({},Us,Bu,Da,{enableNavigationControls:P.bool,controlType:P.oneOf(["trackball","orbit","fly"]),rendererConfig:P.object,extraRenderers:P.arrayOf(P.shape({render:P.func.isRequired}))});Object.assign({},Us,Da,{nodeDesc:P.oneOfType([P.string,P.func]),linkDesc:P.oneOfType([P.string,P.func])});Object.assign({},Us,Da,{markerAttrs:P.object,yOffset:P.number,glScale:P.number});const Aa=bg(u_,{methodNames:["emitParticle","d3Force","d3ReheatSimulation","stopAnimation","pauseAnimation","resumeAnimation","centerAt","zoom","zoomToFit","getGraphBbox","screen2GraphCoords","graph2ScreenCoords"]});Aa.displayName="ForceGraph2D";Aa.propTypes=d_;const f_=({scanId:e})=>{const[r,n]=O.useState(null),[s,i]=O.useState(!0),[a,o]=O.useState(null),[c,u]=O.useState(null),[d,h]=O.useState(""),[f,p]=O.useState(!1),m=O.useRef(),g=O.useRef(null);O.useEffect(()=>{(async()=>{try{i(!0);const z=localStorage.getItem("token"),T=await fetch(`/api/scans/${e}/topology`,{headers:{Authorization:`Bearer ${z}`}});if(!T.ok)throw new Error("Failed to fetch topology data");const I=await T.json();n(I)}catch(z){o(z instanceof Error?z.message:"Unknown error")}finally{i(!1)}})()},[e]);const v=k=>k.critical_vulns>0||k.risk_score>=75?"#ef4444":k.high_vulns>0||k.risk_score>=50?"#f97316":k.risk_score>=25?"#eab308":"#22c55e",y=k=>{const T=Math.min(k.open_ports_count/10,3),I=Math.min(k.vuln_count/5,3),C=k.is_gateway?3:0;return 5+T+I+C},x=k=>{switch(k){case"server":return l.jsx(Tt,{className:"w-4 h-4"});case"workstation":return l.jsx(nf,{className:"w-4 h-4"});case"network":return l.jsx(os,{className:"w-4 h-4"});case"gateway":return l.jsx(to,{className:"w-4 h-4"});default:return l.jsx(Yl,{className:"w-4 h-4"})}},w=k=>{switch(k.relationship_type){case"gateway":return"#3b82f6";case"shared_service":return"#8b5cf6";case"same_subnet":return"#6b7280";default:return"#6b7280"}},j=O.useCallback(k=>{u(k)},[]),b=()=>{if(m.current){const k=m.current.zoom();m.current.zoom(k*1.3,400)}},_=()=>{if(m.current){const k=m.current.zoom();m.current.zoom(k/1.3,400)}},N=()=>{if(!r||!d)return;const k=r.nodes.find(z=>{var T;return z.ip.includes(d)||((T=z.hostname)==null?void 0:T.toLowerCase().includes(d.toLowerCase()))});if(k&&m.current){const z=k;m.current.centerAt(z.x,z.y,1e3),m.current.zoom(3,1e3),u(k)}},S=()=>{p(!f)};if(s)return l.jsx(re,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),l.jsx("span",{className:"ml-4 text-gray-600 dark:text-gray-400",children:"Loading network topology..."})]})});if(a)return l.jsx(re,{className:"p-8",children:l.jsx("div",{className:"text-center text-red-600 dark:text-red-400",children:l.jsxs("p",{children:["Failed to load topology: ",a]})})});if(!r||r.nodes.length===0)return l.jsx(re,{className:"p-8",children:l.jsxs("div",{className:"text-center text-gray-600 dark:text-gray-400",children:[l.jsx(os,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No topology data available for this scan."})]})});const E={nodes:r.nodes.map(k=>({...k,color:v(k),size:y(k)})),links:r.edges.map(k=>({...k,color:w(k)}))},R=f?"fixed inset-0 z-50 bg-gray-900":"relative";return l.jsx("div",{ref:g,className:R,children:l.jsxs(re,{className:f?"h-full rounded-none":"h-[600px]",children:[l.jsxs("div",{className:"absolute top-4 left-4 z-10 flex flex-col gap-2",children:[l.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[l.jsx("input",{type:"text",placeholder:"Search IP or hostname...",value:d,onChange:k=>h(k.target.value),onKeyPress:k=>k.key==="Enter"&&N(),className:"px-3 py-2 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}),l.jsx("button",{onClick:N,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:l.jsx(Os,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex gap-2 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-2",children:[l.jsx("button",{onClick:b,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom In",children:l.jsx(ef,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),l.jsx("button",{onClick:_,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:"Zoom Out",children:l.jsx(tf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})}),l.jsx("button",{onClick:S,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors",title:f?"Exit Fullscreen":"Fullscreen",children:f?l.jsx(Pr,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"}):l.jsx(rf,{className:"w-5 h-5 text-gray-700 dark:text-gray-300"})})]})]}),l.jsxs("div",{className:"absolute top-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[l.jsx("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:"Legend"}),l.jsxs("div",{className:"space-y-2 text-xs",children:[l.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Risk Level"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-green-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Low (0-25)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-yellow-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Medium (25-50)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-orange-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"High (50-75)"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Critical (75+)"})]}),l.jsxs("div",{className:"mt-3 pt-2 border-t border-gray-200 dark:border-gray-700",children:[l.jsx("div",{className:"font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Connections"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-0.5 bg-blue-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Gateway"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-0.5 bg-purple-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Shared Service"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-0.5 bg-gray-500"}),l.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Same Subnet"})]})]})]})]}),c&&l.jsxs("div",{className:"absolute bottom-4 left-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-sm",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[x(c.node_type),l.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:c.hostname||c.ip})]}),l.jsx("button",{onClick:()=>u(null),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300",children:l.jsx(Pr,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"space-y-1 text-xs text-gray-600 dark:text-gray-400",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"IP:"})," ",c.ip]}),c.os&&l.jsxs("div",{children:[l.jsx("strong",{children:"OS:"})," ",c.os]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Subnet:"})," ",c.subnet]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Open Ports:"})," ",c.open_ports_count]}),c.vuln_count>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Vulnerabilities:"})," ",c.vuln_count]}),c.critical_vulns>0&&l.jsxs("div",{className:"text-red-600 dark:text-red-400",children:["Critical: ",c.critical_vulns]}),c.high_vulns>0&&l.jsxs("div",{className:"text-orange-600 dark:text-orange-400",children:["High: ",c.high_vulns]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Risk Score:"})," ",c.risk_score.toFixed(1)]})]}),c.is_gateway&&l.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200 dark:border-gray-700",children:l.jsxs("span",{className:"inline-flex items-center px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs font-medium",children:[l.jsx(to,{className:"w-3 h-3 mr-1"}),"Gateway"]})})]})]}),l.jsxs("div",{className:"absolute bottom-4 right-4 z-10 bg-white dark:bg-gray-800 rounded-lg shadow-lg p-4 max-w-xs",children:[l.jsxs("h3",{className:"text-sm font-semibold mb-2 text-gray-900 dark:text-white",children:["Subnets (",r.subnets.length,")"]}),l.jsx("div",{className:"space-y-1 text-xs max-h-32 overflow-y-auto",children:r.subnets.map(k=>l.jsxs("div",{className:"flex justify-between text-gray-600 dark:text-gray-400",children:[l.jsx("span",{className:"font-mono",children:k.subnet}),l.jsxs("span",{className:"text-gray-500 dark:text-gray-500",children:[k.host_count," ",k.host_count===1?"host":"hosts"]})]},k.subnet))})]}),l.jsx(Aa,{ref:m,graphData:E,nodeLabel:k=>`${k.hostname||k.ip}
${k.os||""}
Risk: ${k.risk_score.toFixed(1)}`,nodeColor:k=>k.color,nodeVal:k=>k.size,linkColor:k=>k.color,linkWidth:k=>k.strength*2,linkDirectionalParticles:k=>k.relationship_type==="gateway"?2:0,linkDirectionalParticleSpeed:.005,onNodeClick:j,nodeCanvasObject:(k,z,T)=>{const I=k.hostname||k.ip,C=12/T;z.font=`${C}px Sans-Serif`,z.beginPath(),z.arc(k.x,k.y,k.size,0,2*Math.PI,!1),z.fillStyle=k.color,z.fill(),k.is_gateway&&(z.strokeStyle="#3b82f6",z.lineWidth=2/T,z.stroke()),T>1.5&&(z.textAlign="center",z.textBaseline="middle",z.fillStyle="rgba(255, 255, 255, 0.9)",z.fillText(I,k.x,k.y+k.size+C+2))},enableNodeDrag:!0,enableZoomInteraction:!0,enablePanInteraction:!0,cooldownTicks:100,onEngineStop:()=>{var k;return(k=m.current)==null?void 0:k.zoomToFit(400)}})]})})},h_=()=>{const{activeScan:e,results:r}=xt(),[n,s]=O.useState(!1),[i,a]=O.useState(null),[o,c]=O.useState(""),[u,d]=O.useState("risk"),[h,f]=O.useState("all"),[p,m]=O.useState(!1),[g,v]=O.useState(!1),[y,x]=O.useState(!1),[w,j]=O.useState(0),[b,_]=O.useState("results"),[N,S]=O.useState(!1),E=e?r.get(e.id)||[]:[];O.useEffect(()=>{e&&e.status==="completed"&&E.length===0&&R()},[e]);const R=async()=>{if(e){s(!0);try{const D=await ir.getResults(e.id);xt.getState().setResults(e.id,D.data)}catch{B.error("Failed to load scan results")}finally{s(!1)}}},k=async()=>{var D,A,F;if(e){S(!0);try{const L=await dp.exportScan(e.id);L.data.success?B.success(`Exported ${L.data.events_count} events to ${L.data.exported_to} SIEM integration(s)`):B.warning("Export completed with issues. Check SIEM settings."),L.data.errors&&L.data.errors.length>0&&L.data.errors.forEach(q=>{B.error(`SIEM export error: ${q}`)})}catch(L){((D=L.response)==null?void 0:D.status)===404?B.error("No SIEM integrations configured. Go to Settings > SIEM Integration to set up."):B.error(((F=(A=L.response)==null?void 0:A.data)==null?void 0:F.error)||"Failed to export to SIEM")}finally{S(!1)}}},z=O.useMemo(()=>{let D=[...E];switch(o&&(D=D.filter(A=>{var F;return A.target.ip.includes(o)||((F=A.target.hostname)==null?void 0:F.toLowerCase().includes(o.toLowerCase()))})),h){case"with-vulns":D=D.filter(A=>A.vulnerabilities.length>0);break;case"critical":D=D.filter(A=>A.vulnerabilities.some(F=>F.severity==="Critical"));break;case"high":D=D.filter(A=>A.vulnerabilities.some(F=>F.severity==="Critical"||F.severity==="High"));break}return D.sort((A,F)=>{switch(u){case"risk":return li(F)-li(A);case"vulns":return F.vulnerabilities.length-A.vulnerabilities.length;case"ports":return F.ports.filter(L=>L.state==="Open").length-A.ports.filter(L=>L.state==="Open").length;case"ip":default:return A.target.ip.localeCompare(F.target.ip)}}),D},[E,o,u,h]);if(!e)return l.jsx(re,{children:l.jsx("div",{className:"text-center py-12 text-slate-500",children:"Select a scan from the list to view results"})});if(n)return l.jsx(re,{children:l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(qt,{})})});if(E.length===0)return l.jsx(re,{children:l.jsx("div",{className:"text-center py-12 text-slate-500",children:e.status==="running"?"Scan in progress... Results will appear here as hosts are discovered":e.status==="pending"?"Scan is pending...":e.status==="failed"?`Scan failed: ${e.error_message||"Unknown error"}`:"No results available"})});const T=E.filter(D=>D.is_alive).length,I=E.reduce((D,A)=>D+A.ports.filter(F=>F.state==="Open").length,0),C=E.reduce((D,A)=>D+A.vulnerabilities.length,0);return l.jsxs("div",{className:"space-y-4",children:[l.jsx(re,{children:l.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx(Tt,{className:"h-8 w-8 mx-auto mb-2 text-primary"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:T}),l.jsx("p",{className:"text-sm text-slate-400",children:"Alive Hosts"})]}),l.jsxs("div",{children:[l.jsx(Ee,{className:"h-8 w-8 mx-auto mb-2 text-green-500"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:I}),l.jsx("p",{className:"text-sm text-slate-400",children:"Open Ports"})]}),l.jsxs("div",{children:[l.jsx(lt,{className:"h-8 w-8 mx-auto mb-2 text-red-500"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:C}),l.jsx("p",{className:"text-sm text-slate-400",children:"Vulnerabilities"})]})]})}),l.jsx(re,{children:l.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[l.jsxs("button",{onClick:()=>_("results"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="results"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(sf,{className:"h-4 w-4"}),"Results"]}),l.jsxs("button",{onClick:()=>_("topology"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${b==="topology"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(os,{className:"h-4 w-4"}),"Topology"]})]})}),b==="topology"&&e&&l.jsx(f_,{scanId:e.id}),b==="results"&&l.jsxs(l.Fragment,{children:[l.jsx(re,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Te,{type:"text",placeholder:"Search by IP or hostname...",value:o,onChange:D=>c(D.target.value),icon:l.jsx(Os,{className:"h-4 w-4"})})}),l.jsx(Km,{hosts:z,scanName:e==null?void 0:e.name,disabled:z.length===0}),l.jsxs("button",{onClick:()=>x(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-green-500 text-green-500 hover:bg-green-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(la,{className:"h-4 w-4"}),"Compliance"]}),l.jsxs("button",{onClick:k,disabled:(e==null?void 0:e.status)!=="completed"||N,className:"px-4 py-2 rounded-lg border border-purple-500 text-purple-500 hover:bg-purple-500/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Export scan results to configured SIEM integrations",children:[N?l.jsx(qt,{}):l.jsx(af,{className:"h-4 w-4"}),N?"Exporting...":"SIEM"]}),l.jsxs("button",{onClick:()=>v(!0),disabled:(e==null?void 0:e.status)!=="completed",className:"px-4 py-2 rounded-lg border border-primary text-primary hover:bg-primary/10 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(Ut,{className:"h-4 w-4"}),"Report"]}),l.jsxs("button",{onClick:()=>m(!p),className:`px-4 py-2 rounded-lg border transition-colors flex items-center gap-2 ${p?"bg-primary border-primary text-white":"border-dark-border text-slate-400 hover:border-primary hover:text-white"}`,children:[l.jsx(of,{className:"h-4 w-4"}),"Filters"]})]}),p&&l.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-3 border-t border-dark-border",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Sort by"}),l.jsxs("select",{value:u,onChange:D=>d(D.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[l.jsx("option",{value:"risk",children:"Risk Score (High to Low)"}),l.jsx("option",{value:"vulns",children:"Vulnerability Count"}),l.jsx("option",{value:"ports",children:"Port Count"}),l.jsx("option",{value:"ip",children:"IP Address"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Filter by"}),l.jsxs("select",{value:h,onChange:D=>f(D.target.value),className:"w-full bg-dark-surface border border-dark-border rounded-lg px-3 py-2 text-white focus:ring-2 focus:ring-primary focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All Hosts"}),l.jsx("option",{value:"with-vulns",children:"With Vulnerabilities"}),l.jsx("option",{value:"high",children:"High/Critical Severity"}),l.jsx("option",{value:"critical",children:"Critical Only"})]})]})]}),l.jsxs("div",{className:"text-sm text-slate-400",children:["Showing ",z.length," of ",E.length," hosts"]})]})}),l.jsxs(re,{children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Discovered Hosts"}),l.jsxs("div",{className:"space-y-3",children:[z.map(D=>{const A=li(D),F=qm(A);return l.jsxs("div",{className:`bg-dark-bg border rounded-lg p-4 cursor-pointer hover:border-primary/50 transition-all ${F==="Critical"?"border-severity-critical":F==="High"?"border-severity-high":"border-dark-border"}`,onClick:()=>a(i===D.target.ip?null:D.target.ip),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white font-mono font-semibold",children:D.target.ip}),D.target.hostname&&l.jsx("p",{className:"text-sm text-slate-400",children:D.target.hostname})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs(Ye,{variant:"severity",type:Hc(F),children:["Risk: ",A]}),l.jsx(Ye,{variant:"status",type:D.is_alive?"completed":"failed",children:D.is_alive?"Alive":"Down"}),D.ports.filter(L=>L.state==="Open").length>0&&l.jsxs("span",{className:"text-sm text-slate-400",children:[D.ports.filter(L=>L.state==="Open").length," ports"]}),D.vulnerabilities.length>0&&l.jsxs("span",{className:"text-sm text-red-400",children:[D.vulnerabilities.length," vulns"]})]})]}),i===D.target.ip&&l.jsxs("div",{className:"mt-4 border-t border-dark-border pt-4 space-y-4",children:[D.os_guess&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 mb-1",children:"OS Detection"}),l.jsxs("p",{className:"text-sm text-slate-400",children:[D.os_guess.os_family," ",D.os_guess.os_version," (",D.os_guess.confidence,"% confidence)"]})]}),D.ports.filter(L=>L.state==="Open").length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-300 mb-2",children:"Open Ports"}),l.jsx("div",{className:"space-y-2",children:D.ports.filter(L=>L.state==="Open").map(L=>{var q,V;return l.jsx("div",{children:l.jsxs("div",{className:"bg-dark-surface rounded p-3 text-sm",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:"text-white font-mono font-semibold",children:[L.port,"/",L.protocol]}),L.service&&l.jsxs("span",{className:"text-slate-400",children:[L.service.name," ",L.service.version&&l.jsxs("span",{className:"text-slate-500",children:["v",L.service.version]})]})]}),((q=L.service)==null?void 0:q.banner)&&l.jsx(Ym,{banner:L.service.banner,port:L.port,service:L.service.name}),((V=L.service)==null?void 0:V.ssl_info)&&l.jsx(Xm,{sslInfo:L.service.ssl_info,port:L.port})]})},L.port)})})]}),D.vulnerabilities.length>0&&l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium text-slate-300 mb-3",children:["Vulnerabilities (",D.vulnerabilities.length,")"]}),l.jsx("div",{className:"space-y-3",children:D.vulnerabilities.map((L,q)=>l.jsx(Gm,{vulnerability:L},q))})]})]})]},D.target.ip)}),z.length===0&&l.jsx("div",{className:"text-center py-8 text-slate-400",children:"No hosts match the current filters"})]})]}),(e==null?void 0:e.status)==="completed"&&l.jsx(eg,{scanId:e.id,onGenerateNew:()=>v(!0)},w)]}),g&&e&&l.jsx(Zm,{scanId:e.id,scanName:e.name,onClose:()=>v(!1),onReportCreated:()=>j(D=>D+1)}),y&&e&&l.jsx(tg,{scanId:e.id,scanName:e.name,onClose:()=>x(!1)})]})},Wn=({title:e,value:r,icon:n,color:s,subtitle:i})=>l.jsx(re,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),l.jsx("p",{className:`text-3xl font-bold ${s} mb-1`,children:r}),i&&l.jsx("p",{className:"text-slate-500 text-xs",children:i})]}),l.jsx("div",{className:`${s.replace("text-","bg-")}/20 p-3 rounded-lg`,children:n})]})}),p_=()=>{const{scans:e,results:r}=xt(),n=O.useMemo(()=>{const s=e.filter(a=>a.status==="completed"),i=Array.from(r.values()).flat();return{...Vm(i),completedScans:s.length}},[e,r]);return l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l.jsx(Wn,{title:"Completed Scans",value:n.completedScans,icon:l.jsx(gt,{className:"h-6 w-6 text-primary"}),color:"text-primary",subtitle:`${e.filter(s=>s.status==="running").length} running`}),l.jsx(Wn,{title:"Hosts Discovered",value:n.totalHosts,icon:l.jsx(Tt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400",subtitle:`${n.totalPorts} open ports`}),l.jsx(Wn,{title:"Total Vulnerabilities",value:n.totalVulnerabilities,icon:l.jsx(lt,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400",subtitle:"Across all scans"}),l.jsx(Wn,{title:"Critical Findings",value:n.criticalVulnerabilities,icon:l.jsx(Ee,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical",subtitle:"Requires immediate attention"})]})},m_={Critical:"#ef4444",High:"#f97316",Medium:"#eab308",Low:"#3b82f6"},g_=({hosts:e})=>{const r=O.useMemo(()=>{const s=Ic(e);return Object.entries(s).filter(([i,a])=>a>0).map(([i,a])=>({name:i,value:a,color:m_[i]}))},[e]),n=r.reduce((s,i)=>s+i.value,0);return n===0?l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Distribution"}),l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No vulnerabilities found"})})]}):l.jsxs(re,{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Vulnerability Distribution",l.jsxs("span",{className:"text-sm font-normal text-slate-400 ml-2",children:["(",n," total)"]})]}),l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(_f,{children:[l.jsx(jf,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:s,percent:i})=>`${s}: ${(i*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((s,i)=>l.jsx(oc,{fill:s.color},`cell-${i}`))}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:s=>[`${s} vulnerabilities`,"Count"]}),l.jsx(lc,{verticalAlign:"bottom",height:36,formatter:(s,i)=>l.jsxs("span",{style:{color:"#cbd5e1"},children:[s,": ",i.payload.value]})})]})})]})},x_={21:"#f97316",22:"#22c55e",23:"#ef4444",25:"#3b82f6",53:"#8b5cf6",80:"#06b6d4",110:"#3b82f6",143:"#3b82f6",443:"#10b981",445:"#f59e0b",3306:"#ec4899",3389:"#ef4444",5432:"#3b82f6",8080:"#06b6d4"},y_="#64748b",v_=({hosts:e})=>{const r=O.useMemo(()=>Bm(e).map(n=>({...n,displayName:`${n.port} (${n.service})`,color:x_[n.port]||y_})),[e]);return r.length===0?l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Port Distribution"}),l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No open ports found"})})]}):l.jsxs(re,{className:"p-6",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4",children:["Top Open Ports",l.jsx("span",{className:"text-sm font-normal text-slate-400 ml-2",children:"(Across all hosts)"})]}),l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(cc,{data:r,layout:"vertical",margin:{top:5,right:30,left:100,bottom:5},children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#334155"}),l.jsx(_r,{type:"number",stroke:"#cbd5e1"}),l.jsx(jr,{dataKey:"displayName",type:"category",width:90,stroke:"#cbd5e1",tick:{fontSize:12}}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},formatter:(n,s,i)=>[`${n} hosts`,i.payload.service],labelFormatter:n=>{var s;return`Port ${(s=r.find(i=>i.displayName===n))==null?void 0:s.port}`}}),l.jsx(uc,{dataKey:"count",radius:[0,4,4,0],children:r.map((n,s)=>l.jsx(oc,{fill:n.color},`cell-${s}`))})]})})]})},qn=({title:e,value:r,subtitle:n,icon:s,color:i,trend:a})=>l.jsx(re,{className:"p-6",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-slate-400 text-sm font-medium mb-1",children:e}),l.jsx("p",{className:`text-3xl font-bold ${i} mb-1`,children:r}),n&&l.jsx("p",{className:"text-slate-500 text-xs",children:n}),a&&l.jsxs("div",{className:`flex items-center gap-1 mt-2 text-xs ${a.isPositive?"text-green-400":"text-red-400"}`,children:[l.jsx(lf,{className:`h-3 w-3 ${!a.isPositive&&"rotate-180"}`}),l.jsxs("span",{children:[a.isPositive?"+":"",a.value,"%"]})]})]}),l.jsx("div",{className:`${i.replace("text-","bg-")}/20 p-3 rounded-lg`,children:s})]})}),b_=()=>{const[e,r]=O.useState(30),[n,s]=O.useState(!0),[i,a]=O.useState(null),[o,c]=O.useState(null),[u,d]=O.useState([]),[h,f]=O.useState([]),[p,m]=O.useState([]),[g,v]=O.useState([]);O.useEffect(()=>{y()},[e]);const y=async()=>{var w,j;s(!0),a(null);try{const[b,_,N,S,E]=await Promise.all([Ur.getSummary(e),Ur.getHosts(e),Ur.getVulnerabilities(e),Ur.getServices(10),Ur.getFrequency(e)]);c(b.data),d(_.data),f(N.data),m(S.data),v(E.data)}catch(b){console.error("Failed to load analytics:",b),a(((j=(w=b.response)==null?void 0:w.data)==null?void 0:j.message)||"Failed to load analytics data")}finally{s(!1)}},x=w=>new Date(w).toLocaleDateString("en-US",{month:"short",day:"numeric"});return n?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx(qt,{size:"lg"})}):i?l.jsx(re,{className:"p-6",children:l.jsxs("div",{className:"text-center",children:[l.jsx(lt,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Failed to Load Analytics"}),l.jsx("p",{className:"text-slate-400 mb-4",children:i}),l.jsx("button",{onClick:y,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/80 transition-colors",children:"Retry"})]})}):o?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Analytics Dashboard"}),l.jsx("p",{className:"text-slate-400",children:"Insights and trends from your security scans"})]}),l.jsxs("div",{className:"flex items-center gap-2 bg-dark-surface border border-dark-border rounded-lg p-1",children:[l.jsxs("button",{onClick:()=>r(7),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===7?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[l.jsx(Kn,{className:"h-4 w-4"}),"7 Days"]}),l.jsxs("button",{onClick:()=>r(30),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===30?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[l.jsx(Kn,{className:"h-4 w-4"}),"30 Days"]}),l.jsxs("button",{onClick:()=>r(90),className:`flex items-center gap-2 px-3 py-2 rounded transition-colors ${e===90?"bg-primary text-white":"text-slate-400 hover:text-white"}`,children:[l.jsx(Kn,{className:"h-4 w-4"}),"90 Days"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(qn,{title:"Total Scans",value:o.total_scans,subtitle:`${o.scans_this_week} this week`,icon:l.jsx(gt,{className:"h-6 w-6 text-primary"}),color:"text-primary"}),l.jsx(qn,{title:"Hosts Discovered",value:o.total_hosts,subtitle:`${o.total_ports} open ports`,icon:l.jsx(Tt,{className:"h-6 w-6 text-blue-400"}),color:"text-blue-400"}),l.jsx(qn,{title:"Total Vulnerabilities",value:o.total_vulnerabilities,subtitle:`${o.critical_vulns} critical`,icon:l.jsx(lt,{className:"h-6 w-6 text-yellow-400"}),color:"text-yellow-400"}),l.jsx(qn,{title:"Critical Findings",value:o.critical_vulns,subtitle:"Requires immediate attention",icon:l.jsx(Ee,{className:"h-6 w-6 text-severity-critical"}),color:"text-severity-critical"})]}),l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Severity Breakdown"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"Critical"}),l.jsx(Ee,{className:"h-4 w-4 text-severity-critical"})]}),l.jsx("p",{className:"text-2xl font-bold text-severity-critical",children:o.critical_vulns})]}),l.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"High"}),l.jsx(Ee,{className:"h-4 w-4 text-severity-high"})]}),l.jsx("p",{className:"text-2xl font-bold text-severity-high",children:o.high_vulns})]}),l.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"Medium"}),l.jsx(Ee,{className:"h-4 w-4 text-severity-medium"})]}),l.jsx("p",{className:"text-2xl font-bold text-severity-medium",children:o.medium_vulns})]}),l.jsxs("div",{className:"bg-dark-bg p-4 rounded-lg border border-dark-border",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm text-slate-400",children:"Low"}),l.jsx(Ee,{className:"h-4 w-4 text-severity-low"})]}),l.jsx("p",{className:"text-2xl font-bold text-severity-low",children:o.low_vulns})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Hosts Discovered Over Time"}),u.length>0?l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(Si,{data:u,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#334155"}),l.jsx(_r,{dataKey:"date",tickFormatter:x,stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(jr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:x}),l.jsx(ki,{type:"monotone",dataKey:"value",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4},activeDot:{r:6},name:"Hosts"})]})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No data available"})})]}),l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Scan Frequency"}),g.length>0?l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(Si,{data:g,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#334155"}),l.jsx(_r,{dataKey:"date",tickFormatter:x,stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(jr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:x}),l.jsx(ki,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:2,dot:{fill:"#8b5cf6",r:4},activeDot:{r:6},name:"Scans"})]})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No data available"})})]}),l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Vulnerability Trends by Severity"}),h.length>0?l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(Nf,{data:h,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#334155"}),l.jsx(_r,{dataKey:"date",tickFormatter:x,stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(jr,{stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"},labelFormatter:x}),l.jsx(lc,{verticalAlign:"bottom",height:36,iconType:"circle",wrapperStyle:{fontSize:"12px",color:"#cbd5e1"}}),l.jsx(Mn,{type:"monotone",dataKey:"critical",stackId:"1",stroke:"#ef4444",fill:"#ef4444",fillOpacity:.6,name:"Critical"}),l.jsx(Mn,{type:"monotone",dataKey:"high",stackId:"1",stroke:"#f97316",fill:"#f97316",fillOpacity:.6,name:"High"}),l.jsx(Mn,{type:"monotone",dataKey:"medium",stackId:"1",stroke:"#eab308",fill:"#eab308",fillOpacity:.6,name:"Medium"}),l.jsx(Mn,{type:"monotone",dataKey:"low",stackId:"1",stroke:"#3b82f6",fill:"#3b82f6",fillOpacity:.6,name:"Low"})]})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No data available"})})]}),l.jsxs(re,{className:"p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Top Services Discovered"}),p.length>0?l.jsx(Zt,{width:"100%",height:300,children:l.jsxs(cc,{data:p,layout:"vertical",children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#334155"}),l.jsx(_r,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"}}),l.jsx(jr,{dataKey:"service",type:"category",stroke:"#94a3b8",style:{fontSize:"12px"},width:100}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px",color:"#fff"}}),l.jsx(uc,{dataKey:"count",fill:"#06b6d4",radius:[0,4,4,0],name:"Count"})]})}):l.jsx("div",{className:"flex items-center justify-center h-64 text-slate-400",children:l.jsx("p",{children:"No data available"})})]})]})]}):null};var Vu={exports:{}},En={},Ji={exports:{}};(function(e,r){(function(n,s){s(r)})(Dd,function(n){function s(W){return function(ae,te,ce,be,ke,Ie,we){return W(ae,te,we)}}function i(W){return function(ae,te,ce,be){if(!ae||!te||typeof ae!="object"||typeof te!="object")return W(ae,te,ce,be);var ke=be.get(ae),Ie=be.get(te);if(ke&&Ie)return ke===te&&Ie===ae;be.set(ae,te),be.set(te,ae);var we=W(ae,te,ce,be);return be.delete(ae),be.delete(te),we}}function a(W,Y){var ae={};for(var te in W)ae[te]=W[te];for(var te in Y)ae[te]=Y[te];return ae}function o(W){return W.constructor===Object||W.constructor==null}function c(W){return typeof W.then=="function"}function u(W,Y){return W===Y||W!==W&&Y!==Y}var d="[object Arguments]",h="[object Boolean]",f="[object Date]",p="[object RegExp]",m="[object Map]",g="[object Number]",v="[object Object]",y="[object Set]",x="[object String]",w=Object.prototype.toString;function j(W){var Y=W.areArraysEqual,ae=W.areDatesEqual,te=W.areMapsEqual,ce=W.areObjectsEqual,be=W.areRegExpsEqual,ke=W.areSetsEqual,Ie=W.createIsNestedEqual,we=Ie(Je);function Je(pe,_e,Ze){if(pe===_e)return!0;if(!pe||!_e||typeof pe!="object"||typeof _e!="object")return pe!==pe&&_e!==_e;if(o(pe)&&o(_e))return ce(pe,_e,we,Ze);var An=Array.isArray(pe),H=Array.isArray(_e);if(An||H)return An===H&&Y(pe,_e,we,Ze);var oe=w.call(pe);return oe!==w.call(_e)?!1:oe===f?ae(pe,_e,we,Ze):oe===p?be(pe,_e,we,Ze):oe===m?te(pe,_e,we,Ze):oe===y?ke(pe,_e,we,Ze):oe===v||oe===d?c(pe)||c(_e)?!1:ce(pe,_e,we,Ze):oe===h||oe===g||oe===x?u(pe.valueOf(),_e.valueOf()):!1}return Je}function b(W,Y,ae,te){var ce=W.length;if(Y.length!==ce)return!1;for(;ce-- >0;)if(!ae(W[ce],Y[ce],ce,ce,W,Y,te))return!1;return!0}var _=i(b);function N(W,Y){return u(W.valueOf(),Y.valueOf())}function S(W,Y,ae,te){var ce=W.size===Y.size;if(!ce)return!1;if(!W.size)return!0;var be={},ke=0;return W.forEach(function(Ie,we){if(ce){var Je=!1,pe=0;Y.forEach(function(_e,Ze){!Je&&!be[pe]&&(Je=ae(we,Ze,ke,pe,W,Y,te)&&ae(Ie,_e,we,Ze,W,Y,te))&&(be[pe]=!0),pe++}),ke++,ce=Je}}),ce}var E=i(S),R="_owner",k=Object.prototype.hasOwnProperty;function z(W,Y,ae,te){var ce=Object.keys(W),be=ce.length;if(Object.keys(Y).length!==be)return!1;for(var ke;be-- >0;){if(ke=ce[be],ke===R){var Ie=!!W.$$typeof,we=!!Y.$$typeof;if((Ie||we)&&Ie!==we)return!1}if(!k.call(Y,ke)||!ae(W[ke],Y[ke],ke,ke,W,Y,te))return!1}return!0}var T=i(z);function I(W,Y){return W.source===Y.source&&W.flags===Y.flags}function C(W,Y,ae,te){var ce=W.size===Y.size;if(!ce)return!1;if(!W.size)return!0;var be={};return W.forEach(function(ke,Ie){if(ce){var we=!1,Je=0;Y.forEach(function(pe,_e){!we&&!be[Je]&&(we=ae(ke,pe,Ie,_e,W,Y,te))&&(be[Je]=!0),Je++}),ce=we}}),ce}var D=i(C),A=Object.freeze({areArraysEqual:b,areDatesEqual:N,areMapsEqual:S,areObjectsEqual:z,areRegExpsEqual:I,areSetsEqual:C,createIsNestedEqual:s}),F=Object.freeze({areArraysEqual:_,areDatesEqual:N,areMapsEqual:E,areObjectsEqual:T,areRegExpsEqual:I,areSetsEqual:D,createIsNestedEqual:s}),L=j(A);function q(W,Y){return L(W,Y,void 0)}var V=j(a(A,{createIsNestedEqual:function(){return u}}));function X(W,Y){return V(W,Y,void 0)}var K=j(F);function le(W,Y){return K(W,Y,new WeakMap)}var ie=j(a(F,{createIsNestedEqual:function(){return u}}));function je(W,Y){return ie(W,Y,new WeakMap)}function se(W){return j(a(A,W(A)))}function de(W){var Y=j(a(F,W(F)));return function(ae,te,ce){return ce===void 0&&(ce=new WeakMap),Y(ae,te,ce)}}n.circularDeepEqual=le,n.circularShallowEqual=je,n.createCustomCircularEqual=de,n.createCustomEqual=se,n.deepEqual=q,n.sameValueZeroEqual=u,n.shallowEqual=X,Object.defineProperty(n,"__esModule",{value:!0})})})(Ji,Ji.exports);var Ta=Ji.exports;const Ws=Gl(cf);var ne={},w_=function(r,n,s){return r===n?!0:r.className===n.className&&s(r.style,n.style)&&r.width===n.width&&r.autoSize===n.autoSize&&r.cols===n.cols&&r.draggableCancel===n.draggableCancel&&r.draggableHandle===n.draggableHandle&&s(r.verticalCompact,n.verticalCompact)&&s(r.compactType,n.compactType)&&s(r.layout,n.layout)&&s(r.margin,n.margin)&&s(r.containerPadding,n.containerPadding)&&r.rowHeight===n.rowHeight&&r.maxRows===n.maxRows&&r.isBounded===n.isBounded&&r.isDraggable===n.isDraggable&&r.isResizable===n.isResizable&&r.allowOverlap===n.allowOverlap&&r.preventCollision===n.preventCollision&&r.useCSSTransforms===n.useCSSTransforms&&r.transformScale===n.transformScale&&r.isDroppable===n.isDroppable&&s(r.resizeHandles,n.resizeHandles)&&s(r.resizeHandle,n.resizeHandle)&&r.onLayoutChange===n.onLayoutChange&&r.onDragStart===n.onDragStart&&r.onDrag===n.onDrag&&r.onDragStop===n.onDragStop&&r.onResizeStart===n.onResizeStart&&r.onResize===n.onResize&&r.onResizeStop===n.onResizeStop&&r.onDrop===n.onDrop&&s(r.droppingItem,n.droppingItem)&&s(r.innerRef,n.innerRef)};Object.defineProperty(ne,"__esModule",{value:!0});ne.bottom=qs;ne.childrenEqual=C_;ne.cloneLayout=Gu;ne.cloneLayoutItem=or;ne.collides=Bs;ne.compact=Xu;ne.compactItem=Ku;ne.compactType=H_;ne.correctBounds=Ju;ne.fastPositionEqual=O_;ne.fastRGLPropsEqual=void 0;ne.getAllCollisions=Zu;ne.getFirstCollision=rr;ne.getLayoutItem=Ma;ne.getStatics=za;ne.modifyLayout=Yu;ne.moveElement=cn;ne.moveElementAwayFromCollision=Qi;ne.noop=void 0;ne.perc=E_;ne.resizeItemInDirection=z_;ne.setTopLeft=L_;ne.setTransform=$_;ne.sortLayoutItems=Ua;ne.sortLayoutItemsByColRow=nd;ne.sortLayoutItemsByRowCol=rd;ne.synchronizeLayoutWithChildren=F_;ne.validateLayout=I_;ne.withLayoutItem=k_;var Nl=Ta,ln=__(O);function __(e){return e&&e.__esModule?e:{default:e}}function Sl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function ws(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Sl(Object(n),!0).forEach(function(s){j_(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function j_(e,r,n){return(r=N_(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function N_(e){var r=S_(e,"string");return typeof r=="symbol"?r:r+""}function S_(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function qs(e){let r=0,n;for(let s=0,i=e.length;s<i;s++)n=e[s].y+e[s].h,n>r&&(r=n);return r}function Gu(e){const r=Array(e.length);for(let n=0,s=e.length;n<s;n++)r[n]=or(e[n]);return r}function Yu(e,r){const n=Array(e.length);for(let s=0,i=e.length;s<i;s++)r.i===e[s].i?n[s]=r:n[s]=e[s];return n}function k_(e,r,n){let s=Ma(e,r);return s?(s=n(or(s)),e=Yu(e,s),[e,s]):[e,null]}function or(e){return{w:e.w,h:e.h,x:e.x,y:e.y,i:e.i,minW:e.minW,maxW:e.maxW,minH:e.minH,maxH:e.maxH,moved:!!e.moved,static:!!e.static,isDraggable:e.isDraggable,isResizable:e.isResizable,resizeHandles:e.resizeHandles,isBounded:e.isBounded}}function C_(e,r){return(0,Nl.deepEqual)(ln.default.Children.map(e,n=>n==null?void 0:n.key),ln.default.Children.map(r,n=>n==null?void 0:n.key))&&(0,Nl.deepEqual)(ln.default.Children.map(e,n=>n==null?void 0:n.props["data-grid"]),ln.default.Children.map(r,n=>n==null?void 0:n.props["data-grid"]))}ne.fastRGLPropsEqual=w_;function O_(e,r){return e.left===r.left&&e.top===r.top&&e.width===r.width&&e.height===r.height}function Bs(e,r){return!(e.i===r.i||e.x+e.w<=r.x||e.x>=r.x+r.w||e.y+e.h<=r.y||e.y>=r.y+r.h)}function Xu(e,r,n,s){const i=za(e);let a=qs(i);const o=Ua(e,r),c=Array(e.length);for(let u=0,d=o.length;u<d;u++){let h=or(o[u]);h.static||(h=Ku(i,h,r,n,o,s,a),a=Math.max(a,h.y+h.h),i.push(h)),c[e.indexOf(o[u])]=h,h.moved=!1}return c}const P_={x:"w",y:"h"};function Zi(e,r,n,s){const i=P_[s];r[s]+=1;const a=e.map(o=>o.i).indexOf(r.i);for(let o=a+1;o<e.length;o++){const c=e[o];if(!c.static){if(c.y>r.y+r.h)break;Bs(r,c)&&Zi(e,c,n+r[i],s)}}r[s]=n}function Ku(e,r,n,s,i,a,o){const c=n==="vertical",u=n==="horizontal";if(c)for(typeof o=="number"?r.y=Math.min(o,r.y):r.y=Math.min(qs(e),r.y);r.y>0&&!rr(e,r);)r.y--;else if(u)for(;r.x>0&&!rr(e,r);)r.x--;let d;for(;(d=rr(e,r))&&!(n===null&&a);)if(u?Zi(i,r,d.x+d.w,"x"):Zi(i,r,d.y+d.h,"y"),u&&r.x+r.w>s)for(r.x=s-r.w,r.y++;r.x>0&&!rr(e,r);)r.x--;return r.y=Math.max(r.y,0),r.x=Math.max(r.x,0),r}function Ju(e,r){const n=za(e);for(let s=0,i=e.length;s<i;s++){const a=e[s];if(a.x+a.w>r.cols&&(a.x=r.cols-a.w),a.x<0&&(a.x=0,a.w=r.cols),!a.static)n.push(a);else for(;rr(n,a);)a.y++}return e}function Ma(e,r){for(let n=0,s=e.length;n<s;n++)if(e[n].i===r)return e[n]}function rr(e,r){for(let n=0,s=e.length;n<s;n++)if(Bs(e[n],r))return e[n]}function Zu(e,r){return e.filter(n=>Bs(n,r))}function za(e){return e.filter(r=>r.static)}function cn(e,r,n,s,i,a,o,c,u){if(r.static&&r.isDraggable!==!0||r.y===s&&r.x===n)return e;"Moving element ".concat(r.i," to [").concat(String(n),",").concat(String(s),"] from [").concat(r.x,",").concat(r.y,"]");const d=r.x,h=r.y;typeof n=="number"&&(r.x=n),typeof s=="number"&&(r.y=s),r.moved=!0;let f=Ua(e,o);(o==="vertical"&&typeof s=="number"?h>=s:o==="horizontal"&&typeof n=="number"?d>=n:!1)&&(f=f.reverse());const m=Zu(f,r),g=m.length>0;if(g&&u)return Gu(e);if(g&&a)return"Collision prevented on ".concat(r.i,", reverting."),r.x=d,r.y=h,r.moved=!1,e;for(let v=0,y=m.length;v<y;v++){const x=m[v];"Resolving collision between ".concat(r.i," at [").concat(r.x,",").concat(r.y,"] and ").concat(x.i," at [").concat(x.x,",").concat(x.y,"]"),!x.moved&&(x.static?e=Qi(e,x,r,i,o):e=Qi(e,r,x,i,o))}return e}function Qi(e,r,n,s,i,a){const o=i==="horizontal",c=i==="vertical",u=r.static;if(s){s=!1;const f={x:o?Math.max(r.x-n.w,0):n.x,y:c?Math.max(r.y-n.h,0):n.y,w:n.w,h:n.h,i:"-1"},p=rr(e,f),m=p&&p.y+p.h>r.y,g=p&&r.x+r.w>p.x;if(p){if(m&&c)return cn(e,n,void 0,n.y+1,s,u,i);if(m&&i==null)return r.y=n.y,n.y=n.y+n.h,e;if(g&&o)return cn(e,r,n.x,void 0,s,u,i)}else return"Doing reverse collision on ".concat(n.i," up to [").concat(f.x,",").concat(f.y,"]."),cn(e,n,o?f.x:void 0,c?f.y:void 0,s,u,i)}const d=o?n.x+1:void 0,h=c?n.y+1:void 0;return d==null&&h==null?e:cn(e,n,o?n.x+1:void 0,c?n.y+1:void 0,s,u,i)}function E_(e){return e*100+"%"}const Qu=(e,r,n,s)=>e+n>s?r:n,ed=(e,r,n)=>e<0?r:n,td=e=>Math.max(0,e),$a=e=>Math.max(0,e),La=(e,r,n)=>{let{left:s,height:i,width:a}=r;const o=e.top-(i-e.height);return{left:s,width:a,height:ed(o,e.height,i),top:$a(o)}},Fa=(e,r,n)=>{let{top:s,left:i,height:a,width:o}=r;return{top:s,height:a,width:Qu(e.left,e.width,o,n),left:td(i)}},Ia=(e,r,n)=>{let{top:s,height:i,width:a}=r;const o=e.left-(a-e.width);return{height:i,width:o<0?e.width:Qu(e.left,e.width,a,n),top:$a(s),left:td(o)}},Ha=(e,r,n)=>{let{top:s,left:i,height:a,width:o}=r;return{width:o,left:i,height:ed(s,e.height,a),top:$a(s)}},R_=function(){return La(arguments.length<=0?void 0:arguments[0],Fa(...arguments))},D_=function(){return La(arguments.length<=0?void 0:arguments[0],Ia(...arguments))},A_=function(){return Ha(arguments.length<=0?void 0:arguments[0],Fa(...arguments))},T_=function(){return Ha(arguments.length<=0?void 0:arguments[0],Ia(...arguments))},M_={n:La,ne:R_,e:Fa,se:A_,s:Ha,sw:T_,w:Ia,nw:D_};function z_(e,r,n,s){const i=M_[e];return i?i(r,ws(ws({},r),n),s):n}function $_(e){let{top:r,left:n,width:s,height:i}=e;const a="translate(".concat(n,"px,").concat(r,"px)");return{transform:a,WebkitTransform:a,MozTransform:a,msTransform:a,OTransform:a,width:"".concat(s,"px"),height:"".concat(i,"px"),position:"absolute"}}function L_(e){let{top:r,left:n,width:s,height:i}=e;return{top:"".concat(r,"px"),left:"".concat(n,"px"),width:"".concat(s,"px"),height:"".concat(i,"px"),position:"absolute"}}function Ua(e,r){return r==="horizontal"?nd(e):r==="vertical"?rd(e):e}function rd(e){return e.slice(0).sort(function(r,n){return r.y>n.y||r.y===n.y&&r.x>n.x?1:r.y===n.y&&r.x===n.x?0:-1})}function nd(e){return e.slice(0).sort(function(r,n){return r.x>n.x||r.x===n.x&&r.y>n.y?1:-1})}function F_(e,r,n,s,i){e=e||[];const a=[];ln.default.Children.forEach(r,c=>{if((c==null?void 0:c.key)==null)return;const u=Ma(e,String(c.key)),d=c.props["data-grid"];u&&d==null?a.push(or(u)):d?a.push(or(ws(ws({},d),{},{i:c.key}))):a.push(or({w:1,h:1,x:0,y:qs(a),i:String(c.key)}))});const o=Ju(a,{cols:n});return i?o:Xu(o,s,n)}function I_(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const n=["x","y","w","h"];if(!Array.isArray(e))throw new Error(r+" must be an array!");for(let s=0,i=e.length;s<i;s++){const a=e[s];for(let o=0;o<n.length;o++){const c=n[o],u=a[c];if(typeof u!="number"||Number.isNaN(u))throw new Error("ReactGridLayout: ".concat(r,"[").concat(s,"].").concat(c," must be a number! Received: ").concat(u," (").concat(typeof u,")"))}if(typeof a.i<"u"&&typeof a.i!="string")throw new Error("ReactGridLayout: ".concat(r,"[").concat(s,"].i must be a string! Received: ").concat(a.i," (").concat(typeof a.i,")"))}}function H_(e){const{verticalCompact:r,compactType:n}=e||{};return r===!1?null:n}const U_=()=>{};ne.noop=U_;var bt={};Object.defineProperty(bt,"__esModule",{value:!0});bt.calcGridColWidth=Vs;bt.calcGridItemPosition=W_;bt.calcGridItemWHPx=ea;bt.calcWH=B_;bt.calcXY=q_;bt.clamp=nr;function Vs(e){const{margin:r,containerPadding:n,containerWidth:s,cols:i}=e;return(s-r[0]*(i-1)-n[0]*2)/i}function ea(e,r,n){return Number.isFinite(e)?Math.round(r*e+Math.max(0,e-1)*n):e}function W_(e,r,n,s,i,a){const{margin:o,containerPadding:c,rowHeight:u}=e,d=Vs(e),h={};return a&&a.resizing?(h.width=Math.round(a.resizing.width),h.height=Math.round(a.resizing.height)):(h.width=ea(s,d,o[0]),h.height=ea(i,u,o[1])),a&&a.dragging?(h.top=Math.round(a.dragging.top),h.left=Math.round(a.dragging.left)):a&&a.resizing&&typeof a.resizing.top=="number"&&typeof a.resizing.left=="number"?(h.top=Math.round(a.resizing.top),h.left=Math.round(a.resizing.left)):(h.top=Math.round((u+o[1])*n+c[1]),h.left=Math.round((d+o[0])*r+c[0])),h}function q_(e,r,n,s,i){const{margin:a,containerPadding:o,cols:c,rowHeight:u,maxRows:d}=e,h=Vs(e);let f=Math.round((n-o[0])/(h+a[0])),p=Math.round((r-o[1])/(u+a[1]));return f=nr(f,0,c-s),p=nr(p,0,d-i),{x:f,y:p}}function B_(e,r,n,s,i,a){const{margin:o,maxRows:c,cols:u,rowHeight:d}=e,h=Vs(e);let f=Math.round((r+o[0])/(h+o[0])),p=Math.round((n+o[1])/(d+o[1])),m=nr(f,0,u-s),g=nr(p,0,c-i);return["sw","w","nw"].indexOf(a)!==-1&&(m=nr(f,0,u)),["nw","n","ne"].indexOf(a)!==-1&&(g=nr(p,0,c)),{w:m,h:g}}function nr(e,r,n){return Math.max(Math.min(e,n),r)}var Gs={},Ys={exports:{}},sd={},Ne={},wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.dontSetMe=K_;wt.findInArray=V_;wt.int=X_;wt.isFunction=G_;wt.isNum=Y_;function V_(e,r){for(let n=0,s=e.length;n<s;n++)if(r.apply(r,[e[n],n,e]))return e[n]}function G_(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Y_(e){return typeof e=="number"&&!isNaN(e)}function X_(e){return parseInt(e,10)}function K_(e,r,n){if(e[r])return new Error(`Invalid prop ${r} passed to ${n} - do not set this, set it on the child.`)}var ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.browserPrefixToKey=ad;ur.browserPrefixToStyle=J_;ur.default=void 0;ur.getPrefix=id;const gi=["Moz","Webkit","O","ms"];function id(){var n,s;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const r=(s=(n=window.document)==null?void 0:n.documentElement)==null?void 0:s.style;if(!r||e in r)return"";for(let i=0;i<gi.length;i++)if(ad(e,gi[i])in r)return gi[i];return""}function ad(e,r){return r?`${r}${Z_(e)}`:e}function J_(e,r){return r?`-${r.toLowerCase()}-${e}`:e}function Z_(e){let r="",n=!0;for(let s=0;s<e.length;s++)n?(r+=e[s].toUpperCase(),n=!1):e[s]==="-"?n=!0:r+=e[s];return r}ur.default=id();Object.defineProperty(Ne,"__esModule",{value:!0});Ne.addClassName=cd;Ne.addEvent=e1;Ne.addUserSelectStyles=d1;Ne.createCSSTransform=o1;Ne.createSVGTransform=l1;Ne.getTouch=c1;Ne.getTouchIdentifier=u1;Ne.getTranslation=Wa;Ne.innerHeight=s1;Ne.innerWidth=i1;Ne.matchesSelector=ld;Ne.matchesSelectorAndParentsTo=Q_;Ne.offsetXYFromParent=a1;Ne.outerHeight=r1;Ne.outerWidth=n1;Ne.removeClassName=ud;Ne.removeEvent=t1;Ne.scheduleRemoveUserSelectStyles=f1;var Xe=wt,kl=od(ur);function od(e,r){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(od=function(i,a){if(!a&&i&&i.__esModule)return i;var o,c,u={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return u;if(o=a?s:n){if(o.has(i))return o.get(i);o.set(i,u)}for(const d in i)d!=="default"&&{}.hasOwnProperty.call(i,d)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,d))&&(c.get||c.set)?o(u,d,c):u[d]=i[d]);return u})(e,r)}let Bn="";function ld(e,r){return Bn||(Bn=(0,Xe.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(n){return(0,Xe.isFunction)(e[n])})),(0,Xe.isFunction)(e[Bn])?e[Bn](r):!1}function Q_(e,r,n){let s=e;do{if(ld(s,r))return!0;if(s===n)return!1;s=s.parentNode}while(s);return!1}function e1(e,r,n,s){if(!e)return;const i={capture:!0,...s};e.addEventListener?e.addEventListener(r,n,i):e.attachEvent?e.attachEvent("on"+r,n):e["on"+r]=n}function t1(e,r,n,s){if(!e)return;const i={capture:!0,...s};e.removeEventListener?e.removeEventListener(r,n,i):e.detachEvent?e.detachEvent("on"+r,n):e["on"+r]=null}function r1(e){let r=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return r+=(0,Xe.int)(n.borderTopWidth),r+=(0,Xe.int)(n.borderBottomWidth),r}function n1(e){let r=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return r+=(0,Xe.int)(n.borderLeftWidth),r+=(0,Xe.int)(n.borderRightWidth),r}function s1(e){let r=e.clientHeight;const n=e.ownerDocument.defaultView.getComputedStyle(e);return r-=(0,Xe.int)(n.paddingTop),r-=(0,Xe.int)(n.paddingBottom),r}function i1(e){let r=e.clientWidth;const n=e.ownerDocument.defaultView.getComputedStyle(e);return r-=(0,Xe.int)(n.paddingLeft),r-=(0,Xe.int)(n.paddingRight),r}function a1(e,r,n){const i=r===r.ownerDocument.body?{left:0,top:0}:r.getBoundingClientRect(),a=(e.clientX+r.scrollLeft-i.left)/n,o=(e.clientY+r.scrollTop-i.top)/n;return{x:a,y:o}}function o1(e,r){const n=Wa(e,r,"px");return{[(0,kl.browserPrefixToKey)("transform",kl.default)]:n}}function l1(e,r){return Wa(e,r,"")}function Wa(e,r,n){let{x:s,y:i}=e,a=`translate(${s}${n},${i}${n})`;if(r){const o=`${typeof r.x=="string"?r.x:r.x+n}`,c=`${typeof r.y=="string"?r.y:r.y+n}`;a=`translate(${o}, ${c})`+a}return a}function c1(e,r){return e.targetTouches&&(0,Xe.findInArray)(e.targetTouches,n=>r===n.identifier)||e.changedTouches&&(0,Xe.findInArray)(e.changedTouches,n=>r===n.identifier)}function u1(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier}function d1(e){if(!e)return;let r=e.getElementById("react-draggable-style-el");r||(r=e.createElement("style"),r.type="text/css",r.id="react-draggable-style-el",r.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,r.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,e.getElementsByTagName("head")[0].appendChild(r)),e.body&&cd(e.body,"react-draggable-transparent-selection")}function f1(e){window.requestAnimationFrame?window.requestAnimationFrame(()=>{Cl(e)}):Cl(e)}function Cl(e){if(e)try{if(e.body&&ud(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{const r=(e.defaultView||window).getSelection();r&&r.type!=="Caret"&&r.removeAllRanges()}}catch{}}function cd(e,r){e.classList?e.classList.add(r):e.className.match(new RegExp(`(?:^|\\s)${r}(?!\\S)`))||(e.className+=` ${r}`)}function ud(e,r){e.classList?e.classList.remove(r):e.className=e.className.replace(new RegExp(`(?:^|\\s)${r}(?!\\S)`,"g"),"")}var _t={};Object.defineProperty(_t,"__esModule",{value:!0});_t.canDragX=m1;_t.canDragY=g1;_t.createCoreData=y1;_t.createDraggableData=v1;_t.getBoundPosition=h1;_t.getControlPosition=x1;_t.snapToGrid=p1;var Ge=wt,Nr=Ne;function h1(e,r,n){if(!e.props.bounds)return[r,n];let{bounds:s}=e.props;s=typeof s=="string"?s:b1(s);const i=qa(e);if(typeof s=="string"){const{ownerDocument:a}=i,o=a.defaultView;let c;if(s==="parent"?c=i.parentNode:c=i.getRootNode().querySelector(s),!(c instanceof o.HTMLElement))throw new Error('Bounds selector "'+s+'" could not find an element.');const u=c,d=o.getComputedStyle(i),h=o.getComputedStyle(u);s={left:-i.offsetLeft+(0,Ge.int)(h.paddingLeft)+(0,Ge.int)(d.marginLeft),top:-i.offsetTop+(0,Ge.int)(h.paddingTop)+(0,Ge.int)(d.marginTop),right:(0,Nr.innerWidth)(u)-(0,Nr.outerWidth)(i)-i.offsetLeft+(0,Ge.int)(h.paddingRight)-(0,Ge.int)(d.marginRight),bottom:(0,Nr.innerHeight)(u)-(0,Nr.outerHeight)(i)-i.offsetTop+(0,Ge.int)(h.paddingBottom)-(0,Ge.int)(d.marginBottom)}}return(0,Ge.isNum)(s.right)&&(r=Math.min(r,s.right)),(0,Ge.isNum)(s.bottom)&&(n=Math.min(n,s.bottom)),(0,Ge.isNum)(s.left)&&(r=Math.max(r,s.left)),(0,Ge.isNum)(s.top)&&(n=Math.max(n,s.top)),[r,n]}function p1(e,r,n){const s=Math.round(r/e[0])*e[0],i=Math.round(n/e[1])*e[1];return[s,i]}function m1(e){return e.props.axis==="both"||e.props.axis==="x"}function g1(e){return e.props.axis==="both"||e.props.axis==="y"}function x1(e,r,n){const s=typeof r=="number"?(0,Nr.getTouch)(e,r):null;if(typeof r=="number"&&!s)return null;const i=qa(n),a=n.props.offsetParent||i.offsetParent||i.ownerDocument.body;return(0,Nr.offsetXYFromParent)(s||e,a,n.props.scale)}function y1(e,r,n){const s=!(0,Ge.isNum)(e.lastX),i=qa(e);return s?{node:i,deltaX:0,deltaY:0,lastX:r,lastY:n,x:r,y:n}:{node:i,deltaX:r-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:r,y:n}}function v1(e,r){const n=e.props.scale;return{node:r.node,x:e.state.x+r.deltaX/n,y:e.state.y+r.deltaY/n,deltaX:r.deltaX/n,deltaY:r.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function b1(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}function qa(e){const r=e.findDOMNode();if(!r)throw new Error("<DraggableCore>: Unmounted during event!");return r}var Xs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.default=w1;function w1(){}Object.defineProperty(Xs,"__esModule",{value:!0});Xs.default=void 0;var xi=dd(O),ze=Ba(Bt),_1=Ba(Ss),Ae=Ne,It=_t,yi=wt,tn=Ba(Ks);function Ba(e){return e&&e.__esModule?e:{default:e}}function dd(e,r){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(dd=function(i,a){if(!a&&i&&i.__esModule)return i;var o,c,u={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return u;if(o=a?s:n){if(o.has(i))return o.get(i);o.set(i,u)}for(const d in i)d!=="default"&&{}.hasOwnProperty.call(i,d)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,d))&&(c.get||c.set)?o(u,d,c):u[d]=i[d]);return u})(e,r)}function $e(e,r,n){return(r=j1(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j1(e){var r=N1(e,"string");return typeof r=="symbol"?r:r+""}function N1(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}const st={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let Ht=st.mouse,Js=class extends xi.Component{constructor(){super(...arguments),$e(this,"dragging",!1),$e(this,"lastX",NaN),$e(this,"lastY",NaN),$e(this,"touchIdentifier",null),$e(this,"mounted",!1),$e(this,"handleDragStart",r=>{if(this.props.onMouseDown(r),!this.props.allowAnyClick&&typeof r.button=="number"&&r.button!==0)return!1;const n=this.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:s}=n;if(this.props.disabled||!(r.target instanceof s.defaultView.Node)||this.props.handle&&!(0,Ae.matchesSelectorAndParentsTo)(r.target,this.props.handle,n)||this.props.cancel&&(0,Ae.matchesSelectorAndParentsTo)(r.target,this.props.cancel,n))return;r.type==="touchstart"&&!this.props.allowMobileScroll&&r.preventDefault();const i=(0,Ae.getTouchIdentifier)(r);this.touchIdentifier=i;const a=(0,It.getControlPosition)(r,i,this);if(a==null)return;const{x:o,y:c}=a,u=(0,It.createCoreData)(this,o,c);(0,tn.default)("DraggableCore: handleDragStart: %j",u),(0,tn.default)("calling",this.props.onStart),!(this.props.onStart(r,u)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,Ae.addUserSelectStyles)(s),this.dragging=!0,this.lastX=o,this.lastY=c,(0,Ae.addEvent)(s,Ht.move,this.handleDrag),(0,Ae.addEvent)(s,Ht.stop,this.handleDragStop))}),$e(this,"handleDrag",r=>{const n=(0,It.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:s,y:i}=n;if(Array.isArray(this.props.grid)){let c=s-this.lastX,u=i-this.lastY;if([c,u]=(0,It.snapToGrid)(this.props.grid,c,u),!c&&!u)return;s=this.lastX+c,i=this.lastY+u}const a=(0,It.createCoreData)(this,s,i);if((0,tn.default)("DraggableCore: handleDrag: %j",a),this.props.onDrag(r,a)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const u=document.createEvent("MouseEvents");u.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(u)}return}this.lastX=s,this.lastY=i}),$e(this,"handleDragStop",r=>{if(!this.dragging)return;const n=(0,It.getControlPosition)(r,this.touchIdentifier,this);if(n==null)return;let{x:s,y:i}=n;if(Array.isArray(this.props.grid)){let u=s-this.lastX||0,d=i-this.lastY||0;[u,d]=(0,It.snapToGrid)(this.props.grid,u,d),s=this.lastX+u,i=this.lastY+d}const a=(0,It.createCoreData)(this,s,i);if(this.props.onStop(r,a)===!1||this.mounted===!1)return!1;const c=this.findDOMNode();c&&this.props.enableUserSelectHack&&(0,Ae.scheduleRemoveUserSelectStyles)(c.ownerDocument),(0,tn.default)("DraggableCore: handleDragStop: %j",a),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,c&&((0,tn.default)("DraggableCore: Removing handlers"),(0,Ae.removeEvent)(c.ownerDocument,Ht.move,this.handleDrag),(0,Ae.removeEvent)(c.ownerDocument,Ht.stop,this.handleDragStop))}),$e(this,"onMouseDown",r=>(Ht=st.mouse,this.handleDragStart(r))),$e(this,"onMouseUp",r=>(Ht=st.mouse,this.handleDragStop(r))),$e(this,"onTouchStart",r=>(Ht=st.touch,this.handleDragStart(r))),$e(this,"onTouchEnd",r=>(Ht=st.touch,this.handleDragStop(r)))}componentDidMount(){this.mounted=!0;const r=this.findDOMNode();r&&(0,Ae.addEvent)(r,st.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const r=this.findDOMNode();if(r){const{ownerDocument:n}=r;(0,Ae.removeEvent)(n,st.mouse.move,this.handleDrag),(0,Ae.removeEvent)(n,st.touch.move,this.handleDrag),(0,Ae.removeEvent)(n,st.mouse.stop,this.handleDragStop),(0,Ae.removeEvent)(n,st.touch.stop,this.handleDragStop),(0,Ae.removeEvent)(r,st.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Ae.scheduleRemoveUserSelectStyles)(n)}}findDOMNode(){var r,n,s;return(r=this.props)!=null&&r.nodeRef?(s=(n=this.props)==null?void 0:n.nodeRef)==null?void 0:s.current:_1.default.findDOMNode(this)}render(){return xi.cloneElement(xi.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};Xs.default=Js;$e(Js,"displayName","DraggableCore");$e(Js,"propTypes",{allowAnyClick:ze.default.bool,allowMobileScroll:ze.default.bool,children:ze.default.node.isRequired,disabled:ze.default.bool,enableUserSelectHack:ze.default.bool,offsetParent:function(e,r){if(e[r]&&e[r].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:ze.default.arrayOf(ze.default.number),handle:ze.default.string,cancel:ze.default.string,nodeRef:ze.default.object,onStart:ze.default.func,onDrag:ze.default.func,onStop:ze.default.func,onMouseDown:ze.default.func,scale:ze.default.number,className:yi.dontSetMe,style:yi.dontSetMe,transform:yi.dontSetMe});$e(Js,"defaultProps",{allowAnyClick:!1,allowMobileScroll:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1});(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"DraggableCore",{enumerable:!0,get:function(){return u.default}}),e.default=void 0;var r=f(O),n=h(Bt),s=h(Ss),i=Ws,a=Ne,o=_t,c=wt,u=h(Xs),d=h(Ks);function h(x){return x&&x.__esModule?x:{default:x}}function f(x,w){if(typeof WeakMap=="function")var j=new WeakMap,b=new WeakMap;return(f=function(_,N){if(!N&&_&&_.__esModule)return _;var S,E,R={__proto__:null,default:_};if(_===null||typeof _!="object"&&typeof _!="function")return R;if(S=N?b:j){if(S.has(_))return S.get(_);S.set(_,R)}for(const k in _)k!=="default"&&{}.hasOwnProperty.call(_,k)&&((E=(S=Object.defineProperty)&&Object.getOwnPropertyDescriptor(_,k))&&(E.get||E.set)?S(R,k,E):R[k]=_[k]);return R})(x,w)}function p(){return p=Object.assign?Object.assign.bind():function(x){for(var w=1;w<arguments.length;w++){var j=arguments[w];for(var b in j)({}).hasOwnProperty.call(j,b)&&(x[b]=j[b])}return x},p.apply(null,arguments)}function m(x,w,j){return(w=g(w))in x?Object.defineProperty(x,w,{value:j,enumerable:!0,configurable:!0,writable:!0}):x[w]=j,x}function g(x){var w=v(x,"string");return typeof w=="symbol"?w:w+""}function v(x,w){if(typeof x!="object"||!x)return x;var j=x[Symbol.toPrimitive];if(j!==void 0){var b=j.call(x,w);if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(x)}class y extends r.Component{static getDerivedStateFromProps(w,j){let{position:b}=w,{prevPropsPosition:_}=j;return b&&(!_||b.x!==_.x||b.y!==_.y)?((0,d.default)("Draggable: getDerivedStateFromProps %j",{position:b,prevPropsPosition:_}),{x:b.x,y:b.y,prevPropsPosition:{...b}}):null}constructor(w){super(w),m(this,"onDragStart",(j,b)=>{if((0,d.default)("Draggable: onDragStart: %j",b),this.props.onStart(j,(0,o.createDraggableData)(this,b))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),m(this,"onDrag",(j,b)=>{if(!this.state.dragging)return!1;(0,d.default)("Draggable: onDrag: %j",b);const _=(0,o.createDraggableData)(this,b),N={x:_.x,y:_.y,slackX:0,slackY:0};if(this.props.bounds){const{x:E,y:R}=N;N.x+=this.state.slackX,N.y+=this.state.slackY;const[k,z]=(0,o.getBoundPosition)(this,N.x,N.y);N.x=k,N.y=z,N.slackX=this.state.slackX+(E-N.x),N.slackY=this.state.slackY+(R-N.y),_.x=N.x,_.y=N.y,_.deltaX=N.x-this.state.x,_.deltaY=N.y-this.state.y}if(this.props.onDrag(j,_)===!1)return!1;this.setState(N)}),m(this,"onDragStop",(j,b)=>{if(!this.state.dragging||this.props.onStop(j,(0,o.createDraggableData)(this,b))===!1)return!1;(0,d.default)("Draggable: onDragStop: %j",b);const N={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:E,y:R}=this.props.position;N.x=E,N.y=R}this.setState(N)}),this.state={dragging:!1,dragged:!1,x:w.position?w.position.x:w.defaultPosition.x,y:w.position?w.position.y:w.defaultPosition.y,prevPropsPosition:{...w.position},slackX:0,slackY:0,isElementSVG:!1},w.position&&!(w.onDrag||w.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.state.dragging&&this.setState({dragging:!1})}findDOMNode(){var w,j;return((j=(w=this.props)==null?void 0:w.nodeRef)==null?void 0:j.current)??s.default.findDOMNode(this)}render(){const{axis:w,bounds:j,children:b,defaultPosition:_,defaultClassName:N,defaultClassNameDragging:S,defaultClassNameDragged:E,position:R,positionOffset:k,scale:z,...T}=this.props;let I={},C=null;const A=!!!R||this.state.dragging,F=R||_,L={x:(0,o.canDragX)(this)&&A?this.state.x:F.x,y:(0,o.canDragY)(this)&&A?this.state.y:F.y};this.state.isElementSVG?C=(0,a.createSVGTransform)(L,k):I=(0,a.createCSSTransform)(L,k);const q=(0,i.clsx)(b.props.className||"",N,{[S]:this.state.dragging,[E]:this.state.dragged});return r.createElement(u.default,p({},T,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),r.cloneElement(r.Children.only(b),{className:q,style:{...b.props.style,...I},transform:C}))}}e.default=y,m(y,"displayName","Draggable"),m(y,"propTypes",{...u.default.propTypes,axis:n.default.oneOf(["both","x","y","none"]),bounds:n.default.oneOfType([n.default.shape({left:n.default.number,right:n.default.number,top:n.default.number,bottom:n.default.number}),n.default.string,n.default.oneOf([!1])]),defaultClassName:n.default.string,defaultClassNameDragging:n.default.string,defaultClassNameDragged:n.default.string,defaultPosition:n.default.shape({x:n.default.number,y:n.default.number}),positionOffset:n.default.shape({x:n.default.oneOfType([n.default.number,n.default.string]),y:n.default.oneOfType([n.default.number,n.default.string])}),position:n.default.shape({x:n.default.number,y:n.default.number}),className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),m(y,"defaultProps",{...u.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})})(sd);const{default:fd,DraggableCore:S1}=sd;Ys.exports=fd;Ys.exports.default=fd;Ys.exports.DraggableCore=S1;var hd=Ys.exports,Zs={exports:{}},Rn={},Va={};Va.__esModule=!0;Va.cloneElement=R1;var k1=C1(O);function C1(e){return e&&e.__esModule?e:{default:e}}function Ol(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Pl(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Ol(Object(n),!0).forEach(function(s){O1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function O1(e,r,n){return r=P1(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function P1(e){var r=E1(e,"string");return typeof r=="symbol"?r:String(r)}function E1(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function R1(e,r){return r.style&&e.props.style&&(r.style=Pl(Pl({},e.props.style),r.style)),r.className&&e.props.className&&(r.className=e.props.className+" "+r.className),k1.default.cloneElement(e,r)}var Dn={};Dn.__esModule=!0;Dn.resizableProps=void 0;var Q=D1(Bt);function D1(e){return e&&e.__esModule?e:{default:e}}var A1={axis:Q.default.oneOf(["both","x","y","none"]),className:Q.default.string,children:Q.default.element.isRequired,draggableOpts:Q.default.shape({allowAnyClick:Q.default.bool,cancel:Q.default.string,children:Q.default.node,disabled:Q.default.bool,enableUserSelectHack:Q.default.bool,offsetParent:Q.default.node,grid:Q.default.arrayOf(Q.default.number),handle:Q.default.string,nodeRef:Q.default.object,onStart:Q.default.func,onDrag:Q.default.func,onStop:Q.default.func,onMouseDown:Q.default.func,scale:Q.default.number}),height:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n[0];if(i.axis==="both"||i.axis==="y"){var a;return(a=Q.default.number).isRequired.apply(a,n)}return Q.default.number.apply(Q.default,n)},handle:Q.default.oneOfType([Q.default.node,Q.default.func]),handleSize:Q.default.arrayOf(Q.default.number),lockAspectRatio:Q.default.bool,maxConstraints:Q.default.arrayOf(Q.default.number),minConstraints:Q.default.arrayOf(Q.default.number),onResizeStop:Q.default.func,onResizeStart:Q.default.func,onResize:Q.default.func,resizeHandles:Q.default.arrayOf(Q.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:Q.default.number,width:function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n[0];if(i.axis==="both"||i.axis==="x"){var a;return(a=Q.default.number).isRequired.apply(a,n)}return Q.default.number.apply(Q.default,n)}};Dn.resizableProps=A1;Rn.__esModule=!0;Rn.default=void 0;var rn=L1(O),T1=hd,M1=Va,z1=Dn,$1=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function pd(e){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(pd=function(i){return i?n:r})(e)}function L1(e,r){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=pd(r);if(n&&n.has(e))return n.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}function ta(){return ta=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ta.apply(this,arguments)}function F1(e,r){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function El(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function vi(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?El(Object(n),!0).forEach(function(s){I1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):El(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function I1(e,r,n){return r=H1(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function H1(e){var r=U1(e,"string");return typeof r=="symbol"?r:String(r)}function U1(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function W1(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,ra(e,r)}function ra(e,r){return ra=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},ra(e,r)}var Ga=function(e){W1(r,e);function r(){for(var s,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return s=e.call.apply(e,[this].concat(a))||this,s.handleRefs={},s.lastHandleRect=null,s.slack=null,s}var n=r.prototype;return n.componentWillUnmount=function(){this.resetData()},n.resetData=function(){this.lastHandleRect=this.slack=null},n.runConstraints=function(i,a){var o=this.props,c=o.minConstraints,u=o.maxConstraints,d=o.lockAspectRatio;if(!c&&!u&&!d)return[i,a];if(d){var h=this.props.width/this.props.height,f=i-this.props.width,p=a-this.props.height;Math.abs(f)>Math.abs(p*h)?a=i/h:i=a*h}var m=i,g=a,v=this.slack||[0,0],y=v[0],x=v[1];return i+=y,a+=x,c&&(i=Math.max(c[0],i),a=Math.max(c[1],a)),u&&(i=Math.min(u[0],i),a=Math.min(u[1],a)),this.slack=[y+(m-i),x+(g-a)],[i,a]},n.resizeHandler=function(i,a){var o=this;return function(c,u){var d=u.node,h=u.deltaX,f=u.deltaY;i==="onResizeStart"&&o.resetData();var p=(o.props.axis==="both"||o.props.axis==="x")&&a!=="n"&&a!=="s",m=(o.props.axis==="both"||o.props.axis==="y")&&a!=="e"&&a!=="w";if(!(!p&&!m)){var g=a[0],v=a[a.length-1],y=d.getBoundingClientRect();if(o.lastHandleRect!=null){if(v==="w"){var x=y.left-o.lastHandleRect.left;h+=x}if(g==="n"){var w=y.top-o.lastHandleRect.top;f+=w}}o.lastHandleRect=y,v==="w"&&(h=-h),g==="n"&&(f=-f);var j=o.props.width+(p?h/o.props.transformScale:0),b=o.props.height+(m?f/o.props.transformScale:0),_=o.runConstraints(j,b);j=_[0],b=_[1];var N=j!==o.props.width||b!==o.props.height,S=typeof o.props[i]=="function"?o.props[i]:null,E=i==="onResize"&&!N;S&&!E&&(c.persist==null||c.persist(),S(c,{node:d,size:{width:j,height:b},handle:a})),i==="onResizeStop"&&o.resetData()}}},n.renderResizeHandle=function(i,a){var o=this.props.handle;if(!o)return rn.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+i,ref:a});if(typeof o=="function")return o(i,a);var c=typeof o.type=="string",u=vi({ref:a},c?{}:{handleAxis:i});return rn.cloneElement(o,u)},n.render=function(){var i=this,a=this.props,o=a.children,c=a.className,u=a.draggableOpts;a.width,a.height,a.handle,a.handleSize,a.lockAspectRatio,a.axis,a.minConstraints,a.maxConstraints,a.onResize,a.onResizeStop,a.onResizeStart;var d=a.resizeHandles;a.transformScale;var h=F1(a,$1);return(0,M1.cloneElement)(o,vi(vi({},h),{},{className:(c?c+" ":"")+"react-resizable",children:[].concat(o.props.children,d.map(function(f){var p,m=(p=i.handleRefs[f])!=null?p:i.handleRefs[f]=rn.createRef();return rn.createElement(T1.DraggableCore,ta({},u,{nodeRef:m,key:"resizableHandle-"+f,onStop:i.resizeHandler("onResizeStop",f),onStart:i.resizeHandler("onResizeStart",f),onDrag:i.resizeHandler("onResize",f)}),i.renderResizeHandle(f,m))}))}))},r}(rn.Component);Rn.default=Ga;Ga.propTypes=z1.resizableProps;Ga.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1};var Qs={};Qs.__esModule=!0;Qs.default=void 0;var bi=Y1(O),q1=md(Bt),B1=md(Rn),V1=Dn,G1=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function md(e){return e&&e.__esModule?e:{default:e}}function gd(e){if(typeof WeakMap!="function")return null;var r=new WeakMap,n=new WeakMap;return(gd=function(i){return i?n:r})(e)}function Y1(e,r){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var n=gd(r);if(n&&n.has(e))return n.get(e);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var o=i?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(s,a,o):s[a]=e[a]}return s.default=e,n&&n.set(e,s),s}function na(){return na=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},na.apply(this,arguments)}function Rl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function _s(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Rl(Object(n),!0).forEach(function(s){X1(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function X1(e,r,n){return r=K1(r),r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function K1(e){var r=J1(e,"string");return typeof r=="symbol"?r:String(r)}function J1(e,r){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Z1(e,r){if(e==null)return{};var n={},s=Object.keys(e),i,a;for(a=0;a<s.length;a++)i=s[a],!(r.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Q1(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,sa(e,r)}function sa(e,r){return sa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,i){return s.__proto__=i,s},sa(e,r)}var xd=function(e){Q1(r,e);function r(){for(var s,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return s=e.call.apply(e,[this].concat(a))||this,s.state={width:s.props.width,height:s.props.height,propsWidth:s.props.width,propsHeight:s.props.height},s.onResize=function(c,u){var d=u.size;s.props.onResize?(c.persist==null||c.persist(),s.setState(d,function(){return s.props.onResize&&s.props.onResize(c,u)})):s.setState(d)},s}r.getDerivedStateFromProps=function(i,a){return a.propsWidth!==i.width||a.propsHeight!==i.height?{width:i.width,height:i.height,propsWidth:i.width,propsHeight:i.height}:null};var n=r.prototype;return n.render=function(){var i=this.props,a=i.handle,o=i.handleSize;i.onResize;var c=i.onResizeStart,u=i.onResizeStop,d=i.draggableOpts,h=i.minConstraints,f=i.maxConstraints,p=i.lockAspectRatio,m=i.axis;i.width,i.height;var g=i.resizeHandles,v=i.style,y=i.transformScale,x=Z1(i,G1);return bi.createElement(B1.default,{axis:m,draggableOpts:d,handle:a,handleSize:o,height:this.state.height,lockAspectRatio:p,maxConstraints:f,minConstraints:h,onResizeStart:c,onResize:this.onResize,onResizeStop:u,resizeHandles:g,transformScale:y,width:this.state.width},bi.createElement("div",na({},x,{style:_s(_s({},v),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},r}(bi.Component);Qs.default=xd;xd.propTypes=_s(_s({},V1.resizableProps),{},{children:q1.default.element});Zs.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")};Zs.exports.Resizable=Rn.default;Zs.exports.ResizableBox=Qs.default;var ej=Zs.exports,Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.resizeHandleType=Dt.resizeHandleAxesType=Dt.default=void 0;var ee=yd(Bt),tj=yd(O);function yd(e){return e&&e.__esModule?e:{default:e}}const rj=Dt.resizeHandleAxesType=ee.default.arrayOf(ee.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),nj=Dt.resizeHandleType=ee.default.oneOfType([ee.default.node,ee.default.func]);Dt.default={className:ee.default.string,style:ee.default.object,width:ee.default.number,autoSize:ee.default.bool,cols:ee.default.number,draggableCancel:ee.default.string,draggableHandle:ee.default.string,verticalCompact:function(e){e.verticalCompact},compactType:ee.default.oneOf(["vertical","horizontal"]),layout:function(e){var r=e.layout;r!==void 0&&ne.validateLayout(r,"layout")},margin:ee.default.arrayOf(ee.default.number),containerPadding:ee.default.arrayOf(ee.default.number),rowHeight:ee.default.number,maxRows:ee.default.number,isBounded:ee.default.bool,isDraggable:ee.default.bool,isResizable:ee.default.bool,allowOverlap:ee.default.bool,preventCollision:ee.default.bool,useCSSTransforms:ee.default.bool,transformScale:ee.default.number,isDroppable:ee.default.bool,resizeHandles:rj,resizeHandle:nj,onLayoutChange:ee.default.func,onDragStart:ee.default.func,onDrag:ee.default.func,onDragStop:ee.default.func,onResizeStart:ee.default.func,onResize:ee.default.func,onResizeStop:ee.default.func,onDrop:ee.default.func,droppingItem:ee.default.shape({i:ee.default.string.isRequired,w:ee.default.number.isRequired,h:ee.default.number.isRequired}),children:function(e,r){const n=e[r],s={};tj.default.Children.forEach(n,function(i){if((i==null?void 0:i.key)!=null){if(s[i.key])throw new Error('Duplicate child key "'+i.key+'" found! This will cause problems in ReactGridLayout.');s[i.key]=!0}})},innerRef:ee.default.any};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.default=void 0;var xr=Ya(O),Dl=Ss,ue=Ya(Bt),sj=hd,ij=ej,yr=ne,Oe=bt,Al=Dt,aj=Ya(Ws);function Ya(e){return e&&e.__esModule?e:{default:e}}function Tl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function wi(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Tl(Object(n),!0).forEach(function(s){it(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function it(e,r,n){return(r=oj(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function oj(e){var r=lj(e,"string");return typeof r=="symbol"?r:r+""}function lj(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}class Xa extends xr.default.Component{constructor(){super(...arguments),it(this,"state",{resizing:null,dragging:null,className:""}),it(this,"elementRef",xr.default.createRef()),it(this,"onDragStart",(r,n)=>{let{node:s}=n;const{onDragStart:i,transformScale:a}=this.props;if(!i)return;const o={top:0,left:0},{offsetParent:c}=s;if(!c)return;const u=c.getBoundingClientRect(),d=s.getBoundingClientRect(),h=d.left/a,f=u.left/a,p=d.top/a,m=u.top/a;o.left=h-f+c.scrollLeft,o.top=p-m+c.scrollTop,this.setState({dragging:o});const{x:g,y:v}=(0,Oe.calcXY)(this.getPositionParams(),o.top,o.left,this.props.w,this.props.h);return i.call(this,this.props.i,g,v,{e:r,node:s,newPosition:o})}),it(this,"onDrag",(r,n,s)=>{let{node:i,deltaX:a,deltaY:o}=n;const{onDrag:c}=this.props;if(!c)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let u=this.state.dragging.top+o,d=this.state.dragging.left+a;const{isBounded:h,i:f,w:p,h:m,containerWidth:g}=this.props,v=this.getPositionParams();if(h){const{offsetParent:j}=i;if(j){const{margin:b,rowHeight:_}=this.props,N=j.clientHeight-(0,Oe.calcGridItemWHPx)(m,_,b[1]);u=(0,Oe.clamp)(u,0,N);const S=(0,Oe.calcGridColWidth)(v),E=g-(0,Oe.calcGridItemWHPx)(p,S,b[0]);d=(0,Oe.clamp)(d,0,E)}}const y={top:u,left:d};s?this.setState({dragging:y}):(0,Dl.flushSync)(()=>{this.setState({dragging:y})});const{x,y:w}=(0,Oe.calcXY)(v,u,d,p,m);return c.call(this,f,x,w,{e:r,node:i,newPosition:y})}),it(this,"onDragStop",(r,n)=>{let{node:s}=n;const{onDragStop:i}=this.props;if(!i)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:a,h:o,i:c}=this.props,{left:u,top:d}=this.state.dragging,h={top:d,left:u};this.setState({dragging:null});const{x:f,y:p}=(0,Oe.calcXY)(this.getPositionParams(),d,u,a,o);return i.call(this,c,f,p,{e:r,node:s,newPosition:h})}),it(this,"onResizeStop",(r,n,s)=>this.onResizeHandler(r,n,s,"onResizeStop")),it(this,"onResizeStart",(r,n,s)=>this.onResizeHandler(r,n,s,"onResizeStart")),it(this,"onResize",(r,n,s)=>this.onResizeHandler(r,n,s,"onResize"))}shouldComponentUpdate(r,n){if(this.props.children!==r.children||this.props.droppingPosition!==r.droppingPosition)return!0;const s=(0,Oe.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),i=(0,Oe.calcGridItemPosition)(this.getPositionParams(r),r.x,r.y,r.w,r.h,n);return!(0,yr.fastPositionEqual)(s,i)||this.props.useCSSTransforms!==r.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(r){this.moveDroppingItem(r)}moveDroppingItem(r){const{droppingPosition:n}=this.props;if(!n)return;const s=this.elementRef.current;if(!s)return;const i=r.droppingPosition||{left:0,top:0},{dragging:a}=this.state,o=a&&n.left!==i.left||n.top!==i.top;if(!a)this.onDragStart(n.e,{node:s,deltaX:n.left,deltaY:n.top});else if(o){const c=n.left-a.left,u=n.top-a.top;this.onDrag(n.e,{node:s,deltaX:c,deltaY:u},!0)}}getPositionParams(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:r.cols,containerPadding:r.containerPadding,containerWidth:r.containerWidth,margin:r.margin,maxRows:r.maxRows,rowHeight:r.rowHeight}}createStyle(r){const{usePercentages:n,containerWidth:s,useCSSTransforms:i}=this.props;let a;return i?a=(0,yr.setTransform)(r):(a=(0,yr.setTopLeft)(r),n&&(a.left=(0,yr.perc)(r.left/s),a.width=(0,yr.perc)(r.width/s))),a}mixinDraggable(r,n){return xr.default.createElement(sj.DraggableCore,{disabled:!n,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},r)}curryResizeHandler(r,n){return(s,i)=>n(s,i,r)}mixinResizable(r,n,s){const{cols:i,minW:a,minH:o,maxW:c,maxH:u,transformScale:d,resizeHandles:h,resizeHandle:f}=this.props,p=this.getPositionParams(),m=(0,Oe.calcGridItemPosition)(p,0,0,i,0).width,g=(0,Oe.calcGridItemPosition)(p,0,0,a,o),v=(0,Oe.calcGridItemPosition)(p,0,0,c,u),y=[g.width,g.height],x=[Math.min(v.width,m),Math.min(v.height,1/0)];return xr.default.createElement(ij.Resizable,{draggableOpts:{disabled:!s},className:s?void 0:"react-resizable-hide",width:n.width,height:n.height,minConstraints:y,maxConstraints:x,onResizeStop:this.curryResizeHandler(n,this.onResizeStop),onResizeStart:this.curryResizeHandler(n,this.onResizeStart),onResize:this.curryResizeHandler(n,this.onResize),transformScale:d,resizeHandles:h,handle:f},r)}onResizeHandler(r,n,s,i){let{node:a,size:o,handle:c}=n;const u=this.props[i];if(!u)return;const{x:d,y:h,i:f,maxH:p,minH:m,containerWidth:g}=this.props,{minW:v,maxW:y}=this.props;let x=o;a&&(x=(0,yr.resizeItemInDirection)(c,s,o,g),(0,Dl.flushSync)(()=>{this.setState({resizing:i==="onResizeStop"?null:x})}));let{w,h:j}=(0,Oe.calcWH)(this.getPositionParams(),x.width,x.height,d,h,c);w=(0,Oe.clamp)(w,Math.max(v,1),y),j=(0,Oe.clamp)(j,m,p),u.call(this,f,w,j,{e:r,node:a,size:x,handle:c})}render(){const{x:r,y:n,w:s,h:i,isDraggable:a,isResizable:o,droppingPosition:c,useCSSTransforms:u}=this.props,d=(0,Oe.calcGridItemPosition)(this.getPositionParams(),r,n,s,i,this.state),h=xr.default.Children.only(this.props.children);let f=xr.default.cloneElement(h,{ref:this.elementRef,className:(0,aj.default)("react-grid-item",h.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":a,"react-draggable-dragging":!!this.state.dragging,dropping:!!c,cssTransforms:u}),style:wi(wi(wi({},this.props.style),h.props.style),this.createStyle(d))});return f=this.mixinResizable(f,d,o),f=this.mixinDraggable(f,a),f}}Gs.default=Xa;it(Xa,"propTypes",{children:ue.default.element,cols:ue.default.number.isRequired,containerWidth:ue.default.number.isRequired,rowHeight:ue.default.number.isRequired,margin:ue.default.array.isRequired,maxRows:ue.default.number.isRequired,containerPadding:ue.default.array.isRequired,x:ue.default.number.isRequired,y:ue.default.number.isRequired,w:ue.default.number.isRequired,h:ue.default.number.isRequired,minW:function(e,r){const n=e[r];if(typeof n!="number")return new Error("minWidth not Number");if(n>e.w||n>e.maxW)return new Error("minWidth larger than item width/maxWidth")},maxW:function(e,r){const n=e[r];if(typeof n!="number")return new Error("maxWidth not Number");if(n<e.w||n<e.minW)return new Error("maxWidth smaller than item width/minWidth")},minH:function(e,r){const n=e[r];if(typeof n!="number")return new Error("minHeight not Number");if(n>e.h||n>e.maxH)return new Error("minHeight larger than item height/maxHeight")},maxH:function(e,r){const n=e[r];if(typeof n!="number")return new Error("maxHeight not Number");if(n<e.h||n<e.minH)return new Error("maxHeight smaller than item height/minHeight")},i:ue.default.string.isRequired,resizeHandles:Al.resizeHandleAxesType,resizeHandle:Al.resizeHandleType,onDragStop:ue.default.func,onDragStart:ue.default.func,onDrag:ue.default.func,onResizeStop:ue.default.func,onResizeStart:ue.default.func,onResize:ue.default.func,isDraggable:ue.default.bool.isRequired,isResizable:ue.default.bool.isRequired,isBounded:ue.default.bool.isRequired,static:ue.default.bool,useCSSTransforms:ue.default.bool.isRequired,transformScale:ue.default.number,className:ue.default.string,handle:ue.default.string,cancel:ue.default.string,droppingPosition:ue.default.shape({e:ue.default.object.isRequired,left:ue.default.number.isRequired,top:ue.default.number.isRequired})});it(Xa,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1});Object.defineProperty(En,"__esModule",{value:!0});En.default=void 0;var Gt=vd(O),_i=Ta,cj=Ka(Ws),J=ne,uj=bt,Ml=Ka(Gs),dj=Ka(Dt);function Ka(e){return e&&e.__esModule?e:{default:e}}function vd(e,r){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(vd=function(i,a){if(!a&&i&&i.__esModule)return i;var o,c,u={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return u;if(o=a?s:n){if(o.has(i))return o.get(i);o.set(i,u)}for(const d in i)d!=="default"&&{}.hasOwnProperty.call(i,d)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,d))&&(c.get||c.set)?o(u,d,c):u[d]=i[d]);return u})(e,r)}function zl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Yt(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?zl(Object(n),!0).forEach(function(s){Pe(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Pe(e,r,n){return(r=fj(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function fj(e){var r=hj(e,"string");return typeof r=="symbol"?r:r+""}function hj(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}const $l="react-grid-layout";let bd=!1;try{bd=/firefox/i.test(navigator.userAgent)}catch{}class ei extends Gt.Component{constructor(){super(...arguments),Pe(this,"state",{activeDrag:null,layout:(0,J.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,J.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),Pe(this,"dragEnterCounter",0),Pe(this,"onDragStart",(r,n,s,i)=>{let{e:a,node:o}=i;const{layout:c}=this.state,u=(0,J.getLayoutItem)(c,r);if(!u)return;const d={w:u.w,h:u.h,x:u.x,y:u.y,placeholder:!0,i:r};return this.setState({oldDragItem:(0,J.cloneLayoutItem)(u),oldLayout:c,activeDrag:d}),this.props.onDragStart(c,u,u,null,a,o)}),Pe(this,"onDrag",(r,n,s,i)=>{let{e:a,node:o}=i;const{oldDragItem:c}=this.state;let{layout:u}=this.state;const{cols:d,allowOverlap:h,preventCollision:f}=this.props,p=(0,J.getLayoutItem)(u,r);if(!p)return;const m={w:p.w,h:p.h,x:p.x,y:p.y,placeholder:!0,i:r};u=(0,J.moveElement)(u,p,n,s,!0,f,(0,J.compactType)(this.props),d,h),this.props.onDrag(u,c,p,m,a,o),this.setState({layout:h?u:(0,J.compact)(u,(0,J.compactType)(this.props),d),activeDrag:m})}),Pe(this,"onDragStop",(r,n,s,i)=>{let{e:a,node:o}=i;if(!this.state.activeDrag)return;const{oldDragItem:c}=this.state;let{layout:u}=this.state;const{cols:d,preventCollision:h,allowOverlap:f}=this.props,p=(0,J.getLayoutItem)(u,r);if(!p)return;u=(0,J.moveElement)(u,p,n,s,!0,h,(0,J.compactType)(this.props),d,f);const g=f?u:(0,J.compact)(u,(0,J.compactType)(this.props),d);this.props.onDragStop(g,c,p,null,a,o);const{oldLayout:v}=this.state;this.setState({activeDrag:null,layout:g,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(g,v)}),Pe(this,"onResizeStart",(r,n,s,i)=>{let{e:a,node:o}=i;const{layout:c}=this.state,u=(0,J.getLayoutItem)(c,r);u&&(this.setState({oldResizeItem:(0,J.cloneLayoutItem)(u),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(c,u,u,null,a,o))}),Pe(this,"onResize",(r,n,s,i)=>{let{e:a,node:o,size:c,handle:u}=i;const{oldResizeItem:d}=this.state,{layout:h}=this.state,{cols:f,preventCollision:p,allowOverlap:m}=this.props;let g=!1,v,y,x;const[w,j]=(0,J.withLayoutItem)(h,r,_=>{let N;return y=_.x,x=_.y,["sw","w","nw","n","ne"].indexOf(u)!==-1&&(["sw","nw","w"].indexOf(u)!==-1&&(y=_.x+(_.w-n),n=_.x!==y&&y<0?_.w:n,y=y<0?0:y),["ne","n","nw"].indexOf(u)!==-1&&(x=_.y+(_.h-s),s=_.y!==x&&x<0?_.h:s,x=x<0?0:x),g=!0),p&&!m&&(N=(0,J.getAllCollisions)(h,Yt(Yt({},_),{},{w:n,h:s,x:y,y:x})).filter(E=>E.i!==_.i).length>0,N&&(x=_.y,s=_.h,y=_.x,n=_.w,g=!1)),_.w=n,_.h=s,_});if(!j)return;v=w,g&&(v=(0,J.moveElement)(w,j,y,x,!0,this.props.preventCollision,(0,J.compactType)(this.props),f,m));const b={w:j.w,h:j.h,x:j.x,y:j.y,static:!0,i:r};this.props.onResize(v,d,j,b,a,o),this.setState({layout:m?v:(0,J.compact)(v,(0,J.compactType)(this.props),f),activeDrag:b})}),Pe(this,"onResizeStop",(r,n,s,i)=>{let{e:a,node:o}=i;const{layout:c,oldResizeItem:u}=this.state,{cols:d,allowOverlap:h}=this.props,f=(0,J.getLayoutItem)(c,r),p=h?c:(0,J.compact)(c,(0,J.compactType)(this.props),d);this.props.onResizeStop(p,u,f,null,a,o);const{oldLayout:m}=this.state;this.setState({activeDrag:null,layout:p,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(p,m)}),Pe(this,"onDragOver",r=>{var n;if(r.preventDefault(),r.stopPropagation(),bd&&!((n=r.nativeEvent.target)!==null&&n!==void 0&&n.classList.contains($l)))return!1;const{droppingItem:s,onDropDragOver:i,margin:a,cols:o,rowHeight:c,maxRows:u,width:d,containerPadding:h,transformScale:f}=this.props,p=i==null?void 0:i(r);if(p===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const m=Yt(Yt({},s),p),{layout:g}=this.state,v=r.currentTarget.getBoundingClientRect(),y=r.clientX-v.left,x=r.clientY-v.top,w={left:y/f,top:x/f,e:r};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:j,top:b}=this.state.droppingPosition;(j!=y||b!=x)&&this.setState({droppingPosition:w})}}else{const j={cols:o,margin:a,maxRows:u,rowHeight:c,containerWidth:d,containerPadding:h||a},b=(0,uj.calcXY)(j,x,y,m.w,m.h);this.setState({droppingDOMNode:Gt.createElement("div",{key:m.i}),droppingPosition:w,layout:[...g,Yt(Yt({},m),{},{x:b.x,y:b.y,static:!1,isDraggable:!0})]})}}),Pe(this,"removeDroppingPlaceholder",()=>{const{droppingItem:r,cols:n}=this.props,{layout:s}=this.state,i=(0,J.compact)(s.filter(a=>a.i!==r.i),(0,J.compactType)(this.props),n,this.props.allowOverlap);this.setState({layout:i,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),Pe(this,"onDragLeave",r=>{r.preventDefault(),r.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),Pe(this,"onDragEnter",r=>{r.preventDefault(),r.stopPropagation(),this.dragEnterCounter++}),Pe(this,"onDrop",r=>{r.preventDefault(),r.stopPropagation();const{droppingItem:n}=this.props,{layout:s}=this.state,i=s.find(a=>a.i===n.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(s,i,r)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(r,n){let s;return n.activeDrag?null:(!(0,_i.deepEqual)(r.layout,n.propsLayout)||r.compactType!==n.compactType?s=r.layout:(0,J.childrenEqual)(r.children,n.children)||(s=n.layout),s?{layout:(0,J.synchronizeLayoutWithChildren)(s,r.children,r.cols,(0,J.compactType)(r),r.allowOverlap),compactType:r.compactType,children:r.children,propsLayout:r.layout}:null)}shouldComponentUpdate(r,n){return this.props.children!==r.children||!(0,J.fastRGLPropsEqual)(this.props,r,_i.deepEqual)||this.state.activeDrag!==n.activeDrag||this.state.mounted!==n.mounted||this.state.droppingPosition!==n.droppingPosition}componentDidUpdate(r,n){if(!this.state.activeDrag){const s=this.state.layout,i=n.layout;this.onLayoutMaybeChanged(s,i)}}containerHeight(){if(!this.props.autoSize)return;const r=(0,J.bottom)(this.state.layout),n=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return r*this.props.rowHeight+(r-1)*this.props.margin[1]+n*2+"px"}onLayoutMaybeChanged(r,n){n||(n=this.state.layout),(0,_i.deepEqual)(n,r)||this.props.onLayoutChange(r)}placeholder(){const{activeDrag:r}=this.state;if(!r)return null;const{width:n,cols:s,margin:i,containerPadding:a,rowHeight:o,maxRows:c,useCSSTransforms:u,transformScale:d}=this.props;return Gt.createElement(Ml.default,{w:r.w,h:r.h,x:r.x,y:r.y,i:r.i,className:"react-grid-placeholder ".concat(this.state.resizing?"placeholder-resizing":""),containerWidth:n,cols:s,margin:i,containerPadding:a||i,maxRows:c,rowHeight:o,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:u,transformScale:d},Gt.createElement("div",null))}processGridItem(r,n){if(!r||!r.key)return;const s=(0,J.getLayoutItem)(this.state.layout,String(r.key));if(!s)return null;const{width:i,cols:a,margin:o,containerPadding:c,rowHeight:u,maxRows:d,isDraggable:h,isResizable:f,isBounded:p,useCSSTransforms:m,transformScale:g,draggableCancel:v,draggableHandle:y,resizeHandles:x,resizeHandle:w}=this.props,{mounted:j,droppingPosition:b}=this.state,_=typeof s.isDraggable=="boolean"?s.isDraggable:!s.static&&h,N=typeof s.isResizable=="boolean"?s.isResizable:!s.static&&f,S=s.resizeHandles||x,E=_&&p&&s.isBounded!==!1;return Gt.createElement(Ml.default,{containerWidth:i,cols:a,margin:o,containerPadding:c||o,maxRows:d,rowHeight:u,cancel:v,handle:y,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:_,isResizable:N,isBounded:E,useCSSTransforms:m&&j,usePercentages:!j,transformScale:g,w:s.w,h:s.h,x:s.x,y:s.y,i:s.i,minH:s.minH,minW:s.minW,maxH:s.maxH,maxW:s.maxW,static:s.static,droppingPosition:n?b:void 0,resizeHandles:S,resizeHandle:w},r)}render(){const{className:r,style:n,isDroppable:s,innerRef:i}=this.props,a=(0,cj.default)($l,r),o=Yt({height:this.containerHeight()},n);return Gt.createElement("div",{ref:i,className:a,style:o,onDrop:s?this.onDrop:J.noop,onDragLeave:s?this.onDragLeave:J.noop,onDragEnter:s?this.onDragEnter:J.noop,onDragOver:s?this.onDragOver:J.noop},Gt.Children.map(this.props.children,c=>this.processGridItem(c)),s&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}En.default=ei;Pe(ei,"displayName","ReactGridLayout");Pe(ei,"propTypes",dj.default);Pe(ei,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:J.noop,onDragStart:J.noop,onDrag:J.noop,onDragStop:J.noop,onResizeStart:J.noop,onResize:J.noop,onResizeStop:J.noop,onDrop:J.noop,onDropDragOver:J.noop});var ti={},dr={};Object.defineProperty(dr,"__esModule",{value:!0});dr.findOrGenerateResponsiveLayout=gj;dr.getBreakpointFromWidth=pj;dr.getColsFromBreakpoint=mj;dr.sortBreakpoints=Ja;var Vn=ne;function pj(e,r){const n=Ja(e);let s=n[0];for(let i=1,a=n.length;i<a;i++){const o=n[i];r>e[o]&&(s=o)}return s}function mj(e,r){if(!r[e])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+e+" is missing!");return r[e]}function gj(e,r,n,s,i,a){if(e[n])return(0,Vn.cloneLayout)(e[n]);let o=e[s];const c=Ja(r),u=c.slice(c.indexOf(n));for(let d=0,h=u.length;d<h;d++){const f=u[d];if(e[f]){o=e[f];break}}return o=(0,Vn.cloneLayout)(o||[]),(0,Vn.compact)((0,Vn.correctBounds)(o,{cols:i}),a,i)}function Ja(e){return Object.keys(e).sort(function(n,s){return e[n]-e[s]})}Object.defineProperty(ti,"__esModule",{value:!0});ti.default=void 0;var Ll=_d(O),He=wd(Bt),ji=Ta,kr=ne,Xt=dr,xj=wd(En);const yj=["breakpoint","breakpoints","cols","layouts","margin","containerPadding","onBreakpointChange","onLayoutChange","onWidthChange"];function wd(e){return e&&e.__esModule?e:{default:e}}function _d(e,r){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(_d=function(i,a){if(!a&&i&&i.__esModule)return i;var o,c,u={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return u;if(o=a?s:n){if(o.has(i))return o.get(i);o.set(i,u)}for(const d in i)d!=="default"&&{}.hasOwnProperty.call(i,d)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,d))&&(c.get||c.set)?o(u,d,c):u[d]=i[d]);return u})(e,r)}function ia(){return ia=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ia.apply(null,arguments)}function vj(e,r){if(e==null)return{};var n,s,i=bj(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bj(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function Fl(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Ni(e){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Fl(Object(n),!0).forEach(function(s){wn(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fl(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function wn(e,r,n){return(r=wj(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function wj(e){var r=_j(e,"string");return typeof r=="symbol"?r:r+""}function _j(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}const Il=e=>Object.prototype.toString.call(e);function Gn(e,r){return e==null?null:Array.isArray(e)?e:e[r]}class Za extends Ll.Component{constructor(){super(...arguments),wn(this,"state",this.generateInitialState()),wn(this,"onLayoutChange",r=>{this.props.onLayoutChange(r,Ni(Ni({},this.props.layouts),{},{[this.state.breakpoint]:r}))})}generateInitialState(){const{width:r,breakpoints:n,layouts:s,cols:i}=this.props,a=(0,Xt.getBreakpointFromWidth)(n,r),o=(0,Xt.getColsFromBreakpoint)(a,i),c=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,Xt.findOrGenerateResponsiveLayout)(s,n,a,a,o,c),breakpoint:a,cols:o}}static getDerivedStateFromProps(r,n){if(!(0,ji.deepEqual)(r.layouts,n.layouts)){const{breakpoint:s,cols:i}=n;return{layout:(0,Xt.findOrGenerateResponsiveLayout)(r.layouts,r.breakpoints,s,s,i,r.compactType),layouts:r.layouts}}return null}componentDidUpdate(r){(this.props.width!=r.width||this.props.breakpoint!==r.breakpoint||!(0,ji.deepEqual)(this.props.breakpoints,r.breakpoints)||!(0,ji.deepEqual)(this.props.cols,r.cols))&&this.onWidthChange(r)}onWidthChange(r){const{breakpoints:n,cols:s,layouts:i,compactType:a}=this.props,o=this.props.breakpoint||(0,Xt.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),c=this.state.breakpoint,u=(0,Xt.getColsFromBreakpoint)(o,s),d=Ni({},i);if(c!==o||r.breakpoints!==n||r.cols!==s){c in d||(d[c]=(0,kr.cloneLayout)(this.state.layout));let p=(0,Xt.findOrGenerateResponsiveLayout)(d,n,o,c,u,a);p=(0,kr.synchronizeLayoutWithChildren)(p,this.props.children,u,a,this.props.allowOverlap),d[o]=p,this.props.onBreakpointChange(o,u),this.props.onLayoutChange(p,d),this.setState({breakpoint:o,layout:p,cols:u})}const h=Gn(this.props.margin,o),f=Gn(this.props.containerPadding,o);this.props.onWidthChange(this.props.width,h,u,f)}render(){const r=this.props,{breakpoint:n,breakpoints:s,cols:i,layouts:a,margin:o,containerPadding:c,onBreakpointChange:u,onLayoutChange:d,onWidthChange:h}=r,f=vj(r,yj);return Ll.createElement(xj.default,ia({},f,{margin:Gn(o,this.state.breakpoint),containerPadding:Gn(c,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}}ti.default=Za;wn(Za,"propTypes",{breakpoint:He.default.string,breakpoints:He.default.object,allowOverlap:He.default.bool,cols:He.default.object,margin:He.default.oneOfType([He.default.array,He.default.object]),containerPadding:He.default.oneOfType([He.default.array,He.default.object]),layouts(e,r){if(Il(e[r])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+Il(e[r]));Object.keys(e[r]).forEach(n=>{if(!(n in e.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,kr.validateLayout)(e.layouts[n],"layouts."+n)})},width:He.default.number.isRequired,onBreakpointChange:He.default.func,onLayoutChange:He.default.func,onWidthChange:He.default.func});wn(Za,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:kr.noop,onLayoutChange:kr.noop,onWidthChange:kr.noop});var Qa={},jd=function(){if(typeof Map<"u")return Map;function e(r,n){var s=-1;return r.some(function(i,a){return i[0]===n?(s=a,!0):!1}),s}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(n){var s=e(this.__entries__,n),i=this.__entries__[s];return i&&i[1]},r.prototype.set=function(n,s){var i=e(this.__entries__,n);~i?this.__entries__[i][1]=s:this.__entries__.push([n,s])},r.prototype.delete=function(n){var s=this.__entries__,i=e(s,n);~i&&s.splice(i,1)},r.prototype.has=function(n){return!!~e(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,s){s===void 0&&(s=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];n.call(s,o[1],o[0])}},r}()}(),aa=typeof window<"u"&&typeof document<"u"&&window.document===document,js=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),jj=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(js):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Nj=2;function Sj(e,r){var n=!1,s=!1,i=0;function a(){n&&(n=!1,e()),s&&c()}function o(){jj(a)}function c(){var u=Date.now();if(n){if(u-i<Nj)return;s=!0}else n=!0,s=!1,setTimeout(o,r);i=u}return c}var kj=20,Cj=["top","right","bottom","left","width","height","size","weight"],Oj=typeof MutationObserver<"u",Pj=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Sj(this.refresh.bind(this),kj)}return e.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},e.prototype.removeObserver=function(r){var n=this.observers_,s=n.indexOf(r);~s&&n.splice(s,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},e.prototype.updateObservers_=function(){var r=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return r.forEach(function(n){return n.broadcastActive()}),r.length>0},e.prototype.connect_=function(){!aa||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Oj?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!aa||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(r){var n=r.propertyName,s=n===void 0?"":n,i=Cj.some(function(a){return!!~s.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Nd=function(e,r){for(var n=0,s=Object.keys(r);n<s.length;n++){var i=s[n];Object.defineProperty(e,i,{value:r[i],enumerable:!1,writable:!1,configurable:!0})}return e},Mr=function(e){var r=e&&e.ownerDocument&&e.ownerDocument.defaultView;return r||js},Sd=ri(0,0,0,0);function Ns(e){return parseFloat(e)||0}function Hl(e){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(s,i){var a=e["border-"+i+"-width"];return s+Ns(a)},0)}function Ej(e){for(var r=["top","right","bottom","left"],n={},s=0,i=r;s<i.length;s++){var a=i[s],o=e["padding-"+a];n[a]=Ns(o)}return n}function Rj(e){var r=e.getBBox();return ri(0,0,r.width,r.height)}function Dj(e){var r=e.clientWidth,n=e.clientHeight;if(!r&&!n)return Sd;var s=Mr(e).getComputedStyle(e),i=Ej(s),a=i.left+i.right,o=i.top+i.bottom,c=Ns(s.width),u=Ns(s.height);if(s.boxSizing==="border-box"&&(Math.round(c+a)!==r&&(c-=Hl(s,"left","right")+a),Math.round(u+o)!==n&&(u-=Hl(s,"top","bottom")+o)),!Tj(e)){var d=Math.round(c+a)-r,h=Math.round(u+o)-n;Math.abs(d)!==1&&(c-=d),Math.abs(h)!==1&&(u-=h)}return ri(i.left,i.top,c,u)}var Aj=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof Mr(e).SVGGraphicsElement}:function(e){return e instanceof Mr(e).SVGElement&&typeof e.getBBox=="function"}}();function Tj(e){return e===Mr(e).document.documentElement}function Mj(e){return aa?Aj(e)?Rj(e):Dj(e):Sd}function zj(e){var r=e.x,n=e.y,s=e.width,i=e.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return Nd(o,{x:r,y:n,width:s,height:i,top:n,right:r+s,bottom:i+n,left:r}),o}function ri(e,r,n,s){return{x:e,y:r,width:n,height:s}}var $j=function(){function e(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ri(0,0,0,0),this.target=r}return e.prototype.isActive=function(){var r=Mj(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},e}(),Lj=function(){function e(r,n){var s=zj(n);Nd(this,{target:r,contentRect:s})}return e}(),Fj=function(){function e(r,n,s){if(this.activeObservations_=[],this.observations_=new jd,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=n,this.callbackCtx_=s}return e.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Mr(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)||(n.set(r,new $j(r)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Mr(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)&&(n.delete(r),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&r.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,n=this.activeObservations_.map(function(s){return new Lj(s.target,s.broadcastRect())});this.callback_.call(r,n,r),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),kd=typeof WeakMap<"u"?new WeakMap:new jd,Cd=function(){function e(r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Pj.getInstance(),s=new Fj(r,n,this);kd.set(this,s)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Cd.prototype[e]=function(){var r;return(r=kd.get(this))[e].apply(r,arguments)}});var Ij=function(){return typeof js.ResizeObserver<"u"?js.ResizeObserver:Cd}();const Hj=Object.freeze(Object.defineProperty({__proto__:null,default:Ij},Symbol.toStringTag,{value:"Module"})),Uj=Gl(Hj);Object.defineProperty(Qa,"__esModule",{value:!0});Qa.default=Zj;var Yn=Od(O),Wj=eo(Bt),qj=eo(Uj),Bj=eo(Ws);const Vj=["measureBeforeMount"];function eo(e){return e&&e.__esModule?e:{default:e}}function Od(e,r){if(typeof WeakMap=="function")var n=new WeakMap,s=new WeakMap;return(Od=function(i,a){if(!a&&i&&i.__esModule)return i;var o,c,u={__proto__:null,default:i};if(i===null||typeof i!="object"&&typeof i!="function")return u;if(o=a?s:n){if(o.has(i))return o.get(i);o.set(i,u)}for(const d in i)d!=="default"&&{}.hasOwnProperty.call(i,d)&&((c=(o=Object.defineProperty)&&Object.getOwnPropertyDescriptor(i,d))&&(c.get||c.set)?o(u,d,c):u[d]=i[d]);return u})(e,r)}function oa(){return oa=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)({}).hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},oa.apply(null,arguments)}function Gj(e,r){if(e==null)return{};var n,s,i=Yj(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],r.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yj(e,r){if(e==null)return{};var n={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(r.indexOf(s)!==-1)continue;n[s]=e[s]}return n}function vr(e,r,n){return(r=Xj(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function Xj(e){var r=Kj(e,"string");return typeof r=="symbol"?r:r+""}function Kj(e,r){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,r);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}const Jj="react-grid-layout";function Zj(e){var r;return r=class extends Yn.Component{constructor(){super(...arguments),vr(this,"state",{width:1280}),vr(this,"elementRef",Yn.createRef()),vr(this,"mounted",!1),vr(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new qj.default(i=>{if(this.elementRef.current instanceof HTMLElement){const o=i[0].contentRect.width;this.setState({width:o})}});const s=this.elementRef.current;s instanceof HTMLElement&&this.resizeObserver.observe(s)}componentWillUnmount(){this.mounted=!1;const s=this.elementRef.current;s instanceof HTMLElement&&this.resizeObserver.unobserve(s),this.resizeObserver.disconnect()}render(){const s=this.props,{measureBeforeMount:i}=s,a=Gj(s,Vj);return i&&!this.mounted?Yn.createElement("div",{className:(0,Bj.default)(this.props.className,Jj),style:this.props.style,ref:this.elementRef}):Yn.createElement(e,oa({innerRef:this.elementRef},a,this.state))}},vr(r,"defaultProps",{measureBeforeMount:!1}),vr(r,"propTypes",{measureBeforeMount:Wj.default.bool}),r}(function(e){e.exports=En.default,e.exports.utils=ne,e.exports.calculateUtils=bt,e.exports.Responsive=ti.default,e.exports.Responsive.utils=dr,e.exports.WidthProvider=Qa.default})(Vu);var Qj=Vu.exports;const eN=Ad(Qj),fr=({title:e,icon:r,children:n,onRemove:s,className:i=""})=>l.jsxs("div",{className:`bg-dark-surface border border-dark-border rounded-lg shadow-lg h-full flex flex-col ${i}`,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(uf,{className:"h-4 w-4 text-slate-400 cursor-move drag-handle"}),r&&l.jsx("div",{className:"text-primary",children:r}),l.jsx("h3",{className:"text-lg font-semibold text-white",children:e})]}),s&&l.jsx("button",{onClick:s,className:"p-1 text-slate-400 hover:text-white hover:bg-dark-hover rounded transition-colors",children:l.jsx(Pr,{className:"h-4 w-4"})})]}),l.jsx("div",{className:"flex-1 p-4 overflow-auto",children:n})]}),tN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await(await fetch("/api/dashboard/data/recent_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(u.scans||[])}catch(c){console.error("Failed to fetch recent scans:",c)}finally{i(!1)}},o=c=>{switch(c){case"completed":return l.jsx(pn,{className:"h-4 w-4 text-green-500"});case"failed":return l.jsx(Cr,{className:"h-4 w-4 text-red-500"});case"running":return l.jsx(ot,{className:"h-4 w-4 text-blue-500 animate-spin"});default:return l.jsx(zr,{className:"h-4 w-4 text-yellow-500"})}};return l.jsx(fr,{title:"Recent Scans",icon:l.jsx(gt,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No recent scans"}):l.jsx("div",{className:"space-y-2",children:r.map(c=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[o(c.status),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-white truncate",children:c.name}),l.jsx("div",{className:"text-xs text-slate-400",children:ga(new Date(c.created_at),{addSuffix:!0})})]})]}),l.jsx("div",{className:"text-xs text-slate-400 capitalize",children:c.status})]},c.id))})})},rN=({onRemove:e})=>{const[r,n]=O.useState(null),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/vulnerability_summary",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c)}catch(o){console.error("Failed to fetch vulnerability summary:",o)}finally{i(!1)}};return l.jsx(fr,{title:"Vulnerability Summary",icon:l.jsx(Ee,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-dark-border",children:[l.jsx("div",{className:"text-3xl font-bold text-white",children:r.total}),l.jsx("div",{className:"text-sm text-slate-400",children:"Total"})]}),l.jsxs("div",{className:"text-center p-4 bg-dark-bg rounded-lg border border-red-900/30",children:[l.jsx("div",{className:"text-3xl font-bold text-red-500",children:r.critical}),l.jsx("div",{className:"text-sm text-slate-400",children:"Critical"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),l.jsx("span",{className:"text-sm text-slate-300",children:"High"})]}),l.jsx("span",{className:"text-sm font-semibold text-white",children:r.high})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),l.jsx("span",{className:"text-sm text-slate-300",children:"Medium"})]}),l.jsx("span",{className:"text-sm font-semibold text-white",children:r.medium})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500"}),l.jsx("span",{className:"text-sm text-slate-300",children:"Low"})]}),l.jsx("span",{className:"text-sm font-semibold text-white",children:r.low})]})]})]}):l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No vulnerability data"})})},nN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await(await fetch("/api/dashboard/data/compliance_scores",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(d.scores||[])}catch(u){console.error("Failed to fetch compliance scores:",u)}finally{i(!1)}},o=u=>u>=90?"text-green-500":u>=70?"text-yellow-500":"text-red-500",c=u=>u>=90?"bg-green-500":u>=70?"bg-yellow-500":"bg-red-500";return l.jsx(fr,{title:"Compliance Scores",icon:l.jsx(df,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No compliance data"}):l.jsx("div",{className:"space-y-4",children:r.map(u=>{const d=u.score/u.total*100;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-white",children:u.framework}),l.jsxs("span",{className:`text-sm font-bold ${o(d)}`,children:[u.score,"/",u.total," (",d.toFixed(0),"%)"]})]}),l.jsx("div",{className:"w-full bg-dark-bg rounded-full h-2",children:l.jsx("div",{className:`${c(d)} h-2 rounded-full transition-all duration-300`,style:{width:`${d}%`}})})]},u.framework)})})})},sN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/scan_activity_chart",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.data||[])}catch(o){console.error("Failed to fetch scan activity:",o)}finally{i(!1)}};return l.jsx(fr,{title:"Scan Activity (Last 30 Days)",icon:l.jsx(ac,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No scan activity data"}):l.jsx(Zt,{width:"100%",height:200,children:l.jsxs(Si,{data:r,children:[l.jsx(wr,{strokeDasharray:"3 3",stroke:"#374151"}),l.jsx(_r,{dataKey:"date",stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12},tickFormatter:o=>{const c=new Date(o);return`${c.getMonth()+1}/${c.getDate()}`}}),l.jsx(jr,{stroke:"#9ca3af",tick:{fill:"#9ca3af",fontSize:12}}),l.jsx(Qt,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"0.5rem",color:"#fff"}}),l.jsx(ki,{type:"monotone",dataKey:"count",stroke:"#3b82f6",strokeWidth:2,dot:{fill:"#3b82f6",r:4}})]})})})},iN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const u=await(await fetch("/api/dashboard/data/top_risky_hosts",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(u.hosts||[])}catch(c){console.error("Failed to fetch risky hosts:",c)}finally{i(!1)}},o=c=>c>=50?"text-red-500":c>=20?"text-orange-500":"text-yellow-500";return l.jsx(fr,{title:"Top Risky Hosts",icon:l.jsx(lt,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No risky hosts found"}):l.jsx("div",{className:"space-y-2",children:r.map((c,u)=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx("div",{className:`text-xl font-bold ${o(c.risk_score)}`,children:u+1}),l.jsx(Tt,{className:"h-4 w-4 text-slate-400"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-white truncate",children:c.hostname||c.ip}),c.hostname&&l.jsx("div",{className:"text-xs text-slate-400",children:c.ip})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsxs("div",{className:"text-sm font-semibold text-white",children:[c.vulnerability_count," vulns"]}),l.jsxs("div",{className:"flex gap-2 text-xs",children:[c.critical_count>0&&l.jsxs("span",{className:"text-red-500",children:[c.critical_count,"C"]}),c.high_count>0&&l.jsxs("span",{className:"text-orange-500",children:[c.high_count,"H"]})]})]})]},c.ip))})})},aN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/critical_vulns",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.vulnerabilities||[])}catch(o){console.error("Failed to fetch critical vulnerabilities:",o)}finally{i(!1)}};return l.jsx(fr,{title:"Critical Vulnerabilities",icon:l.jsx(ro,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No critical vulnerabilities"}):l.jsx("div",{className:"space-y-2",children:r.map(o=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-red-900/30 hover:border-red-500 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx(ro,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-white truncate",children:o.vulnerability_id}),l.jsxs("div",{className:"text-xs text-slate-400",children:[o.host_ip,"  ",ga(new Date(o.created_at),{addSuffix:!0})]})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("div",{className:"px-2 py-1 bg-red-900/30 text-red-500 text-xs font-semibold rounded",children:o.severity.toUpperCase()}),l.jsx("div",{className:"text-xs text-slate-400 capitalize",children:o.status.replace("_"," ")})]})]},o.id))})})},oN=({onRemove:e})=>{const[r,n]=O.useState([]),[s,i]=O.useState(!0);O.useEffect(()=>{a()},[]);const a=async()=>{try{const c=await(await fetch("/api/dashboard/data/upcoming_scheduled_scans",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();n(c.scans||[])}catch(o){console.error("Failed to fetch upcoming scans:",o)}finally{i(!1)}};return l.jsx(fr,{title:"Upcoming Scheduled Scans",icon:l.jsx(Kn,{className:"h-5 w-5"}),onRemove:e,children:s?l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx(ot,{className:"h-6 w-6 text-primary animate-spin"})}):r.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No upcoming scans"}):l.jsx("div",{className:"space-y-2",children:r.map(o=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border hover:border-primary transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[l.jsx(zr,{className:"h-4 w-4 text-primary flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"font-medium text-white truncate",children:o.name}),l.jsxs("div",{className:"text-xs text-slate-400 capitalize",children:[o.schedule_type," scan"]})]})]}),l.jsx("div",{className:"text-xs text-slate-400",children:ga(new Date(o.next_run_at),{addSuffix:!0})})]},o.id))})})},Ul=[{type:"recent_scans",label:"Recent Scans",minW:4,minH:2},{type:"vulnerability_summary",label:"Vulnerability Summary",minW:4,minH:2},{type:"compliance_scores",label:"Compliance Scores",minW:4,minH:2},{type:"scan_activity_chart",label:"Scan Activity",minW:6,minH:3},{type:"top_risky_hosts",label:"Top Risky Hosts",minW:4,minH:3},{type:"critical_vulns",label:"Critical Vulnerabilities",minW:4,minH:2},{type:"upcoming_scheduled_scans",label:"Upcoming Scans",minW:4,minH:2}],lN=({editMode:e=!1,onEditModeChange:r})=>{const[n,s]=O.useState([]),[i,a]=O.useState(!0),[o,c]=O.useState(!1),[u,d]=O.useState(e),[h,f]=O.useState(!1);O.useEffect(()=>{p()},[]),O.useEffect(()=>{d(e)},[e]);const p=async()=>{try{const _=await(await fetch("/api/dashboard/widgets",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})).json();s(_.widgets||[])}catch(b){console.error("Failed to fetch dashboard config:",b)}finally{a(!1)}},m=async()=>{c(!0);try{await fetch("/api/dashboard/widgets",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({widgets:n})})}catch(b){console.error("Failed to save dashboard config:",b)}finally{c(!1)}},g=b=>{if(!u)return;const _=n.map(N=>{const S=b.find(E=>E.i===N.id);return S?{...N,x:S.x,y:S.y,w:S.w,h:S.h}:N});s(_)},v=b=>{const _=Ul.find(S=>S.type===b);if(!_)return;const N={id:`${b}_${Date.now()}`,widget_type:b,x:0,y:1/0,w:_.minW,h:_.minH};s([...n,N]),f(!1)},y=b=>{s(n.filter(_=>_.id!==b))},x=()=>{const b=!u;d(b),r&&r(b)},w=b=>{const _={onRemove:u?()=>y(b.id):void 0};switch(b.widget_type){case"recent_scans":return l.jsx(tN,{..._});case"vulnerability_summary":return l.jsx(rN,{..._});case"compliance_scores":return l.jsx(nN,{..._});case"scan_activity_chart":return l.jsx(sN,{..._});case"top_risky_hosts":return l.jsx(iN,{..._});case"critical_vulns":return l.jsx(aN,{..._});case"upcoming_scheduled_scans":return l.jsx(oN,{..._});default:return null}};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"text-slate-400",children:"Loading dashboard..."})});const j=n.map(b=>({i:b.id,x:b.x,y:b.y,w:b.w,h:b.h}));return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{onClick:x,className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${u?"bg-primary text-white":"bg-dark-surface text-slate-300 hover:text-white border border-dark-border"}`,children:[l.jsx(no,{className:"h-4 w-4"}),u?"Exit Edit Mode":"Customize Dashboard"]}),u&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!h),className:"flex items-center gap-2 px-4 py-2 bg-dark-surface text-slate-300 hover:text-white border border-dark-border rounded-lg transition-colors",children:[l.jsx(ff,{className:"h-4 w-4"}),"Add Widget"]}),h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>f(!1)}),l.jsx("div",{className:"absolute top-full mt-2 left-0 bg-dark-surface border border-dark-border rounded-lg shadow-xl z-50 min-w-[200px]",children:Ul.map(b=>l.jsx("button",{onClick:()=>v(b.type),className:"w-full text-left px-4 py-2 text-sm text-slate-300 hover:text-white hover:bg-dark-hover transition-colors first:rounded-t-lg last:rounded-b-lg",children:b.label},b.type))})]})]}),l.jsxs("button",{onClick:m,disabled:o,className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(rc,{className:"h-4 w-4"}),o?"Saving...":"Save Layout"]})]})]}),u&&l.jsx("div",{className:"text-sm text-slate-400",children:"Drag widgets to reposition, resize from corners"})]}),l.jsx(eN,{className:"layout",layout:j,cols:12,rowHeight:100,width:1200,isDraggable:u,isResizable:u,onLayoutChange:g,draggableHandle:".drag-handle",children:n.map(b=>l.jsx("div",{className:u?"cursor-move":"",children:w(b)},b.id))}),n.length===0&&l.jsxs("div",{className:"text-center py-12 text-slate-400",children:[l.jsx(no,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),l.jsx("p",{children:"No widgets added yet"}),u&&l.jsx("button",{onClick:()=>f(!0),className:"mt-4 text-primary hover:underline",children:"Add your first widget"})]})]})},cN=({selectedCount:e,onClear:r,actions:n,onAction:s,isProcessing:i=!1})=>{const[a,o]=O.useState(null);if(e===0)return null;const c=f=>{f.requiresConfirmation?o(f.id):s(f.id)},u=()=>{a&&(s(a),o(null))},d=f=>{if(f.icon)return f.icon;switch(f.id){case"delete":return l.jsx(Es,{className:"h-4 w-4"});case"export":return l.jsx(Or,{className:"h-4 w-4"});default:return null}},h=n.find(f=>f.id===a);return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 animate-slide-up",children:l.jsx("div",{className:"bg-dark-card border border-dark-border rounded-lg shadow-2xl px-6 py-4 min-w-[400px]",children:l.jsxs("div",{className:"flex items-center justify-between space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center font-semibold text-sm",children:e}),l.jsxs("span",{className:"text-white font-medium",children:[e," item",e!==1?"s":""," selected"]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[n.map(f=>l.jsxs(Ce,{variant:f.variant||"secondary",onClick:()=>c(f),disabled:i,className:"flex items-center space-x-2",children:[d(f),l.jsx("span",{children:f.label})]},f.id)),l.jsx("button",{onClick:r,disabled:i,className:"text-slate-400 hover:text-white transition-colors p-2 rounded-lg hover:bg-dark-bg disabled:opacity-50",title:"Clear selection",children:l.jsx(Pr,{className:"h-5 w-5"})})]})]})})}),a&&h&&l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[60]",children:l.jsxs("div",{className:"bg-dark-card border border-dark-border rounded-lg p-6 max-w-md w-full mx-4",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Confirm Action"}),l.jsx("p",{className:"text-slate-300 mb-6",children:h.confirmationMessage||`Are you sure you want to ${h.label.toLowerCase()} ${e} item${e!==1?"s":""}?`}),l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx(Ce,{variant:"secondary",onClick:()=>o(null),disabled:i,children:"Cancel"}),l.jsx(Ce,{variant:h.variant||"primary",onClick:u,disabled:i,children:"Confirm"})]})]})})]})},uN=({shortcuts:e,enabled:r=!0})=>{O.useEffect(()=>{if(!r)return;const n=s=>{if(!(s.target instanceof HTMLInputElement||s.target instanceof HTMLTextAreaElement||s.target instanceof HTMLSelectElement))for(const i of e){const a=i.ctrl===void 0||i.ctrl===(s.ctrlKey||s.metaKey),o=i.shift===void 0||i.shift===s.shiftKey,c=i.alt===void 0||i.alt===s.altKey,u=s.key.toLowerCase()===i.key.toLowerCase();if(a&&o&&c&&u){s.preventDefault(),i.action();break}}};return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[e,r])},dN=e=>{const r=[];return e.ctrl&&r.push("Ctrl"),e.shift&&r.push("Shift"),e.alt&&r.push("Alt"),r.push(e.key.toUpperCase()),r.join("+")},Wl=()=>{const{activeScan:e,results:r,setActiveScan:n,scans:s,setScans:i}=xt(),[a,o]=O.useState(!1),[c,u]=O.useState("overview"),[d,h]=O.useState(new Set),[f,p]=O.useState(!1),m=b=>{const _=s.find(N=>N.id===b);_&&n(_)},g=async b=>{if(d.size!==0){p(!0);try{switch(b){case"delete":await v();break;case"export-json":await y("json");break;case"export-csv":await y("csv");break;default:B.warning("Unknown action")}}catch(_){console.error("Bulk action failed:",_),B.error("Bulk action failed")}finally{p(!1)}}},v=async()=>{try{const b=await ir.bulkDelete(Array.from(d));b.data.failed&&b.data.failed>0?B.warning(b.data.message):B.success(b.data.message);const _=await ir.getAll();i(_.data),h(new Set)}catch(b){throw B.error("Failed to delete scans"),b}},y=async b=>{try{const _=await ir.bulkExport(Array.from(d),b,{include_vulnerabilities:!0,include_services:!0}),N=window.URL.createObjectURL(new Blob([_.data])),S=document.createElement("a");S.href=N,S.setAttribute("download","scans_export.zip"),document.body.appendChild(S),S.click(),S.remove(),window.URL.revokeObjectURL(N),B.success(`Exported ${d.size} scan(s) successfully`),h(new Set)}catch(_){throw B.error("Failed to export scans"),_}},x=[{id:"delete",label:"Delete",icon:l.jsx(Es,{className:"h-4 w-4"}),variant:"danger",requiresConfirmation:!0,confirmationMessage:`Are you sure you want to delete ${d.size} scan${d.size!==1?"s":""}? This action cannot be undone.`},{id:"export-json",label:"Export JSON",icon:l.jsx(Or,{className:"h-4 w-4"}),variant:"secondary"},{id:"export-csv",label:"Export CSV",icon:l.jsx(Or,{className:"h-4 w-4"}),variant:"secondary"}],w=O.useMemo(()=>e&&r.has(e.id)?r.get(e.id)||[]:Array.from(r.values()).flat(),[e,r]),j=[{key:"f",ctrl:!0,action:()=>{const b=document.querySelector('input[placeholder*="Search"]');b&&(b.focus(),b.select())},description:"Focus search"},{key:"k",ctrl:!0,action:()=>o(!a),description:"Show keyboard shortcuts"},{key:"Escape",action:()=>o(!1),description:"Close modals"}];return uN({shortcuts:j}),l.jsx(gp,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Network Triage Dashboard"}),l.jsx("p",{className:"text-slate-400",children:"Create scans, monitor progress, and analyze results in real-time"})]}),l.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-white transition-colors border border-dark-border hover:border-primary rounded-lg",children:[l.jsx(so,{className:"h-4 w-4"}),"Shortcuts"]})]}),l.jsxs("div",{className:"flex gap-2 border-b border-dark-border pb-2",children:[l.jsxs("button",{onClick:()=>u("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="overview"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(hf,{className:"h-4 w-4"}),"Overview"]}),l.jsxs("button",{onClick:()=>u("scans"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="scans"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(Jl,{className:"h-4 w-4"}),"Scans"]}),l.jsxs("button",{onClick:()=>u("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-t-lg text-sm font-medium transition-colors ${c==="analytics"?"bg-dark-surface text-primary border-b-2 border-primary":"text-slate-400 hover:text-white hover:bg-dark-hover"}`,children:[l.jsx(ac,{className:"h-4 w-4"}),"Analytics"]})]}),c==="overview"&&l.jsx(lN,{}),c==="scans"&&l.jsxs(l.Fragment,{children:[l.jsx(p_,{}),l.jsx(Hm,{onScanSelect:m}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx(vp,{}),l.jsx(Mm,{selectedIds:d,onSelectionChange:h})]}),l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[l.jsx(Im,{scanId:(e==null?void 0:e.id)||null}),(e==null?void 0:e.status)==="running"&&l.jsx(Um,{scanId:e.id}),w.length>0&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx(g_,{hosts:w}),l.jsx(v_,{hosts:w})]}),l.jsx(h_,{})]})]})]}),c==="analytics"&&l.jsx(b_,{}),l.jsx(cN,{selectedCount:d.size,onClear:()=>h(new Set),actions:x,onAction:g,isProcessing:f}),a&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 animate-fadeIn",onClick:()=>o(!1)}),l.jsxs("div",{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 bg-dark-surface border border-dark-border rounded-lg shadow-2xl p-6 w-full max-w-md animate-fadeIn",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[l.jsx(so,{className:"h-5 w-5 text-primary"}),"Keyboard Shortcuts"]}),l.jsx("button",{onClick:()=>o(!1),className:"text-slate-400 hover:text-white transition-colors",children:l.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"space-y-2",children:j.map((b,_)=>l.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-dark-bg rounded border border-dark-border",children:[l.jsx("span",{className:"text-sm text-slate-300",children:b.description}),l.jsx("kbd",{className:"px-2 py-1 bg-dark-surface border border-dark-border rounded text-xs font-mono text-primary",children:dN(b)})]},_))}),l.jsxs("p",{className:"text-xs text-slate-500 mt-4 text-center",children:["Press ",l.jsx("kbd",{className:"px-1 py-0.5 bg-dark-surface border border-dark-border rounded text-xs font-mono",children:"Esc"})," to close"]})]})]})]})})},fN=O.lazy(()=>Mt(()=>import("./AdminPage-nEfUstky.js"),__vite__mapDeps([0,1,2,3,4]))),hN=O.lazy(()=>Mt(()=>import("./SettingsPage-DmmHUXV6.js"),__vite__mapDeps([5,1,2,3,4]))),pN=O.lazy(()=>Mt(()=>import("./AssetsPage-T6I656h8.js"),__vite__mapDeps([6,1,2,3,4]))),mN=O.lazy(()=>Mt(()=>import("./WebAppScanPage-CdGfM14w.js"),__vite__mapDeps([7,1,2,3,4]))),gN=O.lazy(()=>Mt(()=>import("./DnsToolsPage-CWhFeI2W.js"),__vite__mapDeps([8,1,2,3,4]))),xN=O.lazy(()=>Mt(()=>import("./CompliancePage-Bg5FTvXW.js"),__vite__mapDeps([9,1,2,3,4]))),yN=O.lazy(()=>Mt(()=>import("./RemediationPage-CpaEJJlI.js"),__vite__mapDeps([10,1,2,3,4]))),vN=O.lazy(()=>Mt(()=>import("./ManualAssessmentPage-CJ6P3vL5.js"),__vite__mapDeps([11,1,2,3,4]))),bN=O.lazy(()=>Mt(()=>import("./AssessmentDetailPage-OupXXoB8.js"),__vite__mapDeps([12,1,2,3,4]))),wN=()=>l.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"flex flex-col items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Loading..."})]})}),ft=({children:e})=>Er(n=>n.isAuthenticated)?l.jsx(l.Fragment,{children:e}):l.jsx(as,{to:"/",replace:!0}),_N=({children:e})=>{const r=Er(s=>s.isAuthenticated),n=Er(s=>s.isAdmin);return r?n()?l.jsx(l.Fragment,{children:e}):l.jsx(as,{to:"/dashboard",replace:!0}):l.jsx(as,{to:"/",replace:!0})};function jN(){return l.jsxs(Td,{children:[l.jsx(O.Suspense,{fallback:l.jsx(wN,{}),children:l.jsxs(Md,{children:[l.jsx(Be,{path:"/",element:l.jsx(pp,{})}),l.jsx(Be,{path:"/dashboard",element:l.jsx(ft,{children:l.jsx(Wl,{})})}),l.jsx(Be,{path:"/dashboard/:scanId",element:l.jsx(ft,{children:l.jsx(Wl,{})})}),l.jsx(Be,{path:"/admin",element:l.jsx(_N,{children:l.jsx(fN,{})})}),l.jsx(Be,{path:"/settings",element:l.jsx(ft,{children:l.jsx(hN,{})})}),l.jsx(Be,{path:"/assets",element:l.jsx(ft,{children:l.jsx(pN,{})})}),l.jsx(Be,{path:"/webapp-scan",element:l.jsx(ft,{children:l.jsx(mN,{})})}),l.jsx(Be,{path:"/dns-tools",element:l.jsx(ft,{children:l.jsx(gN,{})})}),l.jsx(Be,{path:"/compliance",element:l.jsx(ft,{children:l.jsx(xN,{})})}),l.jsx(Be,{path:"/remediation",element:l.jsx(ft,{children:l.jsx(yN,{})})}),l.jsx(Be,{path:"/manual-assessments",element:l.jsx(ft,{children:l.jsx(vN,{})})}),l.jsx(Be,{path:"/manual-assessments/:assessmentId",element:l.jsx(ft,{children:l.jsx(bN,{})})}),l.jsx(Be,{path:"*",element:l.jsx(as,{to:"/",replace:!0})})]})}),l.jsx(pf,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"})]})}Ci.createRoot(document.getElementById("root")).render(l.jsx(Vl.StrictMode,{children:l.jsx(jN,{})}));export{rS as A,Ce as B,re as C,sS as D,Te as I,qt as L,GN as a,Ye as b,gp as c,Di as d,Qm as e,ga as f,ir as g,Hc as h,JN as i,up as j,KN as k,QN as l,lp as m,XN as n,dp as o,$ as p,br as q,eS as r,YN as s,cp as t,xt as u,$n as v,tS as w,ZN as x,nS as y,iS as z};
