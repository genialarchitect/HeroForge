import{j as e}from"./vendor-state-DdX3IZQk.js";import{r as l}from"./vendor-react-Da1CiaFS.js";import{D as _,b as u,E as L,d as Je}from"./index-ppGgWPEi.js";import{B as x,F as N,ah as y,P as ue,l as ke,aw as Ge,b3 as Ae,aH as Fe,v as X,br as Ne,bs as he,ai as we,m as Ke,ar as Qe,b as Ce,bh as Se,au as Ye,U as We,aU as es,V as ss}from"./vendor-ui-ClyGCaTH.js";import"./vendor-charts-IB765B33.js";const ye=["#3b82f6","#22c55e","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#6366f1"],ts=({onGroupSelect:R,selectedGroupId:Z,onClose:oe})=>{const[O,ne]=l.useState([]),[J,K]=l.useState(!0),[b,S]=l.useState(null),[pe,o]=l.useState(!1),[Q,B]=l.useState(!1),[$,v]=l.useState(!1),[U,T]=l.useState(null),[k,Y]=l.useState(""),[G,W]=l.useState(""),[A,M]=l.useState(ye[0]),C=l.useCallback(async()=>{try{K(!0);const a=await _.getGroups();ne(a.data)}catch(a){console.error("Failed to fetch groups:",a),x.error("Failed to load asset groups")}finally{K(!1)}},[]);l.useEffect(()=>{C()},[C]);const ee=async a=>{try{const m=await _.getGroup(a);S(m.data),o(!0)}catch(m){console.error("Failed to fetch group details:",m),x.error("Failed to load group details")}},q=async()=>{var a,m,h;if(!k.trim()){x.error("Group name is required");return}try{const p={name:k.trim(),description:G.trim()||void 0,color:A};await _.createGroup(p),x.success("Group created successfully"),B(!1),F(),C()}catch(p){const f=p,j=typeof((a=f.response)==null?void 0:a.data)=="string"?f.response.data:((h=(m=f.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to create group";x.error(j)}},z=async()=>{var a,m,h;if(!U||!k.trim()){x.error("Group name is required");return}try{await _.updateGroup(U.id,{name:k.trim(),description:G.trim()||void 0,color:A}),x.success("Group updated successfully"),v(!1),T(null),F(),C(),b&&b.group.id===U.id&&ee(U.id)}catch(p){const f=p,j=typeof((a=f.response)==null?void 0:a.data)=="string"?f.response.data:((h=(m=f.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to update group";x.error(j)}},se=async a=>{var m,h,p;if(confirm("Are you sure you want to delete this group? Assets will not be deleted, only removed from the group."))try{await _.deleteGroup(a),x.success("Group deleted successfully"),C(),Z===a&&R&&R(null),b&&b.group.id===a&&(S(null),o(!1))}catch(f){const j=f,w=typeof((m=j.response)==null?void 0:m.data)=="string"?j.response.data:((p=(h=j.response)==null?void 0:h.data)==null?void 0:p.error)||"Failed to delete group";x.error(w)}},D=async(a,m)=>{var h,p,f;try{const j=await _.removeAssetFromGroup(a,m);x.success("Asset removed from group"),S(j.data),C()}catch(j){const w=j,fe=typeof((h=w.response)==null?void 0:h.data)=="string"?w.response.data:((f=(p=w.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to remove asset";x.error(fe)}},F=()=>{Y(""),W(""),M(ye[0])},te=a=>{T(a),Y(a.name),W(a.description||""),M(a.color),v(!0)},ae=a=>{R&&R(Z===a?null:a)};return e.jsxs("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:[e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsxs("div",{className:"p-6 border-b border-dark-border",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(N,{className:"h-6 w-6 text-primary"}),"Asset Groups"]}),e.jsx("button",{onClick:oe,className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]}),e.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Organize your assets into logical groups for better management"})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-4 flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-slate-400",children:[O.length," group",O.length!==1?"s":""]}),e.jsxs(u,{onClick:()=>{F(),B(!0)},className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Create Group"]})]}),J?e.jsx("div",{className:"flex justify-center items-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):O.length===0?e.jsxs("div",{className:"text-center py-12 text-slate-400",children:[e.jsx(N,{className:"h-16 w-16 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No groups created yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first group to organize assets"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:O.map(({group:a,asset_count:m})=>e.jsx("div",{className:`bg-dark-bg rounded-lg border p-4 transition-all cursor-pointer ${Z===a.id?"border-primary ring-2 ring-primary/30":"border-dark-border hover:border-primary/50"}`,onClick:()=>ae(a.id),children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${a.color}20`},children:e.jsx(N,{className:"h-5 w-5",style:{color:a.color}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-white",children:a.name}),a.description&&e.jsx("p",{className:"text-sm text-slate-400 line-clamp-1",children:a.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-slate-400 flex items-center gap-1",children:[e.jsx(ke,{className:"h-4 w-4"}),m]}),e.jsx("button",{onClick:h=>{h.stopPropagation(),ee(a.id)},className:"text-slate-400 hover:text-primary p-1",title:"View details",children:e.jsx(Ge,{className:"h-4 w-4"})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),te(a)},className:"text-slate-400 hover:text-white p-1",title:"Edit group",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:h=>{h.stopPropagation(),se(a.id)},className:"text-slate-400 hover:text-severity-critical p-1",title:"Delete group",children:e.jsx(Fe,{className:"h-4 w-4"})})]})]})},a.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:oe,children:"Close"})})]})]}),(Q||$)&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:$?"Edit Group":"Create New Group"}),e.jsx("button",{onClick:()=>{B(!1),v(!1),T(null),F()},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Group Name *"}),e.jsx("input",{type:"text",value:k,onChange:a=>Y(a.target.value),placeholder:"e.g., Production Servers, DMZ, Cloud Infrastructure",className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:G,onChange:a=>W(a.target.value),placeholder:"Brief description of this group...",rows:2,className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ye.map(a=>e.jsx("button",{onClick:()=>M(a),className:`w-8 h-8 rounded-full border-2 transition-transform ${A===a?"border-white scale-110":"border-transparent hover:scale-105"}`,style:{backgroundColor:a}},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Preview"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-dark-bg rounded-lg border border-dark-border",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center",style:{backgroundColor:`${A}20`},children:e.jsx(N,{className:"h-5 w-5",style:{color:A}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:k||"Group Name"}),G&&e.jsx("p",{className:"text-sm text-slate-400 line-clamp-1",children:G})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(u,{variant:"secondary",onClick:()=>{B(!1),v(!1),T(null),F()},children:"Cancel"}),e.jsx(u,{onClick:$?z:q,children:$?"Save Changes":"Create Group"})]})]})]})}),pe&&b&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-2xl w-full max-h-[80vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${b.group.color}20`},children:e.jsx(N,{className:"h-6 w-6",style:{color:b.group.color}})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:b.group.name}),b.group.description&&e.jsx("p",{className:"text-slate-400",children:b.group.description})]})]}),e.jsx("button",{onClick:()=>{o(!1),S(null)},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),"Members (",b.assets.length,")"]}),b.assets.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(X,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No assets in this group yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Add assets to this group from the Assets page"})]}):e.jsx("div",{className:"space-y-2",children:b.assets.map(a=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:a.ip_address}),a.hostname&&e.jsx("p",{className:"text-sm text-slate-400",children:a.hostname})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded ${a.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:a.status}),e.jsx("button",{onClick:()=>D(b.group.id,a.id),className:"text-slate-400 hover:text-severity-critical p-1",title:"Remove from group",children:e.jsx(y,{className:"h-4 w-4"})})]})]},a.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:()=>{o(!1),S(null)},children:"Close"})})]})]})})]})},ve=["#22c55e","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899","#06b6d4","#f97316","#84cc16","#6366f1"],Te=[{value:"environment",label:"Environment"},{value:"criticality",label:"Criticality"},{value:"owner",label:"Owner"},{value:"department",label:"Department"},{value:"location",label:"Location"},{value:"compliance",label:"Compliance"},{value:"custom",label:"Custom"}],os=()=>{const[R,Z]=l.useState([]),[oe,O]=l.useState(!0),[ne,J]=l.useState(""),[K,b]=l.useState(""),[S,pe]=l.useState(""),[o,Q]=l.useState(null),[B,$]=l.useState(!1),[v,U]=l.useState([]),[T,k]=l.useState([]),[Y,G]=l.useState(!1),[W,A]=l.useState(!1),[M,C]=l.useState(!1),[ee,q]=l.useState(null),[z,se]=l.useState(""),[D,F]=l.useState(ve[0]),[te,ae]=l.useState("custom"),[a,m]=l.useState(""),[h,p]=l.useState(!1),[f,j]=l.useState(null),[w,fe]=l.useState([]),[P,je]=l.useState(null),[Ee,re]=l.useState(!1),[_e,le]=l.useState(!1),[be,de]=l.useState(null),[E,V]=l.useState(new Set),[$e,ce]=l.useState(!1),xe=l.useCallback(async()=>{try{const s=await _.getGroups();fe(s.data)}catch(s){console.error("Failed to fetch groups:",s)}},[]),H=l.useCallback(async()=>{try{const s=await L.getTags();U(s.data)}catch(s){console.error("Failed to fetch tags:",s)}},[]),me=l.useCallback(async()=>{var s,t;try{O(!0);const r={};S&&(r.status=S),T.length>0&&(r.tag_ids=T.join(",")),P&&(r.group_id=P);const c=await L.getAssetsWithTags(r);Z(c.data),J(""),V(new Set)}catch(r){J(((t=(s=r.response)==null?void 0:s.data)==null?void 0:t.error)||"Failed to fetch assets")}finally{O(!1)}},[S,T,P]);l.useEffect(()=>{H(),xe()},[H,xe]),l.useEffect(()=>{me()},[me]);const Me=async s=>{var t,r;try{const c=await L.getAsset(s);Q(c.data),$(!0)}catch(c){J(((r=(t=c.response)==null?void 0:t.data)==null?void 0:r.error)||"Failed to fetch asset details")}},ze=async()=>{var s,t,r;if(!z.trim()){x.error("Tag name is required");return}try{const c={name:z.trim(),color:D,category:te,description:a.trim()||void 0};await L.createTag(c),x.success("Tag created successfully"),A(!1),ie(),H()}catch(c){const n=c,d=typeof((s=n.response)==null?void 0:s.data)=="string"?n.response.data:((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.error)||"Failed to create tag";x.error(d)}},De=async()=>{var s,t,r;if(!ee||!z.trim()){x.error("Tag name is required");return}try{await L.updateTag(ee.id,{name:z.trim(),color:D,category:te,description:a.trim()||void 0}),x.success("Tag updated successfully"),C(!1),q(null),ie(),H()}catch(c){const n=c,d=typeof((s=n.response)==null?void 0:s.data)=="string"?n.response.data:((r=(t=n.response)==null?void 0:t.data)==null?void 0:r.error)||"Failed to update tag";x.error(d)}},Pe=async s=>{var t,r,c;if(confirm("Are you sure you want to delete this tag? It will be removed from all assets."))try{await L.deleteTag(s),x.success("Tag deleted successfully"),k(n=>n.filter(d=>d!==s)),H()}catch(n){const d=n,g=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.error)||"Failed to delete tag";x.error(g)}},Le=async s=>{var t,r,c;if(f)try{const n=await L.addTagsToAsset(f,{tag_ids:s});x.success("Tags added successfully"),p(!1),j(null),me(),o&&o.asset.id===f&&Q(n.data)}catch(n){const d=n,g=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.error)||"Failed to add tags";x.error(g)}},Oe=async(s,t)=>{var r,c,n;try{const d=await L.removeTagFromAsset(s,t);x.success("Tag removed from asset"),me(),H(),o&&o.asset.id===s&&Q(d.data)}catch(d){const g=d,i=typeof((r=g.response)==null?void 0:r.data)=="string"?g.response.data:((n=(c=g.response)==null?void 0:c.data)==null?void 0:n.error)||"Failed to remove tag";x.error(i)}},ie=()=>{se(""),F(ve[0]),ae("custom"),m("")},Re=s=>{q(s),se(s.name),F(s.color),ae(s.category),m(s.description||""),C(!0)},Be=s=>{k(t=>t.includes(s)?t.filter(r=>r!==s):[...t,s])},Ue=()=>{k([])},qe=s=>{P!==s&&k([]),je(t=>t===s?null:s)},Ve=()=>{je(null)},He=async s=>{var t,r,c;if(be)try{await _.addAssetsToGroup(s,{asset_ids:[be]}),x.success("Asset added to group"),le(!1),de(null),xe()}catch(n){const d=n,g=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.error)||"Failed to add asset to group";x.error(g)}},Ie=s=>{V(t=>{const r=new Set(t);return r.has(s)?r.delete(s):r.add(s),r})},Xe=()=>{E.size===I.length?V(new Set):V(new Set(I.map(s=>s.asset.id)))},Ze=async s=>{var t,r,c;if(E.size!==0)try{const n=await _.bulkAddAssetsToGroup(s,{asset_ids:Array.from(E)});x.success(n.data.message),ce(!1),V(new Set),xe()}catch(n){const d=n,g=typeof((t=d.response)==null?void 0:t.data)=="string"?d.response.data:((c=(r=d.response)==null?void 0:r.data)==null?void 0:c.error)||"Failed to add assets to group";x.error(g)}},ge=(s,t)=>s.asset_tags.filter(r=>r.category===t),I=R.filter(s=>{const t=s==null?void 0:s.asset;if(!t)return!1;const r=K.toLowerCase();return t.ip_address&&t.ip_address.toLowerCase().includes(r)||t.hostname&&t.hostname.toLowerCase().includes(r)||t.os_family&&t.os_family.toLowerCase().includes(r)});return e.jsx(Je,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-white flex items-center",children:[e.jsx(X,{className:"h-8 w-8 mr-3 text-primary"}),"Asset Inventory"]}),e.jsx("p",{className:"mt-2 text-slate-400",children:"Track and manage discovered network assets across scans"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[E.size>0&&e.jsxs("div",{className:"flex items-center gap-2 bg-primary/10 px-3 py-2 rounded-lg border border-primary/30",children:[e.jsxs("span",{className:"text-sm text-primary",children:[E.size," selected"]}),e.jsxs(u,{variant:"secondary",size:"sm",onClick:()=>ce(!0),className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Add to Group"]}),e.jsx("button",{onClick:()=>V(new Set),className:"text-slate-400 hover:text-white p-1",title:"Clear selection",children:e.jsx(y,{className:"h-4 w-4"})})]}),e.jsxs(u,{variant:"secondary",onClick:()=>re(!0),className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Manage Groups"]}),e.jsxs(u,{onClick:()=>G(!0),className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4"}),"Manage Tags"]})]})]}),ne&&e.jsx("div",{className:"bg-severity-critical/20 border border-severity-critical/50 text-severity-critical px-4 py-3 rounded-lg",children:ne}),w.length>0&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4"}),"Filter by Group"]}),P&&e.jsx("button",{onClick:Ve,className:"text-xs text-slate-400 hover:text-white",children:"Clear filter"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(({group:s,asset_count:t})=>e.jsxs("button",{onClick:()=>qe(s.id),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-sm font-medium transition-all ${P===s.id?"ring-2 ring-white ring-offset-2 ring-offset-dark-surface":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:`${s.color}20`,color:s.color,borderColor:s.color},children:[e.jsx(N,{className:"h-3 w-3",style:{color:s.color}}),s.name,e.jsxs("span",{className:"text-xs opacity-70",children:["(",t,")"]})]},s.id))})]}),v.length>0&&!P&&e.jsxs("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"Filter by Tags"]}),T.length>0&&e.jsx("button",{onClick:Ue,className:"text-xs text-slate-400 hover:text-white",children:"Clear filters"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(({tag:s,asset_count:t})=>e.jsxs("button",{onClick:()=>Be(s.id),className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium transition-all ${T.includes(s.id)?"ring-2 ring-white ring-offset-2 ring-offset-dark-surface":"opacity-70 hover:opacity-100"}`,style:{backgroundColor:`${s.color}20`,color:s.color,borderColor:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsxs("span",{className:"text-xs opacity-70",children:["(",t,")"]})]},s.id))})]}),e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ke,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Search by IP, hostname, or OS...",value:K,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Qe,{className:"h-5 w-5 text-slate-400"}),e.jsxs("select",{value:S,onChange:s=>pe(s.target.value),className:"px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]})}),oe?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):e.jsx("div",{className:"bg-dark-surface rounded-lg border border-dark-border overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-dark-border",children:[e.jsx("thead",{className:"bg-dark-bg",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left",children:e.jsx("button",{onClick:Xe,className:"text-slate-400 hover:text-white",children:E.size===I.length&&I.length>0?e.jsx(Ce,{className:"h-5 w-5"}):e.jsx(Se,{className:"h-5 w-5"})})}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Asset"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Environment / Criticality"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Tags"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"OS"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-dark-surface divide-y divide-dark-border",children:I.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center text-slate-400",children:[e.jsx(X,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No assets found"}),e.jsx("p",{className:"text-sm mt-2",children:"Run a scan to discover network assets"})]})}):I.map(s=>{const t=s.asset,r=ge(s,"environment"),c=ge(s,"criticality"),n=ge(s,"owner"),d=s.asset_tags.filter(i=>!["environment","criticality","owner"].includes(i.category)),g=E.has(t.id);return e.jsxs("tr",{className:`hover:bg-dark-hover cursor-pointer ${g?"bg-primary/5":""}`,onClick:()=>Me(t.id),children:[e.jsx("td",{className:"px-4 py-4",onClick:i=>i.stopPropagation(),children:e.jsx("button",{onClick:()=>Ie(t.id),className:"text-slate-400 hover:text-white",children:g?e.jsx(Ce,{className:"h-5 w-5 text-primary"}):e.jsx(Se,{className:"h-5 w-5"})})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"h-5 w-5 text-primary mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:t.ip_address}),t.hostname&&e.jsx("div",{className:"text-sm text-slate-400",children:t.hostname})]})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[r.map(i=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:`${i.color}20`,color:i.color},title:`Environment: ${i.name}`,children:[e.jsx(X,{className:"h-3 w-3"}),i.name]},i.id)),c.map(i=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:`${i.color}20`,color:i.color},title:`Criticality: ${i.name}`,children:[e.jsx(Ye,{className:"h-3 w-3"}),i.name]},i.id)),n.map(i=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium",style:{backgroundColor:`${i.color}20`,color:i.color},title:`Owner: ${i.name}`,children:[e.jsx(We,{className:"h-3 w-3"}),i.name]},i.id)),r.length===0&&c.length===0&&n.length===0&&e.jsx("span",{className:"text-xs text-slate-500",children:"-"})]})}),e.jsx("td",{className:"px-4 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1 max-w-[200px]",children:[d.slice(0,3).map(i=>e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium",style:{backgroundColor:`${i.color}20`,color:i.color},children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full",style:{backgroundColor:i.color}}),i.name]},i.id)),d.length>3&&e.jsxs("span",{className:"text-xs text-slate-400",children:["+",d.length-3," more"]}),e.jsx("button",{onClick:i=>{i.stopPropagation(),j(t.id),p(!0)},className:"text-slate-400 hover:text-primary",title:"Add tags",children:e.jsx(ue,{className:"h-4 w-4"})})]})}),e.jsxs("td",{className:"px-4 py-4 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-white",children:t.os_family||"Unknown"}),t.os_version&&e.jsx("div",{className:"text-xs text-slate-400",children:t.os_version})]}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm text-slate-400",children:[e.jsx(es,{className:"h-4 w-4 mr-1"}),new Date(t.last_seen).toLocaleDateString()]})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${t.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:t.status})}),e.jsx("td",{className:"px-4 py-4 whitespace-nowrap text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:i=>{i.stopPropagation(),de(t.id),le(!0)},className:"text-slate-400 hover:text-primary",title:"Add to group",children:e.jsx(Ne,{className:"h-4 w-4"})}),e.jsx("button",{className:"text-primary hover:text-primary-light",children:e.jsx(Ge,{className:"h-5 w-5"})})]})})]},t.id)})})]})}),B&&o&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:o.asset.ip_address}),o.asset.hostname&&e.jsx("p",{className:"text-slate-400 mt-1",children:o.asset.hostname})]}),e.jsx("button",{onClick:()=>$(!1),className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Tags"]}),e.jsxs("button",{onClick:()=>{j(o.asset.id),p(!0)},className:"text-sm text-primary hover:text-primary-light flex items-center gap-1",children:[e.jsx(ue,{className:"h-4 w-4"}),"Add Tags"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.asset_tags.length===0?e.jsx("p",{className:"text-slate-400 text-sm",children:"No tags assigned"}):o.asset_tags.map(s=>e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${s.color}20`,color:s.color},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:s.color}}),s.name,e.jsx("button",{onClick:()=>Oe(o.asset.id,s.id),className:"ml-1 hover:opacity-70",children:e.jsx(y,{className:"h-3 w-3"})})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Operating System"}),e.jsxs("p",{className:"text-white",children:[o.asset.os_family||"Unknown",o.asset.os_version&&` ${o.asset.os_version}`]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"MAC Address"}),e.jsx("p",{className:"text-white",children:o.asset.mac_address||"N/A"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"First Seen"}),e.jsx("p",{className:"text-white",children:new Date(o.asset.first_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Last Seen"}),e.jsx("p",{className:"text-white",children:new Date(o.asset.last_seen).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Scan Count"}),e.jsxs("p",{className:"text-white flex items-center gap-1",children:[e.jsx(ss,{className:"h-4 w-4"}),o.asset.scan_count]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-slate-400 mb-2",children:"Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${o.asset.status==="active"?"bg-status-completed/20 text-status-completed":"bg-dark-border text-slate-300"}`,children:o.asset.status})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Open Ports"}),e.jsx("div",{className:"bg-dark-bg rounded-lg p-4",children:o.ports.length===0?e.jsx("p",{className:"text-slate-400",children:"No ports recorded"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:o.ports.map(s=>e.jsx("div",{className:"bg-dark-surface rounded p-3 border border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-white",children:[s.port,"/",s.protocol]}),s.service_name&&e.jsx("p",{className:"text-sm text-slate-400",children:s.service_name}),s.service_version&&e.jsx("p",{className:"text-xs text-slate-500",children:s.service_version})]}),e.jsx("span",{className:`text-xs px-2 py-1 rounded ${s.current_state==="open"?"bg-port-open/20 text-port-open":"bg-dark-border text-slate-300"}`,children:s.current_state})]})},s.id))})})]}),e.jsx("div",{className:"flex justify-end gap-3",children:e.jsx(u,{variant:"secondary",onClick:()=>$(!1),children:"Close"})})]})]})}),Y&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(he,{className:"h-6 w-6"}),"Manage Asset Tags"]}),e.jsx("button",{onClick:()=>G(!1),className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"mb-4 flex justify-end",children:e.jsxs(u,{onClick:()=>{ie(),A(!0)},className:"flex items-center gap-2",children:[e.jsx(ue,{className:"h-4 w-4"}),"Create Tag"]})}),v.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(we,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{className:"text-lg",children:"No tags created yet"}),e.jsx("p",{className:"text-sm mt-2",children:"Create your first tag to organize assets"})]}):e.jsx("div",{className:"space-y-3",children:Te.map(({value:s,label:t})=>{const r=v.filter(c=>c.tag.category===s);return r.length===0?null:e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-slate-400 mb-2",children:t}),e.jsx("div",{className:"space-y-2",children:r.map(({tag:c,asset_count:n})=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-bg rounded-lg border border-dark-border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:c.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:c.name}),c.description&&e.jsx("p",{className:"text-sm text-slate-400",children:c.description})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-slate-400",children:[n," asset",n!==1?"s":""]}),e.jsx("button",{onClick:()=>Re(c),className:"text-slate-400 hover:text-white",children:e.jsx(Ae,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>Pe(c.id),className:"text-slate-400 hover:text-severity-critical",children:e.jsx(Fe,{className:"h-4 w-4"})})]})]},c.id))})]},s)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:()=>G(!1),children:"Close"})})]})]})}),(W||M)&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-[60] p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:M?"Edit Tag":"Create New Tag"}),e.jsx("button",{onClick:()=>{A(!1),C(!1),q(null),ie()},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Tag Name *"}),e.jsx("input",{type:"text",value:z,onChange:s=>se(s.target.value),placeholder:"e.g., Production, Critical, Finance",className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Category"}),e.jsx("select",{value:te,onChange:s=>ae(s.target.value),className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white focus:ring-2 focus:ring-primary focus:border-primary",children:Te.map(({value:s,label:t})=>e.jsx("option",{value:s,children:t},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Color"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ve.map(s=>e.jsx("button",{onClick:()=>F(s),className:`w-8 h-8 rounded-full border-2 ${D===s?"border-white":"border-transparent"}`,style:{backgroundColor:s}},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-1",children:"Description (optional)"}),e.jsx("textarea",{value:a,onChange:s=>m(s.target.value),placeholder:"Brief description of this tag...",rows:2,className:"w-full px-4 py-2 border border-dark-border rounded-lg bg-dark-bg text-white placeholder-slate-500 focus:ring-2 focus:ring-primary focus:border-primary resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Preview"}),e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",style:{backgroundColor:`${D}20`,color:D},children:[e.jsx("span",{className:"w-2 h-2 rounded-full",style:{backgroundColor:D}}),z||"Tag Name"]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(u,{variant:"secondary",onClick:()=>{A(!1),C(!1),q(null),ie()},children:"Cancel"}),e.jsx(u,{onClick:M?De:ze,children:M?"Save Changes":"Create Tag"})]})]})]})}),h&&f&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(he,{className:"h-5 w-5"}),"Add Tags to Asset"]}),e.jsx("button",{onClick:()=>{p(!1),j(null)},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:v.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(we,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No tags available"}),e.jsx(u,{className:"mt-4",onClick:()=>{p(!1),G(!0)},children:"Create Tags"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Select tags to add to this asset:"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:v.map(({tag:s})=>{const r=((o==null?void 0:o.asset_tags)||[]).some(c=>c.id===s.id);return e.jsxs("button",{onClick:()=>!r&&Le([s.id]),disabled:r,className:`w-full flex items-center justify-between p-3 rounded-lg border transition-colors ${r?"bg-dark-bg border-dark-border opacity-50 cursor-not-allowed":"bg-dark-bg border-dark-border hover:border-primary"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-4 h-4 rounded-full",style:{backgroundColor:s.color}}),e.jsx("span",{className:"text-white",children:s.name})]}),r&&e.jsx("span",{className:"text-xs text-slate-400",children:"Already added"})]},s.id)})}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:()=>{p(!1),j(null)},children:"Close"})})]})})]})}),_e&&be&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5"}),"Add Asset to Group"]}),e.jsx("button",{onClick:()=>{le(!1),de(null)},className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:w.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No groups available"}),e.jsx(u,{className:"mt-4",onClick:()=>{le(!1),re(!0)},children:"Create Groups"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Select a group to add this asset to:"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.map(({group:s,asset_count:t})=>e.jsxs("button",{onClick:()=>He(s.id),className:"w-full flex items-center justify-between p-3 rounded-lg border border-dark-border bg-dark-bg hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${s.color}20`},children:e.jsx(N,{className:"h-4 w-4",style:{color:s.color}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-white block",children:s.name}),s.description&&e.jsx("span",{className:"text-xs text-slate-400",children:s.description})]})]}),e.jsxs("span",{className:"text-xs text-slate-400",children:[t," asset",t!==1?"s":""]})]},s.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:()=>{le(!1),de(null)},children:"Close"})})]})})]})}),$e&&E.size>0&&e.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-dark-surface rounded-lg shadow-xl max-w-md w-full border border-dark-border",children:[e.jsx("div",{className:"p-6 border-b border-dark-border",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[e.jsx(Ne,{className:"h-5 w-5"}),"Add ",E.size," Assets to Group"]}),e.jsx("button",{onClick:()=>ce(!1),className:"text-slate-400 hover:text-white",children:e.jsx(y,{className:"h-6 w-6"})})]})}),e.jsx("div",{className:"p-6",children:w.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-400",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-slate-500"}),e.jsx("p",{children:"No groups available"}),e.jsx(u,{className:"mt-4",onClick:()=>{ce(!1),re(!0)},children:"Create Groups"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"Select a group to add the selected assets to:"}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.map(({group:s,asset_count:t})=>e.jsxs("button",{onClick:()=>Ze(s.id),className:"w-full flex items-center justify-between p-3 rounded-lg border border-dark-border bg-dark-bg hover:border-primary transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${s.color}20`},children:e.jsx(N,{className:"h-4 w-4",style:{color:s.color}})}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"text-white block",children:s.name}),s.description&&e.jsx("span",{className:"text-xs text-slate-400",children:s.description})]})]}),e.jsxs("span",{className:"text-xs text-slate-400",children:[t," asset",t!==1?"s":""]})]},s.id))}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(u,{variant:"secondary",onClick:()=>ce(!1),children:"Cancel"})})]})})]})}),Ee&&e.jsx(ts,{onGroupSelect:s=>{je(s),re(!1)},selectedGroupId:P,onClose:()=>re(!1)})]})})};export{os as default};
