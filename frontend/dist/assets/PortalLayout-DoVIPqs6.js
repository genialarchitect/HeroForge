import{j as e}from"./vendor-state-DdX3IZQk.js";import{r as l,e as g,u as j,L as d}from"./vendor-react-Da1CiaFS.js";import{ah as i}from"./index-llUvVj-b.js";const u=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),v=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M2.25 12.75V12A2.25 2.25 0 014.5 9.75h15A2.25 2.25 0 0121.75 12v.75m-8.69-6.44l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})}),N=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"})}),k=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),h=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M12 9l-3 3m0 0l3 3m-3-3h12.75"})}),c=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})}),y=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),w=({className:s})=>e.jsx("svg",{className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M6 18L18 6M6 6l12 12"})}),m=[{name:"Dashboard",href:"/portal/dashboard",icon:u},{name:"Engagements",href:"/portal/engagements",icon:v},{name:"Vulnerabilities",href:"/portal/vulnerabilities",icon:N},{name:"Reports",href:"/portal/reports",icon:k},{name:"Profile",href:"/portal/profile",icon:c}];function M({children:s}){const[p,n]=l.useState(!1),[r,f]=l.useState(null),o=g(),a=j();l.useEffect(()=>{const t=i.getStoredUser();t?f(t):i.isAuthenticated()||a("/portal/login")},[a]);const x=()=>{i.logout(),a("/portal/login")};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsxs("div",{className:`fixed inset-0 z-50 lg:hidden ${p?"":"hidden"}`,children:[e.jsx("div",{className:"fixed inset-0 bg-gray-900/80",onClick:()=>n(!1)}),e.jsxs("div",{className:"fixed inset-y-0 left-0 flex w-72 flex-col bg-gray-900",children:[e.jsxs("div",{className:"flex h-16 items-center justify-between px-6",children:[e.jsx("span",{className:"text-xl font-bold text-white",children:"Customer Portal"}),e.jsx("button",{className:"text-gray-400 hover:text-white",onClick:()=>n(!1),children:e.jsx(w,{className:"h-6 w-6"})})]}),e.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:m.map(t=>e.jsxs(d,{to:t.href,className:`flex items-center rounded-lg px-3 py-2 text-sm font-medium ${o.pathname===t.href?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,onClick:()=>n(!1),children:[e.jsx(t.icon,{className:"mr-3 h-5 w-5"}),t.name]},t.name))}),e.jsxs("div",{className:"border-t border-gray-800 p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(c,{className:"mr-2 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:r==null?void 0:r.email}),e.jsx("p",{className:"text-xs",children:r==null?void 0:r.customer_name})]})]}),e.jsxs("button",{onClick:x,className:"mt-4 flex w-full items-center rounded-lg px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-800 hover:text-white",children:[e.jsx(h,{className:"mr-3 h-5 w-5"}),"Sign out"]})]})]})]}),e.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-72 lg:flex-col",children:e.jsxs("div",{className:"flex flex-grow flex-col overflow-y-auto bg-gray-900",children:[e.jsx("div",{className:"flex h-16 items-center px-6",children:e.jsx("span",{className:"text-xl font-bold text-white",children:"Customer Portal"})}),e.jsx("nav",{className:"flex-1 space-y-1 px-4 py-4",children:m.map(t=>e.jsxs(d,{to:t.href,className:`flex items-center rounded-lg px-3 py-2 text-sm font-medium ${o.pathname===t.href||t.href!=="/portal/dashboard"&&o.pathname.startsWith(t.href)?"bg-gray-800 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[e.jsx(t.icon,{className:"mr-3 h-5 w-5"}),t.name]},t.name))}),e.jsxs("div",{className:"border-t border-gray-800 p-4",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-400",children:[e.jsx(c,{className:"mr-2 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:r==null?void 0:r.email}),e.jsx("p",{className:"text-xs",children:r==null?void 0:r.customer_name})]})]}),e.jsxs("button",{onClick:x,className:"mt-4 flex w-full items-center rounded-lg px-3 py-2 text-sm font-medium text-gray-300 hover:bg-gray-800 hover:text-white",children:[e.jsx(h,{className:"mr-3 h-5 w-5"}),"Sign out"]})]})]})}),e.jsxs("div",{className:"lg:pl-72",children:[e.jsxs("div",{className:"sticky top-0 z-40 flex h-16 items-center bg-white px-4 shadow sm:px-6 lg:px-8",children:[e.jsx("button",{type:"button",className:"text-gray-500 lg:hidden",onClick:()=>n(!0),children:e.jsx(y,{className:"h-6 w-6"})}),e.jsx("div",{className:"flex flex-1 justify-end",children:e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:["Welcome, ",e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r==null?void 0:r.customer_name})]})})]}),e.jsx("main",{className:"py-6",children:e.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:s})})]})]})}export{M as P};
