import{j as e,c as te}from"./vendor-state-GQ86PG8z.js";import{u as G,a as H,H as ae}from"./Header-Syz3QTqA.js";import{L as k,j as N,r as y}from"./vendor-react-5KxtEOLM.js";import{S as A,bQ as se,bR as oe,aF as re,G as E,Z as z,y as D,af as M,b3 as ne,x as le,au as ie,N as R,bj as ce,bS as de,bT as he,v as S,K as me,al as xe,a_ as Z,R as O,W as be,bU as ge,bV as ue,V as F,bW as pe,bd as fe,bX as ye,bY as ve,b9 as C,bO as we,h as K,bZ as je,b_ as ke,a4 as L,aX as B,bH as Ne,b$ as Se,bG as Ce,c0 as Ie,w as V,be as P,c1 as I,aO as Ae,n as Me,aG as W,ac as U,F as T,c2 as Te,c3 as $e,c4 as Ee,ap as ze,c5 as De,f as Re,e as Oe,s as Fe,bM as Le,o as Be,ao as Pe,b6 as q,l as We,_ as Ue,U as _e,bu as Ge,L as He,aQ as Ze,c6 as _,an as Ke,av as Ve,X as qe}from"./vendor-ui-B4zQTbMA.js";import{_ as J,$ as Q,a0 as Je,M as Qe}from"./index-DXyI7EZp.js";import{M as Xe}from"./vendor-markdown-BzaehZQJ.js";const Ye=()=>e.jsx("footer",{className:"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 mt-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A,{className:"w-5 h-5 text-primary"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Â© 2025 Genial Architect Cybersecurity Research Associates. All rights reserved."})]}),e.jsxs("nav",{className:"flex items-center gap-6 text-sm",children:[e.jsx(k,{to:"/legal/terms",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Terms"}),e.jsx(k,{to:"/legal/privacy",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Privacy"}),e.jsx(k,{to:"/legal/acceptable-use",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Acceptable Use"}),e.jsx(k,{to:"/legal/cookies",className:"text-gray-500 dark:text-gray-400 hover:text-primary transition-colors",children:"Cookies"})]})]})})}),X={red:{active:"bg-red-500/10 text-red-600 dark:text-red-400",hover:"hover:bg-red-500/5 hover:text-red-600 dark:hover:text-red-400",border:"border-l-red-500",dot:"bg-red-500",bg:"bg-red-500/5"},blue:{active:"bg-blue-500/10 text-blue-600 dark:text-blue-400",hover:"hover:bg-blue-500/5 hover:text-blue-600 dark:hover:text-blue-400",border:"border-l-blue-500",dot:"bg-blue-500",bg:"bg-blue-500/5"},purple:{active:"bg-purple-500/10 text-purple-600 dark:text-purple-400",hover:"hover:bg-purple-500/5 hover:text-purple-600 dark:hover:text-purple-400",border:"border-l-purple-500",dot:"bg-purple-500",bg:"bg-purple-500/5"},yellow:{active:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",hover:"hover:bg-yellow-500/5 hover:text-yellow-600 dark:hover:text-yellow-400",border:"border-l-yellow-500",dot:"bg-yellow-500",bg:"bg-yellow-500/5"},orange:{active:"bg-orange-500/10 text-orange-600 dark:text-orange-400",hover:"hover:bg-orange-500/5 hover:text-orange-600 dark:hover:text-orange-400",border:"border-l-orange-500",dot:"bg-orange-500",bg:"bg-orange-500/5"},green:{active:"bg-green-500/10 text-green-600 dark:text-green-400",hover:"hover:bg-green-500/5 hover:text-green-600 dark:hover:text-green-400",border:"border-l-green-500",dot:"bg-green-500",bg:"bg-green-500/5"},white:{active:"bg-slate-500/10 text-slate-700 dark:text-slate-300",hover:"hover:bg-slate-500/5 hover:text-slate-700 dark:hover:text-slate-300",border:"border-l-slate-400",dot:"bg-slate-400",bg:"bg-slate-500/5"},cyan:{active:"bg-cyan-500/10 text-cyan-600 dark:text-cyan-400",hover:"hover:bg-cyan-500/5 hover:text-cyan-600 dark:hover:text-cyan-400",border:"border-l-cyan-500",dot:"bg-cyan-500",bg:"bg-cyan-500/5"},default:{active:"bg-primary/10 text-primary",hover:"hover:bg-light-hover dark:hover:bg-dark-hover hover:text-slate-900 dark:hover:text-white",border:"border-l-primary",dot:"bg-primary",bg:"bg-primary/5"}},$=({item:a,collapsed:o,teamColor:t="default"})=>{const s=N(),r=s.pathname===a.to||a.to!=="/dashboard"&&s.pathname.startsWith(a.to)||a.to.includes("?")&&s.pathname+s.search===a.to,n=X[t],c=a.icon,d=e.jsxs(k,{to:a.to,className:`flex items-center gap-3 px-3 py-2 rounded-lg transition-colors text-sm ${r?`${n.active} font-medium`:`text-slate-600 dark:text-slate-400 ${n.hover}`}`,children:[e.jsx(c,{className:"h-4 w-4 flex-shrink-0"}),!o&&e.jsx("span",{className:"truncate",children:a.label})]});return o?e.jsx(Q,{content:a.label,position:"right",children:d}):d},et=({id:a,label:o,icon:t,items:s,teamColor:r,collapsed:n,expanded:c,onToggle:d})=>{const l=X[r],i=N(),g=s.some(x=>i.pathname===x.to||i.pathname.startsWith(x.to)),p=e.jsxs("button",{onClick:d,className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg transition-colors text-sm ${g?`${l.active} font-medium`:`text-slate-600 dark:text-slate-400 ${l.hover}`}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${l.dot}`}),!n&&e.jsxs(e.Fragment,{children:[e.jsx(t,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left truncate",children:o}),c?e.jsx(We,{className:"h-3 w-3 flex-shrink-0"}):e.jsx(Ue,{className:"h-3 w-3 flex-shrink-0"})]})]});return e.jsxs("div",{className:"mb-1",children:[n?e.jsx(Q,{content:o,position:"right",children:p}):p,c&&!n&&e.jsx("div",{className:`ml-3 pl-3 border-l-2 ${l.border} mt-1 space-y-0.5`,children:s.map(x=>e.jsx($,{item:x,collapsed:!1,teamColor:r},x.to))})]})},tt=({collapsed:a})=>{const o=[{to:"/dashboard?tab=topology",icon:M,label:"Network Topology"},{to:"/attack-paths",icon:Z,label:"Attack Paths"},{to:"/ai-security",icon:Pe,label:"AI Security"},{to:"/llm-testing",icon:q,label:"LLM Testing"},{to:"/ai-reports",icon:T,label:"AI Reports"},{to:"/ml-models",icon:V,label:"ML Models"}];return e.jsxs("div",{className:`mb-4 rounded-lg bg-gradient-to-br from-purple-500/10 via-cyan-500/10 to-blue-500/10 border border-purple-500/20 ${a?"p-2":"p-3"}`,children:[!a&&e.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[e.jsx(Be,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-xs font-semibold text-slate-700 dark:text-slate-300 uppercase tracking-wide",children:"AI & Visualization"})]}),e.jsx("div",{className:"space-y-0.5",children:o.map(t=>e.jsx($,{item:t,collapsed:a,teamColor:"purple"},t.to))})]})},at=()=>{const{user:a}=J(),o=N(),t=G(),{sidebarCollapsed:s,sidebarOpen:r,expandedSections:n,toggleSidebar:c,setSidebarOpen:d,toggleSection:l}=H();if(y.useEffect(()=>{t&&d(!1)},[o.pathname,t,d]),!a)return null;const i=[{to:"/dashboard",icon:re,label:"Scans"},{to:"/discovery",icon:E,label:"Asset Discovery"},{to:"/nuclei",icon:z,label:"Nuclei Scanner"},{to:"/webapp-scan",icon:D,label:"Web App Scan"},{to:"/dns-tools",icon:M,label:"DNS Tools"},{to:"/compare",icon:ne,label:"Scan Compare"},{to:"/assets",icon:le,label:"Asset Inventory"}],g=[{to:"/exploit-database",icon:ie,label:"Exploit Database"},{to:"/poc-repository",icon:R,label:"PoC Repository"},{to:"/research-workspaces",icon:ce,label:"Research Workspaces"},{to:"/binary-analysis",icon:de,label:"Binary Analysis"},{to:"/malware-analysis",icon:he,label:"Malware Analysis"},{to:"/fuzzing",icon:z,label:"Fuzzing"},{to:"/exploitation",icon:S,label:"Exploitation"},{to:"/cracking",icon:me,label:"Password Cracking"},{to:"/privesc",icon:xe,label:"Privilege Escalation"},{to:"/bloodhound",icon:Z,label:"BloodHound AD"},{to:"/phishing",icon:S,label:"Phishing Campaigns"},{to:"/c2",icon:O,label:"C2 Management"},{to:"/wireless",icon:be,label:"Wireless Attacks"},{to:"/attack-simulation",icon:ge,label:"Attack Simulation"}],p=[{to:"/siem",icon:F,label:"SIEM"},{to:"/ueba",icon:pe,label:"UEBA"},{to:"/traffic-analysis",icon:M,label:"Traffic Analysis"},{to:"/netflow-analysis",icon:F,label:"NetFlow Analysis"},{to:"/dns-analytics",icon:E,label:"DNS Analytics"},{to:"/ot-ics-security",icon:fe,label:"OT/ICS Security"},{to:"/iot-security",icon:ye,label:"IoT Security"},{to:"/yara",icon:ve,label:"YARA Rules"},{to:"/sigma-rules",icon:C,label:"Sigma Rules"},{to:"/forensics",icon:we,label:"Forensics"},{to:"/incident-response",icon:K,label:"Incident Response"},{to:"/detection-engineering",icon:je,label:"Detection Engineering"},{to:"/threat-hunting",icon:ke,label:"Threat Hunting"},{to:"/threat-intel",icon:L,label:"Threat Intel"},{to:"/agents",icon:O,label:"Scan Agents"},{to:"/attack-surface",icon:S,label:"Attack Surface"}],x=[{to:"/purple-team",icon:B,label:"Purple Team Dashboard"}],h=[{to:"/yellow-team",icon:C,label:"DevSecOps Dashboard"},{to:"/sast",icon:R,label:"SAST Scanner"},{to:"/sca",icon:Ne,label:"SCA (Dependencies)"},{to:"/cicd-integration",icon:Se,label:"CI/CD Integration"},{to:"/iac-security",icon:C,label:"IaC Security"},{to:"/container-security",icon:Ce,label:"Container Security"},{to:"/api-security",icon:Ie,label:"API Security"}],v=[{to:"/orange-team",icon:P,label:"Security Awareness"}],f=[{to:"/green-team",icon:I,label:"SOAR Dashboard"},{to:"/soar-playbooks",icon:Ae,label:"Playbooks"},{to:"/workflows",icon:I,label:"Workflows"},{to:"/remediation",icon:Me,label:"Remediation"}],b=[{to:"/white-team",icon:W,label:"GRC Dashboard"},{to:"/compliance",icon:W,label:"Compliance"},{to:"/client-compliance",icon:U,label:"Client Checklists"},{to:"/evidence",icon:T,label:"Evidence"},{to:"/manual-assessments",icon:U,label:"Assessments"},{to:"/ato-map",icon:Te,label:"ATO Map"},{to:"/methodology",icon:$e,label:"Methodology"},{to:"/finding-templates",icon:Ee,label:"Finding Templates"},{to:"/executive-dashboard",icon:ze,label:"Executive Dashboard"},{to:"/reports",icon:T,label:"Reports"}],w=[{to:"/crm",icon:Re,label:"CRM Dashboard"},{to:"/admin",icon:Oe,label:"Admin"},{to:"/settings",icon:Fe,label:"Settings"},{to:"/plugins",icon:Le,label:"Plugins"}],m=[{id:"recon",label:"Recon",icon:D,items:i,teamColor:"cyan"},{id:"red",label:"Red Team",icon:ue,items:g,teamColor:"red"},{id:"blue",label:"Blue Team",icon:L,items:p,teamColor:"blue"},{id:"purple",label:"Purple Team",icon:B,items:x,teamColor:"purple"},{id:"yellow",label:"Yellow Team",icon:V,items:h,teamColor:"yellow"},{id:"orange",label:"Orange Team",icon:P,items:v,teamColor:"orange"},{id:"green",label:"Green Team",icon:I,items:f,teamColor:"green"},{id:"white",label:"White Team",icon:De,items:b,teamColor:"white"}],ee=s?"w-16":"w-64";return e.jsxs(e.Fragment,{children:[t&&r&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 transition-opacity",onClick:()=>d(!1)}),e.jsxs("aside",{className:`
          fixed top-0 left-0 h-full z-50
          bg-light-surface dark:bg-dark-surface
          border-r border-light-border dark:border-dark-border
          transition-all duration-300 ease-in-out
          flex flex-col
          ${t?`w-64 ${r?"translate-x-0":"-translate-x-full"}`:ee}
        `,role:"navigation","aria-label":"Main navigation",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-light-border dark:border-dark-border",children:[!s&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary rounded-lg",children:e.jsx(A,{className:"h-5 w-5 text-white"})}),e.jsx("span",{className:"font-bold text-slate-900 dark:text-white",children:"HeroForge"})]}),s&&e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary rounded-lg mx-auto",children:e.jsx(A,{className:"h-5 w-5 text-white"})}),!t&&e.jsx("button",{onClick:c,className:`p-1.5 rounded-lg hover:bg-light-hover dark:hover:bg-dark-hover transition-colors ${s?"mx-auto mt-2":""}`,"aria-label":s?"Expand sidebar":"Collapse sidebar",children:s?e.jsx(se,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"}):e.jsx(oe,{className:"h-4 w-4 text-slate-600 dark:text-slate-400"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-3",children:[e.jsx(tt,{collapsed:s}),e.jsx("div",{className:"space-y-1",children:m.map(u=>e.jsx(et,{id:u.id,label:u.label,icon:u.icon,items:u.items,teamColor:u.teamColor,collapsed:s,expanded:n.includes(u.id),onToggle:()=>l(u.id)},u.id))}),e.jsx("div",{className:"my-4 border-t border-light-border dark:border-dark-border"}),!s&&e.jsx("div",{className:"mb-2 px-3",children:e.jsx("span",{className:"text-xs font-semibold text-slate-500 dark:text-slate-500 uppercase tracking-wide",children:"Quick Access"})}),e.jsx("div",{className:"space-y-0.5",children:w.map(u=>e.jsx($,{item:u,collapsed:s,teamColor:"default"},u.to))})]})]})]})},Y=te()(Je((a,o)=>({isOpen:!1,isMinimized:!1,isLoading:!1,messages:[],conversationId:null,error:null,setOpen:t=>a({isOpen:t}),setMinimized:t=>a({isMinimized:t}),toggle:()=>{const t=o();t.isOpen&&!t.isMinimized?a({isMinimized:!0}):a({isOpen:!0,isMinimized:!1})},addMessage:t=>a(s=>({messages:[...s.messages,t],error:null})),appendToLastMessage:t=>a(s=>{const r=[...s.messages],n=r.length-1;return n>=0&&r[n].role==="assistant"&&(r[n]={...r[n],content:r[n].content+t}),{messages:r}}),finalizeLastMessage:()=>a(t=>{const s=[...t.messages],r=s.length-1;return r>=0&&s[r].isStreaming&&(s[r]={...s[r],isStreaming:!1}),{messages:s}}),setLoading:t=>a({isLoading:t}),setError:t=>a({error:t}),clearMessages:()=>a({messages:[],conversationId:null,error:null}),setConversationId:t=>a({conversationId:t}),startNewConversation:()=>a({messages:[],conversationId:null,error:null,isLoading:!1})}),{name:"heroforge-chat",partialize:a=>({messages:a.messages.slice(-50),conversationId:a.conversationId})})),j="/api",st={sendMessage:async(a,o,t,s,r,n,c)=>{var l;const d=localStorage.getItem("token");if(!d){c("Not authenticated");return}try{const i=await fetch(`${j}/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${d}`},body:JSON.stringify({message:a,conversation_id:o,page_context:t})});if(!i.ok){const h=await i.json().catch(()=>({}));throw new Error(h.message||`Chat request failed: ${i.status}`)}const g=(l=i.body)==null?void 0:l.getReader(),p=new TextDecoder;if(!g)throw new Error("Response body is not readable");let x="";for(;;){const{done:h,value:v}=await g.read();if(h)break;x+=p.decode(v,{stream:!0});const f=x.split(`
`);x=f.pop()||"";for(const b of f)if(b.startsWith("data: ")){const w=b.slice(6).trim();if(!w)continue;try{const m=JSON.parse(w);if(m.type==="content"&&m.content)s(m.content),m.conversation_id&&r(m.conversation_id);else if(m.type==="done"){m.conversation_id&&r(m.conversation_id),n(m.tokens_used||0);return}else if(m.type==="error"&&m.error){c(m.error);return}}catch{console.debug("Non-JSON SSE data:",w)}}}n(0)}catch(i){c(i instanceof Error?i.message:"Failed to send message")}},getConversations:async()=>{const a=localStorage.getItem("token"),o=await fetch(`${j}/chat/conversations`,{headers:{Authorization:`Bearer ${a}`}});if(!o.ok)throw new Error("Failed to fetch conversations");return(await o.json()).conversations},getMessages:async a=>{const o=localStorage.getItem("token"),t=await fetch(`${j}/chat/conversations/${a}/messages`,{headers:{Authorization:`Bearer ${o}`}});if(!t.ok)throw new Error("Failed to fetch messages");return(await t.json()).messages},deleteConversation:async a=>{const o=localStorage.getItem("token");if(!(await fetch(`${j}/chat/conversations/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${o}`}})).ok)throw new Error("Failed to delete conversation")},createConversation:async()=>{const a=localStorage.getItem("token"),o=await fetch(`${j}/chat/conversations`,{method:"POST",headers:{Authorization:`Bearer ${a}`}});if(!o.ok)throw new Error("Failed to create conversation");return(await o.json()).id}},ot=({message:a})=>{const o=a.role==="user";return e.jsxs("div",{className:`flex gap-3 ${o?"flex-row-reverse":""}`,children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${o?"bg-cyan-600":"bg-gradient-to-br from-purple-600 to-indigo-600"}`,children:o?e.jsx(_e,{className:"w-4 h-4 text-white"}):e.jsx(Ge,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:`flex-1 max-w-[80%] ${o?"text-right":"text-left"}`,children:[e.jsx("div",{className:`inline-block p-3 rounded-lg ${o?"bg-cyan-600 text-white rounded-tr-sm":"bg-gray-700 text-gray-100 rounded-tl-sm"}`,children:o?e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:a.content}):e.jsxs("div",{className:"text-sm prose prose-sm prose-invert max-w-none",children:[e.jsx(Xe,{components:{a:({href:t,children:s})=>e.jsx("a",{href:t,className:"text-cyan-400 hover:text-cyan-300 underline",onClick:r=>{t!=null&&t.startsWith("/")&&(r.preventDefault(),window.location.href=t)},children:s}),code:({className:t,children:s})=>!t?e.jsx("code",{className:"bg-gray-800 px-1 py-0.5 rounded text-cyan-300 text-xs",children:s}):e.jsx("code",{className:"block bg-gray-800 p-2 rounded text-xs overflow-x-auto",children:s}),ul:({children:t})=>e.jsx("ul",{className:"list-disc list-inside space-y-1 my-2",children:t}),ol:({children:t})=>e.jsx("ol",{className:"list-decimal list-inside space-y-1 my-2",children:t}),p:({children:t})=>e.jsx("p",{className:"mb-2 last:mb-0",children:t})},children:a.content}),a.isStreaming&&e.jsx("span",{className:"inline-block w-2 h-4 bg-cyan-400 animate-pulse ml-1"})]})}),e.jsx("div",{className:`text-xs text-gray-500 mt-1 ${o?"text-right":"text-left"}`,children:new Date(a.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},rt=({onSend:a,isLoading:o,disabled:t})=>{const[s,r]=y.useState(""),n=y.useRef(null);y.useEffect(()=>{n.current&&(n.current.style.height="auto",n.current.style.height=`${Math.min(n.current.scrollHeight,120)}px`)},[s]);const c=l=>{l.preventDefault(),s.trim()&&!o&&!t&&(a(s.trim()),r(""),n.current&&(n.current.style.height="auto"))},d=l=>{l.key==="Enter"&&!l.shiftKey&&(l.preventDefault(),c(l))};return e.jsxs("form",{onSubmit:c,className:"flex items-end gap-2",children:[e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{ref:n,value:s,onChange:l=>r(l.target.value),onKeyDown:d,placeholder:"Ask anything about your security data...",disabled:o||t,className:`w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg
                     text-white placeholder-gray-400 resize-none
                     focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent
                     disabled:opacity-50 disabled:cursor-not-allowed
                     text-sm min-h-[40px] max-h-[120px]`,rows:1})}),e.jsx("button",{type:"submit",disabled:!s.trim()||o||t,className:`flex-shrink-0 p-2 bg-cyan-600 hover:bg-cyan-700
                   disabled:bg-gray-600 disabled:cursor-not-allowed
                   rounded-lg transition-colors`,children:o?e.jsx(He,{className:"w-5 h-5 text-white animate-spin"}):e.jsx(Ze,{className:"w-5 h-5 text-white"})})]})},nt=()=>{const a=N(),o=y.useRef(null),{messages:t,conversationId:s,isLoading:r,error:n,addMessage:c,appendToLastMessage:d,finalizeLastMessage:l,setLoading:i,setError:g,setConversationId:p}=Y();y.useEffect(()=>{var h;(h=o.current)==null||h.scrollIntoView({behavior:"smooth"})},[t]);const x=async h=>{const v={id:crypto.randomUUID(),role:"user",content:h,timestamp:new Date().toISOString()};c(v);const f={id:crypto.randomUUID(),role:"assistant",content:"",timestamp:new Date().toISOString(),isStreaming:!0};c(f),i(!0),g(null);try{await st.sendMessage(h,s,a.pathname,b=>{d(b)},b=>{p(b)},()=>{l(),i(!1)},b=>{g(b),l(),i(!1)})}catch(b){g(b instanceof Error?b.message:"Failed to send message"),i(!1)}};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[t.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-600 to-indigo-600 flex items-center justify-center mb-4",children:e.jsx(q,{className:"w-6 h-6 text-white"})}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"Zeus"}),e.jsx("p",{className:"text-sm text-gray-400 max-w-xs",children:"I have access to your security data and can help you understand vulnerabilities, plan scans, and navigate the platform."}),e.jsxs("div",{className:"mt-4 space-y-2 text-xs text-gray-500",children:[e.jsx("p",{children:"Try asking:"}),e.jsxs("ul",{className:"space-y-1",children:[e.jsx("li",{children:'"What are my most critical vulnerabilities?"'}),e.jsx("li",{children:'"How do I start a new scan?"'}),e.jsx("li",{children:'"Explain CVE-2024-1234 to me"'})]})]})]}):e.jsx(e.Fragment,{children:t.map(h=>e.jsx(ot,{message:h},h.id))}),e.jsx("div",{ref:o})]}),n&&e.jsxs("div",{className:"mx-4 mb-2 p-2 bg-red-900/50 border border-red-700 rounded-lg flex items-center gap-2 text-sm text-red-300",children:[e.jsx(K,{className:"w-4 h-4 flex-shrink-0"}),e.jsx("span",{children:n})]}),e.jsx("div",{className:"p-4 border-t border-gray-700",children:e.jsx(rt,{onSend:x,isLoading:r})})]})},lt=()=>{const{isOpen:a,isMinimized:o,messages:t,setOpen:s,setMinimized:r,startNewConversation:n}=Y();if(!Qe(g=>g.isAuthenticated))return null;const d=()=>{s(!1),r(!1)},l=()=>{r(!0)},i=()=>{n()};return!a||o?e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsxs("button",{onClick:()=>{s(!0),r(!1)},className:`group relative w-14 h-14 bg-gradient-to-br from-purple-600 to-indigo-600
                     hover:from-purple-500 hover:to-indigo-500
                     text-white rounded-full shadow-lg
                     flex items-center justify-center transition-all duration-200
                     hover:scale-105 hover:shadow-xl`,"aria-label":"Open Zeus AI Assistant",children:[e.jsx(_,{className:"w-6 h-6"}),t.length>0&&e.jsx("span",{className:`absolute -top-1 -right-1 w-5 h-5 bg-cyan-500 rounded-full
                           text-xs font-medium flex items-center justify-center`,children:t.length>99?"99+":t.length}),e.jsx("span",{className:`absolute bottom-full right-0 mb-2 px-2 py-1 bg-gray-800 text-white
                         text-xs rounded opacity-0 group-hover:opacity-100 transition-opacity
                         whitespace-nowrap pointer-events-none`,children:"Zeus"})]})}):e.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:e.jsxs("div",{className:`w-96 h-[500px] bg-gray-800 border border-gray-700
                      rounded-lg shadow-2xl flex flex-col overflow-hidden
                      animate-in slide-in-from-bottom-4 duration-200`,children:[e.jsxs("div",{className:`flex items-center justify-between px-4 py-3
                        bg-gradient-to-r from-purple-600 to-indigo-600`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{className:"w-5 h-5 text-white"}),e.jsx("span",{className:"font-medium text-white",children:"Zeus"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:i,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"New conversation",children:e.jsx(Ke,{className:"w-4 h-4"})}),e.jsx("button",{onClick:l,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Minimize",children:e.jsx(Ve,{className:"w-4 h-4"})}),e.jsx("button",{onClick:d,className:`p-1.5 text-white/80 hover:text-white hover:bg-white/10 rounded
                         transition-colors`,title:"Close",children:e.jsx(qe,{className:"w-4 h-4"})})]})]}),e.jsx(nt,{})]})})},bt=({children:a})=>{const{user:o}=J(),{sidebarCollapsed:t}=H(),s=G(),r=o&&!s?t?"lg:ml-16":"lg:ml-64":"";return e.jsxs("div",{className:"min-h-screen bg-light-bg dark:bg-dark-bg transition-colors",children:[o&&e.jsx(at,{}),e.jsxs("div",{className:`flex flex-col min-h-screen transition-all duration-300 ${r}`,children:[e.jsx(ae,{}),e.jsx("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-6 w-full max-w-7xl mx-auto",children:a}),e.jsx(Ye,{})]}),e.jsx(lt,{})]})};export{bt as L};
