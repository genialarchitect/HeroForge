import{j as e,u,b as R,d as E}from"./vendor-state-DdX3IZQk.js";import{r as b}from"./vendor-react-Da1CiaFS.js";import{c0 as S,bj as q,c1 as T,T as _,S as K,aQ as w,ac as C,aG as y,b2 as I,as as D,F as G,aM as z,B as N,bU as U,ar as f,t as Z,c2 as A,c3 as P,Z as B,a as M,aC as k,aF as F,a$ as X}from"./vendor-ui-Cfxa9o3E.js";import{d as H,a5 as h}from"./index-CxqB437X.js";import"./vendor-charts-ed8SE4MW.js";const m={getCourses:()=>h.get("/orange-team/courses"),enrollInCourse:s=>h.post(`/orange-team/courses/${s}/enroll`),getMyCourses:()=>h.get("/orange-team/my-courses"),getGamificationProfile:()=>h.get("/orange-team/gamification/profile"),getLeaderboard:()=>h.get("/orange-team/gamification/leaderboard"),getMyBadges:()=>h.get("/orange-team/gamification/my-badges"),getChallenges:()=>h.get("/orange-team/challenges"),attemptChallenge:(s,l)=>h.post(`/orange-team/challenges/${s}/attempt`,{answer:l}),getCertificates:()=>h.get("/orange-team/certificates"),getComplianceStatus:()=>h.get("/orange-team/compliance/status")},L=({difficulty:s})=>{const l={beginner:"bg-green-500/20 text-green-400 border-green-500/30",easy:"bg-green-500/20 text-green-400 border-green-500/30",intermediate:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",medium:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",advanced:"bg-red-500/20 text-red-400 border-red-500/30",hard:"bg-red-500/20 text-red-400 border-red-500/30"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border capitalize ${l[s]||l.beginner}`,children:s})},J=({status:s})=>{const l={not_started:"bg-gray-500/20 text-gray-400 border-gray-500/30",in_progress:"bg-cyan-500/20 text-cyan-400 border-cyan-500/30",completed:"bg-green-500/20 text-green-400 border-green-500/30",overdue:"bg-red-500/20 text-red-400 border-red-500/30",available:"bg-blue-500/20 text-blue-400 border-blue-500/30",attempted:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",locked:"bg-gray-500/20 text-gray-400 border-gray-500/30"},c={not_started:"Not Started",in_progress:"In Progress",completed:"Completed",overdue:"Overdue",available:"Available",attempted:"Attempted",locked:"Locked"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border ${l[s]||l.not_started}`,children:c[s]||s})},V=({rarity:s})=>{const l={common:"bg-gray-500/20 text-gray-400 border-gray-500/30",uncommon:"bg-green-500/20 text-green-400 border-green-500/30",rare:"bg-blue-500/20 text-blue-400 border-blue-500/30",epic:"bg-purple-500/20 text-purple-400 border-purple-500/30",legendary:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30"};return e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded border capitalize ${l[s]||l.common}`,children:s})},O=({percent:s,className:l=""})=>e.jsx("div",{className:`h-2 bg-gray-700 rounded-full overflow-hidden ${l}`,children:e.jsx("div",{className:"h-full bg-cyan-500 rounded-full transition-all duration-300",style:{width:`${Math.min(100,Math.max(0,s))}%`}})}),x=({label:s,value:l,icon:c,color:n,subtext:d})=>e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-400",children:s}),e.jsx("p",{className:"text-2xl font-bold text-white",children:l}),d&&e.jsx("p",{className:"text-xs text-gray-500",children:d})]}),e.jsx("div",{className:`p-3 rounded-lg ${n}`,children:c})]})}),W=()=>{const{data:s,isLoading:l}=u({queryKey:["orange-team-my-courses"],queryFn:()=>m.getMyCourses().then(t=>t.data)}),{data:c}=u({queryKey:["orange-team-certificates"],queryFn:()=>m.getCertificates().then(t=>t.data)});if(l)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-cyan-500"})});const n=(s==null?void 0:s.filter(t=>t.status==="in_progress"))||[],d=(s==null?void 0:s.filter(t=>t.status==="completed"))||[],o=(s==null?void 0:s.filter(t=>t.status==="not_started"))||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{label:"Enrolled Courses",value:(s==null?void 0:s.length)||0,icon:e.jsx(q,{className:"h-5 w-5 text-cyan-400"}),color:"bg-cyan-500/10"}),e.jsx(x,{label:"In Progress",value:n.length,icon:e.jsx(C,{className:"h-5 w-5 text-yellow-400"}),color:"bg-yellow-500/10"}),e.jsx(x,{label:"Completed",value:d.length,icon:e.jsx(y,{className:"h-5 w-5 text-green-400"}),color:"bg-green-500/10"}),e.jsx(x,{label:"Certificates",value:(c==null?void 0:c.length)||0,icon:e.jsx(I,{className:"h-5 w-5 text-purple-400"}),color:"bg-purple-500/10"})]}),n.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Continue Learning"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(t=>e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-cyan-500/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:t.course.title}),e.jsx("p",{className:"text-sm text-gray-400",children:t.course.category})]}),e.jsx(L,{difficulty:t.course.difficulty})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Module ",t.current_module," of ",t.total_modules]}),e.jsxs("span",{children:[t.progress_percent,"%"]})]}),e.jsx(O,{percent:t.progress_percent})]}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[e.jsx(C,{className:"h-4 w-4"}),"Continue"]})]},t.id))})]}),o.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Ready to Start"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(t=>e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-white",children:t.course.title}),e.jsx("p",{className:"text-sm text-gray-400",children:t.course.category})]}),t.course.is_mandatory&&e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded bg-red-500/20 text-red-400 border border-red-500/30",children:"Required"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),t.course.duration_minutes," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),t.course.modules_count," modules"]})]}),e.jsxs("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:[e.jsx(C,{className:"h-4 w-4"}),"Start Course"]})]},t.id))})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Completed Courses"}),e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Course"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Completed"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Score"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Certificate"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:d.map(t=>{const r=c==null?void 0:c.find(p=>p.course_id===t.course_id);return e.jsxs("tr",{className:"hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-white",children:t.course.title}),e.jsx("p",{className:"text-xs text-gray-400",children:t.course.category})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:t.completed_at?new Date(t.completed_at).toLocaleDateString():"-"}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:r?`${r.score}%`:"-"}),e.jsx("td",{className:"px-4 py-3",children:r?e.jsxs("button",{className:"flex items-center gap-1 text-sm text-cyan-400 hover:text-cyan-300",children:[e.jsx(z,{className:"h-4 w-4"}),"Download"]}):e.jsx("span",{className:"text-sm text-gray-500",children:"Not available"})})]},t.id)})})]})})]}),(!s||s.length===0)&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(q,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Enrolled Courses"}),e.jsx("p",{className:"text-gray-400 mb-4",children:"Browse the course catalog to enroll in training courses"})]})]})},ee=()=>{const s=R(),[l,c]=b.useState("all"),{data:n,isLoading:d}=u({queryKey:["orange-team-courses"],queryFn:()=>m.getCourses().then(i=>i.data)}),{data:o}=u({queryKey:["orange-team-my-courses"],queryFn:()=>m.getMyCourses().then(i=>i.data)}),t=E({mutationFn:i=>m.enrollInCourse(i),onSuccess:()=>{N.success("Successfully enrolled in course"),s.invalidateQueries({queryKey:["orange-team-my-courses"]})},onError:()=>N.error("Failed to enroll in course")}),r=new Set((o==null?void 0:o.map(i=>i.course_id))||[]),p=["all",...new Set((n==null?void 0:n.map(i=>i.category))||[])],g=l==="all"?n:n==null?void 0:n.filter(i=>i.category===l);return d?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-cyan-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:p.map(i=>e.jsx("button",{onClick:()=>c(i),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors capitalize ${l===i?"bg-cyan-600 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:i},i))}),(g==null?void 0:g.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(S,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Courses Available"}),e.jsx("p",{className:"text-gray-400",children:"Check back later for new training courses"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g==null?void 0:g.map(i=>{const j=r.has(i.id);return e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden hover:border-cyan-500/50 transition-colors",children:[i.thumbnail_url&&e.jsx("div",{className:"h-32 bg-gray-700 bg-cover bg-center",style:{backgroundImage:`url(${i.thumbnail_url})`}}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-white",children:i.title}),i.is_mandatory&&e.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded bg-red-500/20 text-red-400",children:"Required"})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:i.description}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(L,{difficulty:i.difficulty}),e.jsx("span",{className:"text-xs text-gray-500",children:i.category})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),i.duration_minutes," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(G,{className:"h-4 w-4"}),i.modules_count," modules"]})]}),i.tags.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:i.tags.slice(0,3).map(v=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-700 text-gray-300 rounded",children:v},v))}),e.jsx("button",{onClick:()=>!j&&t.mutate(i.id),disabled:j||t.isPending,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${j?"bg-green-600/20 text-green-400 cursor-default":"bg-cyan-600 hover:bg-cyan-700 text-white"}`,children:j?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4"}),"Enrolled"]}):e.jsxs(e.Fragment,{children:[e.jsx(S,{className:"h-4 w-4"}),"Enroll Now"]})})]})]},i.id)})})]})},se=()=>{const{data:s,isLoading:l}=u({queryKey:["orange-team-gamification-profile"],queryFn:()=>m.getGamificationProfile().then(r=>r.data)}),{data:c,isLoading:n}=u({queryKey:["orange-team-leaderboard"],queryFn:()=>m.getLeaderboard().then(r=>r.data)}),{data:d,isLoading:o}=u({queryKey:["orange-team-my-badges"],queryFn:()=>m.getMyBadges().then(r=>r.data)});return l||n||o?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-cyan-500"})}):e.jsxs("div",{className:"space-y-6",children:[s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-900/50 to-purple-900/50 border border-cyan-500/30 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-cyan-500 to-purple-500 rounded-full flex items-center justify-center",children:e.jsx(U,{className:"h-10 w-10 text-white"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs("h3",{className:"text-2xl font-bold text-white",children:["Level ",s.level]}),e.jsx("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm font-medium",children:s.level_name})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4 text-yellow-400"}),s.total_points.toLocaleString()," points"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Z,{className:"h-4 w-4 text-green-400"}),"Rank #",s.rank," of ",s.total_users]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"h-4 w-4 text-orange-400"}),s.current_streak," day streak"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-400 mb-1",children:[e.jsxs("span",{children:["Progress to Level ",s.level+1]}),e.jsxs("span",{children:[s.points_to_next_level," points needed"]})]}),e.jsx(O,{percent:75})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{label:"Total Points",value:s.total_points.toLocaleString(),icon:e.jsx(f,{className:"h-5 w-5 text-yellow-400"}),color:"bg-yellow-500/10"}),e.jsx(x,{label:"Current Rank",value:`#${s.rank}`,icon:e.jsx(T,{className:"h-5 w-5 text-cyan-400"}),color:"bg-cyan-500/10",subtext:`of ${s.total_users} users`}),e.jsx(x,{label:"Current Streak",value:s.current_streak,icon:e.jsx(A,{className:"h-5 w-5 text-orange-400"}),color:"bg-orange-500/10",subtext:`Best: ${s.longest_streak} days`}),e.jsx(x,{label:"Badges Earned",value:s.achievements_count,icon:e.jsx(P,{className:"h-5 w-5 text-purple-400"}),color:"bg-purple-500/10"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-yellow-400"}),"Leaderboard"]}),e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden",children:e.jsx("div",{className:"divide-y divide-gray-700",children:c==null?void 0:c.slice(0,10).map((r,p)=>e.jsxs("div",{className:`flex items-center gap-4 p-4 ${r.user_id===(s==null?void 0:s.user_id)?"bg-cyan-900/20":"hover:bg-gray-700/50"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm ${p===0?"bg-yellow-500 text-yellow-900":p===1?"bg-gray-400 text-gray-900":p===2?"bg-orange-600 text-orange-100":"bg-gray-700 text-gray-300"}`,children:r.rank}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-white",children:r.username}),e.jsx("p",{className:"text-xs text-gray-400",children:r.level_name})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-semibold text-white",children:r.total_points.toLocaleString()}),e.jsxs("p",{className:"text-xs text-gray-400",children:[r.badges_count," badges"]})]})]},r.user_id))})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5 text-purple-400"}),"Your Badges"]}),(d==null?void 0:d.length)===0?e.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-8 text-center",children:[e.jsx(I,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-white mb-2",children:"No Badges Yet"}),e.jsx("p",{className:"text-gray-400",children:"Complete courses and challenges to earn badges"})]}):e.jsx("div",{className:"grid grid-cols-2 gap-4",children:d==null?void 0:d.map(r=>e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-purple-500/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-900/50 rounded-lg flex items-center justify-center text-2xl",children:r.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-white truncate",children:r.name}),e.jsx("p",{className:"text-xs text-gray-400 line-clamp-2",children:r.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(V,{rarity:r.rarity}),e.jsxs("span",{className:"text-xs text-gray-500",children:["+",r.points_value," pts"]})]})]})]})},r.id))})]})]})]})},te=()=>{const s=R(),[l,c]=b.useState(null),[n,d]=b.useState(""),[o,t]=b.useState(null),{data:r,isLoading:p}=u({queryKey:["orange-team-challenges"],queryFn:()=>m.getChallenges().then(a=>a.data)}),g=E({mutationFn:({challengeId:a,answer:$})=>m.attemptChallenge(a,$).then(Y=>Y.data),onSuccess:a=>{t(a),a.correct?N.success(`Correct! You earned ${a.points_earned} points!`):N.error("Incorrect answer. Try again!"),s.invalidateQueries({queryKey:["orange-team-challenges"]}),s.invalidateQueries({queryKey:["orange-team-gamification-profile"]})},onError:()=>N.error("Failed to submit answer")}),i=()=>{l&&n.trim()&&g.mutate({challengeId:l.id,answer:n.trim()})};if(p)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-cyan-500"})});const j=(r==null?void 0:r.filter(a=>a.status==="available"))||[],v=(r==null?void 0:r.filter(a=>a.status==="attempted"))||[],Q=(r==null?void 0:r.filter(a=>a.status==="completed"))||[];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{label:"Available",value:j.length,icon:e.jsx(_,{className:"h-5 w-5 text-cyan-400"}),color:"bg-cyan-500/10"}),e.jsx(x,{label:"Attempted",value:v.length,icon:e.jsx(B,{className:"h-5 w-5 text-yellow-400"}),color:"bg-yellow-500/10"}),e.jsx(x,{label:"Completed",value:Q.length,icon:e.jsx(y,{className:"h-5 w-5 text-green-400"}),color:"bg-green-500/10"}),e.jsx(x,{label:"Total Points Possible",value:(r==null?void 0:r.reduce((a,$)=>a+$.points,0))||0,icon:e.jsx(f,{className:"h-5 w-5 text-purple-400"}),color:"bg-purple-500/10"})]}),(r==null?void 0:r.length)===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(_,{className:"h-12 w-12 text-gray-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No Challenges Available"}),e.jsx("p",{className:"text-gray-400",children:"Check back later for new security challenges"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r==null?void 0:r.map(a=>e.jsxs("div",{className:`bg-gray-800 border rounded-lg p-4 transition-colors ${a.status==="locked"?"border-gray-700 opacity-60":a.status==="completed"?"border-green-500/50":"border-gray-700 hover:border-cyan-500/50"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("h4",{className:"font-semibold text-white flex items-center gap-2",children:[a.status==="locked"&&e.jsx(M,{className:"h-4 w-4 text-gray-500"}),a.status==="completed"&&e.jsx(y,{className:"h-4 w-4 text-green-400"}),a.title]}),e.jsx("p",{className:"text-sm text-gray-400",children:a.category})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(L,{difficulty:a.difficulty})})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-3 line-clamp-2",children:a.description}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400 mb-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4 text-yellow-400"}),a.points," pts"]}),a.time_limit_minutes&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(D,{className:"h-4 w-4"}),a.time_limit_minutes," min"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_,{className:"h-4 w-4"}),a.attempts_remaining,"/",a.max_attempts]})]}),a.expires_at&&e.jsxs("div",{className:"text-xs text-yellow-400 mb-3 flex items-center gap-1",children:[e.jsx(k,{className:"h-3 w-3"}),"Expires: ",new Date(a.expires_at).toLocaleDateString()]}),e.jsx("button",{onClick:()=>{(a.status==="available"||a.status==="attempted")&&(c(a),d(""),t(null))},disabled:a.status==="locked"||a.status==="completed"||a.attempts_remaining===0,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg transition-colors ${a.status==="completed"?"bg-green-600/20 text-green-400 cursor-default":a.status==="locked"||a.attempts_remaining===0?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-cyan-600 hover:bg-cyan-700 text-white"}`,children:a.status==="completed"?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4"}),"Completed"]}):a.status==="locked"?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"h-4 w-4"}),"Locked"]}):a.attempts_remaining===0?e.jsxs(e.Fragment,{children:[e.jsx(F,{className:"h-4 w-4"}),"No Attempts Left"]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"h-4 w-4"}),"Attempt Challenge"]})})]},a.id))}),l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg w-full max-w-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-semibold text-white",children:l.title}),e.jsx("button",{onClick:()=>c(null),className:"p-2 hover:bg-gray-700 rounded-lg",children:e.jsx(F,{className:"h-5 w-5 text-gray-400"})})]})}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx(L,{difficulty:l.difficulty}),e.jsx("span",{className:"text-sm text-gray-400",children:l.category}),e.jsxs("span",{className:"text-sm text-yellow-400 flex items-center gap-1",children:[e.jsx(f,{className:"h-4 w-4"}),l.points," pts"]})]}),e.jsx("p",{className:"text-gray-300 mb-6",children:l.description}),o?e.jsxs("div",{className:`p-4 rounded-lg mb-6 ${o.correct?"bg-green-900/50 border border-green-500/50":"bg-red-900/50 border border-red-500/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.correct?e.jsx(y,{className:"h-5 w-5 text-green-400"}):e.jsx(F,{className:"h-5 w-5 text-red-400"}),e.jsx("span",{className:`font-medium ${o.correct?"text-green-400":"text-red-400"}`,children:o.correct?"Correct!":"Incorrect"})]}),e.jsx("p",{className:"text-sm text-gray-300",children:o.feedback}),o.points_earned>0&&e.jsxs("p",{className:"text-sm text-yellow-400 mt-2",children:["+",o.points_earned," points earned!"]})]}):e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Your Answer"}),e.jsx("textarea",{value:n,onChange:a=>d(a.target.value),placeholder:"Enter your answer...",rows:4,className:"w-full px-4 py-3 bg-gray-700 border border-gray-600 rounded-lg text-white focus:outline-none focus:border-cyan-500"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mb-6",children:[e.jsxs("span",{children:["Attempts remaining: ",l.attempts_remaining,"/",l.max_attempts]}),l.time_limit_minutes&&e.jsxs("span",{children:["Time limit: ",l.time_limit_minutes," minutes"]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>c(null),className:"flex-1 px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Close"}),!o&&e.jsx("button",{onClick:i,disabled:!n.trim()||g.isPending,className:"flex-1 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g.isPending?"Submitting...":"Submit Answer"})]})]})]})})]})},ae=()=>{const{data:s,isLoading:l}=u({queryKey:["orange-team-compliance-status"],queryFn:()=>m.getComplianceStatus().then(t=>t.data)});if(l)return e.jsx("div",{className:"flex justify-center py-12",children:e.jsx(w,{className:"h-8 w-8 animate-spin text-cyan-500"})});const c=(s==null?void 0:s.required_courses.filter(t=>t.status==="overdue"))||[],n=(s==null?void 0:s.required_courses.filter(t=>t.status==="in_progress"))||[],d=(s==null?void 0:s.required_courses.filter(t=>t.status==="not_started"))||[],o=(s==null?void 0:s.required_courses.filter(t=>t.status==="completed"))||[];return e.jsxs("div",{className:"space-y-6",children:[s&&e.jsx("div",{className:`p-6 rounded-lg border ${s.overall_compliant?"bg-green-900/20 border-green-500/50":"bg-red-900/20 border-red-500/50"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`p-4 rounded-full ${s.overall_compliant?"bg-green-500/20":"bg-red-500/20"}`,children:s.overall_compliant?e.jsx(y,{className:"h-8 w-8 text-green-400"}):e.jsx(k,{className:"h-8 w-8 text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-bold ${s.overall_compliant?"text-green-400":"text-red-400"}`,children:s.overall_compliant?"Compliant":"Non-Compliant"}),e.jsx("p",{className:"text-gray-400",children:s.overall_compliant?"You have completed all required training":`You have ${c.length+d.length+n.length} outstanding training requirements`})]}),e.jsxs("div",{className:"ml-auto text-right",children:[e.jsxs("p",{className:"text-3xl font-bold text-white",children:[Math.round(s.completion_rate),"%"]}),e.jsx("p",{className:"text-sm text-gray-400",children:"Completion Rate"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(x,{label:"Required Courses",value:(s==null?void 0:s.required_courses.length)||0,icon:e.jsx(q,{className:"h-5 w-5 text-cyan-400"}),color:"bg-cyan-500/10"}),e.jsx(x,{label:"Completed",value:o.length,icon:e.jsx(y,{className:"h-5 w-5 text-green-400"}),color:"bg-green-500/10"}),e.jsx(x,{label:"In Progress",value:n.length,icon:e.jsx(C,{className:"h-5 w-5 text-yellow-400"}),color:"bg-yellow-500/10"}),e.jsx(x,{label:"Overdue",value:c.length,icon:e.jsx(k,{className:"h-5 w-5 text-red-400"}),color:"bg-red-500/10"})]}),(s==null?void 0:s.upcoming_deadlines)&&s.upcoming_deadlines.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-yellow-400"}),"Upcoming Deadlines"]}),e.jsx("div",{className:"bg-yellow-900/20 border border-yellow-500/50 rounded-lg p-4",children:e.jsx("div",{className:"space-y-3",children:s.upcoming_deadlines.map(t=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-white",children:t.course_title}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Due: ",new Date(t.due_date).toLocaleDateString()]})]}),e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.days_remaining<=3?"bg-red-500/20 text-red-400":t.days_remaining<=7?"bg-yellow-500/20 text-yellow-400":"bg-blue-500/20 text-blue-400"}`,children:[t.days_remaining," days left"]})]},t.course_id))})})]}),c.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-red-400"}),"Overdue Training"]}),e.jsx("div",{className:"bg-red-900/20 border border-red-500/50 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-red-900/30",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Course"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Required By"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Due Date"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-300",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-red-500/20",children:c.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-white font-medium",children:t.course_title}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:t.required_by}),e.jsx("td",{className:"px-4 py-3 text-sm text-red-400",children:new Date(t.due_date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("button",{className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white text-sm rounded-lg transition-colors",children:"Start Now"})})]},t.course_id))})]})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(K,{className:"h-5 w-5 text-cyan-400"}),"All Required Training"]}),e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-900",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Course"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Required By"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Due Date"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Status"}),e.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-gray-400",children:"Completed"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-700",children:s==null?void 0:s.required_courses.map(t=>e.jsxs("tr",{className:"hover:bg-gray-700/50",children:[e.jsx("td",{className:"px-4 py-3 text-sm text-white font-medium",children:t.course_title}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:t.required_by}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:new Date(t.due_date).toLocaleDateString()}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(J,{status:t.status})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-300",children:t.completed_at?new Date(t.completed_at).toLocaleDateString():"-"})]},t.course_id))})]})})]})]})},de=()=>{const[s,l]=b.useState("my-training"),c=[{id:"my-training",label:"My Training",icon:e.jsx(q,{className:"h-4 w-4"})},{id:"catalog",label:"Course Catalog",icon:e.jsx(S,{className:"h-4 w-4"})},{id:"gamification",label:"Gamification",icon:e.jsx(T,{className:"h-4 w-4"})},{id:"challenges",label:"Challenges",icon:e.jsx(_,{className:"h-4 w-4"})},{id:"compliance",label:"Compliance",icon:e.jsx(K,{className:"h-4 w-4"})}];return e.jsx(H,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:e.jsx(S,{className:"h-8 w-8 text-orange-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Security Awareness & Training"}),e.jsx("p",{className:"text-gray-400",children:"Orange Team - Build your security knowledge and skills"})]})]}),e.jsx("div",{className:"flex gap-2 border-b border-gray-700 pb-2 overflow-x-auto",children:c.map(n=>e.jsxs("button",{onClick:()=>l(n.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap ${s===n.id?"bg-cyan-600 text-white":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[n.icon,n.label]},n.id))}),s==="my-training"&&e.jsx(W,{}),s==="catalog"&&e.jsx(ee,{}),s==="gamification"&&e.jsx(se,{}),s==="challenges"&&e.jsx(te,{}),s==="compliance"&&e.jsx(ae,{})]})})};export{de as default};
